<DOC>
<DOCNO>EP-0646713</DOCNO> 
<TEXT>
<INVENTION-TITLE>
SELF-DIAGNOSING APPARATUS OF VEHICLE
</INVENTION-TITLE>
<CLASSIFICATIONS>F02D4100	F02P1106	F02D4500	F02D4500	F02P1100	F02D4124	F02D4122	F02D4122	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>F02D	F02P	F02D	F02D	F02P	F02D	F02D	F02D	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>F02D41	F02P11	F02D45	F02D45	F02P11	F02D41	F02D41	F02D41	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A self-diagnosing apparatus of a vehicle, which can 
reliably hold and store diagnostic data relating to major 

troubles. A control unit (1) includes a CPU (101) and a 
RAM (102) that keeps the data if the ignition switch is 

turned off. The self-diagnosing apparatus detects a plurality 
of troubles, which are classified into major ones and 

minor ones. The RAM (102) includes a plurality of memory 
regions comprising a frame (1) and frame (2), and these 

frames (1) and (2) are corresponding to major and minor 
troubles, respectively. The CPU (101) processes diagnostic 

data of each part of the vehicle necessary for analyzing 
troubles of instruments and updates the memory contents 

of individual regions of the frames (1) and (2). If a trouble 
with an instrument is detected, the CPU (101) sets a trouble 

code to the leading region of the frame corresponding 
to that trouble, and inhibits subsequent updating of the 

memory content. Accordingly, the diagnostic data can be 
stored and held depending on the classification of trouble. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
DENSO CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
DENSO CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
FUJISAWA SHUICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKABA KATSUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
FUJISAWA, SHUICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKABA, KATSUMI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a self-diagnosing 
apparatus for a motor vehicle 
according to the preamble of claim 1. At the present time the construction of motor 
vehicles has become remarkably influenced by electronic components. Instruments, 
including, among other things, the engine, installed in each 
section of a motor vehicle, are interconnected to each other 
via a control computer so that complex operations can be 
performed. In such case, even if a malfunction of a certain 
single installed instrument is detected, often the true cause 
for the malfunction, including the interrelation with other 
installed instruments, cannot be determined unless a wide 
range of data (diagnostic data) indicating the state of the 
motor vehicle at the time the malfunction is detected, is 
collected. Also, after a temporary malfunction, there is a 
possibility that the malfunction will be corrected naturally. 
Further, often this is a sign that a complete failure will 
occur; however, it is quite difficult to find the cause  
 
thereof by performing an inspection after getting out of the 
motor vehicle. A self-diagnosing apparatus according to the preamble of claim 1 is 
disclosed in JP-A-62-142849 and 
63-90738, in which diagnostic data from each section of a 
motor vehicle is updated and stored in a memory where the 
contents are stored at specified intervals even when the 
power supply is shut down; updating of the contents of the 
memory is inhibited (frozen) after a malfunction of an 
installed instrument is detected, so that diagnostic data at 
the time the malfunction is detected will be stored and the 
cause of the malfunction can be determined accurately after 
getting out of the motor vehicle. A similar type of an self-diagnosing apparatus is known from RP-B-72 000. Not all malfunctions of the installed instruments 
in a motor vehicle have the same priority or importance. For example, 
since malfunctions such as a misfire in the engine, a 
malfunction of the fuel system and the like are serious 
malfunctions, such malfunctions have a higher priority than 
those of other malfunctions. Therefore, even if other 
malfunctions having respectively lower priorities occur 
earlier, when a malfunction having a higher priority occurs, 
thereafter, diagnostic data obtained at that time must be 
held in precedence over other data. However, in the above-described conventional 
apparatus, when diagnostic data is frozen once a 
malfunction of the apparatus has occured, such diagnostic data is  
 
not updated even
</DESCRIPTION>
<CLAIMS>
A self-diagnosing apparatus for a motor vehicle, comprising: 

[a] diagnostic data detecting means (21-26) for detecting 

diagnostic data necessary for analysing malfunctions of 
instruments (27-29) installed in said motor vehicle; 
[b] malfunction detecting means (Fig.3-5) for detecting 

malfunctions of said instruments (27-29) installed in said 
motor vehicle; 
[c] storing means (102; Fig.7) for storing and updating diagnostic data 

relating to respectively detected malfunctions, the stored 
diagnostic data being held even when an ignition switch is 

in a turned off state; and 
[d] diagnostic data output means (5) for outputting the 

diagnostic data stored in said storing-means (102; Fig.7); 
 
   wherein
 
   [e]
 each of said detected malfunctions of said instruments 
(27-29) is assigned to one of at least two different 

priorities;
 
   characterised in that 


said storing means comprises a plurality of storage areas (Frame 1, Frame 2) which are assigned to said one of at least two different priorities, and 
said updating of the diagnostic data within the related storage areas (Frame 1, Frame 2) is inhibited if a malfunction having an assigned priority is already stored in a storage area having the same assigned priority. 
Apparatus according to claim 1, 
characterized in that
 
said malfunction detecting means (Fig.4) detects a fuel system 

malfunction of an internal combustion engine as a high 
priority malfunction. 
Apparatus according to claim 1 or 2, 
characterized in 
that
 said malfunction detecting means (Fig.3) detects a misfire 
malfunction of an internal combustion engine as a high 

priority malfunction.  
 
Apparatus according to one of claims 1 through 3, 
characterized 
in that
 each storage area (Frame1, Frame2) comprises 
a code storage area (10,20) for storing a malfunction code 

indicating the type of the malfunction and a plurality of 
data storage areas for storing said diagnostic data. 
Apparatus according to one of claims 1 through 4, 
characterized 
in that
 said diagnostic data output means (5) outputs 
diagnostic data to a fault diagnosing apparatus (4) in 

distinction for each of said storage areas (Frame1, Frame2) 
for each priority in response to a request from said fault 

diagnosing apparatus (4) connected to the self-diagnosing 
apparatus installed in said motor vehicle. 
Apparatus according to claim 5, 
characterized in that
 
said diagnostic data output means (5) outputs the stored 

contents of a high priority when a high priority malfunction 
has been detected when a request from said connected 

fault diagnosing apparatus (4) is one for a high priority 
malfunction, and outputs the stored contents of a low priority 

when a high priority malfunction has not been detected 
and a low priority malfunction has been detected. 
Apparatus according to one of claims 1 through 6, 
characterized 
in that
 two or more malfunctions of the same priority 
are assigned to be stored in the corresponding storage 

area (Frame1, Frame2), the updating of the diagnostic data 
within each of the storage areas (Frame1, Frame2) being inhibited 

even then when another malfunction of the same priority 
is detected. 
</CLAIMS>
</TEXT>
</DOC>
