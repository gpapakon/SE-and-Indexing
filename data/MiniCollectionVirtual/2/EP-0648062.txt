<DOC>
<DOCNO>EP-0648062</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method for adaptive control of windows and rates in networks
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L1256	H04Q300	H04Q1104	H04Q1104	H04Q300	H04L1256	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04Q	H04Q	H04Q	H04Q	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L12	H04Q3	H04Q11	H04Q11	H04Q3	H04L12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Methods are disclosed for the adaptive control of windows and rates in 
networks. A periodic, one-bit feedback signal is combined with systematic damping 

and control of a gain signal to achieve a minimum bandwidth and a fair share of 
excess available bandwidth among virtual circuits in the network in a timely manner. 

The methods are demonstrated using a First-Come-First-Served service discipline, a 
Weighted Round-Robin service discipline, or a combination of the two disciplines. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
AT 
&
 T CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
AT
&
T CORP.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MITRA DEBASIS
</INVENTOR-NAME>
<INVENTOR-NAME>
SEERY JUDITH BARBARA
</INVENTOR-NAME>
<INVENTOR-NAME>
MITRA, DEBASIS
</INVENTOR-NAME>
<INVENTOR-NAME>
SEERY, JUDITH BARBARA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to methods for controlling
congestion in a network, and to methods for controlling a
rate of input of packets of data from a data source to a
network.The use of data networks for the reliable high speed transport of
information, such as text, voice, video, etc., over wide areas in digital format via a
variety of media including optical fibers is bringing major changes to network
services and network architecture/infrastructure design. Many new services having
diverse characteristics and bandwidth requirements are now feasible. One emerging
example of such data networks is Broadband ISDN (BISDN), which is designed to
support a variety of applications such as interactive and distributed audio, video and
data communications. The principal transfer mode for BISDN is called
Asynchronous Transfer Mode (ATM). ATM is a high-bandwidth, low delay,
packet-like switching and multiplexing technique. See, S. E. Minzer, "Broadband
ISDN and Asynchronous Transfer Mode," IEEE Comm. Mag., pp. 17-24, Sept. 1989.FIG. 1A illustrates a typical high speed network 100 comprising
switching nodes 106-i connected by high-bandwidth data links 108-j. Inputs to the
network 100 are from user locations 101-k, k=1,2,...,NS. These inputs may be of any
form, but are conveniently formatted at the user locations into fixed-length packets
or cells (the terms will be used interchangeably in the sequel) for transmission to
other user locations or to gateway or inter-network nodes 110, which nodes are
connected to other networks via inter-network link 112. When data input from a
user location 101-k is not in the proper form, switching nodes 106-i are arranged to
appropriately format the input data. Communication between user location 101-k (or
between a user location and an off-network location, e.g., via link 112) is
advantageously via virtual circuits, as is well known in the art.It proves convenient to associate a so-called "window" with each virtual
circuit, which window represents the total number of cells in transit through the
virtual circuit at any time. In some networks many cells may be in transit between
an originating node, e.g., 106-1 and a terminating node, e.g., 106-2 in FIG. 1A. The
in-transit cells may be propagating through a link 106-i, or they may be temporarily
queued at one of the nodes along the path of the virtual circuit. Thus the window 
size, conveniently identified by the value K (in units of packets or cells), may be
fairly large.Some networks use explicit acknowledgement signals from the
termi
</DESCRIPTION>
<CLAIMS>
A method for controlling congestion in a network comprising a node (204) and
a virtual circuit passing through the node, wherein:


a window of size 
K ∼
 is associated with the virtual circuit, whereby 
K ∼
 packets of
data are in transit from a data source (202-1, ..., 202-c) via the virtual circuit at a given

time; and
the method comprises, for controlling the window size 
K ∼
, the step of sending a
feedback signal from said node to a point in said network connected to said data source,

said feedback signal reflecting an indication of congestion in said network;

CHARACTERISED IN THAT the feedback signal is sent during a time slot, and
the method further comprises:
determining at said point an ideal window of a size K based on said feedback
signal and on a damping constant, said damping constant determining the relative weight

accorded to a) the size of said ideal window in at least one prior time slot and b) said
feedback signal, said size K of said ideal window reflecting an ideal number of packets in

transit from said data source via said virtual circuit; and
generating a window size control signal for controlling said window of said size

K ∼
 based on said ideal window.
The method of claim 1 wherein said feedback signal comprises a single bit.
The method of claim 2 wherein said single bit is set when congestion is
encountered at said node.
The method of claim 1 wherein said window size signal comprises a signal to
said data source to send one or more additional packets to said network. 
The method of claim 1 wherein said step of determining comprises
determining:


K
I
 = (1-
d
(
I
)γ)
K
1
-
d
(
I
)
-
ad
(
I
)
B
I
    (
I
 = 1,2,···)

where 
I
 is an index identifying the time slot during which said feedback signal was sent,

K
I
 is the size of said ideal window during said time slot, γ is said constant, 
a
 is a gain
constant, 
d
(
I
) is the number of time intervals since said feedback signal was sent, and 
B
I

is said feedback signal.
The method of claim 5 wherein 
B
1
=-
I
 if said feedback signal indicates
congestion in said network and wherein 
B
I
=-
1
 if said feedback signal indicates no
congestion in said network.
The method of claim 1 wherein said step of generating a window size control
signal comprises generating a signal to control said size 
K ∼
 of said window upon an
acknowledgment of receipt of the 
n
th
 packet in the 
K ∼
 packets of data according to:

A method for controlling congestion in a network comprising a set of nodes
(204) and a plurality of virtual circuits adapted to communicate packets of data among

said nodes, wherein:

the
j
th
 of said virtual circuits has a window of size 
K ∼
j
, having 
K ∼
j
 packets of data in
transit from a data source (202-1, ..., 202-c) via said 
j
th
 virtual circuit; and
the method comprises, for controlling the window size 
K ∼
j
, the step of sending
feedback signal from a node in said set of nodes to a point in said network connected to 

said data source, said feedback signal reflecting an indication of congestion in said
network;

CHARACTERISED IN THAT the feedback signal is sent during a time slot, and
the method further comprises:
determining at said point an ideal window of a size 
K
j
 for said 
j
th
 virtual circuit
based on said feedback signal and on a damping constant, said damping constant

determining the relative weight accorded to a) the size of said ideal window in at least
one prior time slot and b) said feedback signal, said size 
K
j
 of said ideal window
reflecting an ideal number of packets in transit from said data source via said 
j
th
 virtual
circuit; and
generating a window size control signal for controlling said window of said size

K ∼
j
 based on said ideal window.
The method of claim 8, wherein each of said nodes comprises a buffer memory
for receiving packets of data from a preceding node for said 
j
th
 virtual circuit, and wherein
said feedback signal indicates the level of data relative to a predetermined threshold level

Q
TJ
 for the 
j
th
 virtual circuit.
The method of claim 8 wherein said window size control signal comprises a
signal to said data source to send one or more additional packets of data via said 
j
th
 virtual
circuit.
The method of claim 8 wherein said step of generating a window size control
signal comprises generating a signal to control said size of said window 
K ∼
j
 upon
acknowledgment of receipt of the 
n
th
 packet in the 
K ∼
j
 packets of data according to: 


where 
n
 is an index identifying the packet, 
K ∼
j,n
 is the size of said window between
acknowledgment of the 
n-1
th
 and 
n
th
 packets of data, and 
I
 is the index identifying the
time slot during which said acknowledgment is received.
The method of claim 8 wherein said step of determining comprises
determining:


K
j,I
 = (1 - 
d
(
I
)γ
j
 )K
j,I-d
(
I
)
 - 
a
j
d
(
I
)
B
I
   (
I
 = 1,2,···)

where 
I
 is an index identifying the time slot during which said feedback signal was sent,

K
j,I
 is the size of the ideal window of said 
j
th
 virtual circuit during said time slot, γ
j
 is
said constant for said 
j
th
 virtual circuit, 
a
j
 is a gain constant for said 
j
th
 virtual circuit, 
d(I)

is the number of time intervals since said feedback signal was sent, and 
B
I
 is said
feedback signal.
The method of claims 12, wherein 
B
I
=
1
 if said feedback signal indicates
congestion in said network in excess of a predetermined threshold, and wherein 
B
I
=-
1
 if
said feedback signal indicates congestion in said network is not in excess of said

threshold.
The method of claim 8 wherein said step of determining comprises
determining:


K
j,I
 = max[
K
j,floor
 {(1-
d
(
I
)γ
j
)
K
j,I-d
(
I
)
 - 
a
j
d
(
I
)
B
(
I
j
)}] (1 = 1,2,...)
 
where 
I
 is an index identifying the time slot during which said feedback signal was sent,

K
j,I
, is the size of the ideal window during said time slot, γ
j
 is said constant for said 
j
th

virtual circuit, 
a
j
 is a gain constant for said 
j
th
 virtual circuit, 
d
(
I
) is the number of time
intervals since said feedback signal was sent, 
B
I
 is said feedback signal, and 
K
j,floor
=τ
j

(CIR)
 where τ
j
 is the round trip delay time for said 
j
th
 virtual circuit and 
CIR
j
 is the
committed information rate for said 
j
th
 virtual circuit.
A method for controlling a rate of input of packets of data from a data source
(202-1, ..., 202-c) to a network, comprising the step of receiving a feedback signal from

said network at a point connected to said data source, said feedback signal reflecting an
indication of congestion in said network;

CHARACTERISED IN THAT the feedback signal is received during a time slot,
and the method further comprises:


determining at said point a rate 
R
 based on said feedback signal and on a damping
constant, said damping constant determining the relative weight accorded to a) the size of

said ideal window in at least one prior time slot and b) said feedback signal; and
responsive to said receiving, generating a rate control signal for setting to 
R
 said
rate of input of packets of data from said data source to said network.
The method of claim 8 or 15, wherein said feedback signal comprises a single
bit.
The method of claim 16 wherein said single bit is set when there is
congestion in said network.
The method of claim 15 wherein said step of determining comprises
determining:


R
I
 = (1-
d
(
I
)γ)
R
1-
d
(
I
)
 - 
ad
(
I
)
B
I
   (
I
 = 1,2,···)
 
where 
I
 is an index identifying the time slot during which said feedback signal was sent,

R
I
 is said rate during said time slot, γ is said constant, a is a gain constant, 
d(I)
 is the
number of time intervals since said feedback signal was sent, and 
B
I
 is said feedback
signal.
A method for controlling the rate of input of packets of data from a data
source (202-1, ..., 202-c) to a network via the 
j
th
 one of a plurality of virtual circuits in
said network, wherein said plurality of virtual circuits is adapted to communicate packets

of data among a set of nodes (204) in said network, comprising the step of:

receiving a feedback signal from said network at a point connected to a data
source, said feedback signal reflecting an indication of congestion in said 
j
th
 virtual
circuit;

CHARACTERISED IN THAT the method further comprises the steps of:
determining at said point a rate 
R
j
 based on said feedback signal and on a damping
constant, said damping constant determining the relative weight accorded to a) the size of

said ideal window in at least one prior time slot and b) said feedback signal; and
responsive to said receiving, generating a rate control signal for selling to 
R
j
 said
rate of input of packets of data from said data source.
The method of claim 8 or 19, wherein each of said nodes comprises a buffer
memory for receiving packets of data from a preceding node, and wherein said feedback

signal indicates the level of data relative to a predetermined threshold level.
The method of claim 9 or 20, wherein said buffer memory is serviced on a
first-come-first-served basis.
The method of claim 9 or 20, wherein said buffer memory is serviced using a
weighted round robin discipline. 
The method of claim 19 wherein said step of determining comprises
determining:


R
j,I
 = (1-
d
(
I
)γ
j
)
R
j,I-d(I)
 - 
a
j
d
(
I
)
B
1
   (
I
 = 1,2,···)

where 
I
 is an index identifying the time slot during which said feedback signal was sent,

R
j,I
 is said rate of said 
j
th
 virtual circuit during said time slot, γ
j
 is said constant for said

j
th
 virtual circuit, 
a
j
 is a gain constant for sai
d j
th
 virtual circuit, 
d
(
I
) is the number of time
intervals since said feedback signal was sent, and 
B
I
 is said feedback signal.
</CLAIMS>
</TEXT>
</DOC>
