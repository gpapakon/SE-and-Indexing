<DOC>
<DOCNO>EP-0654753</DOCNO> 
<TEXT>
<INVENTION-TITLE>
A method of analyzing an image showing a graphical representation.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T760	G06T760	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T7	G06T7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Input image data define an input image (10) that shows a parallel length graph, such 
as a bar graph, a histogram, a Gantt chart, a timing diagram, or a time line. The input image 

data are used to obtain parallel feature data indicating features (20) in the input image that 
satisfy a constraint on parallel features. The parallel feature data (20) are used to obtain length 

data (30) indicating each feature's length. For example, the parallel feature constraint could 
include a direction criterion, a terminations criterion, and a position criterion. Or the parallel 

feature constraint could include a feature candidate criterion for a specific category of parallel 
length graphs, an elongation criterion, a direction criterion, and a base alignment criterion. 

The direction criterion can require features that extend approximately parallel to a prominent 
distance within the parallel length graph, such as a mode of orientation or a mode of angle of 

least inertia. The input image (10) can show a sketch and the length data (30) can be used to 
obtain output image data defining an output image that includes a precisely formed parallel 

length graph representing the indicated lengths. Or the length data (30) can be used to obtain 
another graphical representation of the lengths. Or the length data (30) could be used to 

provide control signals to a system. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
XEROX CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
XEROX CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MAHONEY JAMES V
</INVENTOR-NAME>
<INVENTOR-NAME>
RAO SATYAJIT
</INVENTOR-NAME>
<INVENTOR-NAME>
MAHONEY, JAMES V.
</INVENTOR-NAME>
<INVENTOR-NAME>
RAO, SATYAJIT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to techniques for analyzing an image showing a 
graphical representation, and more particularly to analyzing an image showing a parallel 
length graph. The Ricoh Imagio MF530 Series General Catalog, Ricoh K.K., 1992, describes Al 
copying functions at pages 23 and 24. Page 23 shows how different types of graphs can be 
created by writing numerals by hand on a form. The types are designated as band graph, 
comparative bar graph, pie graph, stacked bar graph, stacked bar graph with shadows, bent 
line graph, heavy bent line graph, and three-dimensional pie graph. According to the present invention there is provided a method, machine and article 
of manufacture according to the appended claims. The invention is based on the discovery of a technique for analyzing an image 
showing a parallel length graph such as a vertical or horizontal bar graph or histogram, a Gantt 
chart, a timing diagram, a time line, or another graphical representation in which a number of 
features that are approximately parallel have lengths proportional to values they represent. 
The technique analyzes the image to obtain information about each length represented in the 
graph. The image can be a human-produced image showing a sketch of a parallel length 
graph. The technique can, for example, receive image data defining an image showing a 
parallel length graph. The technique can use the image data to obtain parallel feature data 
indicating features of the image that satisfy a constraint on parallel features. The technique 
can then use the parallel feature data to obtain length data indicating, for each of the features, 
a length. The length data can, for example, indicate distance between ends of a feature that 
satisfies the constraint on parallel features. The constraint on parallel features can include a direction criterion, a terminations 
criterion, and a position criterion. The direction criterion can require features that extend 
approximately parallel to a prominent direction within the parallel length graph, such as a 
mode of orientation. The terminations criterion can require features that have two 
terminations. The position criterion can require features that have approximate length greater 
than distance from an axis. The constraint on parallel features can instead include a feature candidate criterion 
for a specific category of parallel length graphs, an elongation criterion, a direction criterion, 
and a base alignment criterion. The feature candidate criterion can relate, for
</DESCRIPTION>
<CLAIMS>
A method including: 
   obtaining input image data defining an input image (10) that shows a parallel length 

graph; 
   using the input image data to obtain parallel feature data (20) indicating features in 

the input image (10) that satisfy a constraint on parallel features (12,14); and 
   using the parallel feature data (20) to obtain length data (30) indicating, for each of 

the features (12,14), a length. 
A method as claimed in claim 1, in which the constraint on parallel features includes a 
direction criterion, the act of using the input image data to obtain parallel feature data 

including: 
   obtaining direction data indicating a prominent direction within the parallel length 

graph; and 
   using the direction data to obtain the parallel feature data, the parallel feature data 

indicating features that meet the direction criterion; the direction criterion requiring features 
that extend approximately parallel to the prominent direction. 
A method as claimed in claim 2, in which the act of obtaining direction data 
comprises: 

   obtaining orientation mode data indicating a mode of orientation within the parallel 
length graph, the mode of orientation being the prominent direction. 
A method as claimed in claim 2 or claim 3, in which the constraint on parallel features 
further includes a terminations criterion, the act of using the input image data to obtain 

parallel feature data further comprising: 
   obtaining terminations data indicating a number of terminations for each feature 

that meets the direction criterion; and 
   using the terminations data to obtain the parallel feature data, the parallel feature 

data indicating features in the input image that meet the termination criterion; the 
termination criterion requiring features that have two terminations and, optionally, the 

constraint on parallel features further includes a position criterion, the act of using the input 
image data to obtain parallel feature data further comprising: 

   obtaining position data indicating, for each feature that meets the direction criterion 
and the terminations criterion, a distance from an axis and an approximate length; and

 
   using the position data to obtain the parallel feature data, the parallel feature data 

indicating features in the input image that meet the position criterion; the position criterion 
requiring features that have approximate length greater than distance from the axis. 
A method as claimed in claim 1, in which the constraint on parallel features includes, 
for each of a number of specific categories of parallel length graphs, a feature candidate 

criterion; the act of using the input image data to obtain parallel feature data comprising: 
   obtaining feature candidate data indicating parts of the input image that meet the 

feature candidate criterion for one of the specific categories of parallel length graphs; and 
   using the feature candidate data to obtain the parallel feature data and, optionally, 

the constraint on parallel features further includes an elongation criterion; the act of using the 
feature candidate data to obtain the parallel feature data comprising: 

   using the feature candidate data to obtain elongation candidate data indicating 
elongation for features that include parts of the input image indicated by the feature 

candidate data; and 
   using the elongation data to obtain the parallel feature data; the parallel feature 

data indicating features that meet an elongation criterion; the elongation requiring a feature 
to be elongated in the direction of its angle of least inertia and, optionally, the constraint on 

parallel features further includes a direction criterion; the act of using the feature candidate 
data to obtain the parallel feature data further comprising: 

   obtaining direction data indicating a prominent direction within the parallel length 
graph; and 

   using the direction data to obtain the parallel feature data, the parallel feature data 
indicating features that meet the direction criterion; the direction criterion requiring features 

that extend approximately parallel to the prominent direction. 
A method as claimed in claim 5, in which the act of obtaining direction data 
comprises: 

   obtaining orientation mode data indicating a mode of angle of least inertia within 
the parallel length graph, the mode of angle of least inertia being the prominent direction. 
A method as claimed in claim 5, in which the constraint on parallel features further 
includes a base alignment criterion; the act of using the feature candidate data to obtain the 

parallel feature data further comprising: 
   obtaining bases data indicating, for each feature, a base; and

 
   using the bases data to obtain the parallel feature data, the parallel feature data 

indicating features that meet the base alignment criterion; the base alignment criterion 
requiring features with bases that are aligned. 
A method of operating a machine that includes: 
   image input circuitry (70) for obtaining data defining images as input; and 

   a processor (66) connected for receiving data defining images from the image input 

circuitry (70); 
the method including: 

   operating the processor (66) to receive input image data from the image input 
circuitry, the input image data defining an input image that shows a parallel length graph; 

   operating the processor (66) to use the input image data to obtain parallel feature 
data indicating features in the input image that satisfy a constraint on parallel features; and 

   operating the processor (66) to use the parallel feature data to obtain length data 
indicating, for each of the features, a length. 
A machine comprising: 
   image input circuitry (70) for obtaining data defining images as input; 

   memory for storing data; and 
   a processor (66) connected for receiving data defining images from the image input 

circuitry (70) and connected for accessing data stored in the memory; 
   the data stored in the memory comprising instruction data indicating image 

processing instructions the processor can execute; the processor (66), in executing the image 
processing instructions: 

   receiving input image data from the image input circuitry, the input image data 
defining an input image that shows a parallel length graph; 

   using the input image data to obtain parallel feature data indicating features in the 
input image that satisfy a constraint on parallel features; and 

   using the parallel feature data to obtain length data indicating, for each of the 
features, a length. 
An article of manufacture for use in a machine that includes: 
   image input circuitry (70) for obtaining data defining images as input; 

   a storage medium access device (64) for accessing a medium that stores data; and
 

   a processor (66) connected for receiving data defining images from the image input 
circuitry; the processor (66) further being connected for receiving data from the storage 

medium access device; 
the article including: 

   a storage medium (62) that can be accessed by the storage medium access device (64) 
when the article is used in the system; and 

   data stored by the storage medium so that the storage medium access device can 
provide the stored data to the processor when the article is used in the system; the stored data 

comprising instruction data indicating instructions the processor can execute; the processor, in 
executing the instructions: 

   receiving input image data from the image input circuitry, the input image data 
defining an input image that shows a parallel length graph; 

   using the input image data to obtain parallel feature data indicating features in the 
input image that satisfy a constraint on parallel features; and 

   using the parallel feature data to obtain length data indicating, for each of the 
features, a length. 
</CLAIMS>
</TEXT>
</DOC>
