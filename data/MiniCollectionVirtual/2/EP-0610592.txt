<DOC>
<DOCNO>EP-0610592</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Demodulation circuit of communication control system
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L2908	H03K900	H04L7033	H03K900	H04L2549	H04L2549	H04L2908	H03M508	H03M500	H04L7033	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H03K	H04L	H03K	H04L	H04L	H04L	H03M	H03M	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L29	H03K9	H04L7	H03K9	H04L25	H04L25	H04L29	H03M5	H03M5	H04L7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A demodulation circuit of the communication control 
system is disclosed, in which the rising edge and the falling 

edge of a symbol or a one-bit data subjected to pulse 
width modulation as inputted from a transmission path are 

detected. The time width of a high-level section or a low-level 
section of the symbol or the one-bit data is measured 

on the basis of the result of edge detection. The time 
width thus measured is compared with a reference time width 

set in advance. According to the result of comparison, the 
sampling timing for the high-level section and the low-level 

section is adjusted respectively. The sampling timing thus 
adjusted is used to demodulate the data requiring demodulation 

including the symbol and the one-bit data. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MITSUBISHI ELECTRIC CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
MITSUBISHI DENKI KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OKAMOTO YASUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
OKAMOTO, YASUSHI,
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a demodulation circuit
of a communication control system according to the preamble
of claim 1.Fig.1 shows a pulse-width-modulated bit pattern defined
by a PWM (Pulse Width Modulation) bit format according to
Class B data communication network interface J1850 for
example. The region of one bit of the data transferred on
the dual wire bus line is comprised of three segmented areas
(hereinafter referred to as "time"). Bit 0, as shown in
Fig.1(a), is expressed by H level at the first time 63 and
second time 64, and by L level at the third time 65. Bit 1,
on the other hand, is given by H level at the first time 63
and by L level at the second time 64 and third time 65 as
shown in Fig.1(b).The symbol SOF (Start of Frame) indicating a transmission
start, as shown in Fig.1(c), is expressed by a total of
6 times as a pattern having the first, second, third and fourth times 63-66 at the H level and the
fifth and sixth times 67 and 68 at L level. The symbol EOD 
(End of Data) meaning the end of transmission, as shown in
Fig.1(d), is expressed by three times including the first,
second and third times 63, 64 and 65 all at L level. Further,
the symbol EOF (End of Frame) indicating the end of a
message frame is expressed by 6 times indicating the first,
second, third, fourth, fifth and sixth times 63, 64, 65, 66,
67 and 68 all at L levels.The PWM symbols and the PWM data thus subjected to
pulse width modulation are transmitted and received in a
message frame format of SAE.J1850, for example, as shown in
Fig.2. Assume that a transmission frame is sent out.
First, the transmission start symbol SOF is sent out, followed
by the data 43 providing a PWM data of bit 0 or 1, and
then the transmission end symbol EOD indicating the end of
transmission. In the case where no error is detected in the
symbol and data thus transmitted, the receiving party pulse-width
modulates and returns a specific address assigned him
as an IFR (In Frame Response). An end of frame signal EOF
indicating the end of one message frame is sent out, thereby
terminating one message frame.Now, a method for demodulating the PWM symbols and the
PWM data shown in Fig.1 at the receiving end is explained.
The bit 0 and bit 1 providing the PWM data shown in
Figs.1(a) and 1(b) are comprised of three times. The data
is sampled at predetermined sampling points t1, t2 and t3 at 
the times 63, 64 and 65, and assuming that the first time 63
is at H level, the second time 64 at H level and the third
time 65 at L level, the bit 0 is
</DESCRIPTION>
<CLAIMS>
A demodulation circuit of a communication control system for
sampling and demodulating object data (5) including a significant

symbol (SOF) and a one-bit data (Bit[1], Bit[0]
) which are each
represented by a first-level section and a second-level section

of corresponding predetermined time widths, comprising:

time width measuring means (1, 9, 10, 11a, 11b) for measuring a
time width of the object data;
comparing means (12a, 12b) for comparing the measured time width
with a predetermined reference time width;
sampling timing adjusting means (13, 14) for adjusting the sampling
time of the object data in accordance with the result of

comparison; and
demodulating means (4) for demodulating by sampling the object
data (5) at the sampling timing adjusted by said sampling timing

adjusting means, characterized in that
the time width measuring means is formed such that the time
width of a selected one of the first-level section and the

second-level section of a selected one of the symbol and the
one-bit data is measured, and
the comparing means is formed such that the measured time width
of the selected one of the first-level section and the second-level

section is compared with a predetermined reference time
width (D0-D5) for the selected one of the first-level section and the

second-level section.
The demodulation circuit according to claim 1, wherein
said time width measuring means includes:


means (1) for detecting the rising edge and the falling edge of

the first-level section and/or the second-level section of the
selected one of the symbol and the one-bit data; and 
means (9, 10, 11a, 11b) for measuring the time width of the
selected one of the first-level section and the second-level

section of selected one of the symbol and the one-bit data on
the basis of the result of edge detection.
The demodulation circuit
according to Claim 1 or 2, wherein

said sampling timing adjusting means includes:

means (RES) for storing a reference value corresponding to the number
of clock periods for the first-level section;
means (11a) for counting clock periods for the first-level
section;
means (12a) for subtracting the clock count value from the
reference value; and
means (13a, 133) for controlling the count value for determining
the sampling timing to a predetermined value on the basis of

the result of subtraction.
The demodulation circuit
according to one of Claims 1 to 3, wherein


said sampling timing adjusting means includes:
means (RES) for storing a reference value of the number of
clock periods for the second-level section;
means (11b) for counting clock periods for the second-level
section;
means (12b) for subtracting the clock count value from the
reference value; and
means for controlling the count value for determining
the sampling timing to a predetermined value on the basis of

the result of subtraction.
The demodulation circuit
according to one of Claims 1 to 4, wherein


said demodulating means (4) includes means (505-510) for sampling the
first-level section and the second-level section by a separate

sampling timing on the basis of the sampling timing
adjusted by said sampling timing adjusting means.
</CLAIMS>
</TEXT>
</DOC>
