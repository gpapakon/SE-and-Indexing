<DOC>
<DOCNO>EP-0642073</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Microcomputer with clock control apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F132	G06F132	G06F108	H03L300	G06F104	G06F1576	H03K303	H03L300	H03K3014	H03K300	G06F108	G06F1578	G06F104	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	H03L	G06F	G06F	H03K	H03L	H03K	H03K	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F1	G06F1	G06F1	H03L3	G06F1	G06F15	H03K3	H03L3	H03K3	H03K3	G06F1	G06F15	G06F1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A microcomputer having a frequency divider for 
dividing, at multiple stages, the frequency of the clock 

generated by an oscillator circuit, a selector for selecting 
from among the resulting divided frequency clocks, a counter 

for counting the divided frequency clock selected, a switch 
for changing the driving ability of the oscillator circuit, 

and a select bit in which data on selecting the on or off 
control over the switch is written, wherein the driving 

ability of the oscillator circuit is set large in initiating 
oscillation and low after initiating the supply of its 

internal clock, independently of the program. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MITSUBISHI ELECTRIC CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
MITSUBISHI DENKI KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HONGO KATSUNOBU
</INVENTOR-NAME>
<INVENTOR-NAME>
HONGO, KATSUNOBU
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a microcomputer according to the preamble of claim 1. In a single-chip microcomputer internally provided with 
an oscillator circuit, the driving ability of the oscillator 
circuit can be changed by rewriting the content of a 
register under the control of a CPU, so as to reduce power 
consumption and an unnecessary emission by oscillation. FIG. 1 is a block diagram showing the constitution of a 
conventional microcomputer of this type. Together with a 
ceramic resonator or a crystal oscillator, a capacitor for 
oscillation and the like are connected to the microcomputer. 
The microcomputer comprises a clock input terminal 1 to 
which a clock is to be inputted and a clock output terminal 
2 from which the clock is to be outputted. The clock input 
terminal 1 is connected to one input terminal of each of 
NAND circuits 3 and 4. An interrupt request signal (hereinafter referred to as  
 
an interrupt signal) INT is inputted to one input terminal 
of an OR circuit 18, while a reset signal RST is inputted to 
the other input terminal thereof. The output terminal of 
the OR circuit 18 is connected to the set terminal S of an 
RS flip-flop 9. To the reset terminal R of the RS flip-flop 
9 inputted is an oscillation stop signal STP, while the 
output terminal Q of the flip-flop 9 is connected to the 
other input terminal of each of the NAND circuits 3 and 4. 
The output terminal Q of the flip-flop 9 is connected to the 
other input terminals of the NAND circuits 3 and 4. The 
output terminal of the NAND circuit 4 is connected via a 
switch 11 to the input side of a frequency divider 5 for 
dividing the frequencies of the clocks from the NAND 
circuits 3 and 4. The output terminal of the NAND circuit 4 
is also connected to the clock output terminal 2, to the 
output terminal of the NAND circuit 3, and to one input 
terminal of an AND circuit 10. The output side of the frequency divider 5 is connected 
to the input side of a selector 6 for selecting a divided 
frequency clock from the frequency divider 5. The output 
side of the selector 6 is connected to the input side of a 
counter 7, which also serves as a watch dog timer. The 
output side of the counter 7 is connected to one input 
terminal of an OR circuit 12. To the other input terminal 
of the OR circuit 12 inputted is a reset signal RST. The  
 
output terminal of the OR circuit 12 is connected to the set 
terminal S of an RS flip-flop 8. To the reset terminal R 
of the flip-flop 8 inputted is the oscillation stop signal
</DESCRIPTION>
<CLAIMS>
A microcomputer, comprising: 

an oscillator circuit (1, 2, 3, 4, 311-314, 11, 13, 40, 50) 
for generating a first clock, said oscillator circuit including 

driving ability changing means (3, 4, 11, 31, 41, 42, 45-49, 51-59) 
for changing the driving ability of said oscillator circuit; 
count means (5, 6, 7, 14, 16, 62, 15) for counting said 
generated first clock; 
signal output means (8, 12, 25, 26) for outputting a predetermined 
signal (a, b) upon a count result of said count means; 
internal clock supply means (10) for supplying an internal 
clock upon initiation of the supply by said predetermined signal 

(a); 
driving ability selecting means (21, 22) for selecting the 
driving ability of said oscillator circuit (1, 2, 3, 4, 311-314, 

11, 13, 40, 50); 
a logic circuit (13, 33) receiving a signal (a, b) related to 
said predetermined signal (a); and 
control means (47, 57) for controlling said driving ability 
changing means based on the output (sa, sb, sd) of said logic 

circuit (13, 33); 
 
characterized in that 


said oscillator circuit generates said first clock 
upon initiation of the generation by an initiation signal (p), 
said signal output means (8, 12, 25, 26) outputs said predetermined 
signal (a, b) after said count means has counted a 

predetermined value corresponding to a predetermined time period, 
said driving ability selecting means (21, 22) selects the driving 
ability of said oscillator circuit (1, 2, 3, 4, 311-314, 11, 13, 

40, 50) according to a content (s, d) set in said driving ability 
selecting means, 
said logic circuit (13, 33) receives said signal (a, b) related to 
said predetermined signal (a) and said content (s, d) of said 

driving ability means, and  
 
said control means (47, 57) controls said driving ability changing 
means based on the output (sa, sb, sd) of said logic circuit (13, 

33) so that a large driving ability is obtained during the period 
from the initiation (p) of 

the generation of said first clock to the initiation (a) of 
the supply of said internal clock (i) and so that a driving 

ability in accordance with said content (s, d) of said driving 
ability selecting means (21, 22) is obtained after the initiation 

(a) of the supply of said internal clock (i). 
A microcomputer according to claim 1, wherein said 
count means counts a predetermined number of clocks and 

outputs a first signal (g) and a second signal (f), said control 
means (47,57) controls said driving ability changing means so that 

the large driving ability is obtained till the outputting of 
the first signal (g) and that the driving ability in accordance 

with the content (s) of said driving ability selecting means (21) is 
obtained after the outputting of the first signal (g), and said 

internal clock supply means initiates the supply of the 
internal clock upon the generation of the second signal (f). (Fig. 10) 
A microcomputer according to claim 1 or 2, wherein said 
driving ability selecting means (21,22) selects from among three or 

more states in which the driving ability of the oscillator 
circuit is different. (Fig. 12) 
A microcomputer according to claim 3, wherein at 
least one state of the three or more states, from among 

which said driving ability selecting means selects, is a 
state in which the driving ability is so small that the 

oscillating operation by the oscillator circuit cannot be 
expected. 
A microcomputer according to one of claims 1 to 4, 
further comprising:  

 

count means (5,62,7,6) for counting a predetermined number of 
clocks and outputting a first signal and a second signal; 

and 
clock selecting means (20,23) for selecting a clock to be 
inputted to said count means, 
wherein said internal clock supply means (10) initiates the 
supply of the internal clock (i) in response to the second 

signal (f). 
A microcomputer according to one of claims 1 to 5, 
further comprising: 


first and second clock selecting means (20,23) for selecting a 
clock to be inputted to said count means; and 
driving ability changing means for providing, based on 
the content of said second clock selecting means, a driving 

ability which is so small that the oscillating operation by 
the oscillator circuit cannot be expected. 
A microcomputer according to one of claims 1 to 6, 
wherein the content of said driving ability selecting means is 

set by changing the layout pattern of a diffusion layer, polysilicon 
layer, aluminum layer, and the like on a semiconductor 

substrate.  
 
A microcomputer according to one of claims 5 to 7, 
wherein the content of said clock selecting means (20,23) is set by 

changing the layout pattern of a diffusion layer, polysilicon 
layer, aluminum layer, and the like on a semiconductor 

substrate. 
The microcomputer according to one of claims 1 to 8, 
characterized by
 
   initiation means (9, 18) for initiating the generation of 

said first clock 
by outputting said initiation signal (p) in 

response to a receipt of a reset signal (RST) or/and an interrupt 
signal (INT). 
</CLAIMS>
</TEXT>
</DOC>
