<DOC>
<DOCNO>EP-0637732</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for identifying the color of an image
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T700	G01J351	G06T100	H04N146	G01J351	G06T700	H04N146	G06T100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G01J	G06T	H04N	G01J	G06T	H04N	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T7	G01J3	G06T1	H04N1	G01J3	G06T7	H04N1	G06T1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method, 400, and an apparatus, 102, to reduce the 
errors in linearly transforming the RGB values to the XYZ 

values of the colors of an image, 100. The image, 100, 
is measured twice, once with and once without a filter, 

116, between the image, 100, and the sensors, 108, 
measuring the image, 100. The apparatus, 102, is capable 

of generating at least three output values substantially 
simultaneously to measure the color of each element, 104, 

of the image, 100. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
FARRELL JOYCE E
</INVENTOR-NAME>
<INVENTOR-NAME>
WANDELL BRIAN A
</INVENTOR-NAME>
<INVENTOR-NAME>
FARRELL, JOYCE E.
</INVENTOR-NAME>
<INVENTOR-NAME>
WANDELL, BRIAN A.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates generally to color
images and more particularly to methods and apparatus for
identifying the colors of an image.The color of every element in an image can be
identified by three values, generally known as its XYZ
values. Each value corresponds to the spectral
information in one spectral band, and the three values
together identify the color of an element in the image.
The XYZ values depend on the responses of the human eyes
and are instrument independent. The values are known as
CIE standard responsivities. A general discussion of
such standards can be found in "Color Science: Concepts
and Methods, Quantitative Data And Formulae," second
edition, written by Wyszecki and Stiles, and published by
John Wiley and Sons.Numerous electronic instruments have been used to
identify colors of an image. The instruments typically
measure the color of each element and identify it by
three values, generally known as its RGB or Red-Green-Blue
values. The color of each element of the image is
identified by measuring the element with three sensors,
with each sensor corresponding to one of the three
components, red, green or blue. One such instrument is a
scanner.Different instruments have different sensors with
different characteristics, which produce different RGB
values. Therefore, the RGB values are instrument
dependent. It would be very beneficial to transform the
instrument dependent RGB values to the instrument
independent XYZ values to simplify the hardware and
software manipulating the values.If the RGB values can be transformed to the XYZ
values by a three by three matrix with minimal errors, 
then such a transformation is known as a linear
transformation. Instruments capable of performing linear
transformation are known as colorimetric instruments.Prior art inexpensive scanners are quite non-colorimetric.
For each element, the calculated or
scanner-identified XYZ values are significantly different
from the actual XYZ values. Moreover, the errors
introduced by the transformation process depend on the
media, such as the paper and ink, used to produce the
image.One way to improve on the transformation linearity
is to use more sensors to measure each element. Typical
scanners employ arrays of charge coupled devices (CCD) as
sensors. These CCD arrays are expensive. Using more CCD
devices to reduce the errors in the transformation
process is a very expensive approach.There is still a need to improve on the instrument
and the method to linearly transform the RGB values to
the XYZ values.
</DESCRIPTION>
<CLAIMS>
An instrument for identifying the colours of an
image (100) having one or more elements (104), each

element (104) having a colour; comprising a plurality of
sensors (108) capable of generating at least three output

values substantially simultaneously to measure the colour
of each element, each output value corresponding to a

predetermined portion of the light spectrum;

characterised by at least one filter or transparency
(116); and means (118) for moving the or each filter or

transparency (116) so that the or each filter or
transparency (116) can be positioned sequentially between

the sensors (108) and the image (100); the instrument
(102) being capable of generating at least three output

values substantially simultaneously to measure the colour
of each element (104) and to make at least two

measurements of the image sequentially, a first with and
a second without the or each filter or transparency (116)

between the image (100) and the sensors (108), thereby to
identify the colour of each element (104) of the image

(100).
An instrument as recited in claim 1, wherein the
instrument (102) is operable to measure only some of the

elements (104) of the image in the first measurement and
to measure all the elements (104) of the image in the

second measurement; the output values not measured in the
first measurement being generated by those which are

measured.
An instrument as recited in claim 1 or 2, wherein
the instrument (102) is operable to generate only one of

the output values during the first measurement and to
generate all the output values during the second

measurement. 
An instrument as recited in any preceding claim,
wherein each measurement provides three output values for

each element (104).
A method of identifying the colours of an image
(100) having one or more elements (104), each element

having a colour; comprising the steps of:

(a) positioning (404) sequentially at least one filter or
transparency (116) between the image (100) and the

sensors (108) and generating (402) at least one output
value for the colour of each element (104) measured;
(b) before or after step (a) generating (406)
without a filter or transparency between the image and

the sensors at least one output value for the colour of
each element (104);

   wherein for at least one of steps (a) and (b) at
least three output values are generated substantially

simultaneously, each value corresponding to a
predetermined portion of the light spectrum; and


(c) identifying (408) the colour of each element
(104) of the image (100) based on the output values of

that element (104).
A method as recited in claim 5, wherein three output
values each corresponding to a predetermined portion of

the light spectrum are generated in step (a).
A method as recited in claim 5, wherein in step (a)
one measured output value for each element is generated,

and output values of the elements which are not measured
are generated from the measured output value.
A method as recited in claim 5, 6 or 7, wherein step
(a) comprises the steps of manipulating the output values

by a set of coefficients;

   the set of coefficients is generated by the steps
of: 


picking (202) a pre-selected image from a plurality
of pre-selected images;
measuring (206) the colour of the pre-selected image
by the method (400) to identify the colour of the pre-selected

image;
repeating (208) the step of "picking a pre-selected
image" until every pre-selected image has been measured;

and
generating (212) the set of coefficients that
manipulates the output values from the measurements so

that the measured colour of each pre-selected image
identifies as close to the known colour of that pre-selected

image as possible.
A method as recited in claim 5, 6 or 7, wherein the
or each filter (116) is selected by the steps of:


picking sequentially (202) a filter from a plurality
of pre-selected filters for the instrument;
identifying the colours of a plurality of pre-selected
images by the instrument (102), the colour of

each pre-selected image being known and different from
the other pre-selected images;
calculating (214) a difference value based on the
difference between the identified colour and the known

colour of each pre-selected image;
repeating (216) the step of "picking a filter" until
every pre-selected filter has been picked; and
selecting (218) the filter which provides the
minimal difference value.
</CLAIMS>
</TEXT>
</DOC>
