<DOC>
<DOCNO>EP-0647032</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Charge pump circuit with symmetrical current output for phase-controlled loop system.
</INVENTION-TITLE>
<CLASSIFICATIONS>H03L708	H03L7089	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03L	H03L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03L7	H03L7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A phase-controlled loop system having a charge pump circuit 
including a current mismatch measurement circuit and a current 

compensation circuit for equalizing the amplitude of positive 
current pulses and the amplitude of negative current pulses 

output when the phase-controlled loop system is in phase-locked 
condition. The current mismatch measurement circuit includes 

duplicate complementary current sources with characteristics 
and biasing substantially identical to that of the primary 

current sources providing the positive current and the negative 
current to the output node of the charge pump circuit. At the 

common connected node between the duplicate complementary 
current sources an error current is produced having an 

amplitude equal to the difference between the amplitude of the 
positive current pulses and the amplitude of the negative 

current pulses to the output node. Current mirrors then 
reflect this error current back to either the positive current 

source or the negative current source for combining with the 
positive current or negative current, respectively, such that 

the currents' amplitudes at the output node substantially 
cancel. Various current mismatch measurement circuit and 

current compensation circuit embodiments are described, 
including a time multiplexed sensing and compensation approach. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
GERSBACH JOHN EDWIN
</INVENTOR-NAME>
<INVENTOR-NAME>
NOVOF ILYA IOSEFOVICH
</INVENTOR-NAME>
<INVENTOR-NAME>
GERSBACH JOHN EDWIN
</INVENTOR-NAME>
<INVENTOR-NAME>
NOVOF ILYA IOSEFOVICH
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates generally to phase-controlled loop 
systems and, more particularly, to a symmetrical charge pump 
circuit for coupling between a phase comparator and an output 
filter of a phase-locked loop system or similar controlled 
system to add charge to or remove charge from the filter with 
minimum static offset error during phase-locked condition. A typical phase-locked loop (PLL) system includes a phase 
comparator, a charge pump, a low-pass filter and a voltage-controlled 
oscillator (VCO). These elements are coupled 
together to form a closed-loop system wherein the phase 
comparator measures differences in phase between an input 
reference signal and a feedback signal from the output of the 
VCO. Any detected difference generates an error signal which 
is fed through the charge pump to the filter for supply to the 
VCO. The charge pump, positioned between the phase comparator 
and the filter, provides either a positive current source to 
add charge to the filter or a negative current source to remove 
charge from the filter based upon the error signal output from 
the phase comparator. The VCO utilizes the control voltage 
across the filter to minimize the frequency difference between 
the PLL feedback signal and the input reference signal. One embodiment of a PLL charge pump circuit having positive and 
negative current sources is presented in U.S. Pat. No. 
4,814,726. This patent describes a phase detector and charge 
pump circuit combination for use in a digital PLL circuit. The 
phase detector includes a reset circuit that responds to the 
charge pump when the charge pump is simultaneously sourcing and 
sinking current. The charge pump's up and down circuits are 
balanced in an attempt to minimize conduction during a phase-locked  
 
condition. However, there is no attempt to compensate 
for second order current mismatching resulting from the 
presence of a control voltage on the output node of the charge 
pump. Existing PLL charge pump circuits often output a current that 
is a function of the control voltage across the filter. Such 
circuits typically exhibit an offset error when the PLL system 
is in phase-locked condition. This is because the current 
sources have a finite output impedance due to channel length 
modulation (CMOS technology) or base width modulation (bipolar 
technology), meaning that the output currents are a weak but 
significant function of output voltage. This relationship can 
result in an amplitude mismatch between the output of the 
positive current
</DESCRIPTION>
<CLAIMS>
A current source circuit for use in a phase-controlled 
loop system having a filter (16), said 

current source circuit comprising: 
an output node (19) coupled to the filter (16) so as 

to provide a control voltage thereto; 
a charge pump (14) having means for sourcing a 

positive current to the output node and means for 
sourcing a negative current from the output node, 

said positive current and said negative current each 
having an amplitude dependent upon the control 

voltage at the output node; and 
feedback means (32) for sensing an amplitude 

difference between the amplitude of the positive 
current and the amplitude of the negative current 

when the phase-controlled system is in a phase-locked 
condition and for compensating at the output node for 

said amplitude difference so that the amplitude 
difference between the positive current and the 

negative current supplied by the charge pump is 
cancelled at the output node when the phase-controlled 

loop system is in phase-locked condition. 
The current source circuit of claim 1, wherein the 
charge the pump (14) comprises a primary pair (H4, 

H12) of complementary current sources connected to 
the output node, each current source of said primary 

pair of complementary current sources supplying a 
different one of a positive current and a negative 

current to said output node, said positive current 
and said negative current each having an amplitude 

dependent upon the control voltage at the output node 
when in a phase-locked condition. 
The current source circuit of claim 1 or 2, wherein 
said feedback means (32) includes means for producing 

an error current having an amplitude equal to said 
difference and means for providing the error current 

to the output node such that the amplitude difference 
is canceled at the output node when the phase-controlled 

loop system is in phase-locked condition. 
The current source circuit according to any one of 
the above claims, wherein said feedback means (32) 

includes, means for providing the error current to 
the output node such that the amplitude difference is 

canceled. 
The current source circuit of claim 4, wherein said 
feedback means (32) includes a secondary pair of 

complementary current sources connected to produce 
identical positive and negative currents to the 

positive and negative currents, respectively, 
produced by said primary pair of complementary 

current sources when the phase-controlled loop system 
is in said phase-locked condition, said feedback 

means including a current mismatch measurement 
circuit for determining the current mismatch between 

the positive current and the negative current of the 
secondary pair of complementary current sources. 
The current source circuit of claim 5, wherein the 
current sources of said secondary pair of 

complementary current sources are connected in series 
with a common node therebetween, and wherein said 

sensing means further includes a voltage follower 
circuit connected between the output node and the 

common node of said secondary pair of complementary 

current sources for translating the control voltage 
at the output node to the common node. 
The current source circuit of claim 6, wherein said 
voltage follower circuit comprises an operational 

amplifier having a first input connected to the 
output node and a second input connected to the 

common node of said secondary pair of complementary 
current sources, an output of said operational 

amplifier being connected to a source follower 
circuit, said source follower circuit also being 

connected to said common node of said secondary pair 
of complementary current sources. 
The current source circuit of claim 4, wherein said 
means for providing the error current to the output 

node includes a first current mirror feedback circuit 
and a second current mirror feedback circuit, said 

first current mirror feedback circuit being connected 
to reflect said error signal to the output node when 

said error signal comprises a positive feedback 
current and said second current mirror feedback 

circuit being connected to reflect said error signal 
to the output node when said error signal comprises a 

negative feedback current. 
The current source circuit according to any one of 
the above claims, further comprising a first switch 

means and a second switch means, said first switch 
means being connected to control output to the output 

node of the positive current produced by a current 
source of the primary pair of complementary current 

sources and said second switch means being connected 
to control output to the output node of the negative 

current produced by the other current source of said 
primary pair of complementary current sources, said 

feedback means being coupled to said primary pair of 
complementary current sources such that said first 

switch means controls transfer of positive feedback 
current to the output node and said second switch 

 
means controls transfer of negative feedback current 

to the output node. 
The current source circuit according to any one of 
the above claims, wherein said feedback means (32) 

includes means for time multiplexing the positive 
current and the negative current produced by the 

primary pair of complementary current sources between 
the output node and the means for sensing the 

amplitude difference between the amplitude of the 
positive current and the amplitude of the negative 

current when the phase-controlled loop system is in 
phase-locked condition. 
The current source circuit of claim 10, wherein said 
means for compensating for the amplitude difference 

includes means for producing a correction value, and 
wherein said time multiplexing means includes a 

capacitor to hold the correction value when the 
positive current and the negative current are time 

multiplexed to the output node. 
The current source circuit according to any one of 
the above claims, wherein said phase-controlled loop 

system comprises a phase-locked loop (PLL) system 
wherein the control voltage provided by the output 

node drives a voltage controlled oscillator which 
provides an output clock signal. 
A phase-locked loop (PLL) system for providing an 
output signal in phase with a received reference 

signal, said PLL system comprising: 
a current source circuit according to any one of the 

above claims; 
a phase comparator (12) having a first input (Fin) 

and a second input (13), said first input being 
 

coupled to receive the reference signal and said 
second input being coupled to receive as feedback an 

output signal (Font), said phase comparator (12) 
including means for comparing the phases of the 

reference signal and the output signal and for 
selectively providing one of a charge increase 

command and a charge decrease command; and 
a voltage controlled oscillator (18) coupled to said 

filter (16) for providing the output signal (Font) in 
response to a control voltage applied to the filter 

node (19). 
</CLAIMS>
</TEXT>
</DOC>
