<DOC>
<DOCNO>EP-0616123</DOCNO> 
<TEXT>
<INVENTION-TITLE>
An A/D conversion control apparatus for an internal combustion engine
</INVENTION-TITLE>
<CLASSIFICATIONS>F02D4124	H03M112	F02D4500	F02D4100	F02D4500	G06F305	H03M112	G06F305	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>F02D	H03M	F02D	F02D	F02D	G06F	H03M	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>F02D41	H03M1	F02D45	F02D41	F02D45	G06F3	H03M1	G06F3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An A/D conversion control apparatus(10) includes a 
control circuit (129) for controlling various actuators and 

an A/D converter (14) having a plurality of signal input 
channels. The control circuit (12) and the A/D converter 

(14) are packed in different IC packages and perform 
communication of a handshake system therebetween. Because 

the control of the A/D converter (14) is performed based on 
channel start signals which are sequentially transmitted from 

a time synchronous register (32), complicated control such as 
schedule control in software is not required. A start signal 

stored in an asynchronous register (30) is transmitted in 
response to a signal generated at an asynchronous timing and 

therefore can be processed at a different timing. 

 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NIPPON DENSO CO
</APPLICANT-NAME>
<APPLICANT-NAME>
NIPPONDENSO CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
GOTO YOSHINORI
</INVENTOR-NAME>
<INVENTOR-NAME>
OGINO TETSUYA
</INVENTOR-NAME>
<INVENTOR-NAME>
GOTO, YOSHINORI
</INVENTOR-NAME>
<INVENTOR-NAME>
OGINO, TETSUYA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an A/D conversion 
control apparatus for internal combustion engine, which 
apparatus has a plurality of signal input channels. For control of an internal combustion engine for an 
automobile or the like, an analog/digital (A/D) converter is 
provided for converting analog signals inputted from various 
sensors for detecting states of an objective to be 
controlled, into digital signals. In JP-A-2-153248 is 
proposed an A/D conversion control apparatus in which a 
plurality of analog signals are sequentially A/D-converted at 
a predetermined period by a hardware construction to be 
stored in predetermined storage areas so that the load of 
software processing can be decreased. In the control of an 
internal combustion engine, however, the A/D conversion needs 
to be performed in synchronism with external signals such as 
a signal indicating engine rotation positions, as well as the 
A/D conversion at the predetermined period as in the above 
conventional apparatus. Thus, because the A/D conversion is 
performed only at the predetermined period in the  
 
conventional A/D conversion control apparatus, the 
internal combustion engine can not be controlled 
precisely. The present invention has been made to solve the 
above problem and has, as an object, to provide an A/D 
conversion control apparatus in which not only the load 
of software processing can be decreased but also the A/D 
conversion can be performed both at a predetermined 
period and in synchronism with an external signal. EP 474025 discloses an analogue to digital 
conversion system module for use in an automotive engine 
control system to convert analogue signals from 
transducers for processing by an engine micro-computer. 
The module comprises an A/D converter which has inputs 
through a plurality of external multiplexers. A control 
register and logic circuit is provided with signal paths 
between it and RAM storing a table of command control 
words, a results table and an address decode circuit. A 
trigger select and priority circuit coupled to a periodic 
timer in responsive to external trigger signals to 
initiate A/D conversion. 
Said document also discloses, 
for example, instead of restarting the lower priority 
queue at its beginning after the higher priority queue 
has completed its conversion sequence, the lower priority 
queue could be resumed with the next in its sequence. According to the invention there is provided an A/D 
conversion control apparatus for an internal combustion 
engine
</DESCRIPTION>
<CLAIMS>
An A/D conversion control apparatus for an 
internal combustion engine comprising: 


A/D converter means (14) having a plurality of 
input channels; 
first means (32,36,24,132,140) for storing 
start signals for starting designated ones of said 

plurality of input channels; and 
second means (30,36,128,130) for storing a 
start signal required for starting a designated one of 

said plurality of input channels and for transmitting 
said start signal based on an external signal, 
wherein said A/D converter means starts the 
input channel corresponding to the start signal based on 

the start signal transmitted from the first and second 
means, the apparatus further comprising: 
an analog multiplexer (50) connecting a 
plurality of input channels to said A/D converter means 

in response to start signals such that the analog signals 
are inputted to said A/D converter means through the 

input channels; 
and wherein the first means comprises a time 
synchronous register (32) having a plurality of storage 

areas, for storing the start signals for said input 
channels and for sequentially outputting start signals 

for starting the input channels start, in synchronism  
 

with time; 
and said second means comprises an asynchronous 
register (30) for outputting a prestored start signal at 

a time synchronous with generation of the external 
signal; 
an AD schedule control circuit (36,136) for 
receiving the start signals from both said registers 

(30,32) and selecting one of the received start signals 
to output the selected start signal to said A/D converter 

means (14) and 
digital signal storage means (34) for storing 
digital signals converted by said A/D converter means 

and, wherein said AD schedule control circuit is arranged 
to interrupt the output of the start signal supplied from 

said time synchronous register (32) to said A/D converter 
means (14) to output the start signal supplied from said 

asynchronous register to said A/D converter means when 
the start signal is received from said asynchronous 

register (30) while the series of start signals are being 
received from said time synchronous register 
and then to 
output to said A/D converter means (14) the start signals 

supplied from said time synchronous register (32) from 
the start signal immediately before the interruption. 
An A/D conversion control apparatus for an 
internal combustion engine according to claim 1, wherein 

the input channel corresponding to the start signal from  
 

said second means is arranged to be started with a 
priority higher than that corresponding to the start 

signal from said first means when the start signal is 
received from said second means while the start signals 

are sequentially received from said first means and, 
after a process for the start signal from said second 

means is completed, the input channels are arranged to be 
sequentially started for the start signals from said 

first means and the external signal is synchronised with 
rotation of the engine. 
An A/D conversion control apparatus for an 
internal combustion engine according to claim 1 or claim 

2, wherein said first means is arranged to sequentially 
output the plurality of start signals at a predetermined 

period of time (f1) longer than a time (t) required for 
A/D conversion by said A/D converter means. 
An A/D conversion control apparatus for an 
internal combustion engine according to claim 3, wherein 

said first means is arranged to sequentially output the 
plurality of start signals at every predetermined period 

of time (f1) longer than a time (t) required for A/D 
conversion by said A/D converter means. 
An A/D conversion control apparatus for an 
internal combustion engine according to claim 4, wherein  

 
the apparatus further comprises a CPU (20) for 

designating the input channels corresponding to the 
analogue signals to be A/D converted. 
An A/D conversion control apparatus for an 
internal combustion engine according to claim 4, wherein 

said AD schedule control circuit is arranged to output 
the start signal supplied from said asynchronous register 

to said A/D converter means immediately when the start 
signal is received from said asynchronous register while 

the plurality of start signals are sequentially 
outputted, and then sequentially outputs the plurality of 

start signals supplied from said time synchronous 
register to said A/D converter means at every 

predetermined period of time (f1) from the start signal 
from said time synchronous register outputted immediately 

before the output of the start signal supplied from said 
asynchronous register, after the predetermined time (f1) 

has elapsed after the output of the start signal supplied 
from said asynchronous register to said A/D converter 

means. 
An A/D conversion control apparatus for an 
internal combustion engine according to any of claims 1 

to 5 and further comprising: 

random access memory means (24) for storing in 
first storage areas thereof time-synchronous start  

 
commands for A/D conversion and storing in second storage 

areas thereof for storage of A/D data from said A/D 
converter means; 
the second storage means comprising 
asynchronous register means (130) for outputting an 

asynchronous start command in response to a signal 
applied externally and storing therein A/D data from said 

A/D converter means; 
the first storage means comprising AD schedule 
control means (36) for selecting one of said time-synchronous 

start commands and said asynchronous start 
command and instructing said A/D converter means so that 

the input analog signals are converted into the digital 
signals according to the order of selected commands, and 

transmitting the A/D data obtained in response to the 
asynchronous start command into said asynchronous 

register; and the apparatus further comprising 
direct memory access means (140 and 144) for 

transmitting the time-synchronous start commands from 
said random access memory means to said AD schedule means 

and transmitting the A/D data obtained in response to the 
time-synchronous start command into said random access 

memory means. 
</CLAIMS>
</TEXT>
</DOC>
