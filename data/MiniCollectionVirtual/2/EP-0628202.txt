<DOC>
<DOCNO>EP-0628202</DOCNO> 
<TEXT>
<INVENTION-TITLE>
DATA RECORDING SYSTEM HAVING IMPROVED AUTOMATIC REWRITE CAPABILITY
</INVENTION-TITLE>
<CLASSIFICATIONS>G11B5008	G11B15467	G11B509	G11B5008	G11B15467	G11B509	G11B27031	G11B2730	G11B2018	G11B2736	G11B2736	G11B2732	G11B2010	G11B1518	G11B1518	G11B2012	G11B2710	G11B2710	G11B2010	G11B27036	G11B2711	G11B2730	G11B27032	G11B2711	G11B2018	G11B2734	G11B2732	G11B2012	G11B2734	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G11B5	G11B15	G11B5	G11B5	G11B15	G11B5	G11B27	G11B27	G11B20	G11B27	G11B27	G11B27	G11B20	G11B15	G11B15	G11B20	G11B27	G11B27	G11B20	G11B27	G11B27	G11B27	G11B27	G11B27	G11B20	G11B27	G11B27	G11B20	G11B27	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A recording and reproducing system records blocks of user data of predetermined size by reformatting the user data blocks into physical blocks that are recorded on tape. Each physical block is recorded as a double frame on a set of successive helical tracks, preferably 32 tracks. The system has the capability of verifying whether a physical block has been accurately recorded, and if not, the system automatically rewrites the physical block downstream without stopping or repositioning the tape. If an accuracy verification confirmation does not occur until a next physical block is being recorded, the system demarks or invalidates that physical block being written, and rewrites both the failed physical block and that following physical block downstream of that physical block being written.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
AMPEX
</APPLICANT-NAME>
<APPLICANT-NAME>
AMPEX CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SHIH LIONEL C
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIH, LIONEL, C.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to mass storage devices, and more particularly, to recording
and reproducing apparatus and methods for achieving very high density recording of digital
information at very high transfer rates. The market for mass storage devices is growing at what seems to be an ever increasing rate
with the sales of high-performance computers penetrating numerous industries ranging from
financial institutions to oil exploration companies. The processing power of these high-performance
systems, and the data they generate, are increasing faster than the ability of storage
devices to keep pace. The problem of data storage and rapid retrieval is particularly pronounced in
computational-intensive applications which create huge amounts of data that need to be accessed in
seconds rather than minutes, hours or even days.Magnetic disks remain the preferred media for direct access to frequently used files because
of their fast access times. However, because of their high cost per-unit of storage (such as a
megabyte) and their limited capacity, magnetic disk recorders are prohibitively expensive and
therefore impractical for large-scale data storage. With the advances in magnetic tape technology,
tape based systems remain the preferred choice for mass data storage. In addition to cost,
magnetic tape exceeds the storage density of any other medium, at least from a volumetric
standpoint, because tape is a much thinner medium than, for example, magnetic disks, and tape
can be tightly packed. A general discussion of such technology may be found in Mass Storage
Technologies, by S. Ranada, published in 1991 by Meckler Publishing.The tape format basically defines the recording path used to record signals on the tape.
There are many different recording formats developed for data recording and reproducing. A
commonly used format for high capacity systems is IBM's 3480 multi-track tape cartridge format
in which the tape transport employs a stationary head and records data along longitudinal tracks.
Since the late 1970's rotary head helical scan recorders, a technology developed originally for
video recorders, have been used for recording data. In helical scan recorders, the tape is
transported past a rapidly rotating head along a helical path whereby data is recorded diagonally
across the tape. Compared to longirudinal recorders, helical scan recorders generate high
recording densities and lower tape speeds for a given data transfer rate.The present invention is directed to a magnetic recording and reproducing
</DESCRIPTION>
<CLAIMS>
A system adapted to selectively record and reproduce
digital data on a magnetic tape, said system comprising:


recording and playback means (32) adapted to selectively
record and reproduce user data and system format data in

physical blocks of data of predetermined size on helical
tracks on said tape, with each physical block being

contained on a predetermined number of successive helical
tracks which comprise a set of tracks, said recording and

playback means being adapted to reproduce data from at least
one of the track being recorded and a track recorded prior

to and near the track being recorded;
error detecting means adapted to receive said reproduced
data from said recording and playback means for detecting

writing errors during a recording process, said error
detecting means producing an error signal for a particular

physical block when writing errors exceed a predetermined
criteria;
processing means for generating said system format data and
for providing said user data and said system format data to

said recording and playback means for recording thereby on
said tape, said processing means generating a subarea matrix

of said system format data for recording on at least several
predetermined helical tracks of each set of helical tracks;
buffer means having a capacity to retain at least three
physical blocks of data, said buffer means being in

communication with said recording and playback means and
selectively forwarding physical blocks of data thereto for

recording, said processing means causing said buffer means
to forward at least a particular physical block of data to 

said recording and playback means for rerecording when said
error detecting means produces an error signal for said

particular physical block of data;
servo means adapted to selectively record and reproduce
servo information on a servo control track that extends in

the longitudinal direction of said tape, said servo means
being adapted to control the movement of said tape in said

first direction and moving said tape generally continuously
in said first direction during recording;
characterised in that
 the processing means is adapted to
generate system format data including data designating

said particular physical block as being invalid in the event
said detecting means produces an error signal for said

particular physical block of data
during a first portion of the recording of said

particular physical block, said processing means thereupon
causing said buffer means to provide said particular

physical block to said recording and playback means for
rerecording at the next physical block recording location;

and

the processing means is adapted to generate in the next
subsequent physical block system format data that includes

data designating said next subsequent physical block as
being invalid in the event said detecting means produces

an error signal for said particular physical block when said
next subsequent physical block is being recorded,

said processing means causing said
buffer means to provide said particular physical block and

said next subsequent physical block to said recording and
playback means for rerecording. 
A system according to claim 1 wherein said first portion
of recording comprises the data of each physical block that

is recorded in approximately the first half of said
predetermined number of helical tracks.
A system according to claim 2 wherein said predetermined
number of helical tracks comprises 32 helical tracks, and

said first half comprises approximately 20 of said 32
helical tracks.
A system adapted to selectively record and reproduce
digital data on a recording medium, said system comprising:


recording and playback means (32) adapted to selectively
record and reproduce user data and system format data in

physical blocks of data of predetermined size on a recording
area of said medium, said recording means being adapted to

immediately reproduce data recorded during a recording
process;
error detecting means adapted to receive said immediately
reproduced data from said recording means for detecting

writing errors during a recording process, said error
detecting means producing an error signal for a particular

physical block when writing errors exceed a predetermined
criteria;
servo means for controlling the movement of said medium in
said first direction and a second opposite direction, said

servo means moving said medium in said first direction
during normal recording and reproducing;
processing means for generating said system format data and
for providing said user data and said system format data to

said recording means for recording thereby on said medium, 
said processing means generating a subarea matrix of said

system format data;
characterised in that
 the processing means is adapted to
generate system format data including data designating said

physical block as being invalid in response to said
detecting means producing an error signal for a particular

physical block of data, said designating data being
generated and recorded in said system format data of a

subsequently recorded next physical block when said error
detecting means produces an error signal during recording of

said next physical block indicating that the particular physical
block contains writing errors exceeding said predetermined

criteria;

the processing means causes said particular physical block
to be immediately rerecorded in the event said error signal

is produced before the completion of recording of said
particular physical block; and
the processing means causes said particular physical block
and the next physical block to be immediately rerecorded

after the current recording of said next physical block in
the event said error signal is produced during the current

recording of said next physical block.
A system according to claim 4 wherein said recording and
playback means is adapted to reproduce data from a prior

recorded area near the area being recorded.
A system according to claim 4 wherein said servo means
moves said medium in said first direction generally

continuously at a predetermined speed during a recording
process. 
A system according to claim 6 wherein said system
further includes buffer means having a capacity to retain at

least three physical blocks of data, said buffer means being
in communication with said recording means and selectively

forwarding physical blocks of data thereto for recording,
said processing means causing said buffer means to forward

at least said particular physical block of data to said
recording means for rerecording when said error detecting

means produces an error signal for said particular physical
block of data.
</CLAIMS>
</TEXT>
</DOC>
