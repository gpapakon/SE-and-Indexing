<DOC>
<DOCNO>EP-0646873</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Single-chip microcomputer.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F930	G06F930	G06F9302	G06F9302	G06F938	G06F938	G06F1200	G06F1200	G06F1208	G06F1208	G06F1320	G06F1328	G06F1340	G06F1340	G06F1576	G06F1578	H04L1228	H04L1228	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F9	G06F9	G06F9	G06F9	G06F9	G06F9	G06F12	G06F12	G06F12	G06F12	G06F13	G06F13	G06F13	G06F13	G06F15	G06F15	H04L12	H04L12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A single-chip microcomputer comprising: a first 
bus having a central processing unit and a cache 

memory connected therewith; a second bus having a 
dynamic memory access control circuit and an external 

bus interface connected therewith; a break controller 
for connecting the first bus and the second bus 

selectively; a third bus having a peripheral module 
connected therewith and having a lower-speed bus cycle 

than the bus cycles of the first and second buses; and 
a bus state controller for effecting a data transfer 

and a synchronization between the second bus and the 
third bus. The single-chip microcomputer has the 

three divided internal buses to reduce the load 
capacity upon the signal transmission paths so that 

the signal transmission can be accomplished at a high 
speed. Moreover, the peripheral module required to 

have no operation speed is isolated so that the power 
dissipation can be reduced. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HITACHI LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
HITACHI MICROCOMPUTER SYST
</APPLICANT-NAME>
<APPLICANT-NAME>
HITACHI MICROCOMPUTER SYSTEM LTD.
</APPLICANT-NAME>
<APPLICANT-NAME>
HITACHI, LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
AKAO YASUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
HASEGAWA ATSUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
HAYAKAWA AKIO
</INVENTOR-NAME>
<INVENTOR-NAME>
ITO YOSHITAKA
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWASAKI SHUMPEI
</INVENTOR-NAME>
<INVENTOR-NAME>
KURAKAZU KEIICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUBARA KIYOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NOGUCHI KOUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
OHSUGA HIROSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
AKAO, YASUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
HASEGAWA, ATSUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
HAYAKAWA, AKIO
</INVENTOR-NAME>
<INVENTOR-NAME>
ITO, YOSHITAKA
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWASAKI, SHUMPEI
</INVENTOR-NAME>
<INVENTOR-NAME>
KURAKAZU, KEIICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUBARA, KIYOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NOGUCHI, KOUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
OHSUGA, HIROSHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a single-chip 
microcomputer and, more particularly, to a technique 
which is effective when applied to a high-performance 
and high-function single-chip microcomputer suited for 
a home game machine or a portable data communication 
terminal device. There is a single-chip microcomputer or a single-chip 
data processor in which a central processing 
unit, a dynamic memory access controller, (as will be 
shortly referred to as the "DMAC") and a peripheral 
circuit such as a variety of timers are constructed 
into a semiconductor integrated circuit device. An example of this single-chip microcomputer is 
disclosed in "HITACHI Single-Chip RISC Microcomputer 
SH7032, SH7034 HARDWARE MANUAL" issued by Hitachi 
Ltd., in March, 1993. Thanks to development of the semiconductor 
technology, a number of semiconductor elements can be  
 
formed over one semiconductor substrate. As a result, 
around the central processing unit, there can be 
formed its peripheral circuits to enhance the 
performance and function. If, however, a number of 
peripheral circuits are simply packaged for the higher 
performance and more functions, it has been found that 
disadvantages are caused from the standpoint of the 
operation speed or the power dissipation. Moreover, 
this microcomputer has to have its three-dimensional 
image processing function enhanced. An object of the present invention is to provide 
a single-chip microcomputer which can realize a high 
performance and multiple functions. Another object of the present invention is to 
provide a single-chip microcomputer which can realize 
a high operation speed and a low power dissipation. Still another object of the present invention is 
to provide a user-friendly single-chip microcomputer. A further object of the present invention is to 
provide a single-chip microcomputer which is enabled 
by a simple construction to enlarge the operation 
margin and access a synchronous dynamic type RAM  
 
(i.e., Random Access Memory). A further object of the present invention is to 
provide a single-chip microcomputer which can execute 
a three-dimensional image processing at a high speed. The aforementioned and other objects and novel 
features of the present invention will become apparent 
from the following description to be made with 
reference to the accompanying drawings. A representative of the invention to be disclosed 
herein will be briefly described in the following. 
Specifically, an internal bus is divided into three: 
the first bus is
</DESCRIPTION>
<CLAIMS>
A single-chip microcomputer comprising: 
   a first bus having a central processing unit and 

a cache memory connected therewith; 
   a second bus having a dynamic memory access 

control circuit and an external bus interface 
connected therewith; 

   a break controller connected with said first bus 
and said second bus for transmitting an address signal 

of said first bus selectively to said second bus; 
   a third bus having connected therewith a 

peripheral module and given a lower-speed bus cycle 
than those of said first and second buses; and 

   a bus state controller coupled between said 
second bus and said third bus for effecting a signal 

transfer and a synchronization between said second bus 
and said third bus. 
A single-chip microcomputer according to Claim 1, 
   further comprising: 

   a fixed point multiply and accumulate arithmetic 
unit connected with said first bus; and 

   a fixed point type divider unit connected with 
 

said second bus. 
A single-chip microcomputer according to Claim 1, 
   wherein said peripheral module includes at least 

one of a free running timer FRT, a serial 
communication interface SCI and a watch-dog timer. 
A single-chip microcomputer according to Claim 1, 
   wherein said break controller has a function to 

monitor the rewrite of the data of the cache memory by 
said dynamic memory access control unit. 
A single-chip microcomputer according to Claim 1, 
   wherein said individual circuit blocks are 

constructed of full static type CMOS circuits, 
   further comprising an operation mode controller 

including a register for controlling the 
feed/interrupt of a clock pulse to each of said 

circuit blocks. 
A single-chip microcomputer according to Claim 1, 
   wherein said external bus interface includes: a 

 
burst read mode and a single write mode of a 

synchronous dynamic type RAM; and an interface for 
accessing a dynamic type RAM and a pseudo-static type 

RAM directly. 
A single-chip microcomputer according to Claim 6, 
   wherein said external bus interface has a 

function to produce a clock pulse, which has its phase 
advanced from the clock pulse of said central 

processing unit, and feed the same to the clock 
terminal of said synchronous dynamic type RAM. 
A single-chip microcomputer according to Claim 6, 
   wherein the data size to be read out of the burst 

mode of said synchronous dynamic type RAM, the data 
size of the unit block of said cache memory, and the 

data size of the unit data transfer by said dynamic 
memory access controller have a matching among one 

another. 
A single-chip microcomputer according to Claim 6,
 

   wherein said external bus interface includes a 
memory control signal generator started, when said 

central processing unit accesses a predetermined 
address space, to set a row address strobe signal, a 

column address strobe signal and a write enable signal 
all together to the low level thereby to output a mode 

setting signal for said synchronous dynamic type RAM 
by using said address signal partially. 
A single-chip microcomputer according to Claim 1, 
   wherein said cache memory includes: a tag memory 

having a plurality of memory arrays; and a data memory 
having a plurality of memory arrays disposed to 

correspond to the plurality of memory arrays of said 
tag memory, respectively, and 

   wherein each of said tag memory and said data 
memory includes: 

   a plurality of CMOS static memory cells; and 
   a sense amplifier having a CMOS latch circuit for 

amplifying the signals read out of said memory cells, 
and a power switch MOSFET composed of a P-channel type 

MOSFET and an N-channel type MOSFET for feeding an 
operation current to said CMOS latch circuit. 
A single-chip microcomputer according to Claim 
10, 

   wherein only that of the plurality of memory 
arrays of said data m
emory which corresponds to a hit 
signal coming from said tag memory is activated. 
A single-chip microcomputer according to Claim 
10, 

   wherein the plurality of memory arrays of said 
data memory are enabled by said cache controller to 

invalidate the transmission of the hit signal from 
said tag memory for all or a portion of said memory 

arrays thereby to be accessed by said central 
processing unit. 
A single-chip microcomputer comprising: 
   a central processing unit; and 

   a cache memory including: a memory element of a 
CMOS static type memory cell; a CMOS latch circuit 

acting as a sense amplifier for amplifying a signal 
read out of said memory element; and a power switch 

MOSFET composed of a P-channel type MOSFET and an 
N-channel type MOSFET for feeding an operation current 

to said CMOS latch circuit. 
A single-chip microcomputer according to Claim 
13, 

   wherein the data memory of a plurality of memory 
arrays of said cache memory includes a tag memory of a 

plurality of memory arrays, and 
   wherein only that memory array of said data 

memory which correspond to a hit signal coming from 
one memory array of said tag memory is activated. 
A single-chip microcomputer comprising an 
external bus interface having a function to switch and 

use a first terminal for a bus request signal and a 
second terminal for a bus acknowledge signal, when set 

to a slave mode in accordance with a bus use priority 
control signal, and to switch and use said first 

terminal for a bus grand signal and said second 
terminal for a bus release signal when set to a master 

mode. 
A single-chip microcomputer according to Claim 2, 
   wherein said central processing unit executes a 

clipping processing, which has been subjected to a 
perspective transformation processing, of a three-dimensional 

image processing, and a coordinate 
 

transformation processing for transforming a 
coordinate point intrinsic to a predetermined object 

into a coordinate having a predetermined view point as 
an origin point, in association with said multiply and 

accumulate arithmetic unit, and 
   wherein said divider unit executes the 

perspective transformation processing of the 
coordinate which has been subjected to the coordinate 

transformation processing, simultaneously in parallel 
with said central processing unit and said multiply 

and accumulate arithmetic unit. 
</CLAIMS>
</TEXT>
</DOC>
