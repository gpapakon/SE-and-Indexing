<DOC>
<DOCNO>EP-0628912</DOCNO> 
<TEXT>
<INVENTION-TITLE>
CACHE MEMORY APPARATUS
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1208	G06F1208	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F12	G06F12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A coincidence detecting circuit (150) is provided for detecting the agreement of a cache address (CA), requested when a 
cache data memory (111) and a cache tag memory (112) are rewritten, with the address of data read from an outer memory (130). 

When the coincidence detecting circuit (150) has detected an agreement, a register (115) is enabled, and the data read from the 
outer memory (130) are stored as cache data in the register (115), cache being then delivered to a cach demander. Alternatively, a 

means (560) is provided for generating an address corresponding to the data subsequent to the data to be rewritten when the 
cache data memory (111) and cache tag memory (112) are rewritten, and the condition of cache with respect to the generated address 

is judged. When the results of judgement show that the cache have not been stored, the whole cache is rewritten. Therefore, 
the miss-hit penalty time is shortened, and hit rate is improved. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
OKI ELECTRIC IND CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
OKI ELECTRIC INDUSTRY COMPANY, LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MAKI KAZUHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
MAKI, KAZUHIKO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a cache memory
apparatus for reading data at high speed for use with an
information processing unit such as a microprocessor
(hereinafter referred to as an MPU).Cache memory apparatuses have been widely used so as
to improve the processing speeds of information processing
units. The technologies of the cache memory apparatuses
are described in for example:
(1) Harold S. Stone, "High Performance Computer
Architecture (Translated Title)", March, 30, 1989, Maruzen,
pp. 23-42.(2) Nikkei Electronics [434], November 16, 1987, Nikkei BP
Company, pp. 159-174.In the documents 1 and 2, the basic constructions of
the conventional cache memory apparatuses are described.
The conventional cache memory apparatuses includes a memory
having a smaller storage amount than an external memory so
as to increase the processing speeds. This memory is
referred to as a cache memory. When data that is often
read is stored in the cache memory, this data can be
quickly read. When required data is not stored in the
cache memory, it is read from an external memory of the
cache memory apparatus. In this case, the required data is 
read at a normal speed. Next, a practical construction of
the cache memory apparatus and an operation thereof will be
described.Fig. 2 is a schematic diagram showing a basic circuit
of a conventional cache memory apparatus.In Fig. 2, reference numeral 50 is a cache memory
apparatus. The cache memory apparatus 50 outputs cache
data CD to a data read requester 1 (hereinafter, the data
read requester is referred to as data requester) such as a
central processing unit according to a cache address CA
requested thereby.The cache memory apparatus 50 comprises a control
circuit 10, a cache tag memory 11, and a cache data memory
12, and an accordance determining circuit 13. The control
circuit 10 controls inner circuits of the cache memory
apparatus 50. The cache tag memory 11 is constructed of a
small-capacity, high-speed random access memory
(hereinafter referred to as RAM) or the like. The cache
data memory 12 is also constructed of a RAM or the like.
The cache tag memory 11 stores part of addresses of data
stored in the cache data memory 12. The cache tag memory
11 has an address terminal A, a data input/output terminal
(hereinafter referred to as I/O terminal), a write enable
terminal WE, and terminals VAi and VAe. The write enable
terminal WE is activated by the control circuit 10.
Likewise, the terminals VAi and VAe are activated by the
control circuit 10. The cache data memory
</DESCRIPTION>
<CLAIMS>
A cache memory apparatus (100) for reading data corresponding to an
input address information (CA) at high speed, the cache memory apparatus (100)

being coupled with a main memory (130) for storing a plurality of data each
corresponding to an address information, and each address information comprising

high order address portion (TAG) and low order address portion, and said cache
memory apparatus (100) storing data which is part of the plurality of data, the cache

memory apparatus (100) comprising:

a first register (114) for receiving, storing and outputting said input address
information (CA);
a first memory (111) for storing the high order address portions (TAG)
corresponding to each of said data;
a second memory (112) for storing said data;
a first comparing circuit (113) for comparing the high order address portion of
said input address information with said high order address portion stored in said

first memory (111), said first comparing circuit (113) detecting whether these
address portions match;
an outputting circuit (115) for receiving and outputting data which is read from
said second memory (112) when said first comparing circuit (113) detects that

said address portions match;
a second register (116) for storing said input address information only when said first comparing circuit (113) has
detected that said address portions do not match;

   
characterized by
said second register (116) being adapted to generate a plurality of low order address portions by using the low order bits of said second register as a counter and to output updated address information which comprise the plurality of generated low order address portions and the high order address portion of said stored address information for accessing the main memory (130);
a second comparing circuit (150) for comparing an output of said first register
(114) with said updated address information of the second register (116);
said outputting cicuit (115) being adapted to receive and output data which is read from the main memory (130) in case of a non-accordance comparing result of said 
first comparing circuit (113) and an accordance comparing result of said second

comparing circuit (150).
The cache memory apparatus (100) as set forth in claim 1, wherein said
outputting circuit (115) comprises a third register.
The cache memory apparatus (100) as set forth in claim 1, wherein said
updated address information of said second register (116) are for updating the first

memory (111) with said high order address portion (TAG) and for updating the
second memory (112) with data read from the accessed main memory (130).
The cache memory apparatus (200) as set forth in claim 1, wherein said
cache memory apparatus (200) further comprises an inhibiting circuit (203) for

inhibiting from receiving data which is read from said main memory (130) to said

outputting circuit (115).
The cache memory apparatus (200) as set forth in claim 1, wherein said
cache memory apparatus (200) further comprises an inhibiting circuit (202, 203) for

inhibiting from receiving data which is read from said main memory (130) to said
outputting circuit (115) and generating said plurality of low order address portions

of said second register (116).
The cache memory apparatus (200) as set forth in claim 3, wherein said
cache memory apparatus (200) further comprises an inhibiting circuit (201, 202,

203) for inhibiting from receiving said data which is read from said main memory
(130) to said outputting circuit (115), generating said plurality of low order address

portions of said second register (116) and updating said first and second memory
(111,112). 
The cache memory apparatus (300) as set forth in claim 4, wherein said
cache memory apparatus (300) further comprises:


registers (301) for storing said updated address information of said second
register (116) and data which is read from said main memory (130) in accordance

with the updated address information;
a plurality of comparing circuits (302) for comparing said address information
stored in said registers (301) with an input address information further received

from said first register (114);
a plurality of tri-state buffers (304, 305) for transferring said data stored in said
registers (301) to said outputting circuit (115) in accordance with the comparing

result of one of said plurality of said comparing circuits (302) and for inactivating
said inhibiting circuit (303).
The cache memory apparatus (300) as set forth in claim 7, wherein said
cache memory (400) further comprises a monitor circuit (401) for controlling said

registers (301) to store said updated address information and said data in
accordance with the updated address information, said monitor circuit (401)

determining according to said comparing result of said first and second comparing
circuit (113, 150) and said comparing circuits (302).
</CLAIMS>
</TEXT>
</DOC>
