<DOC>
<DOCNO>EP-0635173</DOCNO> 
<TEXT>
<INVENTION-TITLE>
DIFFERENTIAL AMPLIFIER
</INVENTION-TITLE>
<CLASSIFICATIONS>H03F345	H03F345	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03F	H03F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03F3	H03F3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A differential amplifier (10) incorporates five metal oxide field effect transistors (MOSFETs) (M1 to M5). The transistors (M1 to M5) are a source-coupled pair of input transistors (M1, M2) with sources connected to a current control transistor (M5) and having respective drain load transistors (M3, M4). The transistors (M1 to M5) have floating gates (F1 to F5) and input gates (G1 to G5). The amplifier (10) is adjusted to counteract differing input transistor threshold voltage by charging one of the input transistor floating gates (G1, G2) to reduce amplifier offset voltage extrapolated to zero input transistor drain current. It is then adjusted to reduce discrepancies between actual and design values of input transistor drain voltage by charging one or both of the drain load transistor floating gates (F3, F4). The amplifier may be arranged as an operational amplifier (20) with a second stage (16) connected to an input transistor drain. The operational amplifier input offset voltage is determined by comparing the second stage output with a reference and feeding a resulting difference signal to the amplifier input. The input offset voltage is then counteracted by charging an input transistor floating gate (F1 or F2) to reduce the difference signal.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SECR DEFENCE BRIT
</APPLICANT-NAME>
<APPLICANT-NAME>
THE SECRETARY OF STATE FOR DEFENCE IN HER BRITANNIC MAJESTY'S GOVERNMENT OF THE UNITED KINGDOM OF GREAT BRITAIN AND
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
COLLINS STEPHEN
</INVENTOR-NAME>
<INVENTOR-NAME>
COLLINS, STEPHEN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a differential amplifier and to a method of
obtaining an imbalance-corrected differential amplifier.Differential amplifiers are well known in the prior art. They are based
on the so-called long-tailed pair of active three terminal devices. The
devices of such a pair have separate input and load connections, but
their third terminals are connected together; ie the pair may be a
cathode-coupled valve pair, an emitter-coupled bipolar transistor pair
or a source-coupled field effect transistor pair. More complex circuits
are also known in which a differential amplifier is an input stage of an
operational amplifier, and converts two input signals to a single
differential signal. In recent years, differential and operational
amplifier production has been preferentially based on integrated circuit
techniques using complementary metal oxide-silicon (CMOS) technology.An ideal differential amplifier would have a predetermined output voltage
for zero input voltages. It would also have a predetermined output
voltage when both input voltages are non-zero but equal; ie the common
mode rejection ratio (CMRR) of the amplifier should be infinite. In
practice, this ideal is not achieved because of mis-match between
component transistors of a differential amplifier.A differential amplifier has at least one pair of transistors which
should ideally be identical. Unfortunately, variations in manufacturing
lead to differences between pair members which produce discrepancies
between ideal performance and obtained performance.To improve differential amplifier performance over that obtainable by
attention to design and manufacture, it is known to adjust the physical
parameters of such amplifiers subsequent to manufacture. One such
approach involves incorporating in the amplifier a resistor whose value
controls an electrical characteristic of the amplifier. The resistor is
made of vaporizable material, and is located in an accessible position 
in the amplifier. The resistor is partially vaporized by a laser to
alter its resistance to a value appropriate to adjust the amplifier's
performance. In practice, a circuit requires robust construction and
therefore increased cost to tolerate thermal stresses associated with
laser vaporization. Moreover, to achieve adequate performance, it may
be necessary to employ more than one vaporizable resistor. The process
is limited in accuracy to the minimum change in a resistor value
obtainable by a single laser pulse, and is time consuming and expensive.An alternative
</DESCRIPTION>
<CLAIMS>
A differential amplifier (10) comprising:

(a) a source-coupled pair of field effect transistors (M1, M2) incorporating
respective floating gates (F1, F2) arranged respectively as inverting and non-inverting

input transistors of the amplifier,
(b) a pair of subsidiary transistors (M3, M4) each connected as a drain load of a
respective input transistor (M1, M2), and
(c) correcting means (VC1, VC2) for storing charge upon at least one of the said
floating gates (F1, F2) of said input transistors (M1, M2) by charge injection to

counteract differing input transistor threshold voltages,

characterised in that

(i) the pair of subsidiary transistors (M3, M4) is a pair of field effect transistors
incorporating respective floating gates (F3, F4), and
(ii) the correcting means provides means (VS) for storing charge on at least one of
the said subsidiary transistor floating gates by charge injection to counteract

discrepancies between actual and design values of input transistor drain voltage.
An amplifier according to Claim 1 characterised in that the amplifier includes
current varying means (M5) connected to the input transistor sources and arranged

to vary the input transistors' drain currents and that the correcting means includes:

(a) means (VG) for controlling the current varying means to determine a linear
region of the variation of the amplifier offset voltage with the square root of the sum

of input transistor drain currents, and 
(b) means (VM1, VM2) for detecting discrepancies between actual and design

values of input transistor drain voltage and for charging at least one of the subsidiary
transistor floating gates (F3, F4) to counteract such discrepancies.
An amplifier according to Claim 1 or 2 characterised in that the correcting
means includes a respective terminal pad (P1, P2, P3, P4) connected to the or each

floating gate designed for charging, the said terminal pad being connectable to a
charging source (VC1, VC2, VS).
An amplifier according to any preceding claim characterised in that it is
arranged as an operational amplifier including a second stage (16) connected to a

drain load circuit, the correcting means including means (VS1) for charging an input
transistor floating gate to counteract amplifier input offset voltage.
A method of producing a mismatch-adjusted differential amplifier
characterised in that it includes the steps of:-


(a) providing a differential amplifier (10) incorporating a pair of source coupled input transistors
(M1, M2) and a pair of load transistors (M3, M4), each pair comprising floating

gate field effect transistors, and each load transistor connected as a drain
load of a respective input transistor (M1, M2), and
(b) charging at least one floating gate (F1, F2, F3, F4) of each pair of the floating
gate field effect transistors to counteract:-


(i) differing input transistor threshold voltages, and
(ii) discrepancies between actual and design values of input transistor drain
voltage.
A method according to Claim 5 characterised in that prior to step (b) the input
transistor threshold voltage difference is determined by measuring the amplifier input

offset voltage as a linear function of the square root of the sum of the input transistor
drain currents and extrapolating that voltage to zero drain current sum, and step

(b)(i) is implemented by charging an input transistor floating gate. 
A method according to Claim 5 or 6 characterised in that in carrying out step
(b)(ii), the said discrepancies are determined by providing reference signal levels to

the input transistors and monitoring the input transistor drain voltages which result,
and at least one of the subsidiary transistor floating gates is charged to counteract

any such discrepancy.
A method according to Claim 5, 6 or 7 characterised in that the amplifier has
a second stage (16) connected to an input transistor drain, amplifier input offset

voltage is determined by feeding back to an amplifier input a signal derived by
comparing the second stage output with a reference signal level, and this offset

voltage is counteracted by charging an input transistor floating gate to reduce it.
An operational amplifier characterised in that it is produced by the method of
any one of Claims 5 to 8.
</CLAIMS>
</TEXT>
</DOC>
