<DOC>
<DOCNO>EP-0620533</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Vector processor.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F938	G06F938	G06F1200	G06F1200	G06F1202	G06F1202	G06F1206	G06F1206	G06F1576	G06F1578	G06F1716	G06F1716	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F9	G06F9	G06F12	G06F12	G06F12	G06F12	G06F12	G06F12	G06F15	G06F15	G06F17	G06F17	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
For a set of addresses of list vectors output from 
an address buffer (8), a coincidence between the set and 

another set and a coincidence between the set and a set 
of addresses of preceding accesses held in preceding 

address holding registers (2003-2006) in an address 
coincidence detector (20) are detected by address 

comparator circuits (2007-2010) in the address coincidence 
detector (20). Information from the address coincidence 

detector (20) is held in a coincidence information holding 
circuit (21) and output to a controller (5) and a bank 

manager (19). The bank manager (19) estimates possibility 
of occurrence of bank conflict. The controller (5) 

controls a crossbar (13) and selectors (9-12) such that 
accesses having coincident addresses are omitted and only 

requests having addresses which are not coincident are 
sent to a storage (18). A data switch circuit (26) 

includes preceding data holding registers (2602-2605) 
respectively corresponding to preceding address holding 

registers (2002-2005) and selects data corresponding to 
the omitted accesses from the preceding data holding 

registers (2602-2605) on the basis of address coincidence 
information held in the coincidence information holding 

circuit (21). 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NIPPON ELECTRIC CO
</APPLICANT-NAME>
<APPLICANT-NAME>
NEC CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
FUJIWARA YOSHIFUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
SIYO TAE
</INVENTOR-NAME>
<INVENTOR-NAME>
FUJIWARA, YOSHIFUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
SIYO, TAE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a vector processor 
and, particularly, to a vector processor with memory access 
control in the so-called list vector processing in which 
memory access is performed using respective elements of 
vector data as addresses. In a vector processor, when a list vector function is 
assigned, respective elements of a vector data are deemed 
as addresses and used to access a memory. It is possible 
to set in the list vector arbitrary values as respective 
addresses of the vector data. Therefore, addresses may be 
random or continuous. On the other hand, in a vector processor, in order to 
improve throughput, it is usual to use a memory divided 
into a plurality of memory banks. In such banked memory, 
it is possible to obtain high throughput when different 
banks are accessed successively. However, when an access 
is performed to a certain bank, a succeeding access must 
wait for a constant time from the preceding access. In order to solve such problem inherent to the list 
vector, various systems have been proposed. One of such 
proposals is disclosed in EP 0232827. In the disclosed 
proposal, when an address as one element of a list vector 
coincides with an address of another element which is 
immediately preceding the one element, the later access is  
 
converted into a dummy request which does not produce a 
bank conflict. After the dummy request is executed, data 
of the preceding element is used as data of the succeeding 
access. In the prior art, address comparison is performed 
only between addresses of one element and another element 
which is immediately preceding the one element in the list 
vector access. Therefore, no effect can be obtainable in 
case that the same address is accessed every two elements. 
Further, since, in the disclosed system, one access is 
allowed at one time, there is a problem that a band width 
of memory access is restricted. Further, in the prior art system, since the dummy 
request is issued even when an address coincidence is 
detected, there may be a bank conflict of a succeeding 
request. That is, in the disclosed prior art, address is 
generated by a random number generator in order to prevent 
such bank conflict of the address of the dummy request. 
However, this scheme is to avoid bank conflict of the 
preceding access and there is no consideration taken in 
for succeeding access. As mentioned, field to which the conventional system 
is applicable is very limited and, in addition thereto, 
there is a problem in performance that new
</DESCRIPTION>
<CLAIMS>
A vector processor including storage means (18) 
constructed with a plurality of memory banks and vector 

processing means (7) having a function of accessing the 
storage means using a vector data as an address for 

producing a memory access request, characterised in that 
the vector processor comprises: 

   address coincidence detection means (20) for holding 
an address history of a plurality of preceding memory 

accesses from the vector processing means (7) and detecting 
a coincidence of addresses of the plurality of preceding 

memory accesses with an address of a succeeding memory 
access; and 

   request switch means (13) for supplying only memory 
access having address for which an address coincidence 

is not detected by the address coincidence detection 
means (20). 
The vector processor claimed in claim 1, wherein 
the address coincidence detection means (20) comprises: 

   a plurality of preceding address holding registers 
(2003-2006) for holding address histories of a plurality 

of preceding memory accesses from the vector processing 
means (7); and 

   a plurality of address comparator circuits (2007-2010) 
 

for detecting a coincidence of addresses of the plurality 
of preceding memory accesses held in the plurality of the 

preceding address holding registers (2003-2006) with 
addresses of succeeding memory accesses. 
The vector processor claimed in claim 1, wherein 
the address coincidence detection means (20) comprises: 

   a plurality of preceding address holding registers 
(2003-2006) for holding different address histories of 

a plurality of preceding memory accesses from the vector 
processing means (7); 

   address switch means (2001) for supplying the plurality 
of preceding memory accesses from the vector processing 

means (7) to any one of the preceding address holding 
registers (2003-2006); and 

   a plurality of address comparator circuits (2007-2010) 
for detecting a coincidence of addresses of the plurality 

of preceding memory accesses held in the plurality of 
the preceding address holding registers (2003-2006) with 

addresses of succeeding memory accesses. 
The vector processor claimed in claim 1, further 
comprising: 

   data switch means (26) for holding data histories 
from the storage means (18) correspondingly to the 

plurality of the preceding memory accesses held in the 
 

address coincidence detection means (20) and supplying 
data held as the history of the data to the vector 

processing means (7) for memory accesses whose address 
coincidence is detected by the address coincidence 

detection means (20) and data from the storage means (18) 
to the vector processing means (7) for memory accesses 

whose address coincidence is not detected by the address 
coincidence detection means (20). 
The vector processor claimed in claim 4, wherein 
   the address coincidence detection means (20) 

comprises a plurality of preceding address holding 
registers (2003-2006) for holding address histories of 

a plurality of preceding memory accesses from the vector 
processing means (7); and 

   the data switch means (26) comprises a plurality of 
preceding data holding registers (2602-2605) for holding
 
data histories from the storage means (18) corresponding 

to a plurality of preceding memory accesses. 
The vector processor claimed in claim 4, wherein 
the address coincidence detection means (20) comprises: 

   a plurality of preceding address holding registers 
(2003-2006) for holding different address histories of 

a plurality of preceding memory accesses from the vector 
processing means (7);

 
   address switch means (2001) for supplying the 

plurality of preceding memory accesses from the vector 
processing means (7) to any one of the preceding address 

holding registers (2003-2006); and 
   a plurality of address comparator circuits (2007-2010) 

for detecting a coincidence of addresses of the plurality 
of preceding memory accesses held in the plurality of 

the preceding address holding registers (2003-2006) with 
addresses of succeeding memory accesses, 

and wherein 
   the data switch means (26) comprises a plurality of 

preceding data holding registers (2602-2605) for holding 
data histories from the storage means (18) corresponding 

to the plurality of the preceding memory accesses held 
in the preceding address holding registers (2003-2006). 
The vector processor claimed in claim 5, further 
comprising: 

   bank managing means (19) for checking bank conflict 
for addresses of a plurality of memory accesses from the 

vector processing means (7), and 
wherein 

   the request switch means (13) postpones access to 
the storage means (18) for memory access for which an 

occurrence of bank conflict is detected by the bank 
managing means (19). 
The vector processor claimed in claim 6, further 
comprising: 

   bank managing means (19) for checking bank conflict 
for addresses of a plurality of memory accesses from the 

vector processing means (7), and 
wherein 

   the request switch means (13) postpones access to 
the storage means (18) for memory access for which an 

occurrence of bank conflict is detected by the bank 
managing means (19). 
</CLAIMS>
</TEXT>
</DOC>
