<DOC>
<DOCNO>EP-0654763</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method of analyzing data defining an image.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T760	G06T760	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T7	G06T7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Input image data define an input image (10) that shows a proportioned parts graph, 
such as a pie chart or a whole or segmented bar graph. The input image data are used to 

obtain segmented feature data (20) indicating a feature (12) in the input image that satisfies a 
constraint on segments. The segmented feature data are used to obtain proportion data 

indicating each segment's (14,18) proportion. Various criteria could be applied to find parts of 
the input image that form the feature. For example, for some pie charts, the segments 

constraint could include a circularity criterion, a center criterion, and a direction criterion, and 
proportions could be obtained from directions. For other pie charts, the segments constraint 

could include a distinct regions criterion and a circularity criterion and proportions could be 
obtained from directions of region sides. The segments constraint could include a feature 

candidate criterion for a specific category of proportioned parts graphs, a center criterion 
applicable to all categories, and either a direction criterion or an angle criterion. The direction 

criterion could require a part that extends radially from a center, while the angle criterion 
permits parts that cover a range of angles. For either criterion, the segments constraint could 

also require nearness to a reference point such as the center. The input image can show a 
sketch and the proportion data can be used to obtain output image data defining an output 

image that includes a precisely formed proportioned parts graph or other graphical 
representation of the indicated proportions. Or the proportion data could be used to provide 

control signals to a system. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
XEROX CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
XEROX CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MAHONEY JAMES V
</INVENTOR-NAME>
<INVENTOR-NAME>
RAO SATYAJIT
</INVENTOR-NAME>
<INVENTOR-NAME>
MAHONEY, JAMES V.
</INVENTOR-NAME>
<INVENTOR-NAME>
RAO, SATYAJIT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method of analyzing data defining an image and, 
more particularly, to techniques for analyzing an image showing a graphical representation. The Ricoh Imagio MF530 Series General Catalog, Ricoh K.K., 1992, describes Al 
copying functions at pages 23 and 24. Page 23 shows how different types of graphs can be 
created by writing numerals by hand on a form. According to the present invention there is provided a method, machine and article 
of manufacture according to the appended claims. The invention is based on the discovery of a technique for analyzing an image 
showing a proportioned parts graph such as a pie chart, a whole bar graph, or another 
graphical representation in which a feature defines a number of segments, with each segment 
representing a part of a whole, and with each segment having a size that bears approximately 
the same proportion to the feature as the part it represents bears to the whole. The technique can, for example, receive image data defining an image showing a 
proportioned parts graph. The technique can use the image data to obtain segmented feature 
data indicating a feature that satisfies a constraint on segments. The technique can then use 
the segmented feature data to obtain proportion data indicating, for each segment in the 
feature, a proportion. The proportion data can include a list of directions or a list of angles, depending on 
the specific category of proportioned parts graph being analyzed. The technique described above is advantageous because it makes it possible to 
automatically analyze a wide variety of types of proportioned parts graphs. The proportion 
data obtained by the technique can be used to produce a precisely drawn image of a 
proportioned parts graph in response to a simple sketch by a user. The present invention will be described further, by way of examples, with reference 
to the accompanying drawings, in which:- 
Fig. 1 is a schematic diagram illustrating how an image showing a proportioned parts 
graph can be analyzed; Fig. 2 is a flow chart showing general acts in analyzing an image showing a 
proportioned parts graph; Fig. 3 is a schematic block diagram showing general components of a software 
product and a machine in which the software product can be used to implement the general 
acts in Fig. 2; Fig. 4 is a schematic block diagram showing sketches of proportioned parts graphs 
and ways in which a user can provide data defining an image showing a proportioned parts 
graph made by hand;  Fig. 5 is a
</DESCRIPTION>
<CLAIMS>
A method including: 
   obtaining input image data defining an input image (10) that shows a proportioned 

parts graph; 
   using the input image data to obtain segmented feature data (20) indicating a 

feature that satisfies a constraint on segments; and 
   using the segmented feature data (20) to obtain proportion data (22) indicating, for 

each segment (14,16) of the feature (12), a proportion. 
A method as claimed in claim 1, in which the constraint on segments (14,16) includes 
a circularity criterion; the circularity criterion requiring a part of the input image that is 

approximately circular; the act of using the input image data to obtain segmented feature data 
comprising: 

   obtaining circular part data indicating a part of the input image that meets the 
circularity criterion; and 

   using the circular part data to obtain the segmented feature data, and/or the 
constraint on segments includes a center criterion requiring a part of the input image that is 

approximately at a center of the feature that satisfies the constraint on segments; the act of 
using the input image data to obtain segmented feature data further comprising: 

   obtaining center part data indicating a part of the input image that meets the center 
criterion; and 

   using the center part data to obtain the segmented feature data, and/or in which the 
constraint on segments includes a direction criterion requiring a part of the input image that 

indicates a direction with respect to a reference point; the act of using the input image data to 
obtain segmented feature data further comprising: 

   obtaining direction part data indicating a part of the input image that meets the 
direction criterion; and 

   using the direction part data to obtain the segmented feature data. 
A method as claimed in claim 2, in which the direction criterion further requires a 
part of the input image that is approximately radial with respect to the reference point. 
A method as claimed in claim 2, in which the constraint on segments further requires 
that the part of the input image that meets the direction criterion be nearer to the reference 

point in the indicated direction than any other part that meets the direction criterion; the act 
of using the direction part data to obtain the segmented feature data comprising:

 
   using the direction part data to determine whether the indicated part is mearer to 

the reference point in the indicated direction than any other part that meets the direction 
criterion; and 

   if so, using the direction part data to obtain the segmented feature data. 
A method as claimed in claim 1, in which the constraint on segments includes an 
angle criterion requiring a part of the input image that indicates an angle; the act of using the 

input image data to obtain segmented feature data comprising: 
   obtaining angle part data indicating a part of the input image that meets the angle 

criterion; and 
   using the angle part data to obtain the segmented feature data. 
A method as claimed in claim 5, in which the angle criterion further requires a part of 
the input image that indicates an angle with respect to a reference point; the constraint on 

segments further requiring that the part of the input image that meets the angle criterion be 
nearer to the reference point within the indicated angle than any other part that meets the 

angle criterion; the act of using the angle part data to obtain the segmented feature data 
comprising: 

   using the direction part data to determine whether the indicated part is mearer to 
the reference point within the indicated angle than any other part that meets the angle 

criterion; and 
   if so, using the angle part data to obtain the segmented feature data. 
A method as claimed in claim 1, in which the constraint on segments includes a 
distinct regions criterion requiring at least two parts of the input image that indicate distinct 

regions within the feature that satisfies the constraint on segments; the act of using the input 
image data to obtain segmented feature data comprising: 

   obtaining region parts data indicating parts of the input image that meet the distinct 
regions criterion; and 

   if the region parts data indicate at least two parts, using the region parts data to 
obtain the segmented feature data, and/or in which the constraint on segments includes, for 

each of a number of specific categories of proportioned parts graphs, a feature candidate 
criterion and, for all of the specific categories, a segmented feature criterion; the act of using 

the input image data to obtain segmented feature data comprising: 
   obtaining feature candidate data indicating parts of the input image that meet the 

feature candidate criterion for one of the specific categories of proportioned parts graphs; and

 
   using the feature candidate data to obtain the segmented feature data; the 

segmented feature data indicating parts indicated by the feature candidate data that also 
meet the segmented feature criterion. 
A method of operating a machine that includes: 
   image input circuitry (70) for obtaining data defining images as input; and 

   a processor (66) connected for receiving data defining images from the image input 
circuitry (70); 

the method including: 
   operating the processor (66) to receive input image data from the image input 

circuitry (70), the input image data defining an input image that shows a proportioned parts 
graph; 

   operating the processor (66) to use the input image data to obtain segmented 
feature data indicating a feature that satisfies a constraint on segments; and 

   operating the processor (66) to use the segmented feature data to obtain proportion 
data indicating, for each segments of the feature, a proportion. 
A machine including: 
   image input circuitry (70) for obtaining data defining images as input; 

   a processor (66) connected for receiving data defining images from the image input 
circuitry and connected for accessing data stored in a memory; 

   the data stored in the memory comprising instruction data indicating image 
processing instructions the processor (66) can execute; the processor, in executing the image 

processing instructions: 
   receiving input image data from the image input circuitry, the input image data 

defining an input image that shows a proportioned parts graph; 
   using the input image data to obtain segmented feature data indicating a feature 

that satisfies a constraint on segments; and 
   using the segmented feature data to obtain proportion data indicating, for each 

segment of the feature, a proportion. 
An article of manufacture for use in a machine that includes: 
   image input circuitry (70) for obtaining data defining images as input; 

a storage medium access device (64) for accessing a medium (62) that stores data; and
 

   a processor (66) connected for receiving data defining images from the image input 
circuitry; the processor (66) further being connected for receiving data from the storage 

medium access device (64); 
the article comprising: 

   a storage medium that can be accessed by the storage medium access device when 
the article is used in the system; and 

   data stored by the storage medium so that the storage medium access device can 
provide the stored data to the processor when the article is used in the system; the stored data 

comprising instruction data indicating instructions the processor can execute; the processor, in 
executing the instructions: 

   receiving input image data from the image input circuitry, the input image data 
defining an input image that shows a proportioned parts graph; 

   using the input image data to obtain segmented feature data indicating a feature 
that satisfies a constraint on segments; and 

   using the segmented feature data to obtain proportion data indicating, for each 
segment of the feature, a proportion. 
</CLAIMS>
</TEXT>
</DOC>
