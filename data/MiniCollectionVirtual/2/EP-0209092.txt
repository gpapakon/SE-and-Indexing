<DOC>
<DOCNO>EP-0209092</DOCNO> 
<TEXT>
<INVENTION-TITLE>
IC card system
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K1700	G07F708	G06F308	G11C700	G07F710	G06F308	G06F306	G07F708	G06K1700	G07F710	G11C700	G06F306	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G07F	G06F	G11C	G07F	G06F	G06F	G07F	G06K	G07F	G11C	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K17	G07F7	G06F3	G11C7	G07F7	G06F3	G06F3	G07F7	G06K17	G07F7	G11C7	G06F3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The data for setting the operating conditions of an IC card 
(11) is transferred from the IC card (11) to the card terminal 

(41), and stored in it. The IC card (11) is driven by the stored 
data. A signal for checking a state of the compatibility of the IC 

card (11) with the card terminal (41) is exchanged with each 
other between the IC card and the card terminal, thereby 

checking the compatibility between them. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CASIO COMPUTER CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
CASIO COMPUTER COMPANY LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
NAKANO HARUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIGENAGA YOSHIMI
</INVENTOR-NAME>
<INVENTOR-NAME>
NAKANO, HARUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIGENAGA, YOSHIMI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to an IC card system 
comprising an IC card and a card terminal for use 
in combination with the IC card. The recent years have been called the 
"cashless era" due to the use of cards issued by 
credit card companies and the like, which cards 
have made possible the purchase of goods without 
any cash. Up to now, plastic cards, embossed 
cards and magnetic strip cards have generally 
been used; these, however, are easy to forge, and 
their misuse has been a problem. To solve this 
problem, an information card, called IC card, has 
been developed. This card contains an IC circuit in 
which a personal identification number is stored, 
which number cannot easily be read from the outside. 
This IC card is advantageous in that it is 
difficult to duplicate, its secrecy maintenance capability 
is excellent, and it is capable of storing a 
great amount of data. Since the personal identification 
number is input directly by the card user, third 
parties, for example a bank clerk, cannot find it out. 
In this respect, the card has a very high security 
factor. US-A-4,310,720 discloses a communications 
link between a computer and a remote user effected 
by a portable access unit which generates a 
nonrecurring access code that is function of a 
password and a pseudorandomly generated number. 
The access code is transmitted and compared 
with an access code generated by a computer 
access controller. In addition to the access code, 
the pseudorandomly generated number provides 
an encryption key which is not transmitted but 
corresponds to a mating encryption key generated 
at the controller. The mating encryption keys are 
utilized to set up data transmission 
enciphering/deciphering networks. Successive links 
are established by incremented pseudorandomly 
generated access codes. WO 83/03018 discloses a portable device for 
storing and transferring funds for use in a funds 
transfer system. Each portable device is card-like 
and comprises a memory means for storing a 
monetary balance, for instance, and a plurality of 
identifying characteristics of the user Micro-computer 
means in the card update the balance after 
funds transfer, and randomly select some of the 
identifying characteristics to query the user. The 
user's response is compared with the stored characteristics. 
Ultra-sonic coupling means in the card 
permits coupling to another card through a coupling 
terminal. A keyboard and a digital display 
permit inspection of the balance. The micro-computer 
date and time stamps
</DESCRIPTION>
<CLAIMS>
An IC card system comprising an IC card (11) and a card 
terminal (41) for use in combination with the IC card, said 

IC card (11) including: 

storing means (52) for storing data to set an operating 
condition pertaining to said IC card; 
transmitting means (56, 62) for transmitting the data 
stored in said storing means to said card terminal (41); 

said card terminal (41) including: 
receiving means (90, 77) for receiving the data transmitted 
by said transmitting means; 
setting means (76, 77) for setting conditions for operating 
the IC card in accordance with the data received by said 

receiving means; characterized by 
supplying means (74, 77, 87) for supplying a checking 
signal (ENQ) to the IC card according to the conditions set by 

said setting means, said supplying means comprising a ROM 
(74) storing said checking signal; said 

checking signal being different from the data received from 
said IC card (11) for setting an operating condition 

pertaining to said IC card (11) and being output by reading 
out from said ROM (74); and 

said IC card (11) further including: 
judging means (56) for judging whether or not the checking 
signal supplied from said card terminal is correct. 
The IC card system according to claim 1, said 
IC card (11) including:
 
means (54, 56, 62) for transmitting a signal 

representing applicability of said IC card to 
said card terminal, when said judging means 

(56) judges that the checking signal supplied 
from said card terminal is correct. 
The IC card system according to claim 2, said 
card terminal (41) including: 


means (77) for detecting the signal representing 
the applicability; and 
means (80, 102) for disconnecting said card 
terminal from said IC card when said detecting 

means does not detect the signal representing 
applicability. 
The IC card system according to claim 3, said 
card terminal (41) including: 


means (75) for storing a terminal attribute data 
as set according to the type of the terminal per 

se; 
means (87, 88) for transmitting the terminal 
attribute data to said IC card after receiving the 

signal representing the applicability; 
 
said IC card (11) including: 


means (53) for storing a card attribute data as 
set according to the type of the card per se; 

judging means (56) for judging whether or not 
the terminal attribute data transmitted from 

said card terminal is correct; 
means (61, 62) for transmitting the card attribute 
data stored in said storing means (53) 

to said card terminal means when said judging 
means judges that the terminal attribute data is 

correct; and 
 
said card terminal (41) further including:
 
check means (77) for checking whether or not 

a correspondence relationship exists between 
the attribute data of the card terminal and that 

transmitted from said IC card. 
The IC card system according to claim 4, said 
disconnecting means (80, 102) disconnect
ing 
said IC card from said card terminal when said 

check means gets non-correspondence relationship. 
The IC card system according to claim 3, said 
card terminal (41) including: 


means (75) for storing a terminal code determined 
according to particular usages for said 

card terminal; 
means (87, 88) for transmitting the terminal 
code of said card terminal to said IC card; and 
means (74, 77) for outputting processing commands 
for executing operations in said IC card; 
 
said IC card (11) includes: 


means (56) for judging whether or not the 
processing command output from said card 

terminal corresponds to the terminal code of 
the card terminal; and 
means (54, 56) for executing the processing 
commands when said judging means judges 

the processing command corresponds to the 
terminal code. 
The IC card system according to claim 6, said 
IC card (11) including:
 
means (56) for prohibiting the execution of the 

processing command when said judging 
means judges that the processing command 

does not correspond to the terminal code. 
A method for checking compatibility of IC cards with card 
terminals, comprising the steps of: 


(a) storing initial data for setting operating conditons 
pertaining to an IC card into a memory of the IC card; 
(b) transmitting the initial data from the memory of the IC 
card to a card terminal when the IC card contacts with the 

card terminal; 
(c) setting conditions of the card terminal for operating 
the IC card in accordance with the initial data transmitted 

from the IC card, characterized by 
(d) supplying a check signal (ENQ) from the card terminal to the 
IC card, according to the conditions set in the card 

terminal; said check signal (ENQ) being stored in a ROM 
(74) in the card terminal, being output by reading out 

from said ROM (74) and being different from 
the initial data transmitted from said IC card to said card 

terminal; and 
(e) judging whether or not the check signal is correct by 
the IC card. 
The method according to claim 8, further comprising 
a step of
 
   (f) outputting a response signal from the IC 

card to the card terminal when the check 
signal is correct. 
The method according to claim 9, further comprising 
steps of 


(g) sending a card attribute data set in accordance 
with the kind of the IC card per 

se, to the card terminal; and 
(h) judging whether or not the card attribute 
data sent from the IC card corresponds to a 

terminal attribute data set in accordance 
with the kind of the card terminal. 
The method according to claim 10, further 
comprising steps of 


(i) sending a terminal code and a processing 
command to the IC card; and 
(j) judging whether or not the processing 
command corresponds to the terminal code. 
</CLAIMS>
</TEXT>
</DOC>
