<DOC>
<DOCNO>EP-0619562</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Printing apparatus and printing processing method
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K1500	G06K1500	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K15	G06K15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A printing apparatus and a printing processing 
method are provided in which content of print 

information is discriminated. A variable is initialized 
if the result of discrimination indicates the start of a 

printing job, and the variable is counted up of the 
result of discrimination indicates start of the next 

page. In a case where trouble such as jamming occurs 
during processing of this print information, at which 

page from the start of printing this trouble occurred is 
calculated from the variable, and the page number 

obtained is outputted upon being incorporated in 
information indicative of the fact that trouble has 

occurred. As a result, it is possible to output 
information indicating at which page, from the start of 

a printing job, trouble such as jamming occurred. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MITSUHASHI SHUNYA
</INVENTOR-NAME>
<INVENTOR-NAME>
MORITA TETSUYA
</INVENTOR-NAME>
<INVENTOR-NAME>
NAGATA SATOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NISHIJIMA TAKANORI
</INVENTOR-NAME>
<INVENTOR-NAME>
OKAMOTO YOSHIFUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
SATO NOBUHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIMURA AKIHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
UNISHI MASAKI
</INVENTOR-NAME>
<INVENTOR-NAME>
MITSUHASHI, SHUNYA
</INVENTOR-NAME>
<INVENTOR-NAME>
MORITA, TETSUYA
</INVENTOR-NAME>
<INVENTOR-NAME>
NAGATA, SATOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NISHIJIMA, TAKANORI
</INVENTOR-NAME>
<INVENTOR-NAME>
OKAMOTO, YOSHIFUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
SATO, NOBUHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIMURA, AKIHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
UNISHI, MASAKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a printing apparatus and
a printing processing method. More particularly, the
invention relates to a printing apparatus and printing
processing method for outputting trouble-related
information, such as information indicative of paper
jamming, by way of example.When an apparatus such as a printer develops
trouble such as paper jamming, a technique is available
according to which information indicating how many pages
prior to the page currently being processed the problem
occurred is sent back to the computer that issued the
print instruction. However, the problem described below
arises with this technique.Specifically, the information sent back by the
printer may indicate "jamming occurred X pages prior to
page now being processed"; it does not indicate the
number of the page from the start of the printing job at
which the trouble occurred. Accordingly, the computer
that has received this information must calculate, on
the basis thereof, the number of the page at which the 
trouble occurred. The calculation is especially
complicated if printing is performed on both sides of a
page.The present invention seeks to provide a printing
apparatus and a printing processing method that solve the
aforementioned problem, and concern thereof is to make
it unnecessary for a computer or the like, which has
issued the print instruction, to calculate the number of
the page at which trouble occurred.Japanese Patent Abstract No JP-A-01227168 discloses
a technique for recovering from a printing error in which
a control section recognises the current phase of an
electrophotographic process and updates the current phase
information of a phase recognising section at each end
of the exposure and transfer phases. When a fault occurs
the host is informed of the number of pages that have
been processed.Japanese Patent Abstract No JP-A-03155974 is
concerned with a similar problem and discloses an
arrangement in which error information is sent to a host
computer. This error information includes the serial
number of printed pages. This serial number was included
in the original printing command sent by the host
computer.Accordingly the first aspect of the present
invention provides a printing control apparatus as set
out in claim 1.A second aspect of the present invention provides
a method of controlling a printing apparatus as set out
in claim 11. Another concern of the invention is to make it
unnecessary for a computer that has issued a print
instruction to perform complicated calculation of the
page at
</DESCRIPTION>
<CLAIMS>
A printing control apparatus (7) for outputting
faults information which represents a fault condition

which has occurred during printing processing, said
apparatus comprising:


receiving means (8) for receiving printing data from
an external device (1);
analyzing means (8) for analyzing the received
printing data;
printing means (6) for printing an image on a
recording medium based on an output from said analyzing

means (3); and
outputting means (8) for outputting the fault
information to said external device (1) when a fault

condition has occurred whilst printing processing is
being performed by said printing means (6), characterised

in that:
said outputting means (8) comprises calculating
means (3) for calculating a current page number of a page

currently being processed, based on the analyzing result,
and calculating a fault page number of a page on which

the fault condition has occurred, based on the calculated
current-page number,
wherein the calculated fault page number is included
in the fault information.
Apparatus according to claim 1, wherein the current
page number is initialized when the analyzing result

indicates the start of printing and is increased when the
analyzing result indicates the start of a next page by

said calculating means (3).
Apparatus according to claim 1 or claim 2, wherein
said calculating means (3) determines the number of pages

which precede the page currently being processed where
the fault condition occurred, and

the fault page number is obtained by subtracting the
determined number of pages from the current page number.
Apparatus according to claim 3, wherein the number
of pages is related to the position of the recording

medium on which the fault condition is occurred.
Apparatus according to any one of claims 1 to 4,
wherein the fault information is output to said external

device without receipt of a request for fault information
from said external device.
Apparatus according to either of claims 1 and 2,
wherein said calculating means (3) determines a number

of pages, preceding the page currently being processed
where the fault condition occurred, and obtains a

difference value by subtracting the determined number of 
pages from the current page number, and

   the fault page number is calculated from the
difference value based on whether the difference value

is odd or even.
Apparatus according to claim 6, wherein in the case
where images are printed on both sides of the recording

medium, the fault page number indicates a lower page
number of the sides of the recording medium on which the

fault condition is occurred.
Apparatus according to any one of claims 1 to 7,
further comprising displaying means (11) for displaying

the calculation result of said calculating means (3).
Apparatus according to claim 8, wherein said
calculating means (3) obtains the number of pages

remaining for printing, by subtracting the current page
number from a total number of pages indicated by the

received printing data and the calculated remaining
number of pages is displayed by said displaying means

(11).
Apparatus according to any one of claims 1 to 9,
wherein the fault condition includes at least one of the

following: paper jam, the absence of paper and a decline
in printing density. 
A printing control method (7) for outputting
information which represents a fault condition occurred

during printing processing, said method comprising:

utilising receiving means (8) to receive printing
data from an external device (1);
analyzing by means of analyzing means (8) the
received printing data;
printing by printing means (6) an image on a

recording medium based on an output from said analyzing
means (3); and
outputting via outputting means (8) the fault
information to said external device (1) when a fault

condition has occurred whilst printing processing is
being performed by said printing means (6), and

characterised in that:
a current page number of a page currently being
processed is calculated by calculating means (3), based

on the analyzing result, and a fault page number of a
page on which the fault condition has occurred is

calculated, based on the calculated current-page number,
and
wherein the calculated fault page number is included
in the fault information.
A method according to claim 11, wherein the current
page number is initialized when the analyzing result 

indicates the start of printing and is increased when the
analyzing result indicates the start of a next page by

said calculating means (3).
A method according to claim 11 or claim 12, wherein
the number of pages which precede the page currently

being processed where the fault condition occurred is
determined by said calculating means, and

   the fault page number is obtained by subtracting the
determined number of pages from the current page number.
A method according to claim 13, wherein the number
of pages is related to the position of the recording

medium on which the fault condition is occurred.
A method according to any one of claims 11 to 14,
wherein the fault information is output to said external

device without receipt of a request for fault information
from said external device.
A method according to either of claims 11 or 12,
the number of pages, preceding the page currently being

processed where the fault condition occurred is
determined by said calculating means (3), and the

difference value is obtained by subtracting the
determined number of pages from the current page number,

and
 
   the fault page number is calculated from the

difference value based on whether the difference value
is odd or even.
A method according to claim 16, wherein in the case
where images are printed on both sides of the recording

medium, the fault page number indicates a lower page
number of the sides of the recording medium on which the

fault condition is occurred.
A method according to any one of claims 11 to 17,
further comprising displaying the calculation result of

said calculating means (3).
A method according to claim 18, wherein said the
number of pages remaining for printing is obtained by

said calculating means (3), by subtracting the current
page number from a total number of pages indicated by the

received printing data and the calculated remaining
number of pages is displayed by said displaying means

(11).
Apparatus according to any one of claims 11 to 19,
wherein the fault condition includes at least one of the

following: paper jam, the absence of paper and a decline
in printing density.
</CLAIMS>
</TEXT>
</DOC>
