<DOC>
<DOCNO>EP-0634033</DOCNO> 
<TEXT>
<INVENTION-TITLE>
MULTIPLE-CHANNEL FAULT-TOLERANT CLOCK
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1118	G06F104	G06F104	G06F1118	G06F112	G06F1116	G06F1116	G06F112	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F11	G06F1	G06F1	G06F11	G06F1	G06F11	G06F11	G06F1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A fault-tolerant clock having at least four channels, each providing its own clock output, and yet all clock output signals of all functioning channels being coherent with one another. One clock functions as a master with the other clocks of the remaining channels slaving themselves to that one clock. In view of a failure of the master, another clock reigns as the master clock to slave the remaining clocks. If the next master clock fails, then still another clock becomes a master to slave the remaining clock or clocks. The clocks are independently powered such that complete failure of one clock, including its power, does not necessarily prevent the other clocks from providing coherent outputs.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HONEYWELL INC
</APPLICANT-NAME>
<APPLICANT-NAME>
HONEYWELL INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SMITH FREDERICK L
</INVENTOR-NAME>
<INVENTOR-NAME>
SMITH, FREDERICK, L.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention pertains to clocks for digital processing devices, and
particularly pertains to fault tolerant clocks having several channels.The present invention provides a fault tolerant clock that is suitable for use in a
variety of applications where synchronized, independently derived timing signals are
required.
A fault-tolerant clock according to the preamble of Claim 1 is described in US 46 44 498 A.
The present invention is characterized in Claim 1. Further details and improvements of the
new fault-tolerant clock are described in the dependent claims. Features of this clock include multiple channels wherein each channel can be
packaged in a separate module and be independently powered, and that the clock has no
single point failures. The device has a quadruplex fault tolerant clock which provides
coherent clock pulses at the output of each of the four channels if there are no faults
present. The clock will provide coherent outputs on at least two of the four channels in
the presence of any two faults. Depending on the exact nature of the faults, the clock
may still provide coherent outputs on all four channels in the presence of any number of
faults. The clock has a hierarchical ordering wherein one of the channels acts as the
master oscillator and the other channels slave themselves to the master in a coherent
fashion. The master/slave designation of each channel is determined by the wiring at
the inputs of the respective modular sine wave oscillator. The present quadruplex clock
provides two-fault tolerance. The clock may be down-scaled to a triplex configuration
providing a single fault tolerant capability. This may be achieved by ignoring the
provisions for the third companion or by omitting the associated circuitry. The clock
may also be expanded to provide for more than four channels. The present invention
fulfills the need for a coherent fault tolerant clock which is required in nearly all
modular redundant systems. The present clock does not have any of the uncertainties
related to output frequency that often occur when propagation delays are introduced into
the feedback loop of cross-strapped oscillators. Furthermore, the present clock does not
have any tendency to hunt around the nominal frequency as is often the case with
interlocked phase-lock loop designs.Figure 1 is a block diagram of the two fault tolerant clock. Figure 2 is a diagram of the modular sine wave oscillator.Figure 3 is a truth table of the four-by-one multiplexer.Figure 4 is a schematic of a double-balanced
</DESCRIPTION>
<CLAIMS>
A multiple-channel fault-tolerant clock system comprising:
plurality of clock channels (11 - 14) forming companion channels for providing a fault-tolerant clock signal

output, wherein each clock channel comprises:

oscillator means (21 - 24) for providing a sine wave signal;
squaring means (31 - 34), connected to said oscillator means, for squaring the sine
wave signal;
voting means (41 - 44), connected to said squaring means, for assessing conditions
and providing a fault-tolerant clock signal output if conditions are satisfactory;
first interconnecting means (16) for interconnecting said oscillator means of said
plurality of clock channels; and
second interconnecting means (18) for interconnecting said squaring means and said
voting means; 
characterized in that:
a) each clock channel (11 - 14) has a hierarchical order designation as a first clock
channel, second clock channel, third clock channel, and so on;.
b) the first clock channel functions as a master and the remaining clock channels
slave to the master such that all clock signal outputs are coherent in frequeny

and phase with one another;
c) failure of the first clock channel functioning as the master results in the second
clock channel becoming the master to which the remaining clock channels slave

to and so on;
d) each of said sine wave oscillators (21-24) comprises:

d1) a plurality of phase/frequency comparators (51 to 53) connected to sine
wave oscillators of said companion channels;
d2) a reference voltage source (54);
d3) a first multiplexer (58) connected to said plurality of phase/frequency
comparators (51 - 53) and to said reference voltage source (54);
d4) a filter (76) connected to said first multiplexer (58);
d5) a voltage controlled oscillator (77) connected to said filter (76) and to said
plurality of phase/frequency comparators (51 - 53);
d6) a voltage controlled oscillator monitor (80) connected to said voltage
controlled oscillator (77); 
d7) a second multiplexer (68), connected to said voltage controlled oscillator
(77), having an output;
d8) a multiplexer signal selector (56) connected to sine wave oscillators (21 -
24) of said companion channels (11 - 14), and to said first (58) and second

(68) multiplexers;
e) each clock channel (11- 14) is independently powered such that a power failure
of one clock channel does not necessarily affect the remaining clock channels.
The clock system of Claim 1, 
characterized by
 :

a) a plurality of buffers (85 - 87) connected to said voltage controlled oscillators
(77) of said companion channels and to said voltage controlled oscillator; and
b) a delay circuit (88) connected to said voltage controlled oscillator and to said
second multiplexer (68).
The clock system of claims 1 or 2, wherein each said squaring circuit (31 - 34) comprises:

a) a high gain amplifier (101) connected to the output of said second multiplexer
(68);
b) a diode network (102, 103) connected to said high gain amplifier;
c) a buffer (106) connected to said diode network and having an output; and
d) a plurality of AND gates (107 - 109) wherein each AND gate has a first input
connected to said diode network (102, 103), has a second input connected to

said voltage controlled oscillator monitor (80) and has an output (111 - 113)
connected to a companion clock channel of said plurality of clock channels.
The clock system of claim 3, wherein each said voter (41 - 44) comprises:

a) a first plurality of AND gates (116 - 118), each AND gate having a first input
(105) connected to said buffer (106) of said squaring circuit (31 - 34), and

having a second input;
b) a plurality of validity verifiers (151 - 153), each said validity verifier connected
to a second input of each said AND gate of said first plurality of AND gates

(116 - 118) on a one-to-one basis, and each said validity verifier connected to a
buffer (106) of a squaring circuit of a companion clock channel (11 - 14);
c) a first single AND gate (119) having a plurality of inputs, each input connected
to one of said validity verifiers; 
d) a second plurality of AND gates (124 - 126), each AND gate having at least one
input connected to at least one of said validity verifiers (151 - 153);
e) a first OR gate (131) connected to said first plurality of AND gates (116 - 118)
and to said first single AND gate (119);
f) a second OR gate (127) connected to said second plurality of AND gates (124 -
126);
g) a second single AND gate (132) connected to said first OR gate (131) and to
said voltage controlled oscillator monitor (80) of said sine wave oscillator;
h) a third single AND gate (129) connected to said second OR gate (127) and to
said voltage controlled oscillator monitor (80) of said sine wave oscillator; and
i) a third OR gate (130), connected to said second and third single AND gates
(132, 129), having an a fault-tolerant clock output (114).
The clock system of one of the claims 1 to 4, wherein:

a) said first interconnecting network (16) interconnects said sine wave oscillator
(21 - 24) of each said clock channel (11 - 14) to the sine wave oscillator of each

companion clock channel; and
b) said second interconnecting network (18) interconnects said squaring circuit (31
- 34) of each clock channel (11 - 14) to voter (41 - 44) of each companion

clock channel.
The clock system of one of the preceding claims comprising:

a first cross-strap (16) connected to said oscillators (21 - 24) of said plurality of
clock channels; and
a second cross-strap (18) connected to said voters (41 - 44) of said plurality of clock
channels.
The clock system of claim 6 wherein:

said plurality of clock channels comprises N clock channels; and
said oscillators (21 - 24) are interconnected by said first cross-strap (16) and said
voters (41 - 44) are interconnected by said second cross-strap (18), such that a first

clock channel functions as a master clock to slave second through Nth clocks, the
second clock functions as a master clock to slave third through Nth clocks if the first

clock fails, the third clock functions as a master clock to slave fourth through Nth 
clocks if the first and second clocks fail, and an (M+1)th clock functions as a master

clock to slave (M+2)th through Nth clocks if the first through Mth clocks fail.
The clock system of one of the preceding claims having four-channels wherein:

a) the first clock channel (11) comprises:

a first oscillator (21);
a first signal processor (31) connected to said first oscillator (21); and
a first voter (41) connected to said first signal processor (31);
b) the second clock channel (12) comprises:

a second oscillator (22) connected to said first oscillator (21);
a second signal processor (32) connected to said second oscillator (22) and to
said first voter (41); and
a second voter (42) connected to said first and second signal processors (31,
42);
c) the third clock channel comprises:

a third oscillator (23) connected to said first and second oscillators (21, 22);
a third signal processor (33) connected to said third oscillator (23), and to said
first and second voters (41, 42);
a third voter (43) connected to said first, second and third signal processors (31
- 33); and
d) the fourth clock channel comprises:

a fourth oscillator (24) connected to said first, second and third oscillators (21 -
23);
a fourth signal processor (34) connected to said fourth oscillator (24), and to
said first, second and third voters (41 - 43); and
a fourth voter (44) connected to said first, second, third and fourth signal
processors (31 - 34).
The four-channel clock system of claim 8 wherein:

said first oscillator (21) has first, second and third inputs (1, 2, 3) connected to a
ground reference and first, second, third and fourth outputs (5, 6, 7, 65);
said second oscillator (22) has first and second inputs (1, 2) connected to the ground
reference, a third input (3) connected the first output (5) of said first oscillator (21),

and has first, second, third and fourth outputs; 
said third oscillator (23) has a first input (1) connected to the ground reference, a
second input (2) connected to the second output (6) of said first oscillator (21), a

third input (3) connected to the first output (5) of said second oscillator (22), and
has first, second, third and fourth outputs; and
said fourth oscillator (24) has a first input (1) connected to the third output (7) of
said first oscillator (21), a second input (2) connected to the second output (6) of

said second oscillator (22), a third input (3) connected to the first output (5) of said
third oscillator (23), and has first, second, third and fourth outputs.
The four-channel clock system of claim 8 or 9 wherein:

a) said first oscillator (21), when functioning appropriately, is a master oscillator
and said second, third and fourth oscillators (22 - 24) slave to said first

oscillator;
b) said second oscillator (22), when functioning appropriately and in absence of an
appropriately functioning said first oscillator (21), is the master oscillator and

said third and fourth oscillators (23, 24) slave to said second oscillator (22);
c) said third oscillator (23), when functioning appropriately and in absence of
appropriately functioning said first (21) and second oscillators (22), is the

master oscillator and said fourth oscillator (24) slaves to said third oscillator
(23); and
d) said fourth oscillator (24), when functioning appropriately and in absence of
appropriately functioning said first, second and third oscillators (21 - 23), is the

master oscillator.
The four-channel clock system of claim 8, 9 or 10 wherein:

each of said first, second, third and fourth oscillators (21 - 24) comprises:

signal selection means, connected to the first, second and third inputs of said
oscillator, for selecting a satisfactory signal from the first, second or third input, in

that order, or a reference voltage in absence of a satisfactory signal;
a filter means (76), connected to said signal selection means (58), for filtering a
selected satisfactory signal or reference voltage; and
voltage-controlled signal generating means (77), having an input connected to said
filter means (76) and an output connected the first, second, third and fourth outputs 

(5, 6, 7, 65) of said oscillator, for generating a signal that slaves to the selected
satisfactory signal or adjusts in accordance to the reference voltage.
The four-channel clock system of one of the claims 8 to 11 wherein:

said each signal processor (31, 32, 33, 34) has an input (65) connected to the fourth
output (65) of said first, second, third and fourth oscillator (21 - 24), respectively,

and has first, second, third and fourth outputs (111, 112, 113, 105).
The four-channel clock system of one of the claims 8 to 12 wherein:

each of said first, second, third and fourth (41 - 44) voters comprises:

a first input (111);
a first signal verifier (151), connected to the first input, for indicating whether there is an
active signal, and if so, then passing the active signal;
a second input (112);
a second signal verifier (152), connected to the second input, for indicating whether there
is an active signal, and if so, then passing the active signal;
a third input (113);
a third signal verifier (153), connected to the third input, for indicating whether there is an
active signal, and if so, then passing the active signal;
a fourth input (105);
an output (114); and
AND/OR logic means (116-119, 124-127, 129-132), connected to the output and to the first, second and third
signal verifiers, for selecting a signal from the fourth input if the signal is satisfactory

and if at least two signal verifiers pass an active signal, and for selecting an active
signal from one of the signal verifiers if the signal from the fourth input is not

satisfactory and if at least two signal verifiers pass an active signal so as to pass a
fault tolerant clock signal to the output;

   wherein:

said first voter (41) has the first input (111) connected to the first output (111) of
said second signal processor (32), the second input (112) connected to the first

output (111) of said third signal processor (33), the third input (113) connected to
the first output (111) of said fourth signal processor (34), and the fourth input (105)

connected to the fourth output (105) of said first signal processor (31); 
said second voter (42) has the first input (111) connected to the first output (111) of

said first signal processor (31), the second input (112) connected to the second
output (112) of said third signal processor (33), the third input (113) connected to

the second output (112) of said fourth signal processor, and the fourth input
connected to the fourth output of said second signal processor;
said third voter (43) has the first input (111) connected to the second output (112)
of said first signal processor (31), the second input (112) connected to the second

output (112) of said second signal processor (32), the third input (113) connected to
the third output (113) of said fourth signal processor (34), and the fourth input

(105) connected to the fourth output (105) of said third signal processor (33); and
said fourth voter (34) has the first input (111) connected to the third output (113) of
said first signal processor (31), the second input (112) connected to the second

output (112) of said second signal processor (32), the third input (113) connected to
the third output (113) of said third signal processor (33), and the fourth input (115)

connected to the fourth output (105) of said fourth signal processor (34).
</CLAIMS>
</TEXT>
</DOC>
