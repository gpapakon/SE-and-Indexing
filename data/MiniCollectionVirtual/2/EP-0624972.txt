<DOC>
<DOCNO>EP-0624972</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Halftone images using special filters
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N1405	G06T500	H04N1405	G06T500	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	G06T	H04N	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	G06T5	H04N1	G06T5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method of generating a halftone image (104) from a 
grey scale image (102) by means of a dither matrix (110). 

The matrix (110) includes many patterns (130, 140, 160). 
Each pattern corresponds to one grey level of the grey 

scale image (102). The value of each element in each 
pattern depends on a special positive filter (320) with a 

single peak and a region-of-support (322). The peak is 
approximately at the center of the region-of-support 

(322). 
One preferred filter is a guassian filter (320). 

For a given pattern (140), the region-of-support (322) of 
the filter (320) depends on the average separation of the 

elements with values equal to one in that pattern (140); 
and the elements with values equal to one are 

substantially uniformly distributed across the pattern 
(140). 
 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
LIN QUIAN
</INVENTOR-NAME>
<INVENTOR-NAME>
LIN, QUIAN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates generally to halftone
images and more particularly to methods of generating
halftone images by a dither matrix.
A printer can be designed to print a picture as a
halftone or a grey scale image. For a halftone image,
each pixel of the image either has a dot printed or not
printed. For a grey scale image, each dot on a pixel is
further refined to have one of many grey levels.A halftone image is usually easier and cheaper to
generate than a grey scale image. Many relatively low
cost printers are specifically designed to print halftone
images. To use such a printer to print a grey scale
image, the image must first be transformed to a half tone
image. One objective of the printing industry is to
develop appropriate transformation techniques so that the
halftone image becomes visually indistinguishable from
the grey scale image.One prior art method transforms a grey scale image
to a halftone image by means of a dither matrix. The
grey scale image has many grey levels and many pixels.
Each pixel has a value. The dither matrix occupies a
physical space and has numerous elements. Each element
also has a value. This matrix is mapped over the grey
scale image to generate the halftone image. For a grey
scale image that is larger than the space occupied by the
dither matrix, the matrix replicates itself to cover the
entire image. Each pixel in the grey scale image is
compared to an element in the matrix. If the grey scale
image pixel has a larger value, a dot will not be printed
in a corresponding position in the halftone image. The
halftone image created has the same number of grey level 
patterns as the number of grey levels in the grey scale
image. A darker area in the grey scale image is
represented in the halftone image by a grey level pattern
with more dots.In order to generate a halftone image using the
above method, the dither matrix must be carefully
designed. The elements in the matrix should not be
generated by a random number generator, because a fully
random pattern would create a halftone image that is
noisy, corrupting the content of the image.One prior art method of designing this matrix is
known as the void-and-cluster method. A general
discussion of the void-and-cluster method can be found in
"The Void-and-Cluster Method for Dither Array
Generation," written by Robert Ulichney, and published in
SPIE/IS&T Symposium on Electronic Imaging Science and
Technology, San Jose, CA, 1993. Figure 1A shows a grey
level pattern of a halftone image generated by the void-and-cluster
m
</DESCRIPTION>
<CLAIMS>
A method of generating a halftone image (104) from a grey scale image
(102) by means of a dither matrix (110),


the halftone image (104), the grey scale image (102) and the dither
matrix (110) each occupying an area, the three areas being substantially

equal to each other,

the halftone image (104) and the grey scale image (102) each having a
plurality of pixels, each pixel having a value, and the dither matrix (110)

having a plurality of elements (118) that are generated by a plurality of
patterns (130, 140, 160), each pattern also having a plurality of elements,

each element in each pattern occupying a position in the pattern, each
element having a value, the method comprising the steps of comparing

the value of each pixel of the grey scale image with the value of an
element in the dither matrix and, based on the result of the comparison,

determining the value of a corresponding pixel of the halftone image, and
the value of each element in each pattern of the dither matrix (110) being
determined by one of a plurality of single-peaked and positive filters

(320) with a region-of-support (322), the peak being approximately at the
center of the region-of-support (322), and
for a given pattern (140), the region-of-support (322) being dependent
on the average separation of a pre-selected 

value in that pattern (140), such that all
elements with the preselected values are substantially

uniformly distributed across the pattern (140).
A method of generating a halftone image (104)
as recited in claim 1, wherein the filter is a guassian

filter (320).
A method of generating a halftone image (104)
as recited in claim 1, wherein the filter is a

rectangular filter (328).
A method of generating a halftone image (104)
as recited in claim 1, wherein the filter is a triangular

filter (324).
A method of generating a halftone image (104)
as recited in claim 1, wherein:


the value of each element in each pattern being
determined from a random pattern that has elements of

randomly distributed maximum and minimum values; and
the dither matrix (110) is generated by the steps
(200) of:


generating (202) an intermediate pattern (300)
having a plurality of elements, each element having

either the maximum or the minimum value, the maximum
value being the pre-selected value; and
generating a plurality of other patterns, each
pattern having a different number of elements having

the maximum value than the intermediate pattern, and
summing the intermediate pattern and the plurality

of other patterns to get the dither matrix (110).
A method of generating a halftone image (104)
as recited in claim 5, wherein the step of "generating a

plurality of other patterns" further comprises the steps
of: 


generating (204) one or more pattern with fewer
elements having the maximum value than the intermediate

pattern (300); and
generating (206) one or more pattern with fewer
elements having the minimum value than the intermediate

pattern (300).
A method of generating a halftone image (104)
as recited in claim 5, wherein the step (202) of

"generating an intermediate pattern" further comprises:

using (350) the random pattern as the starting
pattern for the intermediate pattern (300);
selecting (352) a region-of-support (322) for the
filter (320) based on the intermediate pattern (300);
copying (353) the intermediate pattern (300) into a
dummy pattern;
filtering (354) the dummy pattern by the filter
(320);
identifying (356) from the filtered output the
position having the element with the largest value as the

maximum position, and the position having the element
with the smallest value as the minimum position;
exchanging (358) elements in the maximum and minimum
position of the intermediate pattern (300); and
repeating (362) from the step (353) of "copying"
until the intermediate pattern (300) reaches an

equilibrium state.
A method of generating a halftone image (104)
as recited in claim 6, wherein the step (204) of

"generating one or more pattern with fewer elements
having the maximum value" further comprises:


copying (502) the intermediate pattern (300) into a
dummy pattern;
selecting (506) a region-of-support (322) for the
filter (320) based on the intermediate pattern (300); 
filtering (508) the dummy pattern by the filter
(320);
identifying (512) from the filtered output the
position having the element with the largest value as the

maximum position;
replacing the element in the maximum position of the
intermediate pattern (300) with the minimum value;
copying the intermediate pattern (300) into the
dummy pattern;
repeating (516) from the "selecting" step (506) a
quantization number of times to generate one pattern of

the dither matrix (110); and
repeating (518) from the "selecting" step (506)
until the number of elements having the maximum value in

the intermediate pattern (300) is less than or equal to
the quantization number.
A method of generating a halftone image (104)
as recited in claim 6, wherein the step (206) of

"generating one or more pattern with fewer elements
having the minimum value" further comprises:


copying (532) the intermediate pattern into a dummy
pattern;
selecting (536) a region-of-support (322) for the
filter (320) based on the intermediate pattern (300);
filtering (538) the dummy pattern by the filter
(320);
identifying (542) from the filtered output the
position having the element with the smallest value as

the minimum position;
replacing the element in the minimum position of the
intermediate pattern (300) with the maximum value;
copying the intermediate pattern (300) into the
dummy pattern;
repeating from the "filtering" step (538) a
quantization number of times to generate one pattern of

the dither matrix (110); and 
repeating (548) from the "selecting" step (536)
until the number of elements hav
ing the minimum value in
the intermediate pattern (300) is less than or equal to

the quantization number.
A method of generating a halftone image (104)
as recited in claims 7 or 8 or 9, wherein the step of

"selecting a region-of-support for the filter" further
comprises the steps of:


finding (400) a minority value in the pattern;
determining (402) the average separation D among the
elements with the minority value in the pattern; and
determining (404) the region-of-support (322) from a
region-of-support graph (450) in which the region-of-support

is related to D by a substantially nondecreasing
function.
</CLAIMS>
</TEXT>
</DOC>
