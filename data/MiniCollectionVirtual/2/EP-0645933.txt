<DOC>
<DOCNO>EP-0645933</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image reproducing apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N736	H04N768	H04N764	H04N736	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N7	H04N7	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image reproducing apparatus reproduces an 
encoded image signal, detects a motion vector of a 

block including an indecodable image signal by using 
the reproduced image signal, and structuring an image 

signal for the block including the indecodable signal 
by using the motion vector to reproduce a visually high 

quality image even when the block including the 
indecodable image signal moves. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HAMANAKA AKIYOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NIIDA MITSUO
</INVENTOR-NAME>
<INVENTOR-NAME>
OHNISHI SHINJI
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIMIZU TETSUYA
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIMOKORIYAMA MAKOTO
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMAMOTO YUKINORI
</INVENTOR-NAME>
<INVENTOR-NAME>
HAMANAKA, AKIYOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NIIDA, MITSUO
</INVENTOR-NAME>
<INVENTOR-NAME>
OHNISHI, SHINJI
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIMIZU, TETSUYA
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIMOKORIYAMA, MAKOTO
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMAMOTO, YUKINORI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an image signal
reproducing apparatus for generating an image signal by
decoding a compressed and encoded image signal.An orthogonal transformation encoding system has
been known as a technique for compressing and encoding
an image signal with a high efficiency. In this
technique, an image signal is divided into blocks each
having a predetermined number of pixels and they are
orthogonal-transformed by such as a discrete cosine
transformation (DCT) and the transformed coefficients
are quantized and entropy-encoded.Fig. 1 shows a block diagram of major elements of
a digital VTR as an image recording and reproducing
apparatus which uses such block encoding and decoding.
A flow of the image signal in Fig. 1 is explained.
Digitized image data is inputted from an input terminal
and it is blocked by a unit of m pixels x n pixels by a
block forming circuit 2.The image data blocked by the m × n pixel unit is
orthogonal-transformed by a DCT (discrete cosine
transformation) circuit 3 so that it is transformed
from space area data to frequency area data. The data 
transformed to the frequency area data is quantized by
a quantization circuit 4, and variable-length-encoded
by a variable length encoding circuit 5 to attain a
desired data transfer rate. Parity data is added to
the variable length encoded data by an error correction
encoding circuit 6 to error-correction-encode the data,
which is formatted to conform to a recording medium by
a recording and reproducing apparatus 7 and recorded on
a magnetic tape.In reproducing the data, the data reproduced from
the magnetic tape by the recording and reproducing
apparatus 7 is formatted to conform to the signal
processing in a succeeding stage, error correction is
made by using the parity data added during the
recording by an error correction circuit (ECC) 8 and it
is decoded by a variable length decoding circuit 9.
The decoded data is dequantized by a INVERSE-quantization
circuit 10 and inversely discrete-cosine-transformed
by an inverse DCT circuit 11 and it is
converted from the frequency area data to the space
area data and written into a frame memory 12. The
image data written in the frame memory 12 is read in
synchronism with raster scan of a monitor and error
incorrectable data (hereinafter referred to as error
data) is interpolated by an interpolation circuit 13
and it is outputted from an output terminal 14 for
displaying on the monitor. In such an encoding system, since the encoding is
made block by block, when an uncorrectable
</DESCRIPTION>
<CLAIMS>
An image reproducing apparatus comprising:

reproducing means (101) for reproducing encoded
image data which consists of successive pictures each

divided into a plurality of blocks each of which consists
of a plurality of pixels;
decoding means (105) for decoding the image data
reproduced by said reproducing means;
motion vector detection means (111) for detecting
motion vectors of said blocks by using the image data

reproduced by said reproducing means; and
interpolation means (112) for interpolating an error
block which has image data which cannot be decoded by

said decoding means;

   
characterised in that

   said motion vector detection means is adapted to
detect a first motion vector by using the image data of

the field which includes the error block and the image
data of the field which precedes the field which includes

the error block, and a second motion vector by using the
image data of the image data which includes the error

block and the image data of the field which succeeds the
field which includes the error block, wherein said motion

detection means is adapted to estimate the motion vector 
of the error block by using sets of the first and second

motion vectors and wherein said interpolation means
interpolates image data into the error block using the

image data of the field which precedes the field which
includes the error block in accordance with the estimated

motion vector.
Apparatus according to claim 1, wherein said motion
detection means comprises comparing means for comparing

the first motion vector and the second motion vector of
each of the sets, and said motion detection means

estimates the motion vector of the error block in
accordance with the comparison result obtained by said

comparing means.
Apparatus according to any preceding claim, wherein
said reproducing means is adapted to read image data

which has been encoded by orthogonal transformation and
said motion detection means is adapted to detect the

motion vector by using the orthogonal transformation
coefficients of the encoded image data.
Apparatus according to any preceding claim, wherein
said interpolation means is adapted to 
conceal an error
block by replacing the error block with another block in 

accordance with the motion vector allotted to the error
block.
Apparatus according to any preceding claim, further
comprising error correction means for correcting errors

in the reproduced image data, the indecodable image data
corresponding to the errors which cannot be corrected by

said error correction means.
A method of reproducing an image comprising:

utilising reproducing means (101) to reproduce
encoded image data which consists of successive pictures

each divided into a plurality of blocks each of which
consists of a plurality of pixels;
decoding the image data reproduced by said
reproducing means;
detecting motion vectors of said blocks by using the
image data reproduced by said reproducing means; and
interpolating an error block which has image data
which cannot be decoded in said decoding step by using

the image data of the field which precedes the field
which includes the error block;

   
characterised in that
:

said motion detection step is adapted to detect a
first motion vector by using the image data of the field 

which includes the error block and the image data of the
field which precedes the field which includes the error

block, and a second motion vector by using the image data
of the image data which includes the error block and the

image data of the field which succeeds the field which
includes the error block, wherein said motion detection

step is adapted to estimate the motion vector of the
error block by using sets of the first and second motion

vectors and wherein said interpolation step interpolates
the error block using the image data of the field which

precedes the field which includes the error block in
accordance with the estimated motion vector.
A method according to claim 6, wherein said motion
detection step comprises a step of comparing the first

motion vector and the second motion vector of each of the
sets, and said motion detection step estimates the motion

vector of the error block in accordance with a compared
result in said comparing step.
A method according to either of claims 6 or 7,
wherein said reproducing step is adapted to read image

data which has been encoded by orthogonal transformation
and said motion detection means is adapted to detect the

motion vector by using the orthogonal transformation 
coefficients of the encoded image data.
A method according to any one of claims 6 to 8,
wherein said interpolation step is adapted to conceal an

error block by replacing the error block with another
block in accordance with the motion vector allotted to

the error block.
A method according to any one of claims 6 to 9,
further comprising a step of correcting errors in the

reproduced image data the indecodable image data
corresponding to the errors which cannot be corrected in

said error correction step.
</CLAIMS>
</TEXT>
</DOC>
