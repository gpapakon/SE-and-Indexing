<DOC>
<DOCNO>EP-0622962</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Tone-detection method and apparatus for detecting at least one tone in dual-tone multifrequency signal
</INVENTION-TITLE>
<CLASSIFICATIONS>H04Q145	H04Q1457	H04Q130	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04Q	H04Q	H04Q	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04Q1	H04Q1	H04Q1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Tone-detection method for a call-progress process which detects at least one 
tone in a multifrequency dual-tone signal in a telecommunication apparatus 

having digital signal processing resources. The method involves the step of: 

computing (201) the value of the energy of the signal, 
processing (201) said received signal to determine the existence of one or two 
tones in said signal, 
applying a second-order or fourth-order autoregressive process in response to 
said determination and performing (203, 208) a first estimation of the 

autoregressive parameters of said received signal, 
performing a digital band-pass filtering operation (205,210) adjusted to the 
result of the estimation of said autoregressive parameters to provide a partial 

elimination of the noise existing on said received signal, 
reapplying (205, 210) a second-order or fourth-order autoregressive process 
in response to said determination and performing a final estimation of the 

autoregressive parameters of said received signal, 
 
computing (206, 211) the values of the frequencies each tone from the value 
of said estimated parameters. 
The determination of the number of tones existing in the signal is achieved by 
the computation of the ratio:  
which is theorically equal to 2 in the case of a unique tone, and conversely 
should be 4 in that of a dual tone. The first and final second-order 

autoregressive process are based on the predicting function having the z-transfer 
function: 


 
and which is associated with a Least Mean Square algorithm continuously 
adapting the parameters of the predictor in a sense allowing the minimizing of 

an error signal. On the other hand, the first and final fourth-order 
autoregressive process are based on the predicting function having the z-transfer 

function: 

 
To increase the accuracy of the tone-detection mechanism, the second-order 
autoregressive function is performed with the value of a2 parameter being 

constantly fixed to -1. Similarly, the fourth-order autoregressive process is 
performed with the values of a3 and a4 being respectively equal to a1 and - 

1. 
The digital filter which provides the suppression of most of the noise existing 

in the signal having an unique tone is based on the z-transfer function: 

 
In the case of a dual-tone, the filtering is based on the function: 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CESARO CLAUDE
</INVENTOR-NAME>
<INVENTOR-NAME>
RICHTER GERARD
</INVENTOR-NAME>
<INVENTOR-NAME>
CESARO, CLAUDE
</INVENTOR-NAME>
<INVENTOR-NAME>
RICHTER, GERARD
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to tone-detection and particularly to a method and apparatus
for detecting the tones carried by the telephone lines.Multiple tones are likely to be used in the telephones systems. Firstly, there are
the various control and call status information which are commonly known as
call progress tones which are typically transmitted by a central office and
transmitted to a calling party in order to keep the latter informed of the current
status of the call.Secondly, the call may also be completed with the use of the Dual Tone
Multi-Frequency (DTMF) tones, particularly in use in advanced facsimile
systems or also more sophisticated voice-server applications which rapidly develop,
as in mail-order business or banking applications DTMF signal is a
digital signal, being one of sixteen combinations of four frequencies from a
high-frequency group and four frequencies from a low-frequency group, which
is issued when a push button is depressed on the telephone and familiarly
called a push tone or a dial tone.Figure 1 illustrates the general architecture of a voice-server application based
on a voice-server system 101 which can be accessed by telephones 103 located
anywhere in the country through the telephone network.In addition to the necessity of handling the numerous call-progress tones which
are likely to be found on the telephone line, the modern tone-detection systems 
must have a high level of discrimination since each of the multiples tones which
are likely to be found on the network, e.g. th e dial-tone, ring-back tone, busy
tone, alerting tones, reorder tone, etc... has a different frequency value in each
country.Considering the common dial-tone signal: while the dial-tone signal has a frequency
value of 440 Hz in France, the same consists of a 425 Hz tone having
a specific cadence in Italy, and is a continuous tone made by combining signals
having frequencies of 350 Hz and 440 Hz in the U.S.Various digital tone detection systems exist in the art. Some are based on a
sophisticated Fast Fourier Transformation (FFT), while others use digital
band-pass filters which are adjusted at the desired frequencies to be detected.
The former systems necessitate a great deal of digital processing resources and
the latter can not easily adjusted to match the wide range of tones which exists
in the different countries.Therefore, there is a need in the industry for a simple call-progress
method
which can match with characteristics of the numerous telephone networks existing
in the different countries.The
</DESCRIPTION>
<CLAIMS>
Method for detecting at least one tone in a multifrequency
dual-tone signal in a telecommunication system having

digital signal processing resources characterized in that
if involves the steps of:


computing (201) the value of the energy of the
signal,
processing (201) said received signal to determine the
existence of one or two tones in said signal,
applying a second-order or fourth-order autoregressive
process in response to said determination and performing

(203, 208) a first estimation of the autoregressive
parameters of said received signal,
performing a digital band-pass filtering operation
(205,210) adjusted to the result of the estimation of said

autoregressive parameters to provide a partial elimination
of the noise existing on said received signal,
reapplying (205, 210) a second-order or fourth-order
autoregressive process in response to said determination

and performing a final estimation of the autoregressive
parameters of said received signal,
computing (206, 211) the values of the frequencies of each
tone from the value of said estimated parameters.
Method according to claim 1 characterized in that said
determination step for determining the existence of one or

two tones in said signal comprises the steps of: 

computing the value of the ratio,

A
2
max
E

wher
e A
max
 corresponds to the maximum value of the signal
during a sampling window and E the energy
comparing said computed ratio to a determined threshold
value,
in response to said comparison, reporting the existence
of a unique tone when said ratio appears to be lower than

said threshold value.
Method according to claim 2 characterized in that said
threshold value is fixed to "3".
Method according to claim 2 characterized in that, in
response to the determination of an unique tone, said

first and said final second-order autoregressive process
is based on a predicting function having the z-transfer

equation:

1
a
1
×
z
-1
+
a
2
×
z
-2
and associated with a Least Mean Square algorithm which
tends to adapt the parameters of said predicting function

so that to minimize the error resulting from the
difference between said received signal and the estimated

signal computed from said z-transfer function.
Method according to claim 4 characterized in that said
second-order autoregressive process is performed with the 

value of a2 parameter being constantly fixed to -1.
Method according to claim 4 characterized in that, in
response to the determination of an unique tone in said

signal, said digital filtering operation is based on a
digital filter having the z-transfer function:


1
1-2µ cos(2Π
F
Δ
t
)×
z
-1
+µ
2
×
z
-2
Method according to claim 6 characterized in that said
"mu" parameter is fixed to a value comprised within the

range 0.90 and 0.95
Method according to claim 2 characterized in that, in
response to the determination of a dual-tone, said first

and said final fourth-order autoregressive process is
based on a predicting function having the z-transfer

equation:

1
a
1
×
z
-1
+
a
2
×
z
-2
+
a
3
×
z
-3
+
a
4
×
z
-4
and associated with a Least Mean Square algorithm which
tends to adapt the parameters of said predicting function

so that to minimize the error resulting from the
difference between said received signal and the estimated

signal computed from said z-transfer function.
Method according to claim 8 characterized in that said
fourth-order autoregressive process is performed with the

value of a3 and a4 parameters being constantly fixed to a1
and -1. 
Method according to claim 8 characterized in that, in
response to the determination of a dual-tone in said

signal, said digital filtering operation is based on a
digital filter having the z-transfer function:


1
1-2µ cos(2Π
F
1
Δ
t
)
z
-1
+µ
2
z
-2
+
1
1-2µ cos(2Π
F
2
Δ
t
)
z
-1
+µ
2
z
-2
Method according to claim 8 to 10 characterized in that,
in response to the determination of an unique tone in said

signal, it further involves the step of:

computing the autocorrelation functions Rxx(1) and
Rxx(2) of said received signal, and
calculating the energy of each of said tone from said
computed autocorrelation functions Rxx(1) and Rxx(2) in

accordance with the equation.


cos 2Π
F
1
Δ
t
cos 4Π
F
1
Δ
t
cos 2Π
F
2
Δ
t
cos 4Π
F
2
Δ
t
P
1
P
2
 = 
R
xx
(1)
R
xx
(2)
Apparatus for detecting at least one tone in a
multifrequency dual-tone signal in a telecommunication

system having digital signal processing resources
characterized in that it includes means for performing the steps

of the method according to claims 1 to 11.
</CLAIMS>
</TEXT>
</DOC>
