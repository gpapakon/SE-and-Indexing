<DOC>
<DOCNO>EP-0658042</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Dropped-form document image compression
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N1417	G06K900	G06K920	G06K964	H04N1417	G06K900	H04N1411	H04N1411	G06K966	G06K920	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	G06K	G06K	G06K	H04N	G06K	H04N	H04N	G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	G06K9	G06K9	G06K9	H04N1	G06K9	H04N1	H04N1	G06K9	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The present invention provides a method and apparatus 
for compressing images of financial instruments and other 

documents. The method of the present invention includes the 
steps of scanning a plurality of documents to obtain an 

electronic image of each document; identifying a static 
portion in the electronic image of each of the documents, 

containing information which remains substantially unchanged 
for the plurality of documents, by locating and reading a 

document identifier in the image; storing the document 
identifier in a database; identifying a dynamic portion, 

typically containing distinct information for each of the 
documents, in each of the electronic images; isolating the 

dynamic portion from the static portion within the image to 
obtain a dynamic image containing only the dynamic portion; 

and storing the dynamic image in the database. The present 
invention provides efficient techniques for identifying and 

isolating dynamic information in a document, such as 
handwritten text on a check. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NCR INT INC
</APPLICANT-NAME>
<APPLICANT-NAME>
NCR INTERNATIONAL, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
GRAF HANS PETER
</INVENTOR-NAME>
<INVENTOR-NAME>
MAYER DANIEL J
</INVENTOR-NAME>
<INVENTOR-NAME>
GRAF, HANS PETER
</INVENTOR-NAME>
<INVENTOR-NAME>
MAYER, DANIEL J.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates generally to improvements
in document storage, retrieval and transmission. More
particularly, the present invention relates to improvements
in compressing electronic images of documents.It is often desirable to store documents such as, for
example, checks or other financial instruments in a bank, or
public records, deeds, court records and the like in a
government office. In many of these high-volume
applications, the actual documents are stored. However,
physical document storage typically involves substantial
storage facility and manpower expenses. Because each
document must be physically delivered to or located within
a particular file, the storage and retrieval process is slow
and documents are often improperly filed or mislaid.One solution to the physical document storage problem
is to store electronic images of the documents rather than
the actual documents. This approach at present typically
involves scanning the entire document to generate an
electronic image, which may then be stored in a database
memory location. The electronic image may be retrieved
within a fraction of the time required in physical storage
facilities. In addition, copies of the document image may
be readily transmitted over data communication links for use
in other locations, without physically removing the document
from its file in order to, for example, make photocopies.
However, a significant problem with this approach is the
size, measured in bits, of the electronic image. In
general, electronic document images include a large number
of bits, and therefore require substantial storage and 
transmission capacity. Even when using known coding
techniques to compress the image bits, such as the CCITT
Group-3 and Group-4 image coding standards for facsimile
machines, the total image size is still excessive. For
example, assuming a facsimile scanning resolution of about
100 to 200 dots/inch, an electronic image of a single page
of type-written, double-spaced text will include about
40,000 bytes, or 320,000 bits, in a i-dimensional Group-3
format, or about 30,000 bytes, or 240,000 bits, in a Group-4
2-dimensional format. In many high-volume applications, the
cost of the additional capacity to store or transmit
electronic images may well outweigh the costs associated
with physical document storage and retrieval.A presently available technique for reducing image size
involves masking off certain portions of the document prior
to generating the electronic image. For example, the
scanner may be directed
</DESCRIPTION>
<CLAIMS>
A method for generating a compressed image of a document which includes both
static information and dynamic information, comprising


generating at least one colour image of the document, the image including a static
image corresponding to the portion of the document containing static information portion

and a dynamic image corresponding to the portion of the document containing dynamic
information; and characterized by the steps of:
comparing features of the colour image with a predetermined threshold to generate a
binary image;
extracting a set of image features by comparing the binary image with an
appropriate set of convolution kernels;
determining a colour spectrum range of the extracted set of image features;
filtering out image components of the extracted set of image features outside the
determined colour spectrum range to obtain a thresholded image; and
isolating the dynamic image corresponding to the dynamic portion of the document
from the thresholded image.
A method according to claim 1, further including the steps of

storing a document identifier of the document and the dynamic image corresponding
to the dynamic portion of the document in a database;
retrieving the document identifier from the database;
generating the static image corresponding to the static portion of the document
based upon the document identifier;
retrieving the dynamic image corresponding to the dynamic portion of the document
from the database; and
reconstructing an image of the document by overlaying the dynamic image on the
static image.
A method according to claim 1, characterized in that the step of isolating the
dynamic portion of the document comprises performing connected component analysis on

the thresholded image.
A method according to claims 1 or 3, characterized in that the step of isolating the
dynamic portion of the document includes extracting a second set of image features by

comparing the thresholded image with an appropriate set of convolution kernels.
A method according to claim 1, further comprising the step of enhancing the
contast of the colour image by histogram equalization, prior to generation of the binary

image.
A method according to claim 1, further comprising the step of enhancing the
contast of colour image by edge enhancement, prior to generation of the binary image.
A method according to claim 1, characterised in that the set of image features are
extracted from predefined fields of the binary image of the document.
A method according to claim 1 or 7, characterized in that only image features
having a specified orientation of edges and strokes are extracted from the binary image.
A method according to claim 8, characterized by the step of measuring the stroke
thickness of one or more portions of the extracted set of image features.
A method according to claim 9, characterized in that the step of measuring the
stroke thickness includes performing a cross-correlation of feature maps generated from the

colour image. 
A method according to claim 1, characterized in that a plurality of colour spectrum
ranges of the extracted set of image features are determined, a separate thresholded image

is generated for each colour spectrum range and the separate thresholded images are
recombined before or after isolation of the dynamic image portion of the document.
A method according to any preceding claim, characterized in that the dynamic
information comprises handwritten text.
A method for generating a compressed image of a bank check according to any
preceding claim.
An apparatus for generating a compressed image of a document which includes
both static information and dynamic information comprising image generation means for

generating at least one colour image of the document, the image including a static image
corresponding to the portion of the document containing static information portion and a

dynamic image corresponding to the portion of the document containing dynamic
information, characterized by


comparison means for comparing features of the colour image with a predetermined
threshold to generate a binary image;
feature extraction means for extracting a set of image features by comparing the
binary image with an appropriate set of convolution kernels;
colour spectrum range determination means for determining a colour spectrum range
of the extracted set of image features;
filtering means for filtering out image components of the extracted set of image
features outside the determined colour spectrum range to obtain a thresholded image; and
isolation means for isolating the dynamic image corresponding to the dynamic
portion of the document from the thresholded image.
An apparatus according to claim 14, wherein a first database stores a plurality of
preprinted check forms identified by an identifier in said static portion. 
An apparatus according to claim 14 wherein a second database stores dynamic
portions from a plurality of documents.
An apparatus according to claim 14, further including means for recombining said
dynamic portion with at least one of said static portions in order to reconstruct said image

of one of said documents.
An apparatus according to claim 14, characterized in that said image generation
means for generating at least one color image from said electronic image of said document

includes a color scanner for generating a red, a green, and a blue image.
</CLAIMS>
</TEXT>
</DOC>
