<DOC>
<DOCNO>EP-0632663</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Apparatus and method for adaptively interpolating a full color image utilizing luminance gradients.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T340	G06T340	H04N904	H04N904	H04N907	H04N907	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T3	G06T3	H04N9	H04N9	H04N9	H04N9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Adaptive interpolation is performed by 
apparatus operating upon a digitized image signal 

obtained from an image sensor having color photosites 
that generate a plurality of color values, but only one 

color per photosite. A digital processor obtains 
gradient values from the differences between luminance 

values in vertical and horizontal image directions. 
The gradient values are compared to a programmable 

threshold in order to select one of the directions as 
the preferred orientation for the interpolation of 

additional luminance values. The interpolation is then 
performed upon values selected to agree with the 

preferred orientation. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
EASTMAN KODAK CO
</APPLICANT-NAME>
<APPLICANT-NAME>
EASTMAN KODAK COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HIBBARD ROBERT H C O EASTMAN K
</INVENTOR-NAME>
<INVENTOR-NAME>
HIBBARD, ROBERT H. C/O EASTMAN KODAK COMPANY
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention pertains to the field of 
electronic imaging, in particular to the generation of 
color images. A single-sensor camera detects the spatially 
varying intensity of light at image locations 
corresponding to a regular pattern of pixel locations 
on the sensor. In a color single-sensor camera, a 
color filter array overlies the sensor such that the 
sensor detects the intensity of colors at varying pixel 
locations according to a regular color filter array 
(CFA) pattern of, generally, three colors. Ordinarily, 
the CFA is a regular pattern of color filters for 
detecting only one color at each pixel location. 
Consequently, a single sensor color camera does not 
capture original data corresponding to all three colors 
for each pixel. Instead, it captures one color for 
each pixel, so that interpolation is required to 
construct three full color image planes for each image. A typical camera system generates red, green, 
and blue colors. A color filter array interpolation 
algorithm is used to convert the image from a sparsely 
sampled color image (one color per pixel) to a full 
red, green, blue (RGB) image (i.e., RGB for each 
pixel). Most color filter array patterns have a high-frequency 
signal that is sampled more regularly, and 
more frequently, in the pattern than the other colors. 
In an RGB image, this high frequency signal is green; 
it is also referred to as the luminance signal, which 
represents the higher frequency detail and the maximum 
sensitivity of the human eye. Ordinarily, traditional  
 
bilinear interpolation is used to generate a full green 
image plane. For instance, the green data from green 
pixels on either side of a red or blue pixel (i.e., a 
"missing green" pixel) are used to interpolate the 
"missing green" value for the red or blue location. 
Then, traditional bilinear interpolation of color 
difference signals, also called chrominance signals, is 
utilized to interpolate the other colors of the CFA 
pattern for each pixel. A traditional method of this 
type is disclosed in U.S. Patent No. 4,642,678. A problem with such traditional methods is 
that they are prone to colored edge artifacts in the 
image. This problem can be treated through use of more 
sophisticated interpolation techniques, such as 
described in U.S. Patent No. 4,630,307, which uses 
prior knowledge about features existing in the 
neighborhood. The image data is utilized to determine 
the appropriate algorithm, and the missing data is 
reconstructed using the selected algorithm. For 
example,
</DESCRIPTION>
<CLAIMS>
Apparatus for processing a digitised image 
signal obtained from an image sensor (12) having color 

photosites that generate a plurality of color values, 
but only one color value for each photosite location, 

said apparatus comprising: 
   means (18) for storing the digitized image signal 

as an image-wise pattern of luminance and chrominance 
values, wherein some photosite locations lack luminance 

values; 
   a processor (22) operative with said storing means 

(18) for generating an additional luminance value 
missing from a photosite location by the interpolation 

of the additional luminance value for such locations 
from luminance values at nearby photosite locations, 

said processor (22) including 
   means (40) for generating gradient values from the 

differences between luminance values in at least two 
image directions; 

   means (42) for comparing the gradient values to one 
or more thresholds; 

   means (42) responsive to the threshold comparison 
for selecting one of said at least two image directions 

as a preferred orientation for the interpolation of the 
additional luminance value; and 

   means (44) for interpolating the additional 
luminance value from luminance values selected to agree 

with the preferred orientation. 
Apparatus as claimed in claim 1 wherein said 
one or more thresholds are adjustable. 
Apparatus as claimed in claim 1 wherein sated at 
least two image directions are horizontal and vertical 

directions. 
Apparatus as claimed in claim 1 wherein said 
image-wise pattern of luminance and chrominance 

comprises chrominance values interspersed in a 
 

checkerboard pattern of luminance values. 
Apparatus as claimed in claim 5 wherein said 
luminance color is green, and said chrominance colors 

are red and blue. 
A method for interpolating missing color values 
from a digitized image signal obtained from a color 

image sensor (12)having photosites that generate a 
pattern of color values, one value for each photosite 

location, said method comprising the steps of: 
   obtaining gradient values from the differences 

between color values in at least two image directions; 
   evaluating the gradient values relative to a 

predetermined threshold; 
   selecting, based on the step of evaluating the 

gradient values, a preferred orientation for the 
interpolation of the missing color values; and 

   interpolating each missing color value from like 
color values at nearby locations selected to agree with 

the preferred orientation. 
A method for interpolating missing luminance 
values from a digitised image signal obtained from a 

color image sensor (12) having photosites that generate 
a pattern of actual luminance and chrominance values, 

one actual value for each photosite location, said 
method comprising the steps of: 

   obtaining gradient values from the differences 
between actual luminance values in vertical and 

horizontal image directions; 
   comparing the gradient values to a predetermined 

threshold; 
   selecting the image direction, in which the 

comparing step indicates scene structure, for the 
interpolation of the missing luminance values; and 

   interpolating each missing luminance value from 
actual luminance values at nearby locations 

corresponding with the selected direction, and thereby 
with the scene structure. 
</CLAIMS>
</TEXT>
</DOC>
