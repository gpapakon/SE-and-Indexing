<DOC>
<DOCNO>EP-0614143</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Data processing system with power-fail protected memory module
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1114	G06F1216	G06F130	G06F130	G06F1114	G06F1216	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F11	G06F12	G06F1	G06F1	G06F11	G06F12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A data processing system preserves the contents of a 
volatile memory in the event of a power-loss and restores 

the contents upon a power-up. The system includes an AC 
line monitor (14) which signals when a power loss is 

imminent; volatile memory modules (26, 28); and a central 
processor (24) which executes programs in conjunction 

therewith. At any specific time during program execution, 
the volatile memory (26, 28) stores data indicative of the 

system's state. A backup disk drive (34, 36) is connected 
to each volatile memory module (26, 28) and is associated 

with a backup battery (38, 40). The backup battery (38, 
40) is of limited capacity and only enables sufficient 

operation of the disk drive (34, 36) and volatile memory 
(26, 28) to enable a memory dump onto the disk drive (34, 

36) from the volatile memory (26, 28). A logic circuit 
(50) is responsive to a signal from the line monitor (14) 

to activate the backup battery (38, 40) and to control the 
volatile memory module (26, 28) and the backup disk drive 

(34, 36) to effect a transfer of all stored data in the 
volatile memory (26, 28). Thus, upon a subsequent power 

up, a system state in existence at the time of the power 
loss can be reestablished by reading out the contents of 

each backup disk drive (34, 36) into its associated 
volatile memory module (26, 28). 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HARWELL JOHN CECIL
</INVENTOR-NAME>
<INVENTOR-NAME>
RUSNACK MICHAEL R
</INVENTOR-NAME>
<INVENTOR-NAME>
HARWELL, JOHN CECIL
</INVENTOR-NAME>
<INVENTOR-NAME>
RUSNACK, MICHAEL R.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a data processing system according 
to the preamble of claim 1. A data processing system 
of this type is known from the US-A-5,396,637. One reason for the increased success of multi-user computing 
systems arises from the fact that their designs include substantial provisions for 
coping with power failures. Such systems have facilities that afford the user 
the luxury of experiencing a loss of primary power, and enable the system to 
resume processing as if no loss of supply voltage had been experienced. In 
general, such systems require battery back-up or some other power supply 
replacement that is activated in the event of a failure of the A/C main supply. With the increasing complexity of multi-user computing systems, 
and a resulting geometric increase in the amount of available solid state memory 
in such systems, power fail protection requires substantially increased amounts 
of standby power. More specifically, the backup power supply must enable the 
data in the volatile memory bank to be stored prior to a total loss of supply 
voltage. The volatile memory must then be returned to the same state after 
power is restored. At typical speeds, using a disk to store data dumped from 
the volatile memory, substantial time may be required to accomplish such 
storage actions. For instance, if a multi-user system includes a 1-gigabyte 
quantity of data, such transfer would consume over 3 minutes of disk operating 
time. Future systems are expected to grow upwards of 4-gigabytes and thus, it 
would theoretically take over 10 minutes to save the data and another 10 
minutes to reload. Recent advances in the disk drives have led to the introduction of 
extremely small disk drives that are both inexpensive and high capacity. For 
instance, one such disk drive employs 1.3 inch disks, is smaller than a normal 
cigarette package, stores 40 megabytes and is available at a cost of less than 
$400. Such disk drives enable the storage of substantial amounts of data in a 
small package at very low cost.  
 The JP-A-4,283,825 discloses a semiconductor disk device, having 
a semiconductor memory, a plurality of memory access control 
parts which write and read data on and out of the semiconductor 
memory, a plurality of nonvolatile medium control 
parts which write the data read out by the memory access control 
part on a plurality of nonvolatile medium. A control 
means sends the data saving indication to the nonvolatile medium 
control parts and the memory access control parts and
</DESCRIPTION>
<CLAIMS>
A data processing system wherein data stored in a volatile 
memory is preserved in the event of a power interruption, 

said data processing system comprising: 

power monitor means (14) coupled to a power source (12) 
for signalling when a power interruption is imminent; 
volatile memory means (26, 28); 
central processing means (24) for executing programs in 
conjunction with said volatile memory means (26, 28), 

said volatile memory means (26, 28) storing data indicative 
of a system state of said data processing system at 

times during execution of said programs; 
backup disk drive means (34, 36) connected to said volatile 
memory means (26, 28); 
backup battery means (38, 40) connected to said backup 
disk drive means (34, 36) and said volatile memory means 

(26, 28); and 
logic means (50) responsive to a signal from said power 
monitor means (14) to activate said backup battery means 

(34, 36) and to control said volatile memory means (26, 
28) and said backup disk drive means (34, 36) to effect a 

transfer of all stored data in said volatile memory means 
(26, 28) to said backup disk drive means (34, 36), whereby, 

upon a subsequent power up, a system state in 
existence at said signal from said power monitor means 

(14) can be reestablished by reading out the contents of  
 

said backup disk drive means (34, 36) to said volatile 
memory means (26, 26), wherein 
said backup disk drive means (34, 36) is comprised of a 
plurality of disk drives (34, 36) and said volatile memory 

means (26, 28) is comprised of a plurality of random 
access memory (RAM) modules (26, 28), each of said RAM modules 

(26, 28) is connected to a separate backup disk drive 
(34, 36) via a dedicated backup bus, and each of said backup disk drives (34, 36) has 

sufficient memory capacity to accommodate all data 
in a connected RAM module (26, 28); each of said connected 

RAM modules (26, 28) and backup disk drives (34, 36) is 
provided with a dedicated backup battery (38, 40), having 

sufficient power 
capacity to enable a complete 

transfer of data in said RAM module (26, 28) 
to the corresponding backup disk drive (34, 36) each of said RAM modules (26, 28) and connected backup disk 

drives (34, 36) is connected with an error correction 
code generating means (42, 44) for assuring data integrity 

of data transferred between a RAM module (26, 28) and 
a backup disk drive (34, 36); and each of said RAM modules (26 28) , connected backup disk drives 

(34, 36), dedicated batteries (38, 40) and error correction code generating means (42,44) are mounted 
on a removable memory card (45, 47) as an integral unit. 
The system of claim 1, characterized in that the power 

monitor means (14) comprises line monitor means for signalling 
a power loss.  

 
The system as in one of the preceding claims wherein said 
backup battery means (38, 40) is provided with a predetermined 

electric storage capacity and is rechargeable, 
said back-up battery means (38, 40) enabling a complete 

transfer of data in said volatile memory means (26, 28) 
to said backup disk drive means (34, 36), said predetermined 

electric storage capacity enabling said backup battery 
means (38, 40) to power said transfer of data with a 

power safety margin. 
The system as in one of the preceding claims, further 
comprising
 
power switch means (20) coupled to the power source (12) 

for said data processing system for controlling the on/off 
state of said power source (12), wherein said power 

monitor means (14) comprises on/off monitor means for 
signalling when said power source (12) is off. 
</CLAIMS>
</TEXT>
</DOC>
