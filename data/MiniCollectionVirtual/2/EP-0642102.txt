<DOC>
<DOCNO>EP-0642102</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Apparatus and method for image processing
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T1510	G06T1520	G06T1500	G06T1500	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T15	G06T15	G06T15	G06T15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A decrease in the speed of arithmetic operations is 
achieved in a three-dimensional computer graphics 

process. In a pre-process unit (14), a model coordinate 
system of a model read out from a model information 

storage unit (11) to a display coordinate system, and 
the model is converted to a texture in a picture-drawing 

process unit (15). There is provided a virtual canvas 
on which the model is attached, and the virtual canvas 

is subjected to perspective transformation. In the perspective 
transformation, polygon-by-polygon transformation 

is not performed, but four apices surrounding a 
texture model are subjected to arithmetic operations, 

and an approximation process is performed among the 
apices. When the texture model is attached to the imaginary 

canvas, a texture digital differential arithmetics 
(DDA) operation is performed and the obtained data is 

sent to a display (18) via a display control unit (17). 

 
</ABSTRACT>
<APPLICANTS>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an image processing
method and an image processing apparatus for three-dimensional
(3D) computer graphic processing.Recently, game machines, etc. using computer
graphics (CG) have been developed. Most of such game
machines comprise two-dimensional CG systems. The
reason for this is that in the case of 3D-CG, it is necessary
to subject model information (a base model)
expressed by a model coordinate system to coordinate
transformation to convert the model information to a
world coordinate system (i.e. the state in which the
entire peripheral environment is expressed) and then to
convert the world coordinate system to a visual-point
coordinate system (i.e. the state of a drawn picture
with a back-and-forth relationship from a visual point).
These processes require a great number of AND/OR arithmetic
operations. Moreover, when the visual-point system
is converted to a display coordinate system,
perspective transformation is necessary in order to
obtain a stereoscopic picture and the perspective transformation
requires division. In a game in which real-time
properties are required, a very-high-speed
arithmetic operation apparatus is needed to perform
these processes. This type of game machine is,
therefore, expensive. Under the circumstances, 3D-CG
game machines are used at limited places such as game 
arcades, etc.As has been described above, in a conventional
real-time 3D computer graphics, a great number of arithmetic
operations (mainly division) are performed for
each polygon, in particular, in a perspective transformation
process, and an arithmetic operation load
increases greatly, see e.g. EP 0 286 416 A for reference. If an expensive arithmetic operation
apparatus is not used, the processing speed decreases
and high-speed picture drawing cannot be achieved.
Furthermore, the manufacturing cost increases.The object of the present invention is to provide
an image processing method and apparatus which is effectively
applicable to household game machines, etc.,
wherein a real-time 3D-CG with not so high performance
of high-speed arithmetic operations.According to this invention, there is provided an
image processing apparatus comprising: a model information
storage unit for storing model information of a
model composed of polygons and storing a world map;
position-determining/clipping means for determining a
position of the model by using the world map, and determining
a display object model by a clipping process;
display coordinate transformation means for transforming
a
</DESCRIPTION>
<CLAIMS>
An image processing apparatus comprising:

a model information storage unit (11) for storing
model information of a model composed of polygons and

storing a world map;
position-determining/clipping means (14) for determining
a position of said model by using said world map,

and determining a display object model by a clipping
process;
display coordinate transformation means (14) for
transforming a model coordinate system of said display

object model to a display coordinate system; said apparatus characterised by:
picture-drawing means (15) for polygon-drawing said
display object model as texture data or sprite data on

the basis of information of the converted display coordinate
system obtained by said display coordinate transformation

means, and storing the obtained model
temporarily;
means (14) for setting a virtual canvas corresponding
to said display object model, said virtual canvas being a flat plane on which the model is situated, subjecting the virtual

canvas to perspective transformation by using coordinates
of apices of the virtual canvas, and forming a

perspective-transformed imaginary canvas; and
display control means (17) for storing, in a matching
display memory, texture data or sprite data of

said display object model formed by said picture-drawing
means on said perspective-transformed virtual canvas.
An image processing method implemented on an image processing apparatus comprising the steps
of:


determining a position of a model composed of polygons
by using model information of said model and a

world map stored in an information storage unit, and
determining a display object model by a clipping process

(steps S1 to S3);
transforming a model coordinate system of said display
object model to a display coordinate system 

(step S4); said method characterised by:
polygon-drawing data of said display object model
as texture data or sprite data on the basis of coordinate

information of the converted display coordinate
system obtained by said coordinate transforming step,

and storing the obtained data temporarily in an off-screen
area of a display memory (steps S5 and S6);
setting a virtual canvas corresponding to said display
object model, said virtual canvas being a flat plane on which the model is situated, subjecting the virtual canvas to perspective

transformation by using coordinates of apices
of the virtual canvas, and forming a perspective-transformed

imaginary canvas; and
storing, in a matching display memory, texture data
or sprite data of said display object model in said

off-screen area on said perspective-transformed virtual
canvas (steps S10 and S11).
The image processing apparatus according to
claim 1, characterized in that depth information (Z)

obtained by said position-determining means for determining
the display position of the display object model

for the world map information is used as a perspective
transformation value, 1/Z, of each apex for perspective

transformation of the virtual canvas.
The image processing apparatus according to
claim 1, characterized in that an arithmetic operation

process for matching a texture of said display object
model on said perspective-transformed virtual canvas is

a DDA, Digital Differential Arithmetics, process.
</CLAIMS>
</TEXT>
</DOC>
