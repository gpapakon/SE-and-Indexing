<DOC>
<DOCNO>EP-0660215</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Protected programmable memory cartridge for a computer system.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F100	G06F100	G06F1214	G06F1214	G06F2100	G06F2100	G06F2122	G06F2122	G06F2124	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F1	G06F1	G06F12	G06F12	G06F21	G06F21	G06F21	G06F21	G06F21	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A computer system for high-performance video and audio 
manipulations comprising a locked memory cartridge (14) and an 

audio/video/compact disk (CD) drive controller/coprocessor (32). The 
computer system has a central processing unit (30) (CPU) with at least 

one bus associated therewith, with the bus having at least one bus line. 
The cartridge comprises a readable memory (50), a memory control circuit 

(54), a lock control circuit (56), and a connector (376) all in circuit 
communication with each other. The connector allows the memory, the 

memory control circuit, and the lock control circuit to be pluggably 
connected in circuit communication with the CPU. The memory control 

circuit scrambles some of the bus lines, thereby scrambling the data in 
the memory on reset, and unscrambles the bus lines responsive to inputs 

from the lock control circuit. The lock control circuit monitors the 
bus, waiting for a proper combination of bus values to be asserted onto 

the bus, at which time the lock control circuit causes the memory control 
circuit to unscramble the bus lines. The audio/video/CD drive 

controller/coprocessor comprises a CPU interface, a CPU cache, a memory 
controller, a memory bus arbitrator, a DRAM refresher, a video 

controller, a CD drive controller, a digital signal processor (DSP) sound 
coprocessor, and a "blitter" graphics coprocessor in an integrated 

package. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
COMBS JAMES LEE
</INVENTOR-NAME>
<INVENTOR-NAME>
COMBS, JAMES LEE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a computer system having a 
removable programmable memory cartridge with an address-scrambling 
protection circuit to prevent unauthorized cartridges from being used in 
the computer system and to prevent use of the cartridge in unauthorized 
systems. Video graphics computer systems are well known, popular consumer 
products. A typical system includes a data processing unit that connects 
to an ordinary television set for displaying images of a game or other 
application. The data processing unit receives controlling software from 
a read only memory (ROM) that is usually packaged in the form of a 
cartridge. The cartridge is removably plugged into the data processing 
unit. At least one pointing device, such as a mouse, joystick, touchpad, 
switch pad, or light gun, is also connected to the data processing unit 
to allow the player to input positional information that is used by the 
controlling software to execute the application. The data processing unit typically has a single central processing 
unit (CPU) and associated volatile and non-volatile memory, including all 
random access memory (RAM) and bootstrap read-only memory (boot ROM), a 
television (RF video) signal generator, and an input/output (I/O) 
processor to interface to the various pointing devices. These devices 
are in circuit communication. One distinguishing characteristic of these 
systems is the use of a motherboard or system planar to electrically 
connect these components together. In such computer systems, the components communicate via electrical 
signals; therefore, many components must be in electrical circuit 
communication to allow the signals to pass from component to component. 
These electrical signals are typically carried by electrical connections 
between the system components. Typical types of electrical connections 
include metal traces on a printed circuit board (PCB), vias between 
different levels of multilayer PCBs, plated through holes, plugs, and 
individual wires connected from pin to pin of system components. 
Typically groups of electrical signals and groups of electrical 
connections that carry the electrical signals are referred to as a "bus." 
Thus, a reference to a 'bus' can indicate a reference to a group of 
electrical signals, a group of electrical connections that carry the  
 
electrical signals, or a reference to both a group of electrical signals 
and a group of electrical connections that carry the electrical signals. Buses are typically made up of "bus lines." A
</DESCRIPTION>
<CLAIMS>
A memory cartridge (14) for a computer system having a central 
processing unit (CPU) with at least one bus associated therewith, and the 

bus having at least one bus line, the memory cartridge comprising: 
   a memory (50); 

   a memory control circuit (54) in circuit the memory; 
   a lock control circuit (56) in circuit communication with the 

memory control circuit; and 
   a connector (376) in circuit communication with the memory, the 

memory control circuit, and the lock control circuit for connecting the 
memory, the memory control circuit, and the lock control circuit in 

removable circuit communication with the CPU; 
   the memory control circuit having an unlocked state in which, when 

the CPU accesses the memory, the output of the memory read into the CPU 
for a given address corresponds to the value stored at that address in 

the memory, and a locked state in which, when the CPU accesses the 
memory, the output of the memory read into the CPU for a given address 

corresponds to a value other than the value stored at that address in the 
memory; 

   the memory control circuit being configured to switch from the 
locked state to the unlocked state in response to inputs from the lock 

control circuit; and 
   the lock control circuit causing the memory control circuit to 

enter the locked state in response to the occurrence of a first set of 
preselected events, and causing the memory control circuit to enter the 

unlocked state in response to the occurrence of a second set of 
preselected events. 
A memory cartridge as claimed in claim 1, wherein the memory 
control circuit comprises: 

   a bus line scrambler in circuit communication with the memory and 
the connector;

 
   the lock control circuit causing the bus line scrambler to 

scramble the at least one bus line of the at least one bus in response to 
the occurrence of a first set of preselected events, and causing the bus 

line scrambler to cease scrambling the at least one bus line in response 
to the occurrence of a second set of preselected events. 
A memory cartridge as claimed in claim 1, wherein the memory 
control circuit comprises: 

   a bus line decoder in circuit communication with the memory and 
the connector; 

   the lock control circuit causing the bus line decoder to cease 
decoding the at least one bus in response to the occurrence of a first 

set of preselected events, and causing the bus line decoder to decode the 
at least one bus in response to the occurrence of a second set of 

preselected events. 
A memory cartridge as claimed in claim 3, comprising a tone 
generation circuit configured to generate a tone responsive to the 

occurrence of at least one of a third set of preselected events. 
A method for ensuring that a memory cartridge having a readable 
memory is authorized for use in a computer system having a central 

processing unit (CPU) in circuit communication with the readable memory 
via at least one bus having at least one bus line, the method comprising 

the steps of: 
   scrambling the at least one bus line of the at least one bus; 

   detecting a preselected set of events; and 
   unscrambling the at least one bus line of the at least one bus 

responsive to the detection of a preselected set of events. 
A method as claimed in claim 5 wherein the step of detecting a 
preselected set of events comprises the detection of at least one bus 

value asserted on the at least one bus. 
An authentication system for determining whether a memory 
cartridge is authorized for use in a computer system (12), the 

authentication system comprising: 
   a central processing unit (30) (CPU) having at least one bus 

associated therewith, and wherein the at least one bus includes at least 
one bus line; and 

   an addressable memory cartridge as claimed in any of claims 1 to 
4. 
A system as claimed in claim 7 wherein one of the preselected 
events comprises the system powering up. 
A system as claimed in claim 7 wherein one of the preselected 
events comprises the system resetting. 
A system as claimed in claim 7 wherein one of the preselected set 
of events comprises at least one bus value asserted on the at least one 

bus. 
A method for authentication for use in a computer system having a 
first region of memory mapped to a first addressable memory device and a 

second region of memory mapped to a second addressable memory device, the 
method comprising the steps of: 

   executing code from the first region in memory; 
   asserting addresses into the second region in memory without 

executing the code within the second memory device associated with the 
respective addresses; 

   executing code from the second region in memory. 
A method as claimed in claim 11 comprising the step of copying a 
block of memory from the second region of memory to the RAM. 
A method for ensuring that a memory device having a readable 
memory is authorized for use in a computer system having a first central 

processing unit (CPU) and a second central processing unit in circuit 
communication with the readable memory, and having a random access memory 

 
(RAM) in circuit communication with the first and second CPUs, the method 

comprising the steps of: 
   copying a first program capable of executing on the second CPU 

from the readable memory to the RAM with the first CPU; 
   executing the first program with the second CPU; 

   copying a block of memory incapable of executing on the first CPU 
to RAM with the second CPU; 

   transforming the block of memory into a second program capable of 
executing on the first CPU; and 

   executing the second program on the first CPU. 
A method as claimed in claim 13 wherein the step of transforming 
the block of memory comprises the step of decompressing the block of 

memory. 
A method as claimed in claim 13 wherein the step of transforming 
the block of
 memory comprises the step of descrambling the block of 
memory. 
A method as claimed in claim 13 wherein the step of transforming 
the block of memory comprises the step of locating an executable portion 

of the block of memory and communicating to the first CPU the location of 
the executable portion of the block of memory. 
A system as claimed in claim 7 comprising: 
   an audio/video/CD drive controller/coprocessor in circuit 

communication with the CPU via the at least one bus; and 
   a system memory in circuit communication with the audio/video/CD 

drive controller/coprocessor via a second bus; 
   the A/V/CD controller/coprocessor including an arbitrator for 

arbitrating control over the system bus, a memory interface, a graphics 
coprocessor, a digital signal processor, a compact disk controller, and a 

video controller all in circuit communication with the CPU and the system 
 

memory and each configured such that any one of the CPU, the graphics 
coprocessor, the digital signal processor, the compact disk controller, 

and the video controller may become bus master of the second bus. 
A system as claimed claim 7 comprising an audio/video/CD drive 
controller/coprocessor in circuit communication with the CPU via the at 

least one bus; an interrupt controller for interfacing interrupts to the 
CPU and the arbitrator responsive to the interrupt controller such that 

the CPU does not have the highest priority for control over the second 
system bus until an interrupt occurs and is detected by the interrupt 

controller. 
A computer system comprising: 
   a central processing unit (30) (CPU) in circuit communication with 

an audio/video/CD drive controller/coprocessor (32) via a first system 
bus; 

   a system memory (34) in circuit communication with the 
audio/video/CD drive controller/coprocessor via a second system bus; 

   the A/V/CD controller/coprocessor including an arbitrator for 
arbitrating control over the second system bus, a memory interface, a 

graphics coprocessor, a digital signal processor, a compact disk 
controller, and a video controller all in circuit communication with the 

CPU and the system memory and each configured such that any one of the 
CPU, the graphics coprocessor, the digital signal processor, the compact 

disk controller, and the video controller may become bus master of the 
second system bus. 
A computer system as claimed in claim 18 further comprising an 
interrupt controller for interfacing interrupts to the CPU and the 

arbitrator responsive to the interrupt controller such that the CPU does 
not have the highest priority for control over the second system bus 

until an interrupt occurs and is detected by the interrupt controller. 
</CLAIMS>
</TEXT>
</DOC>
