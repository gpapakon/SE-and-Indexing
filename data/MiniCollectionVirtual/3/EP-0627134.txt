<DOC>
<DOCNO>EP-0627134</DOCNO> 
<TEXT>
<INVENTION-TITLE>
METHOD AND APPARATUS FOR MONITORING BATTERY CAPACITY WITH CHARGE CONTROL
</INVENTION-TITLE>
<CLASSIFICATIONS>G01R3136	H02J700	H01M1048	G01R3136	H01M1042	H01M1042	H02J710	H02J700	H02J710	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01R	H02J	H01M	G01R	H01M	H01M	H02J	H02J	H02J	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01R31	H02J7	H01M10	G01R31	H01M10	H01M10	H02J7	H02J7	H02J7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A battery detect circuit (32) is connected to the battery with the current input to the battery and extracted from the battery measured with a sense resistor (50) and then converted to charge and discharge pulses with a V/F converter (52). A microcontroller (64) is operable to increment a Nominal Available Charge (NAC) register (180) during a charge operation, and to increment a Discharge Count Register (DCR) (184) during a discharge operation. The NAC register (180) indicates the available charge, which value is output to a display (34). The maximum value to which the NAC value can rise is limited by a value stored in the last measured discharge register (182). This value represents the value stored in the DCR (184) whenever the battery is discharged from an apparent full state to a fully discharged state. This results in a qualified transfer to the LMD register (182) such that no knowledge of the actual battery charge is necessary. The charge rate is varied as both a function of temperature, voltage and also of the state of charge. A fast charge rate is initiated when the charge state is above a predetermined low voltage threshold and less than full. When the charge state reaches a level within approximately 80 % of full charge, the charge rate is reduced. At full capacity, the charge rate is further reduced to a top off charge rate which continues for approximately two hours. If the temperature falls below a predetermined low temperature threshold, the charge rate is again reduced to a safe, slow, effective rate. Trickle charge is provided to replenish charge adaptively in accordance with a self-discharge counter. The trickle charge operates to momentarily pulse the battery (10) at a predetermined charge rate.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
BENCHMARQ MICROELECT INC
</APPLICANT-NAME>
<APPLICANT-NAME>
BENCHMARQ MICROELECTRONICS, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
FREEMAN DAVID LOUIS
</INVENTOR-NAME>
<INVENTOR-NAME>
LANDAU JOHN EDWARD
</INVENTOR-NAME>
<INVENTOR-NAME>
MATTHEWS WALLACE EDWARD
</INVENTOR-NAME>
<INVENTOR-NAME>
FREEMAN, DAVID, LOUIS
</INVENTOR-NAME>
<INVENTOR-NAME>
LANDAU, JOHN, EDWARD
</INVENTOR-NAME>
<INVENTOR-NAME>
MATTHEWS, WALLACE, EDWARD
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention pertains in general to rechargeable batteries and,
more particularly, to circuitry for controlling the charging operation and
monitoring the parameters of the battery during and after the recharging
operation. With the advent of portable electronic systems for personal and business
use, rechargeable batteries have seen an increased and widespread use. One
problem that has risen with respect to rechargeable batteries has been the length of
time that a battery can be used after it has been charged. Although manufacturers
rate a battery for a given portable computer or battery operated device as to the
number of hours that it will operate, the actual operating time is a function of a
number of parameters. For example, personal computers provide a variable load
which is a function of the peripheral devices that are activated, such as the screen,
the hard disk, etc., such that the operating life of the battery will vary as a
function of how often these peripheral devices are used. Power consumption by
the peripherals has conventionally been reduced by utilizing increasingly
sophisticated power management tools to minimize the amount of power that is
drained from the battery, thus extending the operating time of the battery for a
given charge. Another problem encountered with rechargeable batteries is partial
charging. The manufacturers specifications are directed toward a relatively new
battery with a "full" charge. If, for some reason, the battery does not have a full
charge, the user has no knowledge of how much operating time he has on a
particular battery. Since rechargeable batteries typically have a relatively flat
voltage over their charge life, very little warning is typically available as to when
the battery is nearing its end of discharge. Further, the condition of a battery,
i.e., its age, etc., also effects the amount of charge that can be stored in a given
battery. This could result in a fully charged battery driving the battery operated
device for a shorter period of time than expected. Battery-pack systems have been developed to provide information regarding
the condition of the battery, the state of charge of the battery, etc., with these
devices integrated into the battery-pack itself. Such a device is disclosed in U.S.
Patent No. 4,289,836, issued to Lemelson on September 15, 1981. These battery-pack
systems have been utilized with the battery to both condition the battery and
provide some information as to the amount of charge that is in the battery, i.e., a
measure
</DESCRIPTION>
<CLAIMS>
A battery charge controller for controlling the delivery of charge to a battery (10)
from a charger (20), comprising:


a) a charging device (22) operating at a defined charge rate to determine selectively
the rate of charging of the battery;
b) a charge monitoring circuit (16) having a battery capacity indicator (32-34) for

providing a charge state corresponding to the amount of charge stored in the battery (10)
relative to a capacity value thereof; and
c) a charge rate controller (360) for selectively determining said defined charge rate,
said charge rate controller operable to vary said defined rate as a function of said charge

state in accordance with predetermined criteria;

the battery charge controller characterised in that:
the charge monitoring circuit is operable to monitor charge flowing into and out of
the battery and the charge monitoring circuit further includes:


capacity determining means (182) for determining and storing a capacity value
(LMD) indicative of the total charge storable on the battery;
charge state determining means (180) for determining and storing a charge state
value (NAC) of the battery (10) corresponding to the amount of charge presently stored in

the battery relative to the capacity value thereof and in which the charge state value is
incremented and decremented in response to the charge state monitoring circuit sensing

respective battery charging and discharging and wherein the charge state value is
incremented up to a value no greater than the capacity value;
a discharge detector (84, EDV1) that detects an end point value at which the
battery is fully discharged;
a discharge register (184) storing a discharge register value (DCR)
corresponding to an amount of charge measured by the charge monitoring circuit as being

discharged from the battery during a discharge operation; and
transfer means (64) arranged to substitute, at the end of the discharge operation,
the discharge register value as the capacity value if the discharge operation is determined to

have been completed from a starting point at which the charge state value (NAC) is equal to
the capacity value (LMD) to the end point at which the battery is fully discharged.
The battery charge controller according to claim 1, wherein said predetermined
criteria by which said charge rate controller determines said defined charge rate requires a

first charge rate when said charge state is less than said capacity value, and requires said
defined charge rate to be at a second charge rate after said charge state value is substantially

less than said capacity value, said second charge rate being lower than said first charge rate.
The battery charge controller according to claim 2, further comprising a voltage
monitor to determine the voltage of the battery, wherein said predetermined criteria by

which said defined charge rate is determined requires said defined charge rate to be at a first
charge rate when the voltage of the battery is greater than a predetermined low battery

voltage or less than a predetermined high battery voltage, and requires said defined charge
rate to be at a substantially lower charge rate compared to said first charge rate when the

battery voltage is less than a predetermined low battery threshold or greater than a high
battery threshold.
The battery charge controller according to claim 1, 2 or 3, further comprising a
temperature monitor to determine a temperature of the battery, wherein said predetermined

criteria wherein said predetermined criteria by which said defined charge rate is determined
requires a first charge rate when the temperature of the battery is between a low

temperature threshold and a high temperature threshold, and requires said defined charge
rate to be at a substantially lower charge rate compared to said first charge rate when the

temperature is below said low temperature threshold or above said high temperature
threshold.
The battery charge controller according to claim 2, wherein said predetermined
criteria by which said defined charge rate is determined requires said defined charge rate to

be at a first charge rate that is substantially constant until said charge value is within a
predetermined percentage of said capacity value, said predetermined criteria requiring said

defined charge rate to be at a second and lower charge rate relative to said first charge rate
when said charge state value is within a predetermined percentage of said capacity value. 
The battery charge controller according to claim 2, wherein said predetermined
criteria by which said defined charge rate is determined requires said defined charge rate to

be at a first charge rate when said charge state value is less than a value substantially equal
to said capacity value, and requires said defined charge rate to be at a second and lower

charge rate after said charge state value has reached a value not substantially less than said
capacity value, said controller operating at said second charge rate for a predetermined

amount of time during which said charge state value has reached a value not substantially
less than said capacity value.
The battery charge controller according to claim 6, wherein said predetermined
criteria by which said defined charge rate is determined requires said defined charge rate to

be at a third charge rate lower than said second charge rate after said predetermined amount
of time that said charge state value does not fall below a point not substantially less than

said capacity value.
The battery charge controller according to any one of claims 2 to 7, further
comprising:


a self-discharge device operable to indicate as a self-discharge; and
wherein said controller is operable to increase said defined charge rate by a
predetermined amount that is a function of said self-discharge.
A method of controlling the delivery of charge to a battery (10) from a charger (20),
the method comprising the steps of:


a) operating a charging device (22) at a defined charge rate to charge the battery;
b) providing a charge state corresponding to an amount of charge stored in the
battery (10) relative to a capacity value thereof; and
c) selectively determining said defined charge rate to vary said defined rate as a
function of said charge state in accordance with predetermined criteria;


the method characterised by the steps of:
monitoring charge flowing into and out of the battery; 
determining and storing a capacity value (LMD) indicative of the total charge
storable on the battery;
determining and storing a charge state value (NAC) of the battery (10)
corresponding to the amount of charge presently stored in the battery relative to the capacity

value thereof;
incrementing and decrementing the charge state value in response to a sensing of
respective battery charging and discharging and wherein the charge state value is

incremented up to a value no greater than the capacity value;
detecting an end point value at which the battery is fully discharged;
storing a discharge register value (DCR) corresponding to an amount of charge
measured as being discharged from the battery during a discharge operation; and
substituting, at the end of the discharge operation, the discharge register value as the
capacity value if the discharge operation is determined to have been completed from a

starting point at which the charge state value (NAC) is equal to the capacity value (LMD) to
the end point at which the battery is fully 
discharged.
The method according to claim 9, wherein the defined charge rate determined in the
step of varying the defined charge rate in accordance with predetermined criteria disposes

the defined charge rate at a first charge rate when the charge state is less than the capacity
value and at a second and lower charge rate when the charge state is substantially equal to

or greater than said capacity value.
The method according to claim 9, further comprising the step of:

measuring the battery voltage and wherein the defined charge rate determined in the
step of varying in accordance with predetermined criteria disposes the charge rate at a first

charge rate when the voltage is greater than a predetermined low threshold voltage and less
than a second predetermined high voltage threshold.
The method according to claim 9, further comprising the step of:

determining a temperature of the battery and wherein the defined charge rate
determined in the step of varying in accordance with predetermined criteria disposes the 

charge rate at a first charge rate when the temperature is above a predetermined low
temperature threshold and below a predetermined high temperature threshold.
The method according to claim 9, wherein the defined charge rate determined in the
step of varying in accordance with the predetermined criteria disposes the charge rate at a

first charge rate when the charge state is less than the capacity value and then disposes the
charge rate at a second and lower charge rate when the charge state is determined to be

substantially not less than the capacity value, the second charge state being operated for a
predetermined amount of time after the charge state is determined to be not substantially

less than the capacity value.
The method according to claim 13, wherein the defined charge rate determined in
the step of varying in accordance with the predetermined criteria disposes the charge rate at

a third charge rate after the predetermined amount of time that the charge state is
substantially not less than the capacity value, the third charge rate being lower than the

second charge rate.
The method according to claim 14, further comprising the step of measuring the
temperature of the battery and wherein the defined charge rate determined in the step of

varying in accordance with the predetermined criteria disposes the charge rate at the third
charge rate when the temperature is less than a predetermined low temperature threshold or

greater than a predetermined high temperature threshold.
The method according to claim 13, further comprising the step of operating said
controller at the second charge rate for the predetermined amount of time operable to

increase the charge state such that a fully discharging operation at a later time will vary the
capacity value to a new capacity value.
</CLAIMS>
</TEXT>
</DOC>
