<DOC>
<DOCNO>EP-0654765</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Ink rendering
</INVENTION-TITLE>
<CLASSIFICATIONS>G09G500	G06T1180	G06F3048	G06F3041	G06T520	G06T1180	G06F3041	G06T520	G06F3048	G06T1120	G09G500	G06T1120	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G09G	G06T	G06F	G06F	G06T	G06T	G06F	G06T	G06F	G06T	G09G	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G09G5	G06T11	G06F3	G06F3	G06T5	G06T11	G06F3	G06T5	G06F3	G06T11	G09G5	G06T11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A pen-based computer (10) in which the lines drawn by a user are anti-aliased 
incrementally by applying a smoothing filter to the relatively high resolution pen sensor 

(18) image and subsampling the result to provide a relatively low resolution image (16) 
which is displayed using greyscale. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MCCARTHY DOMINIC PAUL
</INVENTOR-NAME>
<INVENTOR-NAME>
REYNOLDS DAVID EVERETT
</INVENTOR-NAME>
<INVENTOR-NAME>
MCCARTHY, DOMINIC PAUL
</INVENTOR-NAME>
<INVENTOR-NAME>
REYNOLDS, DAVID EVERETT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to ink rendering in pen-based computers and is
concerned particularly with smoothing the lines drawn by a user of a pen-based computer.Pen-based computers are normally portable and require lightweight input/output display
screens. The display is often the most expensive component in these devices and LCD
(liquid crystal display) screens are normally used. Devices capable of receiving freehand
input usually include a pen/stylus for the user to make freehand input onto the display
screen. Such devices include an image sensor for detecting the freehand user input
associated with the screen.The term freehand input is intended to cover all types of input made by the user with a pen
on the input screen of a pen-based computer including handwriting, drawing and any other
form of scribble. The present invention would also apply to computers permitting the user
to write, draw, scribble with devices other than pens and/or directly with a finger should
these become available.Capturing handwriting on an LCD using some form of pen sensor has previously been
performed by calculating the pen position and drawing a vector or spline from the last
known pen position. The algorithm for drawing the vector or spline typically involves
simply turning pixels on the curve on or off as appropriate. The resultant effect of such
drawing is aliasing ie. a rather jagged line at the LCD screen resolutions of 90 dpi (dots per
inch) which are commonly used today.Greyscale, which is the use of levels of grey rather than simply black and white, makes an
image appear to be of higher resolution than it actually is and can help to create the
appearance of smoother lines in a pen-based computer. In this specification the term 'n-level
greyscale' means the actual number of greyscale levels, not the number of bits needed
to store each greyscale value. For example, 4-level greyscale would require 2 bits of
storage.One known approach utilising greyscale to achieve anti-aliasing of lines drawn on computer
screens is the 'partial inking' approach and a useful reference is J. Foley, A. van Dam, S.
Feiner and J. Hughes, 'Computer Graphics: Principles and Practice' published by Addison
Wesley, 1990. Partial inking involves calculating the ink level for pixels according to what
fraction of the pixel would be covered by the (theoretical) line being drawn. This is a 
relatively crude approach which has the advantage of being low in cost but which is rather
limited in the quality of result which can be achieved.Another
</DESCRIPTION>
<CLAIMS>
A computer (10) comprising:

means (14) enabling a user to make freehand input;
a display (12) for displaying display pixels stored at a first resolution and capable of
displaying images using at least four level greyscale;
sensing means (18) for incrementally capturing freehand input as electronic ink, and
from which a sensed image comprising inked and uninked image pixels at a second resolution

can be obtained, where the second resolution is greater than the first resolution; and
means (26) for filtering the sensed image using a low pass convolution kernel and for
subsampling the filtered high resolution image so as to incrementally update the display

pixels and hence display, at the first resolution, an anti-aliased version of the incrementally
captured freehand input, wherein each incremental updating of a display pixel is cumulative

to an existing value of the display pixel.
A computer (10) according to claim 1 wherein the means for updating the display
pixels is adapted only to update in respect of inked image pixels that were previously

uninked.
A computer (10) according to claim 1 wherein the means for updating the display
pixels is adapted to update in respect of newly inked image pixels whether or not previously

inked.
A computer (10) according to claim 3 wherein the updating means is adapted to set
display pixels to a maximum greyscale level if the maximum greyscale level would otherwise

be exceeded. 
A computer (10) according to claim 1 wherein the convolution kernel is a discrete
approximation of the sinc kernel.
A computer (10) according to claim 5 wherein the convolution kernel is a triangular
approximation of the sinc kernel.
A computer (10) according to claim 6 wherein the convolution kernel is substantially:

A computer (10) according to any preceding claim in which the second resolution is
an integral number of times greater than the first resolution.
A computer (10) according to claim 8 in which the second resolution is twice that of
the first resolution.
A computer (10) according to any preceding claim which is operable to display output
at or below sixteen level greyscale.
</CLAIMS>
</TEXT>
</DOC>
