<DOC>
<DOCNO>EP-0651574</DOCNO> 
<TEXT>
<INVENTION-TITLE>
METHOD AND APPARATUS FOR CODING/DECODING MOTION VECTOR, AND METHOD AND APPARATUS FOR CODING/DECODING IMAGE SIGNAL
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N754	H04N726	H04N750	H04N746	H04N750	G06T900	H04N736	H04N752	H04N746	H04N736	H04N726	G06T900	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	G06T	H04N	H04N	H04N	H04N	H04N	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N7	H04N7	H04N7	H04N7	H04N7	G06T9	H04N7	H04N7	H04N7	H04N7	H04N7	G06T9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An apparatus decoding a coded motion vector and comprising register memories (PMV) the number of which 
is equal to the sum of the maximum transmission numbers N and M of the motion vectors predicted in the forward 

and backward direction. A motion vector counter counts the transmission number of motion vectors, and outputs a 
signal representing the number of motion vectors. A register index designating signal generator designates the index 

of [1 to N ((N + 1) - (N + M))] in the transmission order of motion vectors predicted in the forward or backward 

direction in accordance with the attached information such as the motion compensation mode, predication type, picture 
structure, and others of the motion vector, and the signal from the motion vector counter, and then throws a switch 

to correlate the register memories (PMV) with the motion vectors one to one. A differential circuit calculates the 
difference between the motion vector inputted into it, and the value fetched from the register memory (PMV) correlated 

in accordance with the motion compensation mode and others. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SONY CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SONY CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KATO MOTOKI
</INVENTOR-NAME>
<INVENTOR-NAME>
KATO, MOTOKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a motion vector difference
determination (calculation) method and a motion vector difference
determination (calculation) element for determining (calculating)
a difference between motion vectors by motion compensating
prediction of a moving picture, a method for determination of
reconstructed motion vector from difference and an element for
determination of reconstructed motion vector from difference, and
a moving picture coding apparatus and a moving picture decoding
apparatus for coding and decoding a moving picture signal to
which determination of difference and determination of
reconstructed motion vector from difference are applied,
respectively.In the case of digitizing a signal of a moving picture to
record and transmit digital data thus obtained, because its data 
quantity becomes very large, coding (compression) is implemented
to the data. As a representative coding system, there is a
motion compensating predictive coding.The principle of motion compensating prediction is shown in
FIG. 9. In FIG. 9, the motion compensating predictive coding is
a method utilizing correlation in a time base direction of a
picture signal. This method predicts a currently inputted
picture (picture of current frame) from a known picture signal
already decoded and reproduced (picture signal of past frame) to
move the known picture signal decoded and reproduced (picture
signal of past frame) in correspondence with motion of signal to
transmit only motion information (motion vector MV) at that time
and predictive error information at that time, thus to compress
information quantity required for coding.As a representative one of motion compensating predictive
coding and decoding methods as described above, there is so
called MPEG (Moving Picture Expert Group) 1. This MPEG1 is a
popular name of the moving picture coding system which has
progressed in WG (Working Group) 11 of SC (Sub Committee) 29 of
JTC (Joint Technical Committee) 1 of so called ISO (International
Standardization Organization) and IEC (International
Electrotechnical Commission).MPEG1 has intraframe and interframe coding processing, and
the motion compensating predictive coding is used in the case of
the interframe coding processing. An example of motion 
compensating prediction at this time is shown in FIG. 10. In
FIG. 10, in the motion compensating prediction at this time, one
frame (picture) is divided into small blocks (called macro blocks
(MB) and each is comprised of 16 lines x 16 pixels) to carry out
motion compensating
</DESCRIPTION>
<CLAIMS>
A method of coding motion vector of macroblock coded in the
forward prediction mode, the backward prediction mode or the

bidirectional prediction mode,

   the method comprising the steps of:

detecting order of transmission of current motion vectors
in a predetermined direction within one macroblock,
selecting one of L number of memories for motion vectors in
the predetermined direction on the basis of the detected order

of transmission to readout a former motion vector in the
predetermined direction, and
subtracting the former motion vector in the predetermined
direction from the current motion vectors in the predetermined

direction, thus to sequentially generate current difference
motion vectors in the predetermined direction.
A motion vector coding method as set forth in claim 1,

   wherein the memories selected on the basis of the order of
transmission are sequentially updated by the current motion

vectors in the predetermined direction.
A motion vector coding method as set forth in claim 2,

wherein in the case where the number of transmission of the
current motion vectors in the predetermined direction with 

respect one macroblock is less than L, the remaining memories for
motion vector in the predetermined direction are sequentially

updated by the current motion vectors in the predetermined
direction.
A method of reconstructing motion vectors of
macroblock coded in the forward prediction mode, backward

prediction mode, or the bidirectional prediction mode,

   the method comprising the steps of:

detecting order of reception within macroblock of received
difference motion vectors in a predetermined direction;
selecting one of L number of memories for motion vectors in
the predetermined direction on the basis of the detected order

of reception to read out a reconstructed motion vector in the
predetermined direction already reconstructed,
adding the difference motion vectors in the predetermined
direction and the reconstructed motion vector in the

predetermined direction already reconstructed, thus to
sequentially generate new reconstructed motion vectors in the

predetermined direction.
A method of reconstructing motion vectors as set
forth in claim 4,

   wherein the memories selected on the basis of the order of
reception are sequentially updated by the new reconstructed 

motion vectors in the predetermined direction.
A method of reconstructing motion vectors as set
forth in claim 5,

   wherein in the case where the number of reception of the
difference motion vectors in the predetermined direction with

respect to one block is less than L, the remaining memories for
motion vector in the predetermined direction are sequentially

updated by the new reconstructed motion vectors in the
predetermined direction.
An apparatus for coding motion vector of macroblock coded
in the forward prediction mode, the backward prediction mode, and

the bidirectional prediction mode, comprising:

L number of memories for motion vector in a predetermined
direction for storing motion vectors in the predetermined

direction,
means for detecting order of transmission of current motion
vectors in the predetermined direction within one macroblock,
means for selecting one of the L number of memories for
motion vector in the predetermined direction on the basis of the

detected order of transmission, thus to read out a former motion
vector in the predetermined direction, and
means for subtracting the former motion vector in the
predetermined direction from the current motion vectors in the 

predetermined direction, thus to sequentially generate current
difference motion vectors in the predetermined direction.
A motion vector coding apparatus as set forth in claim 7,

   wherein the memories selected on the basis of the detected
order of transmission are sequentially updated by the current

motion vectors in the predetermined direction.
A motion vector coding apparatus as set forth in claim 8,

   wherein in the case where the number of transmission of the
current motion vectors in the predetermined direction with

respect to one macroblock is less than L, the remaining memories
for motion vector in the predetermined direction are sequentially

updated by the current motion vectors in the predetermined
direction.
An apparatus for reconstructing motion vectors of
macroblock coded in the forward prediction mode, the backward

prediction mode or the bidirectional prediction mode, comprising:

L number of memories for motion vector in a predetermined
direction for storing motion vectors in the predetermined

direction,
means for detecting the order of reception within the
macroblock of received motion vectors in the predetermined

direction, 
means for selecting one of L number of memories for motion
vector in the predetermined direction on the basis of the

detected order of reception to read out a reconstructed motion
vector in the predetermined direction already reconstructed, and
means for adding difference motion vector in the
predetermined direction and the reconstructed motion vector in

the predetermined direction already reconstructed, thus to
sequentially generate new reconstructed motion vectors in the

predetermined direction.
An apparatus for reconstructing motion vectors as
set forth in claim 10,

   wherein the memories selected on the basis of the order of
reception are sequentially updated by the new reconstructed

motion vectors in the predetermined direction.
An apparatus for reconstructing motion vectors as
set forth in claim 11,

   wherein in the case where the number of reception of the
motion vectors in the predetermined direction with respect to one

macroblock is less than L, the remaining memories for motion
vector in the predetermined direction are sequentially updated.
</CLAIMS>
</TEXT>
</DOC>
