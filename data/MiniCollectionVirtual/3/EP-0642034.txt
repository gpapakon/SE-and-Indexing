<DOC>
<DOCNO>EP-0642034</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Distance measuring method and apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>G01S1706	G01S748	G01S1700	G01S7491	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01S	G01S	G01S	G01S	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01S17	G01S7	G01S17	G01S7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The invention provides a distance measuring method and apparatus wherein a 
point of time when reflected slit light (2) passes a cell array (8) constituting an imaging 

plane (7) can be detected accurately. Each of the cells constituting the imaging plane 
includes a pair of photo-sensors (20A, 20B) disposed side by side along the direction 

of movement of the reflected slit light. A comparator (24) compares photoelectric 
currents outputted from the pair of photo-sensors, and a point of time at which the 

reflected slit light moves from a first one to a second one of the photo-sensors of the 
cell is determined based on the output of the comparator. The point of time (tx) thus 

detected is determined as a point of time at which the reflected slit light passes the cell 
and is used for measurement of the distance to the subject for measurement. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SONY CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SONY CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SATO KOSUKE
</INVENTOR-NAME>
<INVENTOR-NAME>
YOSHIGAHARA TAKAYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
SATO, KOSUKE
</INVENTOR-NAME>
<INVENTOR-NAME>
YOSHIGAHARA, TAKAYUKI,
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a distance measuring
method and apparatus suitable for use for measurement of
a shape of a three-dimensional object.In distance measurement based on an optical
cutting method which makes use of slit light, a three-dimensional
position of a subject for measurement can be
determined based on triangulation using, as shown in
Fig. 13, a direction of projection of slit light from a
light source, a sight line direction of a camera
including a lens and an imaging plane and a positional
relationship between the light source and the camera.Recently, much effort is directed to
investigations for scanning of slit light by means of a
rotary mirror to effect such distance measurement as
described above at a high speed, and various methods
have been proposed. In a most popular one of the
methods, a plurality of cells are disposed in a matrix
to form an imaging plane, and a point of time at which 
slit light passes a point (small area) of a subject for
measurement which is being measured by each cell, that
is, a point of time when the slit light reflected from
the subject for measurement passes each cell, is
detected. Then, based on the points of time thus
detected, an angular position of a mirror by which the
slit light is being scanned is determined to make a
distance measurement. The method is disclosed in
detail, for example, in Japanese Patent Laid-Open
Application No. JP-A-62-228106.In the conventional distance measuring method
described above, one photo-sensor (such as, for example,
a photodiode or a phototransistor) is disposed for each
of the cells of the imaging plane, and a threshold level
is set for photoelectric currents outputted by photo-sensors
to detect passage of the slit light.
Accordingly, the conventional distance measuring method
is disadvantageous in the following points:Firstly, the amount of slit light reflected from
the subject for measurement and projected to the imaging
plane and the spatial extent of the slit light in its
widthwise direction (refer to Fig. 14) depend upon a
condition, a direction and so forth of a surface of the
subject for measurement. As shown in Fig. 15, when the 
amount of light is small, the photoelectric current of a
photo-sensor may not exceed the threshold level, and
consequently, the slit light cannot be detected. On the
other hand, when the amount of the slit light differs,
also the variation in photoelectric current flowing
through a cell with respect to time differs, and some
displacement is produced at a point of time when the
slit
</DESCRIPTION>
<CLAIMS>
A distance measuring method comprising the steps of:

scanning slit light (2) in a direction along a surface of a subject for
measurement (4);
receiving the slit light reflected from the subject for measurement on an
imaging plane (7) constituted from a plurality of cells (8) each including a pair of

photo-sensors (20A, 20B);
for each of said cells, comparing the magnitudes of photoelectric currents
outputted from the photo-sensors with each other; and
detecting the position of the surface of the subject for measurement based
on the results of the comparing step for said cells;

   characterised in that:

the slit light reflected from the subject for measurement is scanned across
said plurality of cells in a first direction;
said pair of photo-sensors (20A,20B) of each cell are disposed, side by
side, along said first direction;
there is further provided the step of determining, on the basis of the result
of the comparing step, a point in time (tx) at which the reflected slit light moves

from one to the other of the photo-sensors of each of said cells and designating the
determined point in time as the point in time at which the reflected slit light passes

the cell; and
the detecting step comprises detecting the position of the surface of the
subject for measurement based on the points in time designated for the cells of the

imaging plane.
A distance measuring apparatus, comprising:

means (1) for emitting slit light to a subject (4) for measurement and
scanning the slit light in a direction along a surface of the subject for measurement;
means (8) for receiving the slit light reflected from the subject for
measurement on an imaging plane (7), said receiving means including a plurality

of cells which define said imaging plane, each of said cells including a pair of 
photo-sensors (20A,20B) and a comparator (24) for comparing magnitudes of

photoelectric currents outputted from said photo-sensors; and
means (14) for measuring the position of the surface of the subject for
measurement based on the output from the comparators of the plurality of cells;

   characterised in that:

during use, the reflected slit light scans across the plurality of cells in a first
direction;
the pair of photo-sensors (20A, 20B) of each cell are disposed, side by
side, along said first direction;
there is provided means for detecting a point in time at which an output of
said comparator of each of said cells exhibits a reversal of the relationship in

magnitude between the output photoelectric currents of said photo-sensors of the
cell; and
the means (14) for measuring the position of the surface of the subject (4)
for measurement is adapted to measure the position based on the points in time

detected by the detecting means for the plurality of cells of the imaging plane.
A distance measuring apparatus according to claim 2, and comprising

a memory (10) for storing therein the point in time detected for each of said
cells by said detecting means as a point in time at which the reflected slit light

passes the cell;
wherein the means (14) for measuring the position of the surface of the
subject for measurement is adapted to measure the position based on the points in

time stored in said memory.
A distance measuring apparatus according to claim 3, wherein said
comparator includes first and second invertors (I3, I4) each having an input

terminal connected to an output terminal of the other invertor, a first switch (A3)
connected between an output terminal of a first one of said photo-sensors and a

junction between the input terminal of said first invertor and the output terminal of
said second invertor, a second switch (A4) connected between an output terminal

of a second one of said photo-sensors and a junction between the output terminal 
of said first invertor and the input terminal of said second invertor, and a third

switch (AS) connected between the input terminal and the output terminal of said
first invertor, and further comprising control means for putting, in a first phase,

said first, second and third switches into a short-circuited condition to reset the
outputs of said photo-sensors (20A, 20B) and the outputs of said first and second

invertors (I3, I4) to an intermediate potential, for putting, in a second phase, said
third switch into a short-circuited condition to place the outputs of said first and

second invertors (I3, I4) to an intermediate potential to cause said photo-sensors to
discharge and for putting, in a third phase, said first and third switches into a

short-circuited condition.
A distance measuring apparatus according to claim 3, wherein each of said
cells (20A, 20B) further includes a pair of amplifiers (22A, 22B) for amplifying the

outputs of the respective corresponding photo-sensors, a first one of said
amplifiers including a first invertor (11) for reversing the output of a first one of

said photo-sensors and a first switch (A1) connected between an input terminal
and an output terminal of said first invertor, a second one of said amplifiers (22B)

including a second invertor (I2) for reversing the output of a second one of said
photo-sensors and a second switch (A2) connected between an input terminal and

an output terminal of said second invertor, said comparator (24) including third
and fourth invertors (I3, I4) each having an input terminal connected to an output

terminal of the other invertor, a third switch (A3) connected between an output
terminal of said first invertor (I1) and a junction between the input terminal of said

third invertor (I3) and the output terminal of said fourth invertor (I4), a fourth
switch (A4) connected between an output terminal of said second invertor and a

junction between the output terminal of said third invertor and the input terminal
of said fourth invertor, and a fifth switch (A5) connected between the input

terminal and the output terminal of said third invertor, said distance measuring
apparatus further comprising control means for putting, in a first phase, said first

and second switches into a short-circuited condition to reset the outputs of said
first and second invertors (I1, 12) to an intermediate potential, for causing, in a

second phase, said photo-sensors to discharge, for putting, in a third phase, said 
fifth (A5) switch into a short-circuited condition to place the outputs of said third

and fourth invertors (I3, I4) to an intermediate potential and for putting, in a fourth
phase, said third and fourth switches (A3, A4) into a short-circuited condition.
A distance measuring apparatus according to claim 2, wherein:

said receiving means includes N photo-sensors (20A, 20B) disposed side
by side along said first direction and defining said imaging plane (7), N being an

integer equal to or greater than 3, first comparison means (24) for comparing
magnitudes of photoelectric currents outputted from i-1th and ith ones of said N

photo-sensors, i being an integer equal to or greater than 2, and second
comparison means for comparing magnitudes of photoelectric currents outputted

from ith and i+1th ones of said N photo-sensors; and
said time point detecting means is adapted to detect points in time (tx) at
which outputs of said first and second comparators for the ith photo-sensor exhibit

a reversal of the relationship in magnitude between the output photoelectric
currents of the i-1th and ith photo-sensors and the ith and i+1th photo-sensors,

respectively.
A distance measuring apparatus according to claim 6, and comprising:

a memory (10) for storing therein a point in time determined from the
points in time detected for the ith photo-sensor by said detecting means as a point

in time at which the reflected slit light passes a point of said imaging plane
corresponding to the ith photo-sensor;
wherein said means (14) for determining the position of the surface of the
subject for measurement is adapted to measure the position based on the points in

time stored in said memory.
A distance measuring apparatus according to claim 2, wherein:

said receiving means includes a plurality of photo-sensors (20A, 20B)
disposed side by side along said first direction and defining said imaging plane and

a comparison means (24) provided for each pair of ones of said photo-sensors; 
there is provided timing means for allowing, at a first timing, each of the
comparison means to compare magnitudes of photoelectric currents outputted from

the corresponding pair of photo-sensors and for allowing, at a second timing, each
of the comparison means to compare magnitudes of photoelectric currents

outputted from a second one of the corresponding pair of photo-sensors and a first
one of a next adjacent pair of ones of said sensors (20A, 20B); and
said time point detecting means is adapted to detect points in time (tx) at
which outputs of said comparison means for each pair of ones of said photo-sensors

exhibit a reversal of the relationship in magnitude between the output
photoelectric currents of the first and second photo-sensors of the corresponding

pair and between the output photoelectric currents of the second photo-sensor of
the corresponding pair of photo-sensors and the first photo-sensor of the adjacent

next pair of photo-sensors at the first and second timings, respectively.
A distance measuring apparatus according to claim 8, and comprising:

a memory (10) for storing therein the points in time detected by said
detecting means as points in time at which the reflected slit light passes two

successive points of said imaging plane (7) corresponding to the first and second
photo-sensors of the corresponding pair;
wherein said means (14) for determining the position of the surface of the
subject for measurement is adapted to measure the position based on the points in

time stored in said memory (10).
</CLAIMS>
</TEXT>
</DOC>
