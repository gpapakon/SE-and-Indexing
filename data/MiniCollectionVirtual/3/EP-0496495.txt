<DOC>
<DOCNO>EP-0496495</DOCNO> 
<TEXT>
<INVENTION-TITLE>
DATA RECORDING DEVICE
</INVENTION-TITLE>
<CLASSIFICATIONS>G11B509	G11B509	G11B700	G11B700	G11B70045	G11B70055	G11B2010	G11B2010	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G11B5	G11B5	G11B7	G11B7	G11B7	G11B7	G11B20	G11B20	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method and device for use in measurement and compensation of 
non-linear bitshift in non-linear communication media such as magnetic 

and optical recording devices. The method and device are based on 
special bit patterns constructed to eliminate at least one harmonic of 

the fundamental frequency of the data pattern if all bits are 
communicated without any non-linear bitshift. The presence of 

non-linear bitshift is manifested by the appearance of the harmonic. By 
measuring the magnitude of the harmonic, the amount of non-linear 

bitshift is determined, and compensation adjustment is then used to 
offset its effect on the data detection scheme. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
TANG, YAW SHING
</INVENTOR-NAME>
<INVENTOR-NAME>
TSANG, CHING HWA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates in general to data recording devices and, 
more particularly, to the measurement of and compensation for non-linear 
bitshift in data recording devices. It is well known that when recording closely spaced data bits 
(such as dibits) on a non-linear communication medium, such as a 
magnetic disk or an optical disk, the position of the bits may be 
shifted. This shift, which is called non-linear bitshift, degrades the 
performance of known data detection schemes such as the PRML 
(partial-response-maximum-likelihood) detection scheme, since these 
detection schemes are based on the assumption of a linear channel 
response. It is possible to compensate the non-linear bitshift effect by 
shifting the data bit positions during data writing. However, to design 
a compensation scheme, the magnitude of the non-linear bitshift must be 
known. Unfortunately, measuring the non-linear bitshift has proven 
difficult; the prior art has accomplished such measurement only by means 
of sophisticated and expensive equipment. Several methods requiring such equipment have been proposed for 
measuring non-linear bitshift. One is to compare the data bit response 
with isolated transitions to identify the non-linear bitshift. A second 
uses a specially designed pseudo-random sequence to determine an impulse 
response. The non-linear bitshift is then measured as an echo at a 
known position. A third uses a Volterra modelling technique for 
characterizing non-linear distortion in magnetic recording channels. 
All these methods require complicated data manipulation and high 
precision waveform recording. Thus, all are complex and costly when  
 
used to provide routine measurement of non-linear bitshift such as that 
required in a manufacturing or operational environment. According to a first aspect of the present invention there is 
provided a data recording device comprising: data READ/WRITE means for 
writing data to and reading data from a data storage surface; amplitude 
detector means, responsive to a predetermined periodic data pattern 
recorded on the data storage surface, the predetermined data pattern 
comprising a plurality of pulses having spacings such that at least one 
harmonic of the data pattern has zero amplitude, to measure the 
magnitude of the data pattern at said harmonic when the data pattern is 
readback from the data storage surface; and processor means for 
processing the data to compensate for non-linear bitshift in accordance 
with the measured amplitude. A data recording device
</DESCRIPTION>
<CLAIMS>
A data recording device comprising: 
   data READ/WRITE means for writing data to and reading data from a 

data storage surface; 
   amplitude detector means responsive to a predetermined periodic 

data pattern recorded on the data storage surface, the predetermined 
data pattern comprising a plurality of pulses having spacings such that 

at lease one harmonic of the data pattern has zero amplitude to measure 
the magnitude of the data pattern at said harmonic when the data pattern 

is readback from the data storage surface; and 
   processor means for processing the data to compensate for 

non-linear bitshift in accordance with the measured amplitude. 
A data recording device as claimed in Claim 1 comprising means for 
shifting the spacing of said pulses by a known amount and means for 

determining the direction of non-linear bitshift in the readback data 
pattern according to the difference between the magnitude of non-linear 

bitshift and said known amount of shift. 
A data recording device as claimed in Claim 1 or Claim 2 further 
comprising: 

   memory means for storing said compensation factor; and 
   compensation controller means, responsive to said compensation 

factor, for receiving WRITE data, shifting the spacing of data pulses in 
said WRITE data in accordance with said compensation factor and 

transferring said compensated WRITE data to said data READ/WRITE means 
for recording onto said data storage surface. 
A method of measurement of non-linear bitshift in a data recording 
device having a data storage surface, the method comprising the steps 

of: 

(1) reading back a data pattern from said data storage surface 
said data pattern, when recorded, comprising a plurality of pulses 

having a nulled harmonic frequency of zero amplitude; 
(2) measuring the magnitude of the readback data pattern at said 
nulled frequency. 
A method of compensating non-linear bitshift in a data recording 
device having a data storage surface, the method comprising measuring 

the non-linear bitshift using a method as claimed in Claim 4 and 
converting said measured magnitude into a compensation factor for use 

in processing data to be subsequently written to the disc surface to 
compensate for non-linear bitshift. 
A method of compensating for non-linear bitshift as claimed in 
Claim 5, wherein said converting step includes: 


(a) shifting the spacing of at least one of the pulses in 
said data pattern relative to the other pulses to form a shifted 

data pattern; 
(b) writing said shifted data pattern onto said data storage 
surface; 
(c) reading back said shifted data pattern from said data 
storage surface; 
(d) measuring the magnitude of the readback data pattern at 
said nulled frequency; 
(e) repeating steps (a) through (d) at least once; and 
retaining said data pattern and the one of said shifted data 

patterns having the smallest readback magnitude at said nulled 
frequency as said compensation factor. 
A method of compensating for non-linear bitshift as claimed in 
Claim 6, further comprising the steps of: 

   storing said compensation factor in a memory means; 
   receiving WRITE data from a WRITE data source; and 

   shifting the spacing of data pulses in said WRITE data in 
accordance with said compensation factor. 
A method of compensating for non-linear bitshift as claimed in 
Claim 6, wherein: 

   steps (1) to (3) are performed repetitively, each repetition 
operating on a different data pattern; 

   said retaining step forms a compensation table comprising the 
compensation factors generated by the repetition of steps (1) to (3); 

and 
   further comprising the steps of: 

   storing said compensation table in a memory means; 
   receiving WRITE data from a WRITE data source; and 

   shifting the spacing of data pulses in said WRITE data in 
accordance with said compensation table. 
A method of compensating for non-linear bitshift as claimed in 
Claim 8, wherein said shifting step further comprises the steps of: 

   subdividing said WRITE data into bit patterns having the form of a 
problematic pattern within said data pattern; 

   shifting the spacing of said bit patterns in accordance with said 
compensation table. 
A method of compensating for non-linear bitshift as claimed in 
Claim 9,

 
   wherein said shifting step further comprises the steps of 

   in said WRITE data identifying at least one shifting data pulse, 
where said at least one shifting data pulse is a data pulse which is 

closely preceded by at least one other data pulse; 
   for each said least one shifting data pulse, summing the individual 

effects from all preceding data pulses on said at least one shifting 
data pulse; and 

   shifting the spacing of said at least one shifting data pulse in 
accordance with said sum of individual effects and said compensation 

factors. 
</CLAIMS>
</TEXT>
</DOC>
