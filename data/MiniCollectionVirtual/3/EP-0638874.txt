<DOC>
<DOCNO>EP-0638874</DOCNO> 
<TEXT>
<INVENTION-TITLE>
A system and method for processing images of living tissue
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T540	G06T540	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T5	G06T5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A system and method for processing images of living 
tissue diseases is described. The system includes a computer 

device for controlling its operation. An operator control 
device is coupled to the computer device. A viewing screen is 

coupled to the computer device for displaying digitized images 
of the living tissue. The operator, using the control device, 

selects desired portions of the digitized image for further 
image enhancement according to a desired image enhancement 

feature selectable from a plurality of image enhancement 
features. The image enhancement features include any 

combination of grey scale stretching, contrast enhancement 
based on logarithmic histogram equalization, spot enhancement 

and magnification. The system further includes means for 
visualization and quantification of micro-calcifications, and 

means for visualization and quantification of mass 
spiculations. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
INTERNAT MEDICAL MULTIMEDIA IS
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL MEDICAL MULTIMEDIA (ISRAEL) LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BAMBERGER DR PHILIPPE
</INVENTOR-NAME>
<INVENTOR-NAME>
FIELDS DR SCOTT
</INVENTOR-NAME>
<INVENTOR-NAME>
LEICHTER PROFESSORISAAC
</INVENTOR-NAME>
<INVENTOR-NAME>
BAMBERGER, DR. PHILIPPE
</INVENTOR-NAME>
<INVENTOR-NAME>
FIELDS, DR. SCOTT
</INVENTOR-NAME>
<INVENTOR-NAME>
LEICHTER, PROFESSORISAAC
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a diagnostic
workstation, and more particularly to a computer assisted
system and method useful for the detection and diagnosis of
living tissue diseases.Breast cancer affects a major segment of the female
population over the age of 40. To reduce the mortality from
this disease, it is vital to diagnose it as early as possible.
If breast cancer is detected early enough, chances of cure are
markedly higher. Accordingly, breast cancer screening
projects designed for early detection of breast cancer have
proven to dramatically reduce the mortality from the disease.
Because breast cancer is such a major public health problem,
many health authorities worldwide recommend that women undergo
routine breast examination.Today, the standard methods for detecting breast
cancer are 1) self examination; 2) clinical examination, and
3) radiography of the breast, known as mammography. Routine
mammography screening can reduce mortality from breast cancer.
The American Cancer Society recommends that a baseline
mammogram be taken between the ages of 35 and 39, every one to
two years between the ages of 40-49 and annually on women aged
50 years and older.The main objective of screening mammography is to
detect breast cancer early, before it is palpable. The
standard mammographic procedure is to take two views of each 
breast with specially designed mammography equipment. The
breast is optimally positioned so that as much tissue as
possible can be examined. The radiologist visually examines
the mammographic images on a light box. Using a magnifying
glass, the radiologist examines each image in detail. If the
radiologist detects any suspicious findings on mammographic
examination, he or she may suggest a biopsy of the suspicious
area. Suspicious findings include any abnormalities in the
breast tissue. Abnormalities may be either malignant or
benign, and many times the radiologist cannot diagnose
precisely the type of abnormality from the image.
Additionally, it has been established that 10-30% of women who
indeed have breast cancer have negative mammograms.There are four possible outcomes in screening
mammography:
1)True positiveEarlier detection, treatment and better prognosis;2)True negativeReassurance of no cancer;3)False positiveAnxiety and time, cost and risks of more tests, and4)False negativeDelay in diagnosis and treatment. Worse prognosis.The technical interpretive expertise of the
radiologist is a crucial factor in effective breast cancer
detection. A standard non-invasive procedure
</DESCRIPTION>
<CLAIMS>
A system (11) for processing images of living tissues,
comprising:


a computer device (12) for controlling the operation
of said system;
an operator control device coupled to said computer
device;
a viewing screen (4) coupled to said computer
device for displaying digitized images of said living tissue,

said operator control device selecting desired portions of
said digitized image for further image enhancement according

to a desired image enhancement feature selectable from a
plurality of image enhancement features; and
said plurality of image enhancement features
including any combination of grey scale stretching using an S-shaped

scale conversion curve, contrast enhancement based on
logarithmic histogram equalization, and spot enhancement.
The system (11) according to claim 1 further comprising
means for visualization and quantification of micro-calcifications. 
The system (11) according to claim 2 further comprising
means for visualization and quantification of mass

spiculations.
The system (11) as claimed in any of claims 1 to 3,
further comprising means for displaying the grey level values

of at least one pixel on the digital image.
The system as claimed in any of the preceding claims,
further comprising a network terminal for transmitting

information to other locations.
The system (11) according to claim 1 wherein the computer
device further comprises:


a memory coupled to said computer device for storing
information as directed by said computer; and wherein the grey

scale stretching enhancement features includes
means for generating a plurality of grey scale
conversion curves (350) for converting the grey scale of said

digital image into a new grey scale said grey scale conversion
curves (350) including an exponential curve (352) from a minimum

grey level value to a desired grey level and a logarithmic 
curve (354) from said desired grey level to a maximum grey

level value.
The system (11) according to claim 6 wherein the slope (k) of
said exponential curve and the slope (k) of said logarithmic curve are equal

at said desired grey level.
The system (11) according to claim 7 wherein said slope
is variable.
The system (11) according to claim 8 further comprising
means for generating a look up table representing said grey

scale conversion curve (350).
A method for processing images of living tissues,
comprising the steps of:


providing a digital image of said living tissue to a
computer;
displaying said digital image on a viewing screen;
selecting a portion of said digital image displayed
on said viewing screen;
enhancing the image contained within the selected
portion according to one or more options from a plurality of 

image enhancement features including grey scale stretching
using an S-shaped grey scale conversion curve, contrast

enhancement based on logarithmic histogram equalization, and
spot enhancement.
The method according to claim 10 further comprising the
steps of visualizing micro-calcifications and

quantifying said micro-calcifications.
The method according to claim 11 wherein the steps of
visualizing and quantifying the micro-califications include:


interactively trimming a grey level threshold such
that all pixels above said grey level threshold ar
e
highlighted as micro-calcifications;
estimating the contour of said micro-calcifications
using a region growing process; and
producing an image with micro-calcifications which
closely approximates the actual contour of said micro-calcifications.
The method according to claim 12 further comprising the
steps of: 


suppressing the background image prior to said step
of interactive trimming;
estimating a plurality of parameters of each micro-calcification
region corresponding to brightness, area,

length, shape factor and distance to the nearest micro-calcification
region after said step of producing an image

with micro-calcifications.
A method according to claim 13 further comprising the
steps of:


identifying all pairs of micro-calcifications
within a cluster that are considered to be adjacent using a

triangulation technique;
generating a plurality of line segments connecting
said pairs of adjacent micro-calcifications; and
calculating a plurality of parameters based on said
line segments including the length of each line segment, the

number of neighbours of each micro-calcification and the
density of a micro-calcification cluster.
The method according to any of claims 10 to 14 further
comprising the steps of visualizing mass spiculations and

quantifying said mass spiculations. 
The method according to claim 15 wherein the steps of
visualizing and quantifying the mass spiculations include

   measuring the degree of spiculation of a mass by,
generating a binary gradient image of said digital image said

binary gradient image having identified spiculation pixels.
The method according to claim 16 further comprising the
steps of:


measuring spiculation ratio based on said binary
gradient image;
generating histogram of spiculation pixels;
calculating the shift, the slope and the height of
said histogram of spiculation pixels.
The method according to any of claims 10 to 17, wherein
said enhancement of the displayed image is accomplished in

real time.
The method according to any of claims 10 to 18, wherein
said grey scale stretching further comprises the step of

converting original grey levels of the image into new values 
according to a curve (350) including exponential (352) and

logarithmic (354) portions.
The method according to claim 19, wherein said conversion
curve (350) yields images with adjustable contrast and

brightness.
The method according to any of claims 10 to 20, wherein
said digital image is enhanced by utilizing a logarithmic

histogram equalization.
The method according to any of claims 10 to 21, wherein
said spot enhancement step further comprises the steps of

checking the grey level difference between pixels of the image
and their surroundings, diminishing the differences above a

certain threshold of grey levels and accentuating the
differences below a certain threshold.
The method according to claim 10 wherein the grey scale
stretching enhancement feature includes the steps of

   generating a plurality of grey scale conversion
curves (350) having a desired center and a desired slope (k) at

said center, each one of said conversion curves (350) 
converting the grey scale of said digital image into a new

grey scale of a converted digital image.
The method according to claim 23 wherein said grey scale
conversion curve (350) includes an exponential curve from grey

level value "0" to said desired center and a logarithmic curve
from said desired center to grey level value "255", said

desired center being a grey level value corresponding to said
digital image such that for all said plurality of grey scale

conversion curves said value of desired center is converted
into a fixed grey level value on the new converted scale.
The method according to claim 24 further comprising the
steps of:


selecting a desired grey scale conversion curve
(350) for yielding a new digital image which is either darker

and brighter than the original digital image; and
selecting a desired slope at said center for
yielding a digital image with a variable contrast.
The method according to claim 25 further comprising the
step of generating a colour look up table for converting said

new digital image into a colour image with pixels having 
different colours according to different combinations of RGB

components.
The method according to claim 26 further comprising the
steps of generating a plurality of images resulting from a

plurality of conversion curves with center values ranging from
a low grey level value to a high grey level value;

   displaying said plurality of images at a given rate
creating an appearance of a moving image with changing

colours.
The method according to claim 27 further comprising the
steps of:

   determining an initial grey scale conversion curve
(350) including,


generating a histogram of said digital
image,
selecting two grey level values g1 and g2
such that a given K percent of pixels in said

digital image have original grey level values
below g1 and a given N percent of pixels in

said digital image have original grey level
values above g2, 
selecting said center and said slope such
that a given (100 - (K + N)) percent of new

grey level values scale to original grey level
values between g1 and g2.
The method according to claim 10, wherein the contrast
enhancement feature includes the steps of:


generating a cumulative logarithmic histogram of
said digital image; and
generating a look-up table for converting said
digital image with a grey level scale into a new digital image

with a new grey level scale such that the cumulative
logarithmic histogram of said new digital image closely

approximates said generated cumulative logarithmic histogram.
The method according to claim 29 wherein said step of
generating a cumulative logarithmic histogram of said digital

image provides a plurality of cumulative logarithmic histogram
curves (370) CH(X), following the relationship


CH(x) = [CH(255) - CH(0) ] * 
Ln (x+1)
Ln (256)
q
 + CH(0)

where "x" is a grey level value of said digital image between
0 and 255, "q" is a constant parameter for each of said 

cumulative logarithmic histogram curves (370), CH(255) is
total amount of pixels in the digital image with a grey level

value equal to maximum grey level in said digital image and
CH(0) is the total amount of pixels in the digital image with

a grey level value equal to minimum grey level in said digital
image.
The method according to claim 30 further comprising the
step of g
enerating the cumulative histogram of said digital
image, wherein said lookup table is an exponential function


LUT(x) = e
p
 - 1

where LUT(x) is the lookup table transformation function and p
is defined as


p = 
ch(x) - ch(0)
ch(255) -ch(0)
1/q
 * Ln (256)

where ch(x) is cumulative histogram of the digital image
before transformation and ch(255) is the total number of

pixels in the region of interest and ch(⊘) is the number of
pixels with a grey level value equal to minimum grey level

value in said digital image.
The method according to claim 31 further comprising the
step of varying said factor "q" for generating a plurality of

said lookup tables. 
The method according to claim 32 further comprising the
steps of:

   varying the value of "q" by sliding a pointing
device horizontally according to relationship.


q = 
Ln ( 1 - 
mx 
255
)
Ln 
Ln (mx +1) 
Ln (256)

where mx is the horizontal coordinate of the pointing device.
The method according to claim 10 wherein the spot
enhancement feature includes the steps of:


comparing grey level values between pixels of the
image and their surroundings; and
generating a new digital image wherein differences
above a certain threshold of grey levels are diminished and

differences below a certain threshold are accentuated.
The method according to claim 34 wherein said step for
comparing the grey level values between pixels of the image

and their surroundings further comprises:

generating (406) a contrast table (p(f
i
, g
i
)) having a plurality of
pairs (f
i
, g
i
) of grey level values, the first element (f
i
) of each pair 
being the grey level value of each pixel in the digital image and

the second element (g
i
) of each pair being the average value of
grey levels of a desired number of pixels surrounding said

pixel in the digital image;
comparing (410) said plurality of pairs of grey level
values;
reducing (416) said plurality of pairs when elements in
one pair overlap with elements in another pair until none of

the remaining pairs overlap;
generating (424) a lookup table (462) having a plurality of
incrementing steps (464-472), the input of which is the grey level

values of said digital image, each step representing an
interval defined by each pair among said remaining pairs, said

lookup table converting the grey level values within each
interval into new grey level values which are linearly

distributed within a fixed increment (dl, 460) along the new grey scale.
</CLAIMS>
</TEXT>
</DOC>
