<DOC>
<DOCNO>EP-0631395</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Signal processing circuitry comprising an input stage with variable gain
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M300	H03M302	H03G300	H03G300	H03K706	G01R1508	H03M304	H03H1900	H03M302	H03K700	G01R1900	H03H1900	G01R1900	G01R1500	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H03M	H03G	H03G	H03K	G01R	H03M	H03H	H03M	H03K	G01R	H03H	G01R	G01R	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M3	H03M3	H03G3	H03G3	H03K7	G01R15	H03M3	H03H19	H03M3	H03K7	G01R19	H03H19	G01R19	G01R15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The invention relates to a processing circuit (2, 120) for producing a variable output signal in response to a variable quantity picked up or received at the input. The processing circuit is associated with a stage or with an input sensor (4, 110) supplying a signal with a variable amplification/attenuation factor, and moreover, exhibiting response characteristics which depend particularly on state variables. The processing circuit includes means (Fig. 5, Fig. 6) for suppressing transients which are normally produced by a modification of the amplification/attenuation factor, the transient suppression means operating by modifying the value of the state variables in direct proportion to the modification of the amplification/attenuation factor. 
<
IMAGE
>
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SUISSE ELECTRONIQUE MICROTECH
</APPLICANT-NAME>
<APPLICANT-NAME>
CSEM CENTRE SUISSE D'ELECTRONIQUE ET DE MICROTECHNIQUE SA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BLUMENKRANTZ ENRIQUE MARCELO
</INVENTOR-NAME>
<INVENTOR-NAME>
NYS OLIVIER
</INVENTOR-NAME>
<INVENTOR-NAME>
BLUMENKRANTZ, ENRIQUE MARCELO
</INVENTOR-NAME>
<INVENTOR-NAME>
NYS, OLIVIER
</INVENTOR-NAME>
</INVENTORS>
<CLAIMS>
Processing circuit (2, 120) for producing a
variable output signal in response to a variable quantity

picked up or received as input, said processing circuit
being associated with a stage or with an input sensor (4,

100) furnishing a signal with a variable
amplification/attenuation factor and said processing

circuit further exhibiting a response characteristic which
depends from state variables, said circuit including means

for suppressing transients normally produced a by
modification of said amplification/attenuation factor,

said means for suppressing transients functioning by
modifying the value of said state variables in direct

proportion to said modification of the amplification/
attenuation factor, characterized in that said circuit is

a sigma-delta band pass modulator.
Processing circuit according to claim 1, characterized
in that the sigma-delta modulator is intended to

convert a variable input signal into said variable output
signal, and comprises :


a signal combining circuit (221) for adding or
subtracting said output signal from said input signal so

as to produce a combined signal,
an integrator (222) for integrating said combined
signal so as to produce an integrated signal, the

integrator having an error storage circuit (238) for
storing a quantity representative of the temporal value of

said combined signal,
a comparator (223) for comparing the integrated
signal to at least one pre-defined level so as to produce

said output signal,
a feedback circuit (224) for supplying a feedback
signal representative of said output signal to said

combining circuit,
a range setting circuit (226) for altering said
amplification/attenuation factor between a first value and

at least a second value, 
a circuit (227) for amplifying said output signal
by the inverse of said amplification/attenuation factor,

and
a noise compensation circuit (228) for
multiplying said stored quantity by the ratio of said

second value to said first value, when said amplification/attenuation
factor is changed from said first value to

said second value.
Processing circuit according to claim 1,
characterized in that said means for suppressing

transients comprise a switched capacitor circuit element
controlled by a sequencer.
Processing circuit according to claim 1, characterized
in that said means for suppressing transients

comprise a multiplier provided for multiplying a current
by the intensity of a signal corresponding to the factor

by which the gain of said input stage is modified.
Processing circuit according to claim 1, characterized
in that the means for suppressing transients are

provided to modify the values of the state variables in
predetermined relationships.
Processing circuit according to claim 1, characterized

in that the means for suppressing transients are
provided to change the state variables by an arbitrary

factor.
Processing circuit according to claim 2, characterized
in that said integrator (222) comprises an

amplifier (237) having an inverting input, a non-inverting
input and an output, said error storage circuit (238)

comprising a storage capacitance connected between said
inverting input and said amplifier output, said storage

capacitance (238) storing a charge proportional to said
temporal value of said difference signal.
Processing circuit according to claim 7, characterized
in that said noise compensation circuit (228)

comprises a circuit for multiplying the value of said 
storage capacitance, and thus said quantity of stored

charge, by said ratio.
Processing circuit according to claim 8, characterized
in that said noise compensation circuit (228)

comprises at least one additional capacitance (245)
connectable either in series with said storage capacitance

(238), or in parallel with said storage capacitance (238).
Processing circuit according to claim 9, characterized
in that said storage capacitance (238) and said

additional capacitance (245) have the same value.
Processing circuit according to any one of the
claims 2 to 9, characterized in that said input signal

comprises an analog voltage, said input signal amplifying
circuit (225) comprises an input capacitance (229, 230,

231, 232), connected to said integrator (222) for
converting said analog voltage into a charge

representative of said amplified input signal, said range
setting circuit (226) comprising means (233, 234, 235,

236) for altering the value of said input capacitance.
Processing circuit according to claim 11, characterized
in that said input signal amplifying circuit (225)

comprises a plurality of capacitive elements (229, 230,
231, 232), said range setting circuit (226) comprising

switching means (229, 230, 231, 232) for connecting one or
more of said capactive elements in parallel.
Processing circuit according to claim 12,
characterized in that said capacitive elements (229, 230,

231, 232) have the same value.
Processing circuit according to any one of the
claims 2 to 13, characterized in that said input signal

comprises a measurable capacitance connectable to said
integrator (222), said input signal amplifying circuit

receiving an preselected input voltage applied across said
measurable capacitance for converting said measurable

capacitance into a charge representative thereof, said
range setting circuit (226) comprising means for altering

the value of said input voltage. 
Processing circuit according to any one of the
claims 2 to 14, characterized in that said input signal

comprises an analog current supplied to said integrator
(222) , said input signal amplifying circuit (225)

comprising an amplifier for amplifying said analog
current, said range setting circuit (226) comprising means

for altering the amplification of said amplifier means.
Processing circuit according to claim 2, characterized
in that said input signal is a variable digital

quantity, said integrator (281) comprising

a digital accumulator (284) for storing a digital
value of n bits representative of said temporal value of

said combined signal, said digital accumulator (284)
having an input and an output, and
a circuit (285) for adding the digital value from
said accumulator (284) output to said combined signal.
Processing circuit according to claim 16, characterized
in that said noise compensation circuit comprises


a circuit (292) for altering said digital value
stored in said accumulator.
Processing circuit according to claim 17, characterized
in that said comparator comprises a truncator

(282) for separating said digital value into its m most-significant-bits
(Y
msb
) and its (n-m) least-significant-bits
(Y
lsb
), said output signal (Y
out
) comprising said m
most significant bits.
Processing circuit according to claim 18, characterized
in that said (n-m) least-significant-bits are

added to said combined signal so as to provide said
accumlator input signal, said accumulator output being

supplied directly to said truncator, said noise
compensating circuit multiplying said (n-m) least-significant-bits

by said ratio.
Processing circuit according to claim 19, characterized
in that said ratio equals a power of 2, and said

noise compensating circuit comprises means for shifting 
said (n-m) least-significant-bits to more significant

positions in said digital value.
Processing circuit according to claim 1, characterized
in that the sigma-delta modulator is intended to

convert a variable input signal into a variable output
signal and comprises


a signal combining circuit (301) for adding or
subtracting a feedback signal representative of said

output signal from said input signal so as to produce a
combined signal,
an integrator (222) for integrating said combined
signal so as to produce an integrated signal, said

integrator having an error storage circuit (238) for
storing a quantitiy representative of the temporal value

of said combined signal,
a comparator (222) for comparing said integrated
signal to at least one pre-defined level so as to produce

said output signal,
a circuit (302) for amplifying said output signal
by said amplification/attenuation factor so as to provide

said feedback signal, and
a range setting circuit (303) for altering said
amplification/attenuation factor between a first value and

at least a second value.
Processing circuit according to claim 21, characterized
in that said output signal amplifying circuit

(302) comprises a feedback capacitance (305, 306, 307,
308), connected to said integrator for converting said

output signal into a charge representative thereof, said
range setting circuit comprising means (309, 310, 311,

312) to alter the value of said feedback capacitance.
Processing circuit according to claim 22, characterized
in that said output signal amplifying circuit

(302) comprises a plurality of capacitive elements (305,
306, 307, 308), said range setting circuit (303)

comprising switching means (309, 310, 311, 312) for 
connecting one or more of said capacitive elements in

parallel.
Processing circuit according to claim 23, characterized
in that said capacitive elements (305, 306, 307,

308) have the same value.
Processing circuit according to claim 21, characterized
in that said input signal is a variable digital

quantity, said integrator (281) comprising a digital
accumulator (284) for storing a digital value of n bits

representative of said temporal value of said combined
signal, said digital accumulator (284) having an input and

an output, said comparator comprising a truncator (321)
for separating said digital value into its m most-significant-bits

and its (n-m) least-significant-bits.
Processing circuit according to claim 25, characterized
in that a number of said (n-m) least-significant-bits

are added to said difference signal so as to provide

said accumulator input signal, said accumulator output
being supplied directly to said truncator (321), said

range selection circuit altering the number of said bits
added to said difference signal.
Processing circuit according to any one of the
claims 2 to 26, characterized in that it further comprises

a first gain control circuit (340) for measuring said
input signal and producing a gain signal (G)

representative of said amplification/attenuation factor
for use by said range setting circuit (226).
Processing circuit according to any one of the
claims 2 to 27, characterized in that it further comprises

a second gain control circuit (350) for measuring said
output signal and producing a gain signal (G)

representative of said amplification/attenuation factor
for use by said range setting circuit (226).
Oversampling digital/analog converter (270)
including a processing circuit according to any one of the

claims 2 to 28, characterized in that it further comprises 

an interpolating filter (272) for sampling a
digital input signal so as to supply a sampled signal of n

bits,
an elementary digital/analog converter (273) for
supplying an analog signal representative of said digital

input signal, said sigma-delta converter (271) receiving
said n bits of sampled signal and supplying a noise-shaped

signal of m bits representative of said sampled signal to
said elementary digital/analog converter (273).
Oversampling digital/analog converter (330)
including a processing circuit according to any one of the

claims 2 to 29, characterized in that it further comprises

an input branch having a digital/analog converter
(331) for converting a digital difference signal into an

analog difference signal and an integrator (332) for
integrating said analog difference signal so as to produce

an analog output signal,
a feedback branch having an sigma-delta analog/
digital converter (333) for converting said analog output

signal into a digital feedback signal, and
a signal combining circuit for combining an
analog input signal with said feedback signal so as to

produce said combined signal.
</CLAIMS>
</TEXT>
</DOC>
