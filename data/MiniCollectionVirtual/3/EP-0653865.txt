<DOC>
<DOCNO>EP-0653865</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Medium access control protocol for wireless communication
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L12413	H04L12407	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L12	H04L12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method is provided for controlling access to a communication 
medium intended for sharing by a least two stations to enable peer-to-peer 

communications therebetween. It includes the steps of sensing the 
medium at a first station to determine if the medium is in use. The 

first station transmitting a connection request message intended for a 
second station if the first station senses that the medium is not in use. 

Receiving at the second station the connection request message. The 

second station transmitting a connection confirm message intended for 
reception at the first station for the purpose of establishing a 

reservation of the transmission medium for use by the first and second 
stations. Transmitting information as one or more date messages from the 

first station to the second station. The second station upon receiving 
the last of the data messages from the first station transmitting an 

acknowledgement message intended for reception by the first station. The 
first station upon receiving the acknowledgement message subsequently 

transmitting a disconnect request message to the second station. The 
second station upon receiving the disconnect request message subsequently 

transmitting a disconnect confirm message for reception by the first 
station for the purpose of ending the reservation of the medium. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CHEN JEANE SHU-CHUN
</INVENTOR-NAME>
<INVENTOR-NAME>
FICKES STANLEY L
</INVENTOR-NAME>
<INVENTOR-NAME>
HARTLEN BRYAN R
</INVENTOR-NAME>
<INVENTOR-NAME>
KURATA TOM D
</INVENTOR-NAME>
<INVENTOR-NAME>
MARYAN JACEK P
</INVENTOR-NAME>
<INVENTOR-NAME>
MCKAY DAN N
</INVENTOR-NAME>
<INVENTOR-NAME>
WILLIAMS TIMOTHY F
</INVENTOR-NAME>
<INVENTOR-NAME>
CHEN, JEANE SHU-CHUN
</INVENTOR-NAME>
<INVENTOR-NAME>
FICKES, STANLEY L.
</INVENTOR-NAME>
<INVENTOR-NAME>
HARTLEN, BRYAN R.
</INVENTOR-NAME>
<INVENTOR-NAME>
KURATA, TOM D.
</INVENTOR-NAME>
<INVENTOR-NAME>
MARYAN, JACEK P.
</INVENTOR-NAME>
<INVENTOR-NAME>
MCKAY, DAN N.
</INVENTOR-NAME>
<INVENTOR-NAME>
WILLIAMS, TIMOTHY F.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
There are a number of techniques for communicating between
independent data processing stations using well known medium such as
infrared or radio frequency.In an article entitled "A New Channel Access Message For Packet
Radio" which was published in the proceedings of the ARRL Ninth Computer
Networking Conference, London, Ontario, Canada, September 22, 1990,
ISDN0-87259-337-1 by Phil Karn, there is disclosed a channel access
method for use by multiple packet radio stations on a shared simplex
packet radio channel which permits different stations to initiate
independent access to the channels and initiate conversations with other
stations. The article proposes a technique for multiple access with
collision avoidance to reduce the interference of stations with each
other, however there is no disclosure of any message for providing
fairness of access, to maximize the utilization of the medium by each
station and reduce the waiting of each station for access to the medium;
and there is no mechanism for making medium reservations between stations
nor is there a mechanism for terminating conversations.U.S. Patent 5,231,634 issued July 27, 1993 and assigned to Proxim,
Inc., discloses a medium access protocol for wireless LAN which requires
a station intending to initiate communications to send reservation
duration information in its request to the intended receiving station to
reserve a fixed block of time for its proposed communications or
conversation. This may pose some problems as there is no allowance
provided for retries and if there is a problem in communications a new
reservation is required which may necessitate delays because other
stations may have initiated communications at the end of the reservation.U.S. Patent 4,661,902 issued April 28, 1987 and assigned to Apple
Computer, Inc. discloses a local area network with carrier sense
collision avoidance, however it does not disclose a means by which the
stations not involved in the conversation acknowledge and obey a
conversation reservation. The system disclosed is a hardwired system
which does not address the problem with hidden terminal and can therefor
depend wholly upon CSMA/CA which is Carrier Sense Multiple Access With
Collision Avoidance. This reference shows the initiation of conversations
by the transmission of a request to send message by the transmitting
station and a clear to send message sent back to the transmitting station 
by the intended receiving station. The non-conversant stations performs
a carrier sense to detect when the
</DESCRIPTION>
<CLAIMS>
A method for controlling access to a communication medium intended
for sharing by at least two stations to enable peer-to-peer

communications therebetween, comprising the steps of:

sensing the medium at a first station to determine if the medium is
in use;
the first station transmitting a connection request message (CR)
intended for a second station if the first station senses that the medium

is not in use;
receiving at the second station the connection request message
(CR),
the second station, upon receipt of the connection request message,
transmitting a connection confirm message (CC) intended for reception at

the first station for the purpose of establishing a reservation of the
transmission medium for use by the first and second stations; and,
transmitting, upon receipt of the connection confirm message (CC),
information as one or more data messages (XFR) from the first station to

the second station;
the method being characterized by:

the second station upon receiving the last of the data messages
from the first station transmitting an acknowledgement message (XACK)

intended for reception by the first station;
the first station upon receiving the acknowledgement message
(XACK) subsequently transmitting a disconnect request message (DR) to the

second station; and,
the second station upon receiving the disconnect request message

(DR) subsequently transmitting a disconnect confirm message (DC) for
rec
eption by the first station for the purpose of ending the reservation
of the medium.
A method as claimed in claim 1 wherein a third station adapted to
participate in peer-to-peer communications in the communication medium

upon receiving the connection request message (CR) or the connection
confirm message (CC) enters into a wait state of preselected time period

in which the third station is restrained from transmitting messages (XFR)
on the medium.
A method as claimed in claim 2 wherein the third station remains in
the wait state unless it detects termination of the reservation of the

first and second stations before the wait state expires.
A method as claimed in claim 2 wherein the third station remains
in the wait state unless it detects either the disconnect request message

(DR) or the disconnect confirm message (DC) or until the wait state
expires. 
A method as claimed in claim 3 wherein the third station remains in
the wait state unless it detects either the disconnect request message

(DR) or the disconnect confirm message (DC) or until the wait state
expires.
A method as claimed in any of claims 2 through 5 wherein the
third station enters an idle state from the wait state upon receiving

either of the disconnect request message (DR) or the disconnect confirm
message (DC).
A method as claimed in any of claims 2 through 5 wherein the third
station upon the expiry of the wait state senses whether the medium is in

use;

such that
if the third station detects that the medium is in use enters a
further wait state of a predetermined period; or,
if the third station detects that the medium is not in use enters
an idle state in which it is free to receive or initiate communications

with other stations.
A method as claimed in claim 1 wherein the information can be
subdivided and sent as a group of sequential data messages (XFR) by the

first station, each of the data messages (XFR) including sequence
information identifying the portion of the group to which the data

messages (XFR) relate to.
A method as claimed in claim 8 wherein the sequence information
includes identification of the total number of messages (XFR) being sent

in the group.
A method as claimed in claims 8 or 9 wherein the second station is
adapted to use the sequence information to identify the last message

(XFR) in the group of messages.
A method as claimed in claims 1, 8, 9, or 10 wherein the
acknowledgement message (XACK) sent by the second station to the first

station includes information identifying successfully received data
messages (XFR).
A method as claimed in claim 11 wherein the first station upon
receiving the acknowledgement message (XACK) retransmits to the second

station data messages (RXFR) not previously received successfully by the
second station.
A method as claimed in claim 12 wherein the second station upon
receiving the last of the retransmitted data messages (RXFR) sends a 

retry acknowledgement message (RXACK) to the first station which may
include information identifying successfully received data messages.
A method as claimed in claim 13 wherein the steps of retransmitting
unsuccessfully received data messages (RXFR) are repeated until all

messages are received successfully.
A method as claimed in claim 13 wherein the first station transmits
a disconnect request message (DR) to the second station upon receiving

the retry acknowledgement message (RXACK).
A method as claimed in claim 14 wherein the first station transmits
a disconnect request message (DR) to the second station upon receiving

the last of the retry acknowledgement messages (RXACK) from the second
station.
A method as claimed in claim 15 or 16 wherein the second station
transmits a disconnect confirm message (DC) for receipt by the first

station for the purpose of ending reservation of the medium. 
A method as claimed in claim 1 in which each station accessing the
communications medium enters a state in which it is free to contend for a

reservation of the medium upon termination of a reservation by the first
and second stations.
A method as claimed in claim 18 in which stations capable of
communicating with each other using the medium wait preselected periods

of waiting time before entering a state in which they are free to contend
for a reservation of the medium.
A method as claimed in claim 19 in which the periods of waiting
time that each the machine waits are selected to equalize the possibility

of each to contend for reservation of the medium.
A method as claimed in claim 20 in which the waiting periods of
time are selected to terminate substantially at the same time and a

random delay is imposed on each station before each is permitted to
contend for a reservation of the medium. 
A method as claimed in claim 21 in which each station selects its
own random delay period.
A method as claimed in claim 20 or 21 in which the waiting time
period selected for station 2 is zero and the waiting time period

selected for the first station is selected to end substantially
concurrently with the waiting time of the second station.
A method as claimed in claim 23 in which the waiting time of
stations sensing either or both of the first and second stations is

selected so that they terminate substantially concurrently with the
waiting time of the first or second stations.
A method as claimed in claim 23 in which the maximum random length
of time assignable to any station is selected to maximize the number of

successfully achieved reservations while reducing periods of nonuse of
the communication medium. 
Communications control apparatus for controlling access by a first
communication station to a communication medium intended for sharing by

at least two stations for the purpose of enabling peer-to-peer
communications therebetween, comprising:


means for determining if the medium is being used;
message generating means for generating messages (XFR) for
transmission by the first station for purposes of communicating

information with another station;

the message generating means being adapted to generate a connection
request message (CR) for transmission to a second station if the routine

for determining if the medium is being used determines that the medium is
not in use;
means for identifying a connection confirm message (CC) sent from
the second station in response to the connection request message (CR) for

the purpose of establishing a reservation of the transmission medium for
use by the first and second stations for the purpose of communicating

therebetween;
means for generating, upon receipt of the connection confirm
messages (CC), data messages (XFR) from information provided to the

communications control apparatus for the purpose of transmission to another
statio
n;

   characterized in that the apparatus comprises:

means for identifying an acknowledgement message (XACK) sent by the
second station upon the second station detecting the last of the data

messages (XFR) from the first station;
means for generating a disconnect request message (DR) in response
to the identification of the acknowledgement message (XACK) for

transmission to the second station;
means for identifying a disconnect confirm message (DC), sent by
the second station upon the second station detecting the disconnect

request message (DR); and,
means responsive to the identification of the disconnect confirm
message (DC) adapted to cause the first station to relinquish reservation

of the medium to permit subsequent reservations to be obtained.
Apparatus as claimed in claim 26, comprising control means for
responding to communications initiated by other stations, comprising;


means for identifying a connection request message (CR) from an
other station;
means for generating a connection confirm message (CC) in response
to the identification of the connection request message (CR) for

transmission to the other station;
means for identifying the last message in a group of data messages
(XFR) sent from the other station;
means adapted to generate an acknowledgement message (XACK) for
transmission to the first station upon the identification of the last 

message (XFR) from the other station;
means for generating a disconnect confirm message (DC) for
transmission to the first station;
logic means for placing the first station in a state in which the
reservation of the medium is relinquished.
Apparatus as claimed in claims 26 or 27 wherein in a third station
adapted to participate in peer-to-peer communications in the

communication medium including a routine which upon identifying a
connection request message (CR) or the connection confirm message (CC)

will cause the data processing station to enter into a wait state of
preselected time period in which the station is restrained from

transmitting messages on the medium.
Apparatus as claimed in claim 28 including means to maintain the
station in a wait state until it identifies the termination of a

reservation between the first and second stations.
Apparatus as claimed in claim 29 wherein the means to maintain the
wait state is adapted to terminate the wait state upon identifying either

a disconnect request message (DR) or a disconnect confirm message (DC).
Apparatus as claimed in any of claims 28 through 30 comprising
means to cause the station to transfer to an idle state from the wait

state upon identifying either of the disconnect request message (DR) or
the disconnect confirm message (DC).
Apparatus as claimed in any of claims 28 through 30 wherein means
activated upon the expiry of the wait state is responsive to detection of

whether the medium is in use;

such that
if the medium is in use causes the station to a wait state of a
predetermined period; or
if the medium is not in use causes the station to enter an idle
state in which it is free to receive or initiate communications with

other stations.
Apparatus as claimed in claim 26 comprising means to send in a
group of sequential data messages (XFR), each of the data messages (XFR)

including sequence information identifying which portion of the
information the data messages (XFR) relate to.
Apparatus as claimed in claim 33 comprising means for
providing the sequence information of each data message (XFR) including

identification of the total number of messages being sent to convey the
information and the sequence of the data message (XFR) in the group of 

data messages sent.
Apparatus as claimed in claims 33 or 34 including means to use the
sequence information to identify the last message (XFR) in the group of

messages (XFR).
Apparatus as claimed in any of claims 26, 33, 34 and 35 wherein the
means for generating the acknowledgement message (XACK) is adapted to

include in the acknowledgement message (XACK) information identifying
successfully received data messages.
Apparatus as claimed in claim 36 comprising means which upon
receiving the acknowledgement message (XACK) causes the retransmission of

data messages (RXFR) not previously received successfully by the
receiving station.
Apparatus as claimed in claim 37 comprising means which upon
detecting the last of the retransmitted data messages (RXFR) generates a

retry acknowledgement message (RXACK) for transmission to the first
station including information identifying successfully received data

messages (RXFR).
Apparatus as claimed in claim 38 where the means for retransmitting
unsuccessfully received data messages (RXFR) is adapted for repetition

until all messages (RXFR) are received successfully by the other
stations.
Apparatus as claimed in claim 38 including means for generating a
disconnect request message (DR) for transmission to the second station

upon receiving the retry acknowledgement message (RXACK).
Apparatus as claimed in claim 40 wherein the means of claim 40 is
adapted to cause the retransmitting of unsuccessfully received data

messages (RXFR) until all messages (RXFR) are received successfully.
Apparatus as claimed in claim 38 comprising means to cause the
transmission of a disconnect request message (DR) to the second station

upon the receipt of a retry acknowledgement message (RXACK).
Apparatus as claimed in claim 42 comprising means for causing the
first station the transmission of a disconnect request message (DR) to

the second station upon the receipt of the last of the retry
acknowledgement messages (RXACK) from the second station. 
Apparatus as claimed in claim 42 or 43 comprising means adapted to
cause the first station to enter a state in which it is free to contend

for a reservation of the medium upon termination of a reservation by the
first and second stations.
Apparatus as claimed in claim 44 in which means is provided to
restrain the first station from communication for a pre selected period

of waiting time before entering a state in which it is free to contend
for a reservation of the medium.
Apparatus as claimed in claim 45 in which the period of waiting
time is selected to equalize the possibility of each station using the

medium for communication to contend for reservation of the medium. 
Apparatus as claimed in claim 46 in which the waiting period of
time is selected to terminate substantially at the same time as waiting

periods of other stations and a random delay is imposed on each station
before contention for a reservation of the medium is permitted.
Apparatus as claimed in claim 47 in which the maximum random length
of time selectable is selected to maximize the numbe
r of successfully
achieved reservations and while reducing periods of nonuse of the

communication medium.
</CLAIMS>
</TEXT>
</DOC>
