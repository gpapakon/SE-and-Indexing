<DOC>
<DOCNO>EP-0617565</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Video signal processing apparatus and its method
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N592	H04N5907	H04N726	H04N9804	H04N1104	H04N592	H04N5907	H04N979	H04N979	H04N9804	H04N726	H04N1104	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N5	H04N5	H04N7	H04N9	H04N11	H04N5	H04N5	H04N9	H04N9	H04N9	H04N7	H04N11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In shuffling used as efficient coding method of input digital video 
signal, input digital television signals of different standards are judged in 

an input judging circuit, the judged information is sent out into a memory 
write control circuit and a memory read control circuit, the memory write 

control circuit determines the offset value of the vertical address according 
to the judgement signal, and writes the input signal at a position 

corresponding to the screen of the determined shuffling region of the 
shuffling range corresponding to each signal in the shuffling memory, or 

writes the block out of the shuffling range into the shuffling memory 

according to the specified control method in the vacant region of the 
shuffling range, and the memory read control circuit changes over the offset 

value of the vertical address to be read out from the memory and the address 
control according to the judgement information. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC IND CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC INDUSTRIAL CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
AWAMOTO SIGERU
</INVENTOR-NAME>
<INVENTOR-NAME>
FUJIWARA YUJI
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUDA TOYOHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
NISHINO SHOUICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
AWAMOTO, SIGERU
</INVENTOR-NAME>
<INVENTOR-NAME>
FUJIWARA, YUJI
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUDA, TOYOHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
NISHINO, SHOUICHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a video signal processing apparatus for
shuffling used as means of efficient coding of digital video signal, and its
method, and more particularly to a video signal processing apparatus capable
of shuffling more effectively, while decreasing the hardware capacity. when
sharing with television signals of plural different standards. and its method.Shuffling is known as one of the means of efficient coding for recording
existing television signals.In this technique, the block arrangement composed of input digital video
signals is divided into plural regions, a specific number of blocks are
obtained from specific positions of each region to form video segments, and
while sequentially shifting the specific positions in each region, video
segments are formed progressively.. Accordingly, the data correlation within
video segment is weakened, and fluctuations of data length of digital video
signals within video segment in each video segment can be prevented at the 
time of coding process.What matters when applying shuffling in high definition television
signal (HDTV) is sharing of the shuffling circuit of a large hardware
complexity by digital television signals of different standards. At the
present, there are three standards of HDTV as specified by the number of
scanning lines and field frequency, that is, 1125 lines/60 Hz (hereinafter
called 1125 system), 1050 lines/60 Hz (1050 system), and 1250/50 Hz (1250
system). Between 1050 system and 1250 system, the number of horizontal
active pixels per line is the same, and the circuit can be shared by varying
the offset value in the vertical direction. In 1125 system, however, since
the numbers of horizontal and vertical active pixels are both different from
the other standards, and there is no matching at all. and hence sharing of
circuit is extremely difficult.A video signal processing apparatus according to the preamble of claims 1 and 4 is described in EP-A-0 469 861.It is hence a primary object of the invention to present a video signal
processing apparatus capable of sharing a shuffling circuit of a large
circuit complexity between television signals of different standards,
decreasing the additional hardware capacity, and shuffling effectively, by
adding a circuit of a small complexity, and its method. To achieve the above object, the invention provides video signal
processing apparatus comprising:
means for determining the television system format of an input video
signal, said input video signal being arranged in blocks;a
</DESCRIPTION>
<CLAIMS>
Video signal processing apparatus comprising:

means for determining the television system format of an input video
signal, said input video signal being arranged in blocks;
a memory region, a plurality of overlapping shuffling
regions of said memory region each corresponding to a television system for storing

the input video signal,
said plurality of shuffling regions having a common horizontal length
and having vertical lengths determined by the corresponding television system;
said input video signal comprising an input signal region having
horizontal and vertical lengths determined corresponding to the television systems

respectively;
control means arranged to control the storing in said memory region and
reading out from said memory region of the input video signal;
said control means being arranged to store the input video signal in the
corresponding shuffling region of the memory,
said control means being further arranged to shuffle the stored input
video signal in units of one block on reading out the stored input video signal from the shuffling region

in the memory;

   characterised in that for at least one of said television systems, said
input signal region and said corresponding shuffling region have different

dimensions and for said at least one case, a main portion of said input signal
region is defined comprising the area of overlap of said input signal region and

said memory region, the data from said overlapping region of said input signal
always being written into said overlapping area of said memory region in substantially the

same configuration independently of the determined television system format, the remainder of said input signal region not in said main
portion is written to the remainder of the shuffling region. 
Video signal processing apparatus according to Claim 1, wherein the
control means is arranged to shuffle and read out the stored input video signal in

the shuffling region in units of macro blocks composed of a plurality of DCT
(discrete cosine transform) blocks.
The video signal processing apparatus of either of claims 1 and 2,
wherein dummy data is stored to a portion in the remainder of the memory region

in which none of said input video signal is stored.
A method for processing a video signal comprising the steps of
determining the television system format of an input video signal, said input video signal being arranged in blocks;


defining a plurality of overlapping shuffling regions in a memory region
each corresponding to a television system for storing the input video signal,
said plurality of shuffling regions having a common horizontal length
and having vertical lengths determined by the corresponding television system;
said input video signal comprising an input signal region having
horizontal and vertical lengths determined corresponding to the television systems

respectively;
storing the input video signal in the corresponding shuffling region of
the memory,
shuffling the stored input video signal in units of one block on reading the input video signal
out of the shuffling region;

   characterised in that for at least one of said television systems, said
input signal region and said corresponding shuffling region have different

dimensions and for said at least one case, a main portion of said input signal
region is defined comprising the area of overlap of said input signal region and

said memory region the data from said overlapping region of said input signal
always being written into said overlapping area of said memory region in substantially the

same configuration independently of the determined television system format, the remainder of said input signal region not in said main 
portion is written to the remainder of the shuffling region.
A method ofprocessing a video signal according to claim 4, wherein the
step of shuffling the stored input video signal on reading the input video signal out

of the shuffling region is effected in units of macro blocks composed of a plurality
of DCT (discrete cosine transform) blocks.
A method for processing a video signal according to either of claims 4
or 5 further comprising the step of storing dummy data in the remainder of the

memory region in which none of said input video signal is stored.
</CLAIMS>
</TEXT>
</DOC>
