<DOC>
<DOCNO>EP-0615384</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Adaptive compression of digital video data
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M730	G06T900	H04N736	H04N732	H04N730	H04N750	H04N726	H04N726	H04N732	H04N736	G06T900	H04N730	H04N750	H03M730	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	G06T	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	G06T	H04N	H04N	H03M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M7	G06T9	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	G06T9	H04N7	H04N7	H03M7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Digital video signals are adaptively compressed 
for communication to a receiver. Superblocks (230), 

each containing a plurality of blocks (232) of 
digital video data, are compressed using PCM, DPCM 

with a general motion vector for the entire 
superblock, and DPCM with a specific motion vector 

for each block contained within a superblock. The 
result of each compression mode is compared (58) 

after accounting for overhead data, to determine 
which results in the least amount of data for each 

block (232). These blocks are assembled into a 
superblock (230), and compared (80) together with 

necessary overhead and motion vector data to the 
same superblock processed using all PCM as well as 

the superblock processed using all DPCM. The 
comparison determines which compression mode 

produces the least amount of data for the 
superblock. The most compact superblock is selected 

for transmission. The transmitted superblocks are 
decoded by a decoder (Fig. 5) that recovers the 

necessary motion vectors and overhead information 
which identifies the type of compression used to 

provide the superblock. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
GEN INSTRUMENT CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
GENERAL INSTRUMENT CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KRAUSE EDWARD A
</INVENTOR-NAME>
<INVENTOR-NAME>
PAIK WOO H
</INVENTOR-NAME>
<INVENTOR-NAME>
WU ALLEN
</INVENTOR-NAME>
<INVENTOR-NAME>
KRAUSE, EDWARD A.
</INVENTOR-NAME>
<INVENTOR-NAME>
PAIK, WOO H.
</INVENTOR-NAME>
<INVENTOR-NAME>
WU, ALLEN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to the
compression of digital data, and more particularly
to a system for processing digitized video signals
for transmission in a compressed form. A decoder
for the compressed signals is also provided.Television signals are conventionally
transmitted in analog form according to various
standards adopted by particular countries. For
example, the United States has adopted the standards
of the National Television System Committee
("NTSC"). Most European countries have adopted
either PAL (Phase Alternating Line) or SECAM
standards.Digital transmission of television signals can
deliver video and audio services of much higher
quality than analog techniques. Digital
transmission schemes are particularly advantageous
for signals that are broadcast via a cable
television network or by satellite to cable
television affiliates and/or directly to home
satellite television receivers. It is expected that
digital television transmitter and receiver systems
will replace existing analog systems just as digital
compact discs have largely replaced analog
phonograph records in the audio industry.A substantial amount of digital data must be
transmitted in any digital television system. This 
is particularly true where high definition
television ("HDTV") is provided. In a digital
television system, a subscriber receives the digital
data stream via a receiver/descrambler that provides
video, audio, and data to the subscriber. In order
to most efficiently use the available radio
frequency spectrum, it is advantageous to compress
the digital television signals to minimize the
amount of data that must be transmitted.The video portion of a television signal
comprises a sequence of video "frames" that together
provide a moving picture. In digital television
systems, each line of a video frame is defined by a
sequence of digital data bits referred to as
"pixels". A large amount of data is required to
define each video frame of a television signal. For
example, 7.4 megabits of data is required to provide
one video frame at NTSC resolution. This assumes a
640 pixel by 480 line display is used with 8 bits of
intensity value for each of the primary colors red,
green, and blue. High definition television
requires substantially more data to provide each
video frame. In order to manage this amount of
data, particularly for HDTV applications, the data
must be compressed.Video compression techniques enable the
efficient transmission of digital video signals over 
conventional communication channels. Such
techni
</DESCRIPTION>
<CLAIMS>
Apparatus for adaptively compressing digital video
data provided in the form of superblocks (230) containing a

plurality of blocks (232) of said digital video data, by
using a plurality of different compression modes comprising a

first compression mode and a second compression mode, said
apparatus comprising:


means (12, 14, 26, 28, 44, 46) for compressing said
blocks (232) of a superblock (230) using each of said

different compression modes to provide compressed output
blocks for comparison;
means (50, 54, 56) for providing selection overhead
data to the compressed output blocks identifying each of said

different compression modes;
first means (58) for comparing the amount of overall
data obtained for each block (232), when compressing said

block (232) with each of said different compression modes,
said amount of overall data for each of said different

compression modes comprising compressed data for each block
(232) of said superblock (230) resulting from said respective

compression modes and the corresponding selection overhead
data;
said first comparing means selecting one compressed
block from said compressed output blocks which results in the

least amount of overall data, for each of said plurality of
blocks (232);
first means (18) for generating a first amount of
accumulated data corresponding to a first superblock

consisting of a plurality of compressed blocks resulting from
application of said first compression mode to all blocks

(232) of said respective superblock (230) together with first
compression mode overhead data associated therewith; 
second means (32) for generating a second amount of
accumulated data corresponding to a second superblock

consisting of a plurality of compressed blocks resulting from
application of said second compression mode to all blocks

(232) of said respective superblock (230) together with
second compression mode overhead data associated therewith;
third means (60) receiving from said first comparing
means (58) the selected compressed blocks for generating a

third amount of accumulated data corresponding to a third
superblock consisting of a plurality of compressed blocks,

each compressed block comprising the overall data of the
respective compressed block selected by said first comparing

means (58) together with overhead data associated with said
selected blocks;
second means (80) for comparing said first, second and
third amounts of accumulated data for said respective

superblock,
said second comparing means (80) determining which of
said amounts of accumulated data in said first, second and

third accumulating means (18, 32, 60) represents the least
amount of data to be transmitted for said respective

superblock (230); and
means for outputting said respective superblock (230)
compressed according to said one of said superblock

compression processes for which said second comparing means
determines the least amount of data for transmission.
Apparatus in accordance with claim 1 wherein:

said first compression mode compresses said
superblock (230) without motion compensation; 
said second compression mode compresses each block
(232) forming said superblock (230) with motion compensation

based on a general motion vector for said superblock (230);
and
a third compression mode compresses each block (232)
forming said superblock (230) with motion compensation based

on a specific motion vector for each block.
Apparatus in accordance with claim 1 or 2 wherein
said first compression mode overhead data comprises:


a codeword identifying the compressed data as first
compression mode data.
Apparatus in accordance with one of claims 2 or 3
wherein said second compression mode overhead data comprises:


said general motion vector, and
a codeword identifying the compressed data as second
compression mode data.
Apparatus in accordance with one of claims 2 to 4
wherein said adaptive mode overhead data comprises:


said general motion vector,
a codeword identifying the blocks as those selected by
said first comparing means,
a codeword identifying each block selected by said
first comparing means as one of PCM data (66) generated by

said first compression mode, DPCM data (68) generated by said
second compression mode, and DPCM data (70) generated by said

third compression mode, and
data (52) indicative of the specific motion vector
associated with each block (232) selected by said first

comparing means (58) that comprises DPCM data (70) generated
by said third compression mode.
Apparatus in accordance with one of the preceding
claims wherein said superblocks are luminance blocks, said

apparatus further comprising:

means for including corresponding chrominance data in
each of said amounts of accumulated data compared by said

second comparing means (80).
Apparatus in accordance with claim 6 wherein:

the chrominance data included in said first amount of
accumulated data is PCM chrominance data; and
the chrominance data included in said second amount of
accumulated data is DPCM chrominance data; and
the chrominance data included in said third amount of
accumulated data for each block is PCM chrominance data when

PCM provides the least chrominance data for transmission, and
DPCM chrominance data when DPCM provides the least

chrominance data for transmission.
Apparatus in accordance with claim 6 wherein said
means for accumulating comprise:


a first accumulator (18) for accumulating the data
resulting from said first compression mode for said

superblock together with said first compression mode overhead
data and corresponding chrominance data;
a second accumulator (32) for accumulating the data
resulting from said second compression mode for said

superblock together with said second compression mode
overhead data and corresponding chrominance data; 
a third accumulator (60) for accumulating the data
resulting from the blocks selected by said first comparing

means together with said adaptive mode overhead data, the
selection data for each block, and corresponding chrominance

data.
Apparatus in accordance with one of claims 2 to 7
further comprising:


motion compensation means (105) responsive to said
second comparing means (80) for generating predictor signals

for said second and third compression modes and for
generating said general and specific motion vectors.
Apparatus in accordance with claim 9 further

comprising means for compressing said specific motion vectors
by differentially encoding them with said general motion

vector.
Apparatus in accordance with one of the preceding
claims wherein said superblocks are luminance blocks, said

apparatus further comprising:

means (112 to 118, 134 to 140) for compressing
chrominance data using a first chrominance compression mode

and a second chrominance compression mode;
third means (124) for comparing the amount of
compressed chrominance data for each block (232) of said

superblock (230) resulting from each of said first and second
chrominance compression modes after accounting for selection

overhead necessary to identify a selection made by said third
comparing means, said third comparing means outputting the

lesser amount of compressed chrominance data including
selection overhead for each block (232); 
means (20) for including compressed chrominance data
from said first chrominance compression mode in said first

amount of accumulated data compared by said second comparing
means(80);
means for including compressed chrominance data from
said second chrominance compression mode in said second

amount of accumulated data compared by said second comparing
means; and
means for including the compressed chrominance data
output by said third comparing means in said third amount of

accumulated data compared by said second comparing means
(80).
Apparatus in accordance with claim 11 wherein:

said first compression mode compresses each block (232)
of said superblock (230) without motion compensation;
said second compression mode compresses each block
(232) forming said superblock (230) with motion compensation

based on a general motion vector for said superblock;
said third compression mode compresses each block (232)
forming said superblock (230) with motion compensation based

on a specific motion vector for each block;
said first chrominance compression mode compresses said
chrominance data without motion compensation; and
said second chrominance compression mode compresses
said chrominance data with motion compensation.
Apparatus in accordance with claim 12 further
comprising:


motion compensation means (105) responsive to said
second comparing means for generating predictor signals for

said second and third compression modes and for generating
said general and specific motion vectors; and 
motion compensation means (155) responsive to said
second comparing means for generating predictor signals for

said second chrominance compression mode.
Apparatus in accordance with claim 13 further
comprising means for compressing said specific motion vectors

by differentially encoding them with said general motion
vector.
Method for adaptively compressing digital video
data provided in the form of superblocks (230) containing a

plurality of blocks (232) of said digital video data, by
using a plurality of different compression modes comprising a

first compression mode and a second compression mode, said
method comprising the steps of:


compressing said blocks (232) of a superblock (230)
using each of said different compression modes to provide

compressed output blocks for comparison;
providing selection overhead data (50, 54, 56) for the
compressed output blocks identifying each of said different

compression modes;
comparing the amount of overall data for each block
(232), when compressing said block with each of said

different compression modes, said amount of overall data for
each of said different compression modes comprising

compressed data for each block (232) of said superblock (230)
resulting from said respective compression modes and the

corresponding selection overhead data in a first comparing
step;
said first comparing step selecting one compressed
block from said compressed output blocks which results

in the least amount of overall data, for each of said
plurality of blocks (232); 
generating a first amount of accumulated data
corresponding to a first superblock consisting of a plurality

of compressed blocks and resulting from application of said
first compression mode to all blocks (232) of said respective

superblock (230) together with first compression mode
overhead data associated therewith;
generating a second amount of accumulated data
corresponding to a second superblock consisting of a

plurality of compressed blocks resulting from application of
said second compression mode to all blocks (232) of said

respective superblock (230) together with second compression
mode overhead data associated therewith;
generating from said selected compressed blocks
obtained from said first comparing step a third amount of

accumulated data corresponding to a third superblock
consisting of a plurality of compressed blocks, each

compressed block comprising the overall data of the
respective compressed block selected by said first comparing

step together with overhead data associated with said
selected blocks;
comparing said first, second and third amounts of
accumulated data for said respective superblock in a second

comparing step,
said second comparing step (80) determining which of
said first, second or third amounts of accumulated data

represents the least amount of data to be transmitted for
said respective superblock (230); and
outputting said respective superblock (230) compressed
according to said one of said superblock compression

processes for which said second comparing step determines the
least amount of data for transmission.
A method in accordance with claim 15 wherein:

said first compression mode compresses said plurality
of blocks (232) without motion compensation;
said second compression mode compresses each block
(232) with motion compensation based on a general motion

vector for said plurality of portions; and
a third compression mode of said plurality of
compression modes compresses each block (232) with motion

compensation based on a specific motion vector for each
portion.
Decoder apparatus comprising:

means (190, 192) for receiving superblocks (230) of
adaptively compressed digital video data, said superblocks

(230) containing individual blocks (232) each compressed
using one of a plurality of different compression modes

comprising a first compression mode and a second compression
mode, said compressed superblocks including selection

overhead data (50, 54, 56) identifying the compression mode
used for each superblock and/or the blocks contained in each

superblock where the compression mode has been determined by
first comparing the amount of overall data for each block

when compressed using the different compression modes and
selecting, for each block, the compression mode which results

in the least amount of overall data for that block, and by
then comparing the amounts of accumulated data for respective

superblocks formed from (i) blocks compressed by the
compression modes selected by the first copmaring step, (ii)

blocks compressed by the first compression mode, and (iii)
blocks compressed by the second compression mode, to provide

supberblocks wich are determined to have the least amount of
data for
 transmission;
means (212) coupled to said receiving means for
retrieving, from each received superblock (230), one of:
first overhead data indicative of said first compression
mode used to compress all blocks of the superblock,
second overhead data indicative of said second
compression mode used to compress all blocks of the

superblock (230), and 
third overhead data indicating that the individual
blocks (232) contained in said superblock (230) were

compressed using one compression mode of said plurality of
different compression modes;
means (204) responsive to said retrieved first overhead
data for decoding the received superblock (230) using a

decompression mode corresponding to said first compression
mode;
means (194) responsive to said retrieved second overhead
data for decoding a received superblock using a decompression

mode corresponding to said second compression mode; and
means (194, 204, 206, 222) responsive to said retrieved
third overhead data for identifying the compression modes

used to compress each individual block in a received
superblock (230) and decoding the blocks using a

decompression mode for each individual block that corresponds
to the compression mode used to compress the block.
A decoder in accordance with claim 17 wherein:

said first compression mode of said plurality of
compression modes compresses said superblocks without motion

compensation;
said second compression mode of said plurality of
compression modes compresses each block in a superblock with

motion compensation based on a general motion vector for said
superblock; and
a third compensation mode of said plurality of
compression modes compresses each block in a superblock with

motion compensation based on a specific motion vector for
each block.
</CLAIMS>
</TEXT>
</DOC>
