<DOC>
<DOCNO>EP-0651925</DOCNO> 
<TEXT>
<INVENTION-TITLE>
FREQUENCY HOPPING TIME-DIVERSITY COMMUNICATIONS SYSTEMS AND TRANSCEIVERS FOR LOCAL AREA NETWORKS
</INVENTION-TITLE>
<CLASSIFICATIONS>H04B1713	H04B354	H04B354	G06F1100	H03G300	H04J1302	H04J1306	G06F1100	H03G300	H04B169	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04B	H04B	H04B	G06F	H03G	H04J	H04J	G06F	H03G	H04B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04B1	H04B3	H04B3	G06F11	H03G3	H04J13	H04J13	G06F11	H03G3	H04B1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A system utilizing adaptive frequency-hopped spread spectrum modulation to communicate over noisy communications channels is described. Individual packets of data are transmitted with FSK modulation using two frequencies chosen from a larger set. An error coding system is used in which data on the quality of reception at each network transceiver is used to alter the gain of the receiver, the bit rate of the transmission, and the specific frequencies employed by the network for the purpose of optimizing communicatioin error rate. A Master transceiver, controlling network management, transmits channel control information to other transceivers on the network, enabling system synchronization, acquisition of an existing network by new subscribers. Each transceiver comprises a frequency controlled carrier generator, a pair of digital detectors each having a frequency controlled bandpass filter microprocessors for control and broad band coupling networks for coupling the transceiver to a communications channel.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
COMSOURCE SYSTEMS CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
COMSOURCE SYSTEMS CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HILL LAWRENCE WOODBRIDGE
</INVENTOR-NAME>
<INVENTOR-NAME>
HILL, LAWRENCE, WOODBRIDGE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to spread spectrum-time diversity
communications systems and transceivers for multidrop local area
networks. Such transceivers may be used for communication over
power lines, twisted pairs, over wires lain along the path of
guided vehicles, or the like. The invention further relates to
the transmission of digital data in industrial environments over
transmission channels having noise characteristics influenced by
the industrial environment. In United States Patent No. 4,597,082,
there is disclosed a transceiver for multidrop local area networks
for transmission over AC transmission lines, private wire,
or other less noisy transmission channels that provides error
free transmissions at very high data rates in noisy industrial
environments at low cost.In United States Patent No. 5,257,290,
there is disclosed a transceiver system for communication over
wire laid along the path of guided vehicles, where in the transmission
channel, is the typical floor loop used to guide such
vehicles. The
problem of null positions in such
floor loops, at which the strength of signals sent from the host
modem, is so low or non-existent that communications is impossible
with the guided vehicle and one solution to that problem
is discussed.The present invention is directed to eliminating such multipath
problems in wire guided vehicle applications and to combating
periodic impulse and slowly time varying continuous wave
noise typical of wire guided vehicles, power line carrier transmission
systems and other transmission channels in an industrial
environment.While, according to the prior art, spread spectrum (frequency
hopping) systems and time diversity techniques have been
utilized to overcome transmission problems caused by random
noise, which may be natural or caused by jamming, such techniques
have not been utilized in low cost systems, which are oriented
towards adaptive avoidance of inadvertent man-made noise, such as
in the industrial environment. Such noise is time varying, but
not truly random. In accordance with the present invention, there is provided a communications
system comprising a transmitter and receiver wherein binary coded information
packets including error codes are transmitted from a transmitter to a receiver on at
least one of a plurality of modulated frequencies and the receiver transmits to the
transmitter an error signal when the receiver determines that a packet was received
with an error, characterised in that the transmitter comprises:
A) means for setting the transmission
</DESCRIPTION>
<CLAIMS>
A communications system comprising a transmitter and receiver wherein binary
coded information packets including error codes are transmitted from a

transmitter to a receiver on at least one of a plurality of modulated frequencies
and the receiver transmits to the transmitter an error signal when the receiver

determines that a packet was received with an error, 
characterised in that
 the
transmitter comprises:


A) means for setting the transmission bit rate at one of a plurality of bit rates
between upper and lower limits;
B) means for maintaining a variable related to bit error rate (BRCNT), having
upper and lower limits, and updated as follows, where (N-1) indicates the

current BRCNT value and (N) indicates the new BRCNT value -
BRCNT (N) = BRCNT (N-1) + 1 when a packet was received with an error

BRCNT (N) = BRCNT (N-1)/2 when a packet was received without an error
and for decrementing the setting of the bit rate when the BRCNT reaches the

upper limit and for incrementing the setting of the bit rate when the BRCNT
reaches the lower limit;

and
C) means for changing at least one frequency used in the next packet
transmission when the BRCNT reaches the upper limit and the bit rate used

in the error containing packet was the lowest bit rate available.
A system according to claim 1, 
characterised in that
 the receiver utilizes
integrate and dump bit detection.
A system according to claim 1 or claim 2, wherein the receiver employs
automatic gain control for receiving binary coded parity checked information in

successive ones of the packets, 
characterised in that
 the receiver comprises: 

A) means for determining the bit error rate occurring in received packets by
analyzing the packets for errors over a selected sample period of a plurality of

successive sample periods, and storing the said rate;
B) means for comparing the said bit error rate with the bit error rate in a sample
period occurring before the selected sample period;

and
C) means for changing the gain of the receiver in the same direction that it was
changed previously when the current bit error rate is less than the previously

measured bit error rate and for changing the gain in the opposite direction when
the current bit error rate is greater then the previously measured bit error rate.
A system according to claim 3, 
characterised by
:

D) means for keeping the gain at the same setting for a predetermined number of
successive ones of said sample periods after changing the gain in said opposite

direction.
A system according to claim 3 or claim 4, 
characterised in that
 the said sample
period is a number of packets received.
A system according to any preceding claim, 
characterised by
 a plurality of slave
modems each comprising a receiver substantially identical to the said receiver and

each connected to a host, the said receiver further comprising:

A) means for receiving binary coded information packets on the said plurality of
modulated frequencies;
B) means for searching the said frequencies for packets containing one of a
plurality of master addresses and for only transmitting to its host packets

containing the said one master address.
A system according to claim 6, further 
characterised by
:

C) a master modem having a specific master address and comprising 

a) means for searching the said channels for and, disabling itself when, a
packet is received containing the said specific master modem address from

another master.
</CLAIMS>
</TEXT>
</DOC>
