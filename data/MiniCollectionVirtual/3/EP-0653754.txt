<DOC>
<DOCNO>EP-0653754</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Removal of precompensation in a write data signal
</INVENTION-TITLE>
<CLASSIFICATIONS>G11B2010	G11B2010	G11B509	G11B509	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G11B	G11B	G11B	G11B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G11B20	G11B20	G11B5	G11B5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method for removing precompensation in a Write Data signal from a 
flexible disk controller (100). A timer (302) measures the time between 

consecutive transitions. Numerical values (304) from the timer are delayed in a 
buffer (306). Numerical times (308) from the buffer are compared to numerical 

ranges (310) by an array of parallel numerical comparators (312). Numerical times 
corresponding to precompensation ranges are numerically compensated (314). The 

compensated values are then used to control the time between transitions in a 
regenerated Write Data signal (320). 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CURRAN DANIEL J
</INVENTOR-NAME>
<INVENTOR-NAME>
CURRAN, DANIEL J.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a method of and apparatus for
converting a precompensated time interval to an ideal time interval
for use, for example, with tape drives and flexible disk drives and
more specifically to a magnetic head thereof requiring non-standard
precompensation of write data.In general, in digital recording, information is encoded in the spacing of
magnetic polarity transitions. During the reading process, the polarity transitions
are converted into voltage pulses, so that the information in the read signal is
encoded in the spacing of pulse peaks. Therefore, for data integrity, the accuracy
of the timing of the peaks in the read signal is critical. There are, however,
inherent distortions of the read signal that must be accommodated.Binary information on magnetic flexible disks is stored by magnetizing
small areas of the magnetic surface with one of two polarities. For most flexible
disk drives used in personal computers, the small magnetized areas are recorded
primarily longitudinally (in the plane of the surface). Although the magnetized
areas are primarily longitudinal, they also have an unavoidable partial vertical
component (perpendicular to the surface). During reading, a magnetic coil in a
read head intersects magnetic fields from the small magnetized areas. As the head
passes through the fields, a transition from one polarity to the opposite polarity
results in a changing field that in turn induces a changing current in the coil of the
read head. The changing current typically drives a resistive load to provide a
voltage signal. Ideally, for purely longitudinal magnetization, an isolated transition
from one polarity to the opposite polarity results in a perfectly symmetrical voltage 
pulse. Ideally, for purely vertical magnetization, an isolated transition from one
polarity to the opposite polarity results in a perfectly symmetrical dipulse (a pulse
of one polarity followed by a pulse of the opposite polarity). The combined
longitudinal and vertical components result in an asymmetrical voltage pulse. The
asymmetry is sometimes referred to as a peak shift. As bit densities increase, the
transitions are no longer isolated. In particular, if two adjacent write transitions
are very close together, the combined effects of peak shift and adjacent pulses
make the time between read pulses on read-back longer than the time between the
transitions during writing.Given a particular digital pattern in the write waveform, it is possible to
predict some of the resulting distortion in the read
</DESCRIPTION>
<CLAIMS>
A method of converting an ideal time interval having been modified to a

precompensated time interval back to an ideal time interval in a data storage system which
can generate a Write Data signal comprising consecutive binary transition, with an ideal

time interval between two consecutive binary transitions; the method comprising the steps
of:


a. timing (302) the precompensated time interval to generate a numerical time
(304);
b. comparing (312) the numerical time to a plurality of numerical time ranges
(310);
c. selecting from the plurality of numerical time ranges the numerical time
range which includes the numerical time;
d. performing on said numerical time a compensation calculation (314)
corresponding to the selected numerical time range to generate (318) a compensated

numerical time having removed said precopmensation;
e. waiting from a last generated binary waveform transition an amount of time
corresponding to the compensated numerical time; and
f. generating a binary waveform transition.
Conversion apparatus for converting an ideal time interval having been modified to a
precompensated time interval back to an ideal time interval in a data storage system which can

generate a Write Data signal comprising consecutive binary transmissions, with an ideal
time interval between two consecutive binary transitions; the apparatus comprising:


a. timing means (302) for timing the precompensated time interval to generate a
numerical time;
b. comparator means (312) for comparing the numerical time to a plurality of
numerical time ranges (310);
c. selection means (314) for selecting from the plurality of numerical time
ranges the numerical time range which includes the numerical time; 
d. calculation means (314) operable to perform on said numerical time a
compensation calculation corresponding to the selected numerical time range

to generate a compensated numerical time having removed said
precompensation, and generating means (318) being adapted to wait from a last generated binary

waveform transition an amount of time corresponding to the compensated numerical time
and then generating a binary waveform transition.
</CLAIMS>
</TEXT>
</DOC>
