<DOC>
<DOCNO>EP-0653705</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Message handler
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F946	G06F946	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F9	G06F9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A computer system has a message handler for passing messages 
between processes. The message handler makes use of a 

message queue and a process queue. The message queue holds a 
list of messages between the processes, arranged in 

chronological order according to the length of time each 
message has been waiting for delivery. The process queue 

holds a list of processes that have requested messages, 
arranged in chronological order according to the length of 

time each process has been waiting for a message. The 
message handler searches the queues to find the earliest 

process in the process queue that currently has a message 
queued for it, and to find the earliest message in the 

message queue currently queued for that process, and then 
passes that message to that process. The message handler may 

be implemented as a TSR (Terminate and Stay Resident) 
process, running under a single-thread operating system. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
INT COMPUTERS LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL COMPUTERS LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HEALEY ROGER KENNETH
</INVENTOR-NAME>
<INVENTOR-NAME>
HEALEY, ROGER KENNETH
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a message handler for passing
messages between processes or tasks running in a computer
system. The invention is particularly, although not
exclusively, concerned with a message handler suitable for
running as a TSR (Terminate and Stay Resident process) under
a single-thread operating system such as the MS-DOS operating
system.A computer-implemented mailbox comprising a list of messages sent from processes and a
a list of processes waiting for a message is known from "Radio Fernsehen Elektronik", vol. 32,
no. 3, March 1983, Berlin, pages 150-151. That document is silent about any order in said lists and
proposes a message handler which treats the most recent message request from a process immediately as long as a message is found in the message list.According to the invention there is provided a computer
system comprising:
(a) means for running a plurality of processes,(b) a message queue for holding a list of messages between
the processes, arranged in chronological order according
to the length of time each message has been waiting for
delivery, (c) a process queue for holding a list of processes that
have requested messages, arranged in chronological order
according to the length of time each process has been
waiting for a message, and(d) a message handler comprising means for searching the
queues to find the earliest process in the process queue
that currently has a message queued for it, and to find
the earliest message in the message queue currently
queued for that process, and for passing that message to
that process.The drawing is a block diagram of a computer system,
comprising a number of processes, including a message handler
process.One embodiment of the invention will now be described by way
of example with reference to the accompanying drawings.Referring to the drawing, the embodiment of the invention to
be described is a PC-based communications concentrator, for
making connections between a number of hardware devices 10
and a data link 11. The data link is connected to a remote
computer (not shown) for monitoring and interrogation of the
devices. The concentrator comprises a standard personal
computer (PC) 12, running under the MS-DOS operating system.
The PC is connected to the hardware devices 10 by way of a
number of hardware interfaces 13, and is connected to the
data link 11 by way of a modem 14. The system also includes
a monitor 15 and keyboard 16.The computer runs a user process 17 and several utility
processes, including a timer process 18, a protocol
</DESCRIPTION>
<CLAIMS>
A computer system comprising:

(a) means (12) for running a plurality of processes (17-21),
(b) a message queue (24) for holding a list of messages between
the processes, arranged in chronological order according

to the length of time each message has been waiting for
delivery,
(c) a process queue (23) for holding a list of processes that
have requested messages, arranged in chronological order

according to the length of time each process has been
waiting for a message, and
(d) a message handler (22) comprising means for searching the
queues to find the earliest process in the process queue

that currently has a message queued for it, and to find
the earliest message in the message queue currently

queued for that process, and for passing that message to
that process.
A computer system according to Claim 1 wherein the
message handler comprises a TSR, i.e. a Terminate and Stay

Resident process, running under a single-thread
operating system.
A computer system according to Claim 2 including a
plurality of further processes, at least some of which

are also TSRs.
A computer system according to Claim 3 wherein the
further processes provide a communications concentrator

function.
</CLAIMS>
</TEXT>
</DOC>
