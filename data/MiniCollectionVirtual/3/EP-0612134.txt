<DOC>
<DOCNO>EP-0612134</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Programmable battery controllers.
</INVENTION-TITLE>
<CLASSIFICATIONS>G01R3136	G01R3136	H02J700	H02J700	H02J704	H02J704	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01R	G01R	H02J	H02J	H02J	H02J	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01R31	G01R31	H02J7	H02J7	H02J7	H02J7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A programmable battery controller is provided for 
controlling and monitoring charge level, temperature, discharge 

and recharge or a rechargeable battery. The controller utilizes 
a host system microprocessor, a microcontroller, a charge gauge 

integrated circuit, and a display to provide continually updated 
battery status information. Further, the apparatus allows a user 

to configure battery monitoring parameters in order to adjust 
warning signals and enable battery discharge cycles. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES INC
</APPLICANT-NAME>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DULEY RAY S
</INVENTOR-NAME>
<INVENTOR-NAME>
DULEY, RAY S.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a programmable battery controller and 
more particularly to a programmble apparatus, system and method for 
more accurately controlling and/or monitoring battery charge. Battery monitoring systems are commonly used to notify a 
portable computer user when a rechargeable battery needs 
recharging. Conventional battery monitoring systems often 
implement a software program that relies on a computer's hardware 
configuration and the power needed to run the components and 
peripherals. The software then monitors the usage of the 
components and peripherals to approximate the battery's drain 
rate and the remaining charge on the battery. Such software approximates the remaining battery charge 
based on the power specifications of components and peripherals. 
Based upon power specifications for particular components and the 
chosen battery discharge rate, the software then calculates 
approximately where the battery's charge level currently resides. 
Such approximations fail to take into account the variances of 
actual components. In addition, the computer user must adapt the 
software whenever a portable computer is reconfigured with 
different parts or new batteries, Software programs necessary to 
achieve many of these functions are often referred to as 
terminate and stay resident (TSR) programs. TSR programs  
 
typically require multiple host computer interface operations 
which can, and often do, cause the host computer to lock up 
periodically or cause the program not to be run. In an effort to overcome deficiencies of software 
approximation programs, more recent developments in charge 
monitoring devices have taken place. One such device monitors 
the voltage level of the rechargeable battery. An analog-to-digital 
converter may be employed to monitor the battery voltage 
throughout its operation. However, when a battery discharges 
during use, the voltage output generally reacts non-linearly. 
The non-linear discharge in the battery voltage may create false 
signals that a battery needs recharging when the battery, in 
fact, still contains sufficient charge. Alternatively, non-linear 
discharge shows the battery as completely discharged even 
though adequate charge still remains. The false signals are read 
by the analog-to-digital converter which then outputs incorrect 
signals to the controller, and the controller prematurely charges 
the battery, thereby lessening the battery's capacity and 
lifetime. Typical battery voltage monitors often cannot and do not 
indicate
</DESCRIPTION>
<CLAIMS>
A programmable battery controller comprising: 
   a rechargeable battery pack capable of discharge to a 

variable charge level; 
   a charge gauge circuit coupled to said battery, said 

charge gauge circuit having an internal register 
adapted to receive said variable charge level; 

   a microcontroller having an internal register and a 
bidirectional bus coupled to said charge gauge and 

adapted to programmably retrieve and store said 
charge level; and 

   an icon display coupled to said microcontroller and 
adapted to display said charge level from said 

internal register upon user command. 
The battery controller as recited in claim 1, wherein said 
rechargeable battery pack is capable of operating at a variable 

temperature, said charge gauge circuit is adapted to receive said 
temperature, and said display is adapted to display said 

temperature upon user command. 
The battery controller as recited in claim 1, wherein said 
rechargeable battery pack comprises a plurality of batteries. 
The battery controller as recited in claim 1, wherein said 
charge gauge comprises an integrated circuit having a sense 

resistor means coupled to said battery pack for measuring current 
through said battery pack. 
The battery controller as recited in claim 2, wherein said 
 

charge gauge comprises an integrated circuit having a thermistor 
means coupled to said battery pack for measuring temperature of 

said battery pack. 
The battery controller as recited in claim 1, further 
comprising: 

   microprocessor coupled to said microcontroller; 
   a keyboard gate array coupled to said microcontroller 

and said microprocessor; 
   computer display coupled to said microprocessor, 

wherein said display includes a plurality of 
battery monitor parameters; 

   means for setting select said battery monitor 
parameters in response to input upon said keyboard 

gate array; and 
   means for increasing and decreasing said charge level 

in accordance with said battery monitor parameter 
settings. 
The battery controller as recited in claim 6, wherein said 
battery monitor parameters comprise a plurality of settings 

displayed upon said monitor and which can be changed in response 
to an amount of discharge acceptable by said battery pack. 
The battery controller as recited in claim 6, wherein said 
battery monitor parameters comprise low battery level setting, 

discharge cycle permitted, and low battery audio warning signals 
stored within said microprocessor and programmably transmitted to 

said charge gauge circuit. 
The battery controller as recited in claim 6, wherein said 
computer display comprises means for receiving said charge level 

from the internal registers of said microcontroller. 
The battery controller as recited in claim 6, wherein said 
increasing means comprises an ac power supply connectable to said 

battery pack. 
The battery controller as recited in claim 6, wherein said 
decreasing means comprises a discharge flag sent from said charge 

gauge circuit to said microcontroller, wherein said discharge 
flag temporary interrupts said microprocessor and, depending upon 

said battery monitor parameters, said microprocessor initiates a 
discharge cycle until said microcontroller asserts a very low 

battery signal. 
A programmable battery controller comprising: 
   a rechargeable battery pack capable of operating at a 

variable temperature and discharging to a variable 
charge level; 

   a charge gauge circuit coupled to said battery, said 
charge gauge circuit having an internal register 

adapted to receive said variable charge level and 
said variable temperature from said battery pack; 

   a microcontroller having an internal register and a 
bidirectional bus coupled to said charge gauge and 

adapted to programmably retrieve and store said 
temperature and said charge level; 

   an icon display coupled to said microcontroller and 
adapted to display said temperature and said 

charge level from said internal register;
 

   a microprocessor coupled to said microcontroller; 
   a keyboard gate array coupled to said microcontroller 

and said microprocessor; 
   a computer display coupled to said microprocessor, 

wherein said display includes a plurality of 
battery monitoring parameters; 

   means for setting select said battery monitor 
parameters in response to input upon said keyboard 

gate array; and 
   means for increasing and decreasing said charge level 

in accordance with said battery monitor parameter 
settings. 
The battery controller as recited in claim 12, wherein said 
battery monitor parameters comprise a plurality of settings 

displayed upon said monitor and which can be changed in response 
to an amount of discharge acceptable by said battery pack. 
The battery controller as recited in claim 12, wherein said 
battery monitor parameters comprise low battery level setting, 

discharge cycle permitted, and low battery audio warning signals 
stored within said microprocessor and programmably transmitted to 

said charge gauge circuit. 
The battery controller as recited in claim 12, wherein said 
computer display comprises means for receiving said charge level 

from the internal registers of said microcontroller. 
The battery controller as recited in claim 12, wherein said 
increasing means comprises an ac power supply connectable to said 

battery pack. 
The battery controller as recited in claim 12, wherein said 
decreasing 
means comprises a discharge flag sent from said charge 
gauge circuit to said microcontroller, wherein said discharge 

flag temporary interrupts said microprocessor and, depending upon 
said battery monitor parameters, said microprocessor initiates a 

discharge cycle until said microcontroller detects a very low 
battery signal. 
A method for controlling a battery comprising the steps of: 
   providing a rechargeable battery operating at a 

variable temperature and charge level; 
   manipulating a computer display to set parameters for 

controlling said battery; 
   acquiring periodic temperature and charge level for 

said battery; 
   displaying said temperature and charge level upon said 

computer display; and 
   discharging said battery at programmable intervals 

depending upon the parameters set upon said 
computer display. 
The method as recited in claim 18, wherein said discharging 
step comprises: 

   providing a charge gauge circuit having a sense 
resistor and a thermistor connected to said 

battery; 
   providing a microcontroller having an internal register 

connected to said charge gauge circuit;
 

   providing a microprocessor connected to said 
microcontroller; 

   producing a discharge flag from said sense resistor; 
   sending said discharge flag from said charge gauge 

circuit to said microcontroller; 
   interrupting said microprocessor depending upon the 

setting of said battery discharge parameters; and 
   initiating a discharge cycle for a period of time until 

said charge gauge circuit asserts a very low 
battery signal to said sense resistor. 
</CLAIMS>
</TEXT>
</DOC>
