<DOC>
<DOCNO>EP-0629844</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for testing overfill protection devices
</INVENTION-TITLE>
<CLASSIFICATIONS>G01F2500	G01F2500	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01F	G01F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01F25	G01F25	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The present invention resides in a probe excitation and 
testing ("PET") system that can apply either a normal 

excitation or a "small" bias test excitation to overfill 
protection probes mounted within storage and transport tanks 

used to store, e.g., flammable fluids. The PET system applies 
the normal excitation for normal operation of the probes to 

provide overfill protection, and applies a "small" bias test 
excitation to the probes for performing diagnostic tests, 

including anti-cheating. The PET system can also perform a 
probe signature validation test under normal excitation to 

ascertain whether the probes are responding thereto in 
accordance with specifications relating to characteristic 

parameters of the probes' output waveforms, e.g., duty cycle, 
magnitude, and period. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SCULLY SIGNAL CO
</APPLICANT-NAME>
<APPLICANT-NAME>
SCULLY SIGNAL COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CADMAN GARY R
</INVENTOR-NAME>
<INVENTOR-NAME>
CADMAN, GARY R.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates generally to electronic overfill
protection devices for storage or transport tanks, and more
particularly to a method and apparatus for performing
diagnostic testing of the operation and electrical wiring
integrity of the overfill protection devices.Tanks used for storing or transporting flammable fluids
such as gasoline, diesel fuel and other hazardous petroleum
products are often equipped with overfill protection devices to
protect the environment.The tanks can be mounted on tanker trucks or located
underground at service stations. Tanker trucks are typically
filled with the fluids using pumping equipment at loading racks
of marketing terminals, and underground storage tanks are
typically gravity filled from the trucks. An overfill
protection device is used with each tank to disable the pumping
equipment at the marketing terminals or close a truck-mounted
flow valve at the service station when the limit of the tank's
capacity is reached.The overfill protection device typically has a detection
circuit and a disable circuit. One or more probes, each
located within a tank, are connected to the detection circuit
over a separate channel. Each probe generates an electrical
sensor signal that indicates when the fluid within the tank
exceeds a pre-determined level. The detection circuit has a
controller mounted near the tank (e.g., on the tanker truck or
at the service station) that controls the operation of the
probes. The detection and disable circuits are interconnected 
by a suitable electrical cable. In response to the sensor
signal indicating that a particular tank is full, the disable
circuit operates to stop flow into that tank (e.g., by
disabling the pumping equipment at the loading rack or by
closing the flow valve on the truck).For applications involving filling of tanks with hazardous
materials, the overfill protection device should be designed
and operated in an "intrinsically safe" manner, and preferably
be "fail safe." As defined in applicable standards promulgated
by various governmental agencies and industrial organizations,
an intrinsically safe circuit cannot produce any spark or
thermal effect, either normally or in any likely fault
condition, which is capable of causing the ignition of a
mixture of the flammable fluid and its vapor or other
combustible material in air."Fail safe" means that no single failure of a component or
wiring in the overfill protection device will cause overfilling
of the tank. From a practical standpoint, fail safe operation
requires that
</DESCRIPTION>
<CLAIMS>
A probe excitation and testing, "PET", system for an overfill protection device
including a probe (12) mounted in a tank (14) for sensing a level of material therein,

said probe (12) operable to produce a probe output signal in response to a normal
operating excitation of at least a preselected magnitude necessary to operate the probe

being applied thereto, said PET system comprising:

A) processor means (42, 44, 46, 48, 52, 54, 55, 56) for conducting any of a
plurality of diagnostic tests and for generating an excitation control signal;
B) channel means (30) for coupling said processor means (42, 44, 46, 48, 52,
54, 55, 56) with said probe (12), said diagnostic tests conducted by said processor

means comprising means for determining whether said probe and said channel means
(30) can operate within preselected limits; and
C) excitation means (22) coupled with said channel means (30) and responsive
to said excitation control signal for applying said normal operating excitation to provide

overfill protection during filling of said tank (14), and for applying a bias test excitation
to said probe (12) instead of said normal operating excitation during said diagnostic

test, said bias test excitation having a magnitude substantially less than the preselected
magnitude of said normal operating excitation, yet sufficient to conduct said diagnostic

test.
The PET system in accordance with claim 1, wherein said excitation control
signal has a preselected characteristic, and said processor means includes a first

processor (42, 44, 46, 48, 52, 54, 55, 56) for generating said excitation control signal;
and a second processor (62, 68, 70, 72) for monitoring said excitation control signal and

for producing an output disable signal to indicate that said excitation control signal
characteristic exceeds a predetermined threshold.
The PET system in accordance with claim 1, wherein said processor means
includes first logic means (52, 54) for determining whether said probe (12) operates

within predetermined limits when said normal excitation is applied thereto 
The PET system in accordance with claim 1, wherein said processor means
includes second logic means (52, 54) for determining whether said probe operates

within predetermined limits when said bias test excitation is applied thereto.
The PET system in accordance with claim 1, wherein said overfill protection
system includes a second channel (30), and said processor means includes third logic

means (52A) for determining whether an electrical connection exists between said
channel (30) and said second channel (30).
The PET system in accordance with claim 1, wherein said overfill protection
system includes a second channel (30), and said processor means includes fourth logic

means (52B) for determining whether an unauthorised connection has been made to
said second channel (30).
The PET system in accordance with claim 1, wherein said processor means
includes fifth logic means (52C) for determining whether said channel (30) has been

electrically connected to a high voltage line.
The PET system in accordance with claim 1, wherein said processor means
includes sixth logic means (52C) for determining whether said channel (30) has been

electrically connected to a ground.
A method relating to a probe excitation and testing, "PET", system for an
overfill protection device including (i) a probe (12) mounted in a tank (14) for sensing a

level of material therein, said probe (12) operable to produce a probe output signal in
response to a normal operating excitation of at least a preselected magnitude being

applied thereto, said probe output signal being a waveform having a plurality of
characteristic parameters, and (ii) a processor (42, 44, 46, 48, 52, 54, 55, 56) connected

to said probe via a channel (30) for applying said normal operating excitation thereto
and for receiving said output
 voltage therefrom, said method being a method of 
conducting a probe signature validation test to determine whether said probe can

operate within preselected limits, and comprising the steps of:

A) exciting said probe (12) with said normal operating excitation;
B) monitoring said channel (30) for said probe output voltage resulting from
said excitation to obtain said characteristic parameters thereof; and
C) testing each said characteristic parameter of said monitored probe output
voltage to determine whether said characteristic parameter falls within a predetermined

range.
The method in accordance with claim 9, wherein said monitoring step includes
the step of generating signals representing an amplitude during each of a positive half

cycle and a negative half cycle, a period, and a duty cycle of said voltage output.
The method on accordance with claim 10, wherein said monitoring step includes
the steps of measuring the duration of the positive half cycle and the negative half cycle

of the output voltage and the amplitude of the output voltage as a preselected time
during each; and said testing step includes the steps of;


A) performing a probe period test by generating a period signal representing the
period of the output voltage, comparing the period signal with preselected limits

defining a range of proper period values, and indicating that said probe (12) does not
meet specifications concerning the period of its output if the period signal falls outside

said range;
B) performing a probe magnitude test by generating an amplitude signal
representing a high and low value of the amplitude for the output voltage, comparing

the amplitude signal with preselected limits defining a preselected value for said high
and low amplitudes, and indicating that said probe (12) does not meet specifications

concerning the amplitudes if the high amplitude represented by said amplitude signal is
lower than the corresponding limit or if the low amplitude is higher than the

corresponding limit; and
C) performing a probe duty cycle test by generating a duty cycle signal
representing the duty cycle of the output voltage, comparing said duty cycle signal with 

preselected limits defining a range of proper duty-cycle values, and indicating that said
probe (12) does not meet specifications concerning the duty cycle of its output if the

duty cycle signal falls outside said range.
A method relating to a probe excitation and testing, "PET", system for an
overfill protection device including (i) a plurality of probes (12), each mounted in a

tank (14) for sensing a level of material therein, each said probe (12) operable to
produce a probe output signal in response to a normal operating excitation of at least a

preselected magnitude being applied thereto, and (ii) a processor (42, 44, 46, 48, 52, 54,
55, 56) connected to each of said probes (12) via a different one of a plurality of

channels (30), for applying said normal operating excitation thereto and for receiving
said output voltage therefrom, said method being a method of conducting a probe

interaction test for determining channel by-pass and channel-to-channel faults, and
comprising the steps of:


A) exciting said probe channels (30) with a test excitation having a magnitude
that is less than the preselected magnitude;
B) monitoring the probe output voltage resulting from the test excitation on
each probe channel (30);
C) converting the monitored probe output voltages into a first digital
representation thereof;
D) exciting all of said probe channels (30) with an additional test excitation
except for the channel connected to a preselected probe (12) to be tested, i.e., the

"PUT";
E) after step (D), monitoring said probe output voltage on each probe channel
(30) generated in response to said test excitation;
F) converting said monitored probe output voltages from step (E) into a second
digital representation thereof; and
G) comparing said first and second digital representations to determine whether
an electrical connection between the PUT and another probe channel (30) exists.
A method relating to a probe excitation and testing, "PET", system for an
overfill protection device including (i) a plurality of probes (12), each mounted in a

tank (14) for sensing a level of material therein, each said probe (12) operable to
produce a probe output signal in response to a normal operating excitation of at least a

preselected magnitude being applied thereto, and (ii) a processor connected to each of
said probes (12) via a different one of a plurality of channels (30), for applying said

normal operating excitation thereto and for receiving said output voltage therefrom, the
method being a method of conducting an unauthorised connection test and comprising

the steps of:

A) exciting said probe channels (30) with a test excitation having a magnitude
that is less than the preselected magnitude;
B) monitoring the probe output voltage on each probe channel (30) which the
configuration data stored in the PET system indicates should not have any connections

made thereto, and thus should be an open circuit;
C) converting the monitored probe output voltages into digital signals; and
D) comparing said digital signals with a predetermined threshold to determine
whether an unauthorised connection has been connected to said PET system.
A method relating to a probe excitation and testing, "PET", system for an
overfill protection device including (i) a plurality of probes (12), each mounted in a

tank (14) for sensing a level of material therein, each said probe (12) operable to
produce a probe output signal in response to a normal operating excitation of at least a

preselected magnitude being applied thereto, and (ii) a processor (42, 44, 46, 52, 54, 55,
56) connected to each of said probes (12) via a different one of a plurality of channels

(30), for applying said normal operating excitation thereto and for receiving said output
voltage therefrom, the method being a method of conducting an open and short circuit

test and comprising the steps of:

A) exciting said probe channels (30) with a test excitation having a magnitude
that is less than the preselected magnitude;
B) monitoring the probe output voltage on each probe channel (30);
C) converting the monitored probe output voltages into digital signals; and 
D) comparing said digital signals with first predetermined thresholds to
determine whether the corresponding channel (30) has been electrically connected to a

high voltage line, and with a second predetermined threshold to determine if the
channel (30) has been shorted, and with a third predetermined threshold range to

determine if the channel (30) is open.
</CLAIMS>
</TEXT>
</DOC>
