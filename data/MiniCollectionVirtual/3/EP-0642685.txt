<DOC>
<DOCNO>EP-0642685</DOCNO> 
<TEXT>
<INVENTION-TITLE>
IMPROVED SOLID STATE STORAGE DEVICE
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1216	G11C11406	G11C2900	G11C2900	G06F1216	G06F1200	G06F1200	G11C11406	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G11C	G11C	G11C	G06F	G06F	G06F	G11C	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F12	G11C11	G11C29	G11C29	G06F12	G06F12	G06F12	G11C11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An improved solid state storage device (SSD) with memory organized into a plurality of groups, each group including a plurality of ranks, and each rank having at least two banks sharing a bidirectional data bus. A matrix reorder circuit is used to distribute data across individual memory components in a way that prevents multi-bit uncorrectable or undetectable errors due to the failure of a single memory component. The matrix reorder circuit is used for both reading and writing data, and operates on a stream of pipelined data of arbitrary length. According to another aspect of this invention, a flaw map and additional hot spare memory are used to electrically replace failing memory components in the banks. According to another aspect of this invention, memory in a bank is accessed during one half of a reference cycle and refreshed during the second half of the reference cycle, each bank being 180 degrees out of phase with the other so that a read or write is performed on one bank while a memory refresh is performed on the other bank.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CRAY RESEARCH INC
</APPLICANT-NAME>
<APPLICANT-NAME>
CRAY RESEARCH, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ANDERSON MICHAEL L
</INVENTOR-NAME>
<INVENTOR-NAME>
FROMM ERIC C
</INVENTOR-NAME>
<INVENTOR-NAME>
HEIDTKE LONNIE R
</INVENTOR-NAME>
<INVENTOR-NAME>
ANDERSON, MICHAEL, L.
</INVENTOR-NAME>
<INVENTOR-NAME>
FROMM, ERIC, C.
</INVENTOR-NAME>
<INVENTOR-NAME>
HEIDTKE, LONNIE, R.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention pertains to the field of
solid state storage devices, and more particularly to
the field of add-on high speed solid state storage
devices.In recent years advancements in integrated
circuit technology have enabled development of memory
chips of greatly increased capacity, reducing the cost
per unit for solid state storage devices (SSDs).
Because of the cost reductions and the greatly reduced
space requirements, SSDs have become increasingly
popular as an alternative or supplement to magnetic
storage devices such as tapes or disk drives,
particularly in I/O bound processing systems. U.S.
Patent No. 4,630,230, issued December 16, 1986, to
Sundet, describes an SSD utilizing an organization which
minimizes data fan in and fan out and addressing fan out
requirements. The storage section is organized into two
groups, each group including a plurality of sections.
Each section provided includes eight banks, paired in
modules. The addressing and data is provided to the two
groups identically so that each group receives one word
each clock cycle. A pipeline technique of data
distribution is employed, where data words are supplied
to a first section in each group and transferred section
to section on each succeeding clock cycle until all
sections have a word and may be written into storage
simultaneously. In the case of a write operation, words
are captured from the sections simultaneously and passed
out of the memory section to section. Refresh
operations are accomplished on a periodic basis and a
plurality of power supplies are provided for the storage
modules in order to distribute refresh current demand
over time and between the power supplies, providing for
a safe and speedy refresh operation. U.S. Patent No. 4,951,246, issued August 21,
1990, to Fromm et al., teaches a nibble-mode dynamic
random access memory (DRAM) SSD utilizing the general
concept of pipelining as described in U.S. Patent
No. 4,630,230, issued December 16, 1986, to J. Sundet.
Memory is organized into sections, with each section
including a plurality of groups. Each group is
organized into a plurality of ranks, with each rank
including a pair of banks. Each group includes
addressing circuitry shared between the two banks, each
of which may be independently controlled, one at a time.
Nibble-mode DRAM is deployed in each bank, and the
addressing circuitry is adapted to address the DRAM in
Nibble-mode cycles.A plurality of ports into the SSD are provided,
with each port having an independent data path to each
section of
</DESCRIPTION>
<CLAIMS>
A solid state storage device comprising a memory
having a plurality of memory devices (113, 115, 117,

119), and input means (101) for receiving input data in
the form of input data blocks having a fixed size;

   characterized in that the solid state storage device
further comprises a write reorder matrix means (105),

wherein the write reorder matrix means (105) includes:

a first output buffer (141) for presenting a first
reordered group of bits of a fixed size N to the memory;
a second output buffer (139) for presenting a second
reordered group of bits of a fixed size N to the memory;
a shift matrix (143) connected to the first and
second output buffers, the shift matrix having a

dimension of depth N and first and second ports;
a first transfer means (133a, 133b, 133c, 133d) for
transferring a series of N sequential groups of bits of

said fixed size N in pipeline fashion into the shift
matrix (143) through said first port and for transferring

bits of the same weight from each of said series of N
sequential groups of bits from the shift matrix (143) to

the first output buffer (141) such that bits having the
same weight in each of said series of N sequential groups

of bits are reordered to form sequential bits in the same
one of a series of N reordered groups of bits; and
a second transfer means (133e, 133f, 133g, 133h) for 
transferring a further series of N sequential groups of

bits of said fixed size N in pipeline fashion into the
shift matrix (143) through said second port and for

transferring bits of the same weight from each of said
further series of N sequential groups of bits from the

shift matrix (143) to the second output buffer (139) such
that bits having the same weight in each of said further

series of N sequential groups of bits are reordered to
form sequential bits in the same one of a further series

of N reordered groups of bits.
A solid state storage device according to claim 1
further comprising:


a flaw map (131) of the plurality of memory devices;
and
memory replacement means (107) connected to the flaw
map for electrically replacing at least one of the

plurality of memory devices (113, 117) with at least one
of a number of spare memory devices (115, 119).
A solid state storage device according to claim 1,
or 2, wherein a bidirectional data bus means (97) is

provided for reading words out of and writing words into
the plurality of memory devices.
A solid state storage device according to claim 1,
2, or 3, wherein the solid state storage device is 

arranged to read from and write to a first one of a
plurality of independent banks of DRAM semiconductor

memory means (113, 117) forming said plurality of memory
devices during one part of a reference cycle and to

perform a memory refresh an the first bank during the
other half of the reference cycle.
A solid state storage device according to claim 1,
2, 3, or 4, further comprising read reorder matrix means

(125) substantially of the same form as the write reorder
matrix means (105).
A method of reordering data in a solid state storage
device comprising a memory having a plurality of memory

devices (113, 115, 117, 119), characterized by
using a write reorder matrix means (105) for

transferring a series of N sequential groups of bits
of fixed size N in pipeline fashion into a shift matrix

(143), having a dimension of depth N and first and second ports, in the following steps:

transferring, through said first part, bits of the same weight from each of
said series of N sequential groups of bits from the shift

matrix to a first output buffer (141) such that bits
having the same weight in each of said series of N

sequential groups of bits are reordered to form
sequential bits in the same one of a first series of N

reordered groups of bits; 
transferring a further series of N sequential groups
of bits of said fixed size N in pipeline fashion into the

shift matrix (143) through said second port
and

transferring bits of the same weight from each of said
further series of N sequential groups of bits from

the shift matrix (143) to said second output buffer (139),
such that bits having the same weight in each of said

further series of N sequential groups of bits are
reordered to form sequential bits in the same one of a

further series of N reordered groups of bits.
A method according to claim 6, further comprising:

using a flaw map (131) of the plurality of memory
devices; and
electrically replacing at least one of the plurality
of memory devices with at least one of a number of spare

memory devices (115, 119) when a flaw is detected in that
one at said plurality of memory devices.
A method according to claim 6 or 7, further
comprising using a bidirectional data bus means (97) for

reading words out of and writing words into the plurality
of memory devices.
A method according to claim 6, 7 or 8, further 
comprising reading from and writing to a first bank of a

plurality of independent banks of DRAM semiconductor
memory means forming said plurality of memory devices

during one part of a reference cycle and performing a
memory refresh on the first bank during the other half of

the reference cycle.
A method according to any one of claims 6 to 9,
further comprising both reading from and writing to

memory using a shift matrix in the manner set out in
claim 6.
</CLAIMS>
</TEXT>
</DOC>
