<DOC>
<DOCNO>EP-0658844</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Central processing unit using dual basic processing units and verification using accumulated results comparison
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1116	G06F1116	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F11	G06F11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In order to validate data manipulation results in a CPU which incorporates 
duplicate BPUs for integrity, which BPUs are typically each implemented on a 

single VLSI circuit chip, and which is capable of performing single and double 
precision data manipulation operations, two cache units are employed. Each cache 

unit is dedicated to handling half-bytes of information and incorporates highly 
reliable data validating logic without the necessity for providing double word wide 

output busses from each BPU. This feature, which lowers the lead count to each 
VLSI chip, is obtained by dedicating each cache unit to handling half-bytes of 

information. Each cache unit includes bit-by-bit comparison circuitry to validate 
the half-byte results received from both BPUs in the case of single precision 

operations, and, in the case of double precision operation, one cache unit employs 
the same bit-by-bit comparison circuitry to validate, for both cache units, the result 

parity bits, and hence the half-byte results, received from both BPUs. 

</ABSTRACT>
<APPLICANTS>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
This invention relates to the art of data processing and, more particularly, to
a central processing unit (CPU) using dual basic processing units (BPUs), dual
cache units and a combined result bus to obtain a double word result while
maintaining high data integrity.Powerful and reliable mainframe CPUs may incorporate duplicate BPUs
which work independently to execute the same instruction or instruction series in
parallel such that the results can be compared to insure identity. It has now
become feasible to incorporate an entire BPU on a single Very Large Scale
Integrated (VLSI) circuit which has the advantage of not only occupying less
space, but also enjoys the capability to run faster. However, there is a practical
limit to the number of conductive leads which can be connected to a VLSI circuit,
and this characteristic becomes a problem when double precision data
manipulation is performed. This problem arises because each of the duplicate
BPUs has typically required a double word result bus which, for example in one
computer family in which the present application finds application, means the
provision of two 80-bit result buses, one coupled to each BPU. Those skilled in
the art will appreciate that it would be highly desirable to obtain reliable double
precision results without the necessity to provide double word result buses from
each of duplicate BPUs. This has been achieved according to the invention set
forth in co-pending United States Patent Application Serial No. 08/065,105 filed 
May 19, 1993, entitled CENTRAL PROCESSING UNIT USING DUAL BASIC
PROCESSING UNITS AND COMBINED RESULT BUS, by Donald C.
Boothroyd et al and assigned to the same Assignee as the present application, now
United States Patent 5435000.In some critical environments and to further distinguish the fault tolerant
performance of a mainframe CPU, particularly in a multi-processor environment, it
is desirable to achieve even further confidence in the results of double precision bit
manipulations and the integrity of the results. The present invention is directed to
this end and to obtaining other desirable results which are a consequence of the
implementation of the invention.It is therefore a broad object of this invention to provide an improved CPU
which incorporates duplicate BPUs for integrity, which BPUs are typically each
implemented on a single VLSI circuit chip, and which is capable of performing
single and double precision data manipulation operations.It is a more specific object of this invention to provide a CPU
</DESCRIPTION>
<CLAIMS>
A central processor adapted to selectively perform single
and double precision data manipulation operations comprising:


first and second basic processing units (21, 22);
first and second cache units (23, 24);
each of said first and second basic processing units
including:


data manipulation logic circuitry (31, 32) adapted to
receive data from said cache units (23, 24), to perform

data manipulations thereon and to issue the data result
of such manipulations; and
a data buffer register (25, 26) for receiving the data
result from said data manipulation logic circuitry (31,

32), said buffer register being divided into upper (27,
28) and lower (29, 30) sections temporarily storing,

respectively, upper and lower half-bytes of the data
result;
each of said first (23) and second (24) cache units including:

bit-by-bit comparison means (37, 42) adapted to receive
first and second data words which should be identical

and to issue a validating signal (VALID) if the first and
second data words are identical; and
storage means (41, 46);
first and second upper-half busses (33, 34);

said first upper-half bus (33) coupling said upper section
(27) of said data buffer register (25) of said first basic

processing unit (21) to said bit-by-bit comparison means
(37) of said first cache unit (23) as the first data word

input thereto during single precision store operations; and
said second upper-half bus (34) coupling said upper section
(29) of said data buffer register (26) of said second basic 

processing unit (22) to said bit-by-bit comparison means
(37) of said first cache unit (33) as the second data

word input thereto during single precision operations;
first and second lower-half busses (35, 36);

said first lower-half bus (35) coupling said lower section
of said data buffer register (25) of said first basic processing

unit (21) to said bit-by-bit comparison means (42)
of said second cache unit (24) as the first data word

input thereto during single precision store operation; and
said second lower-half bus (36) coupling said lower section
(30) of said data buffer register (26) of said second basic

processing unit (22) to said bit-by-bit comparison
means (42) of said second cache unit (24) as the second

data word input thereto during single precision store
operations;

characterized in that said central processor further comprises
in each of said first and second basic processing units (21, 22):


an adder (60, 61) coupled to receive and sum upper and lower
word result information from said data manipulation logic

circuitry (31, 32);
an accumulator (62, 63) coupled to said adder (60, 61) for
accumulating a one word sum representing successive additions

of upper and lower word result information;
transferring, during non-store operations, the respective
sums in said accumulators (62, 63) in said first/second

basic processing units (21, 22) to said bit-by-bit comparison
means (37) in at least one of said first and second

cache units (23, 24) as first and second data word inputs
thereto; and
signaling, in response to the detection of a non-compare
condition by said bit-by-bit comparison means (37), an

error signal (CPU ERROR) to the CPU control and support

circuitry (68).
The central processor of claim 1, characterized in that
each of said first and second basic processing units (21, 22)

comprises:

a parity buffer register (52, 53) for receiving a complete
set of parity bits in the data result;
a first parity bus (54) coupling the parity buffer register
(52) of said first basic processing unit (21) to one of

said bit-by-bit comparison means (42; Fig.3) as the first
data word input thereto during double precision store

operations; and
a second parity bus (55) coupling the parity buffer register
(53) of said second basic processing unit (22) to

said one of said bit-by-bit comparison means (42) as the
second data word input thereto during double precision

store operations;
transferring, in response to the issuance of one of said
validating signals (VALID), data on said first and second

upper-half busses (33, 34) to said storage means (41) of
said first cache unit (23) and on said first and second

lower-half busses (35, 36) to said storage means (46) of
said second cache unit (24) during store operations.
The central processor of claims 1 or 2, further comprising
first and second transfer means (38, 43), characterized

in that:

during single precision store operations:

said first transfer means (38) adapted to transfer data
on said first and second upper-half busses (33, 34) to

said storage means (41) of said first cache unit (23)
in response to said validating signal (VALID) issued by

said bit-by-bit comparison means (37) of said first cache
unit (23);
said second transfer means (43) adapted to transfer data
on said first and second lower-half busses (35, 36) to

said storage means (46) of said second cache unit (24)
in response to said validating signal (VALID) issued by

said bit-by-bit comparison means (42) of said second cache
unit (24);
during double precision store operations:

said first transfer means (38) adapted to transfer data
on said first and second upper-half busses (33, 34) to

said storage means (41) of said first cache unit (23)
in response to a validating signal (VALID) issued by

one of said bit-by-bit comparison means (42); and
said second transfer means (43) adapted to transfer
data on said first and second lower-half busses (35,

36) to said storage means (46) of said second cache
unit (24) in response to a validating signal (VALID)

issued by said one of said bit-by-bit comparison
means (42).
The central processor of claims 1 or 2, further comprising
first and second transfer means (38, 43), characterized

in that:

during single precision store operations:

said first transfer means (38) adapted to transfer data
on said first and second upper-half busses (33, 34) to

said storage means (41) of said first cache unit (23)
in response to said validating signal (VALID) issued

by said bit-by-bit comparison means (37) of said first
cache unit (23);
said second transfer means (43) adapted to transfer data on
said first and second upper-half busses (33, 34) to said

storage means (46) of said second cache unit (24) in response
to said validating signal (VALID) issued by said

bit-by-bit comparison means (42) of said second cache
unit (24);
during double precision store operations:

said first transfer means (38) adapted to transfer data
on said first and second upper-half busses (33, 34) to

said storage means (41) of said first cache unit (23) in response
to said validating signal (VALID) issued by one

of said bit-by-bit comparison means (42); and
said second transfer means (43) adapted to transfer data
on said first and second upper-half busses (33, 34) to

said storage means (46) of said second cache unit (24)
in response to said validating signal (VALID) issued by

said one of said bit-by-bit comparison means (42).
The central processor of claims 1, 2 or 3, characterized
in that the upper-half bytes of the respective sums in said

accumulator (62) in said first basic processing unit (21) and
said accumulator (63) in said second basic processing unit (22)

are transferred to said bit-by-bit comparison means (37) in
said first cache unit (23) as first and second data word input

thereto; and the lower half-bytes of the respective sums
in said accumulator (62) in said first basic processing unit

(21) and said accumulator (63) in said second basic processing
unit (22) are transferred to said bit-by-bit comparison means

(42) in said second cache unit (24) as first and second data
word input thereto.
</CLAIMS>
</TEXT>
</DOC>
