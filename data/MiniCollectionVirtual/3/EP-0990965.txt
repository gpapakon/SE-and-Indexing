<DOC>
<DOCNO>EP-0990965</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Program cooperative execution apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>G05B1904	G05B19042	G06F9445	G06F9445	H04N716	H04N716	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G05B	G05B	G06F	G06F	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G05B19	G05B19	G06F9	G06F9	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Java bytecode for having home appliances perform a
cooperative operation is developed by a development computer

and is sent via a communications satellite from the
development computer to a TV tuner
&
home server provided in a
home. After the TV tuner
&
home server receives the Java
bytecode, a bytecode converting unit of the TV tuner
&
home
server determines which home appliance is the target

appliance of the Java bytecode and converts the Java bytecode
into native code for the microprocessor provided in the

target appliance. The native code is downloaded into the
target appliance via a home appliance network and the target

appliance executes the downloaded native code.

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC IND CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC INDUSTRIAL CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HARUNA SYUSUKE
</INVENTOR-NAME>
<INVENTOR-NAME>
TOMINAGA NOBUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
HARUNA, SYUSUKE
</INVENTOR-NAME>
<INVENTOR-NAME>
TOMINAGA, NOBUKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This application is based on application No. H10-278782
filed in Japan, the content of which is hereby incorporated
by reference.The present invention relates to a program cooperative
execution apparatus that has electrical appliances
cooperatively perform specific operations by transferring
programs to the electrical appliances via communication
networks. More particularly, the present invention relates
to a program cooperative execution apparatus for achieving
cooperative operations among electrical appliances, such as
home appliances, which each include a microprocessor having
a relatively low throughput and a real memory having a
relatively small capacity.There are cases where it is desirable to achieve
cooperative operations among a plurality of electrical
appliances that operate under the controls of their
microprocessors. For instance, as broadcast stations start 
providing additional information, such as program schedules,
in digital broadcasts, it becomes desirable for the broadcast
stations to update the control programs stored in nonvolatile
memories of TV tuners provided in homes. Also, it
is desirable for utilities, such as electric-power companies,
gas companies, and hospitals, to offer new elaborate services
by collecting information about the operational conditions of
home appliances provided in homes via large-scale networks,
such as WANs (Wide Area Networks).One conceivable method for achieving cooperative
operations among electrical appliances, such as home
appliances, would be to develop new programs for achieving
such cooperative operations and to download the programs into
the electrical appliances which then execute the downloaded
programs. However, the electrical appliances into which the
programs are downloaded are not always designed using the
same architecture. That is, the electrical appliances
include totally different hardware or different types of
microprocessors. Therefore, techniques for overcoming the
differences in their architectures are required.Virtual machines, typified by Java (TM) of JavaSoft (a
division of Sun Microsystems Inc.), have been used as a
technique for overcoming differences in architecture among
computers connected via networks, such as the Internet.
Virtual machines are programs executed on specific
microprocessors (also called "real machines") and function as
virtual microprocessors that sequentially interpret and 
execute dedicated operation codes (bytecodes) for the virtual
machines. Note that a more detailed explanation of the Java
is given in
</DESCRIPTION>
<CLAIMS>
An apparatus for having a plurality of electrical
appliances perform cooperative operations specified by

programs sent from a transmitting device, each of the
plurality of electrical appliances being provided with a

processor, the apparatus being connected to the transmitting
device via a first communication channel and being connected

to the plurality of electrical appliances via a second
communication channel, the apparatus comprising:


a receiving means for receiving a first bytecode for a
first virtual machine, the first bytecode being a program

sent from the transmitting device via the first communication
channel and specifying a cooperative operation;
an appliance specifying means for specifying an
electrical appliance that should execute the received first

bytecode, out of the plurality of electrical appliances;
a converting means for converting the received first
bytecode into program code for a processor provided in the

specified electrical appliance; and
a distributing means for distributing the program code
generated by the converting means to the specified electrical

appliance via the second communication channel.
The apparatus of Claim 1,

wherein the processor provided in each of the plurality
of electrical appliances is a real machine,
the converting means converts the received first
bytecode into native code of a real machine provided in the

specified electrical appliance, and
the distributing means distributes the native code
generated by the converting means to the specified electrical

appliance via the second communication channel.
The apparatus of Claim 2,

wherein the receiving means receives header information
together with the first bytecode, the header information

relating to a destination of the received first bytecode,
and
the appliance specifying means specifies the electrical
appliance according to the header information.
The apparatus of Claim 3,

wherein the converting means includes:
a plurality of conversion tables which each correspond
to one of the plurality of electrical
 appliances, each
conversion table showing which instructions in native codes

of a real machine of a corresponding electrical appliance
correspond to each instruction in first bytecodes; and
a code converting unit for converting the received
first bytecode into the native code of the real machine

provided in the specified electrical appliance by referring
to a conversion table corresponding to the specified

electrical appliance.
The apparatus of Claim 1,

wherein the processor provided in each of the plurality
of electrical appliances is a second virtual machine,
the converting means converts the received first
bytecode into a second bytecode for a second virtual machine

provided in the specified electrical appliance, and
the distributing means distributes the second bytecode
generated by the converting means to the specified electrical

appliance via the second communication channel.
The apparatus of Claim 5,

wherein each first bytecode for the first virtual
machine includes additional information that is used to

dynamically link a plurality of program modules included in
the first bytecode, and
the converting means generates the second bytecode by
linking the plurality of program modules according to the

additional information included in the received first
bytecode, wherein the second bytecode does not include the

additional information.
The apparatus of Claim 1,

wherein the first communication channel is an open
network that is open to any users, and
the second communication channel is a closed network
that is limited to specific users who meet a certain

condition.
A program cooperative execution method used by an
apparatus for having a plurality of electrical appliances

perform cooperative operations specified by programs sent
from a transmitting device, each of the plurality of

electrical appliances being provided with a processor, the
apparatus being connected to the transmitting device via a

first communication channel and being connected to the
plurality of electrical appliances via a second communication

channel, the program cooperative execution method
comprising:


a receiving step for receiving a first bytecode for a
first virtual machine, the first bytecode being a program

sent from the transmitting device via the first communication
channel and specifying a cooperative operation;
an appliance specifying step for specifying an
electrical appliance that should execute the received first

bytecode, out of the plurality of electrical appliances;
a converting step for converting the received first
bytecode into program code for a processor provided in the

specified electrical appliance; and
a distributing step for distributing the program code
generated in the converting step to the specified electrical

appliance via the second communication channel.
The program cooperative execution method of Claim 8,
wherein the processor provided in each of the plurality
of electrical appliances is a real machine,
in the converting step, the received first bytecode is
converted into native code of a real machine provided in the

specified electrical appliance, and
in the distributing step, the native code generated in
the converting step is distributed to the specified

electrical appliance via the second communication channel.
The program cooperative execution method of Claim 8,

wherein the processor provided in each of the plurality
of electrical appliances is a second virtual machine,
in the converting step, the received first bytecode is
converted into a second bytecode for a second virtual machine

provided in the specified electrical appliance, and
in the distributing step, the second bytecode generated
in the converting step is distributed to the specified

electrical appliance via the second communication channel.
A computer-readable recording medium for recording a
control program to be executed by an apparatus that has a

plurality of electrical appliances perform cooperative
operations specified by programs sent from a transmitting

device, each of the plurality of electrical appliances being
provided with a processor, and the apparatus being connected

to the transmitting device via a first communication channel
and being connected to the plurality of electrical appliances

via a second communication channel,
   the control program comprising:


a receiving step for receiving a first bytecode for a
first virtual machine, the first bytecode being a program

sent from the transmitting device via the first communication
channel and specifying a cooperative operation;
an appliance specifying step for specifying an
electrical appliance that should execute the received first

bytecode, out of the plurality of electrical appliances;
a converting step for converting the received first
bytecode into program code for a processor provided in the

specified electrical appliance; and
a distributing step for distributing the program code
generated in the converting step to the specified electrical

appliance via the second communication channel.
The recording medium of Claim 11,

wherein the processor provided in each of the plurality
of electrical appliances is a real machine,
in the converting step, the received first bytecode is
converted into native code of a real machine provided in the

specified electrical appliance, and
in the distributing step, the native code generated in
the converting step is distributed to the specified

electrical appliance via the second communication channel.
The recording medium of Claim 11,
wherein the processor provided in each of the plurality
of electrical appliances is a second virtual machine,
in the converting step, the received first bytecode is
converted into a second bytecode for a second virtual machine

provided in the specified electrical appliance, and
in the distributing step, the second bytecode generated
in the converting step is distributed to the specified

electrical appliance via the second communication channel.
A program cooperative execution system comprising:

a transmitting device;
a plurality of electrical appliances; and
a relaying apparatus for having the plurality of
electrical appliances perform cooperative operations

specified by programs sent from the transmitting device, each
of the plurality of electrical appliances being provided with

a processor, the relaying apparatus being connected to the
transmitting device via a first communication channel and

being connected to the plurality of electrical appliances via
a second communication channel,

wherein the transmitting device comprises:

a generating means for generating a bytecode for a
first virtual machine from a source program; and
a transmitting means for transmitting the generated
bytecode to the relaying apparatus via the first

communication channel,

the relaying apparatus comprises:
a receiving means for receiving the bytecode sent from
the transmitting device via the first communication

channel;
an appliance specifying means for specifying an
electrical appliance that should execute the received

bytecode, out of the plurality of electrical appliances;
a converting means for converting the received bytecode
into program code for a processor provided in the specified

electrical appliance; and
a distributing means for distributing the program code
generated by the converting means to the specified electrical

appliance via the second communication channel, and

each of the plurality of electrical appliances
comprises:


a receiving means for receiving the generated program
code from the relaying apparatus via the second communication

channel; and
a processor for executing the received program code.
</CLAIMS>
</TEXT>
</DOC>
