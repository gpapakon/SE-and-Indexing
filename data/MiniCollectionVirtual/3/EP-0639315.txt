<DOC>
<DOCNO>EP-0639315</DOCNO> 
<TEXT>
<INVENTION-TITLE>
APPARATUS AND METHOD FOR CONTROLLING THE ROUTING OF INCOMING CALLS IN A WIRELESS COMMUNICATION SYSTEM.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04M1100	H04M1100	H04W802	H04W802	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04M	H04M	H04W	H04W	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04M11	H04M11	H04W8	H04W8	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A wireless communication system (WCS) comprises a plurality of portable communication units (PCUs) (109) each PCU having a telephone number for receiving incoming calls. The WCS is coupled to the public switched telephone network (PSTN) (106), and has a plurality of locations (102) defined by radio coverage of a plurality of fixed communication units (FCUs) (108) at each location. The FCUs (108) are coupled to the PSTN, each FCU having at least one transceiver channel, and each transceiver channel having a telephone access number. The WCS further comprises a routing controller (RC) (104) for routing (514) incoming calls for PCUs, a location database (116) for storing (408) information used in the routing, and a plurality of location controllers (LCs) (110) each assigned an identification. One LC is at each location and is coupled to the FCUs thereat. The LCs communicate (304, 602, 604) with the RC and control (610, 612) the FCUs in response to messages (410, 412, 510) from the RC.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MOTOROLA INC
</APPLICANT-NAME>
<APPLICANT-NAME>
MOTOROLA, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BREEDEN ROBERT L
</INVENTOR-NAME>
<INVENTOR-NAME>
MUPPIDI PRABHAKAR
</INVENTOR-NAME>
<INVENTOR-NAME>
BREEDEN, ROBERT, L.
</INVENTOR-NAME>
<INVENTOR-NAME>
MUPPIDI, PRABHAKAR
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
 APPARATUS AND METHOD FOR CONTROLLING THE ROUTING OF INCOMING CALLS IN A WIRELESS COMMUNICATION SYSTEMField of the InventionThis invention relates in general to radio communication systems, and more specifically to two-way radio communication systems that support inbound calling from the public switched telephone network.Background of the InventionTwo-way wireless communication systems (WCS) that support inbound calling from the public switched telephone network (PSTN) are well known to those skilled in the art. Examples of such systems include cellular telephone systems and trunked radio systems. In addition to using the PSTN for the transport of calls to and from the WCS, these conventional systems require dedicated, complex centralized switching systems having special controllers for routing the calls . The switching systems are coupled to each of a small plurality of radio transmission sites comprising the fixed part of the WCS.Simpler, less expensive two-way WCSs have recently become available. An example is the Motorola S35XGB1602AP telepoint base station manufactured by Motorola, Inc. of Schaumburg, Illinois. That system comprises a plurality of fixed communication units (FCUs) at a plurality of locations called "telepoints. " Each telepoint usually has from two to six FCUs, each FCU being coupled to the PSTN by a telephone line. Each telepoint also comprises at least one location controller (LC) for controlling and coordinating the FCUs at the telepoint .The FCUs are low power radio transceivers having a maximum communicating range of about 150 meters. A typical large city requires thousands of telepoints for good coverage, but the price of telepoint equipment is low enough to justify the quantity. Additionally, the low 

power allows frequent reuse of a relatively small amount of radio spectrum to provide a relatively large amount of communication capacity. Thus, unlike cellular and trunked radio systems that use higher power, the telepoint systems can serve large numbers of users in densely populated metropolitan areas.To use the telepoint for communication a user must be within range and must possess a compatible portable communication unit (PCU) . An example is the Motorola S35XCD1000AA personal telephone manufactured by Motorola, Inc. of Schaumburg, Illinois. This PCU is a highly portable unit that is more easily transported in one's pocket or purse than conventional cellular PCUs. Because of the low power requirements of the telepoint compatible PCU, it also exhibits a much greater battery
</DESCRIPTION>
<CLAIMS>
CLAIMS
1. A wireless communication system having a plurality of portable communication units (PCUs) each PCU having a unique PCU identification code and each PCU assigned a unique PCU telephone number for receiving incoming calls, the wireless communication system coupled to the public switched telephone network (PSTN) for transporting calls to and from the PCUs, and having a plurality of locations, each location having a plurality of fixed communication units (FCUs) , each FCU being coupled to the PSTN, each FCU having at least one transceiver channel, and each transceiver channel having a unique telephone access number, the wireless communication system comprising: a routing controller (RC) for controlling the routing of incoming calls for PCUs and for generating access request messages in response thereto; a location database coupled to the RC for storing information used in controlling the routing of the incoming calls for the PCUs; and a plurality of location controllers (LCs) , each of the LCs having been uniquely assigned an LC identification code, one LC being located at each of the plurality of locations and being coupled to the plurality of FCUs at each location, for establishing communications with the RC and controlling each of the plurality of FCUs at each location in response to the access request messages . 

2. The wireless communication system according to claim 1, wherein the location database comprises storage means for storing a plurality of values, the plurality of values comprising: a plurality of unique PCU telephone numbers for receiving incoming calls and a plurality of unique PCU identification codes, each PCU identification code and PCU telephone number being pre-programmed into the database in a manner such that each unique PCU telephone number corresponds to a unique PCU identification code to form a plurality of PCU identity pairs; and a plurality of reprogrammable registration status codes, each of the plurality of reprogrammable registration status codes corresponding to one of the plurality of PCU identity pairs pre-programmed into the database for indicating the registration status of the PCU identified by the corresponding one of the plurality of PCU identity pairs.
3. The wireless communication system according to claim
1, wherein the LC at each location comprises data communications means coupled to the PSTN for exchanging data messages with the RC in order to control the routing of calls, and wherein each of the FCUs comprises call processing means responsive to the LC for processing calls taking place between the FCUs and the PSTN.
4. The wireless communication system according to claim 1, wherein the RC comprises data communications means for exchanging data messages with the PSTN and with the plurality of LCs in order to control the routing of incoming calls for PCUs and to generate access request messages in response thereto. 


 5. The wireless communication system according to claim 3, wherein the data communications means comprises: first means for exchanging data messages with the PSTN; and second means for exchanging data messages with the plurality of LCs .
6. In a wireless communication system having a plurality of portable communication units (PCUs) each PCU having a unique PCU identification code and each PCU assigned a unique PCU telephone number for receiving incoming calls, the wireless communication system coupled to the public switched telephone network (PSTN) for transporting calls to and from the PCUs, and having a plurality of locations, each location having a plurality of fixed communication units (FCUs) , each FCU being coupled to the PSTN, each FCU having at least one transceiver channel, and each transceiver channel having a unique telephone access number, a method of using a routing controller (RC) coupled to a location database for controlling the routing of incoming calls for PCUs and for generating access request messages in response thereto, the method comprising the steps of:
(a) registering the locations of PCUs in the location database in response to registration communications from LCs;
(b) receiving a call routing request from the PSTN in response to an incoming call for a PCU, the call routing request comprising the PCU telephone number uniquely assigned to the PCU having received the incoming call;
(c) accessing the location database in response to step (b) to determine the registration status of the PCU; 


 (d) providing call routing information in response to determining in step (c) that the PCU is registered at a location having a location controller (LC) having a location controller ID, step (d) comprising the step of:
(e) sending an access request message to the location controller.
7. The method according to claim 6, wherein step (d) further comprises the steps of:
(f) receiving a telephone access number of a selected FCU from the LC in response to step (e) ; and
(g) sending the telephone access number of the selected FCU received in step (f) to the PSTN in further response to the call routing request received in step (b) .
8. The method according to claim 6, further comprising the step of:
(h) providing a call routing failure message in response to determining in step (c) that the PCU is not registered.
9. The method according to claim 6, wherein step (a) comprises the steps of: (i) receiving an LC registration request message from the LC for requesting the registration of a PCU at the location of the LC, comprising the steps of:
(j) receiving the unique PCU identification code of the PCU; and (k) receiving therewith a unique LC identification code that uniquely identifies the LC sending the registration request message for the PCU;
(1) accessing a location database in response to step (i) to find a pre-programmed entry for the PCU identification code;
(m) storing the unique LC identification code in a manner that couples the unique LC identification code to the pre-programmed entry for the PCU identification code in 


response to finding the pre-programmed entry for the PCU identification code;
(n) sending an LC registration acknowledge message to the LC to acknowledge the successful completion of the registration in response to completing step (m) ; and (o) sending an LC registration failure message to the LC to indicate the failure of the registration in response to being unable to find a pre-programmed entry for the PCU identification code.
10. In a wireless communication system having a plurality of portable communication units (PCUs) each PCU having a unique PCU identification code and each PCU assigned a unique PCU telephone number for receiving incoming calls, the wireless communication system coupled to the public switched telephone network (PSTN) for transporting calls to and from the PCUs, and having a plurality of locations, each location having a plurality of fixed communication units (FCUs) , each FCU being coupled to the PSTN, each FCU having at least one transceiver channel, and each transceiver channel having a unique telephone access number, a method of using a location controller (LC) having a unique LC identification code for establishing communications with a routing controller (RC) and controlling each of the plurality of FCUs at each location in response to access request messages generated by the RC, the method comprising the steps of:
(a) handling communications for registrations of the locations of PCUs in response to registration requests from the PCUs; and
(b) receiving at the LC an access request message from the RC, the access request message being generated in response to an incoming call for a PCU determined to be registered at the location of the LC. 


 11 The method according to claim 10, further comprising the steps of:
(c) selecting an available FCU at the location of the LC for receiving the incoming call in response to step
(b) ; and
(d) sending the telephone access number of the selected FCU to the RC in response to step (c) .
12. The method according to claim 10, further comprising the steps of:
(e) controlling the activities of the FCU during the period between the selection of the FCU in step (c) and an expected delivery of the incoming call to the FCU by the PSTN; and
(f) controlling the establishment of a wireless communication link between the selected FCU and the PCU being called in response to completion of the expected delivery of the incoming call.
13. The method according to claim 10, wherein step (a) comprises the steps of:
(g) receiving a PCU registration request message from a PCU requesting the registration of the PCU, the PCU registration request message comprising the unique PCU identification code of the PCU;
(h) sending an LC registration request message to the RC in response to step (g) comprising the steps of:
(i) sending the unique PCU identification code of the PCU; and
(j) sending therewith the unique LC identification code that uniquely identifies the LC;
(k) receiving an LC registration acknowledge message from the RC in response to a successful completion of the registration by the RC;
(1) receiving an LC registration failure message from the RC in response to an unsuccessful completion of the registration by the RC; 


 (m) sending a PCU registration acknowledge message to the PCU in response to step (k) ; and
(n) sending a PCU registration failure message to the PCU in response to step (1) .
14. The method according to claim 10, wherein step (b) comprises the step of:
(o) receiving the unique PCU identification code of the PCU being called.
15. The method according to claim 12, wherein step (e) comprises the steps of:
(p) temporarily preventing the selected FCU from being used for outgoing calls; and (q) controlling the answer supervision of the selected FCU in response to the delivery of the incoming call, and wherein step (f) comprises the step of: (r) sending the unique PCU identification code of the PCU being called over the wireless communication link in response to the completion of the expected delivery of the incoming call. 

16. A wireless communication system having a plurality of portable communication units (PCUs) each PCU having a unique PCU identification code and each PCU assigned a unique PCU telephone number for receiving incoming calls, the wireless communication system coupled to the public switched telephone network (PSTN) for transporting calls to and from the PCUs, and having a plurality of locations, each location having a plurality of fixed communication units (FCUs) , each FCU being coupled to the PSTN, each FCU having at least one transceiver channel, and each transceiver channel having a unique telephone access number, the wireless communication system comprising: a routing controller (RC) for controlling the routing of incoming calls for PCUs and for generating access request messages in response thereto, wherein the RC comprises data communications means for exchanging data messages with the PSTN and with the plurality of LCs in order to control the routing of incoming calls for PCUs and to generate access request messages in response thereto; a location database coupled to the RC for storing information used in controlling the routing of the incoming calls for the PCUs, wherein the location database comprises: a plurality of unique PCU telephone numbers for receiving incoming calls and a plurality of unique PCU identification codes, each PCU identification code and PCU telephone number being pre-programmed into the database in a manner such that each unique PCU telephone number corresponds to a unique PCU identification code to form a plurality of PCU identity pairs; and a plurality of reprogrammable registration status codes, each of the plurality of reprogrammable registration status codes corresponding to one of the plurality of PCU identity pairs pre-programmed into the database for indicating the registration status of the PCU identified by 


the corresponding one of the plurality of PCU identity pairs; and a plurality of location controllers (LCs) , each of the LCs having been uniquely assigned an LC identification code, one LC being located at each of the plurality of locations and being coupled to the plurality of FCUs at each location, for establishing communications with the RC and controlling each of the plurality of FCUs at each location in response to the access request messages, wherein the LC at each location comprises data communications means coupled to the PSTN for exchanging data messages with the RC in order to control the routing of calls, and wherein each of the FCUs comprises call processing means responsive to the LC for processing calls taking place between the FCUs and the PSTN.
17. In a wireless communication system having a plurality of portable communication units (PCUs) each PCU having a unique PCU identification code and each PCU assigned a unique PCU telephone number for receiving incoming calls, the wireless communication system coupled to the public switched telephone network (PSTN) for transporting calls to and from the PCUs, and having a plurality of locations, each location having a plurality of fixed communication units (FCUs) , each FCU being coupled to the PSTN, each FCU having at least one transceiver channel, and each transceiver channel having a unique telephone access number, a method of using a routing controller (RC) coupled to a location database for controlling the routing of incoming calls for PCUs and for generating access request messages in response thereto, and of using a location controller (LC) having a unique LC identification code for establishing communications with the RC and controlling each of the plurality of FCUs at each location in response to access request messages generated by the RC, the method comprising in the RC the steps of: 


 (a) registering the locations of PCUs in the location database in response to registration communications from the LCs, comprising the steps of:
(b) receiving an LC registration request message from the LC for requesting the registration of a PCU at the location of the LC, comprising the steps of:
(c) receiving the unique PCU identification code of the PCU; and
(d) receiving therewith a unique LC identification code that uniquely identifies the LC sending the registration request message for the PCU;
(e) accessing a location database in response to step (b) to find a pre-programmed entry for the PCU identification code; (f) storing the unique LC identification code in a manner that couples the unique LC identification code to the pre-programmed entry for the PCU identification code in response to finding the pre-programmed entry for the PCU identification code; (g) sending an LC registration acknowledge message to the LC to acknowledge the successful completion of the registration in response to completing step (f) ;
(h) sending an LC registration failure message to the LC to indicate the failure of the registration in response to being unable to find a pre-programmed entry for the PCU identification code;
(i) receiving a call routing request from the PSTN in response to an incoming call for a PCU, the call routing request comprising the PCU telephone number uniquely assigned to the PCU having received the incoming call;
(j) accessing the location database in response to step (i) to determine the registration status of the PCU; 


 (k) providing call routing information in response to determining in step (j) that the PCU is registered at a location having a location controller (LC) having a location controller ID, step (k) comprising the steps of:
(1) sending an access request message to the location controller;
(m) receiving a telephone access number of a selected FCU from the LC in response to step (1) ; and (n) sending the telephone access number of the selected FCU received in step (m) to the PSTN in further response to the call routing request received in step (i) ; and
(o) providing a call routing failure message in response to determining in step (j) that the PCU is not registered; and in the routing controller the steps of:
(p) handling communications for registrations of the locations of PCUs in response to registration requests from the PCUs, comprising the steps of:
(q) receiving a PCU registration request message from a PCU requesting the registration of the PCU, the PCU registration request message comprising the unique PCU identification code of the PCU; (r) sending an LC registration request message to the RC in response to step (q) comprising the steps of:
(s) sending the unique PCU identification code of the PCU; and
(t) sending therewith the unique LC identification code that uniquely identifies the LC;
(u) receiving the LC registration acknowledge message from the RC in response to a successful completion of the registration by the RC;
(v) receiving the LC registration failure message from the RC in response to an unsuccessful completion of the registration by the RC;
(w) sending a PCU registration acknowledge message to the PCU in response to step (u) ; 


 (x) sending a PCU registration failure message to the PCU in response to step (v) ;
(y) receiving at the LC the access request message from the RC, the access request message being generated in response to an incoming call for a PCU determined to be registered at the location of the LC, comprising receiving the unique PCU identification code of the PCU being called;
(z) selecting an available FCU at the location of the LC for receiving the incoming call in response to step (y);
(aa) sending the telephone access number of the selected FCU to the RC in response to step (z) ;
(bb) controlling the activities of the FCU during the period between the selection of the FCU in step (z) and an expected delivery of the incoming call to the FCU by the PSTN, comprising the steps of:
(cc) temporarily preventing the selected FCU from being used for outgoing calls; and (dd) controlling the answer supervision of the selected FCU in response to the delivery of the incoming call; and
(ee) controlling the establishment of a wireless communication link between the selected FCU and the PCU being called in response to completion of the expected delivery of the incoming call, comprising sending the unique PCU identification code of the PCU being called over the wireless communication link in response to the completion of the expected delivery of the incoming call. 

</CLAIMS>
</TEXT>
</DOC>
