<DOC>
<DOCNO>EP-0616475</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Adaptive video signal processing circuit
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N978	H04N977	H04N977	H04N978	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N9	H04N9	H04N9	H04N9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Horizontal and vertical peaking signals are separated from a video 
signal by combining variously delayed responses to the video signal. A cross-fader 

XFD1 combines the separated horizontal and vertical peaking signals in 
proportions determined by a cross-fader control signal. A correlator 34,35, 

136 responds to ones of the variously delayed responses to the video signal 
for generating an output signal representative of the relative degrees of 

vertical and horizontal correlation in the video signal. The correlator output 
signal addresses a read-only memory 137 that supplies the cross-fader control 

signal. The adaptively generated peaking signal is suitable for adjustably 
peaking a luminance component extracted from the video signal, where that 

video signal is a composite signal also including a chrominance component. 
The extraction of the luminance component is preferably done on an adaptive 

basis, generating horizontal and vertical comb filter responses by suitably 
combining the variously delayed responses to the video signal and, with a 

further cross-fader XFD2, combining the horizontal and vertical comb filter 
responses in proportions determined by the cross-fader control signal. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SAMSUNG ELECTRONICS CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
SAMSUNG ELECTRONICS CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KO JUNG-WAN
</INVENTOR-NAME>
<INVENTOR-NAME>
KO, JUNG-WAN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to adaptive video processing, and is concerned
particularly, although not exclusively, with adaptive video peaking circuitry,
as can be used in conjunction with a luma/chroma separator for separating a
luminance signal (or "luma" or "Y") and a chrominance signal (or "chroma"
or "C") from an NTSC (or other standard) composite video signal.U.S. patent No. US-A-4,178,609 issued 11 December 1979 to R. C. Beutel
and entitled "COMB FILTER HAVING IMPROVED LUMINANCE
RESPONSE" describes an adaptive interline comb filter used for separating
luma and chroma from each other in respective responses to a composite
video signal. A detector is used with the comb filter to detect lack of
correlation in successive lines of chroma, responsive to which the operation
of the comb filter is changed so as to reduce uncancelled chroma in the
separated luma.U.S. patent No. US-A-4,498,099 issued 5 February 1985 to D. H. Pritchard
and entitled "APPARATUS FOR FRAME-TO-FRAME COMB FILTERING
COMPOSITE TV SIGNAL" describes reduction of objectionable double
images in the region of moving edges. During times when moving edges are
detected, the chroma signal separated by frame combing is lowpass filtered
and combined with the luma signal separated by frame combing, thereby to
provide a better separated luma signal to replace the separated luma signal
obtained simply by frame combing.U.S. patent No. US-A-4,498,100 issued 5 February 1985 to R. M. Bunting
and A. A. Acampora and entitled "APPARATUS FOR FRAME-TO-FRAME 
COMB FILTERING COMPOSITE TV SIGNAL" describes reduction of the
colour distortions around the periphery of reproduced colour images. During
times when moving edges are detected, the chroma signal separated by frame
combing is added to the luma signal separated by frame combing and the
result is bandpass filtered to provide a better separated chroma signal to
replace the separated chroma signal obtained simply by frame combing.U.S. patent No. US-A-4,754,322 issued 28 June 1988 to A. Okuda et alii and
entitled "YC-SIGNAL SEPARATION CIRCUIT RESPONSIVE TO
MAGNITUDE OF VERTICAL CORRELATION" describes a luma/chroma
separator including a frame store memory; a motion detector for detecting
frame-to-frame motion, a correlation detector for detecting the magnitude of
vertical correlation of pictures on the basis of pictures read out from the frame
store memory, a vertical-axis filter for performing luma/chroma separation,
a two-dimensional filter for performing luma/chroma separation in both the
vertical and
</DESCRIPTION>
<CLAIMS>
Adaptive video peaking circuitry for generating an adaptively generated
peaking signal responsive to a video signal, said video signal describing line

by line scanning of successive image frames and exhibiting changing relative
degrees of horizontal correlation and vertical correlation of a picture element

currently being scanned and its locally surrounding picture elements, said
adaptive video peaking circuitry comprising:


delay circuitry (10) including a plurality of delay elements connected
for variously delaying said video signal, the resulting variously delayed video

signals generally being descriptive of the scanning of a square array of nine
contiguous pixels within a currently scanned image field, said square array

having top and middle and bottom rows of pixels arrayed along successive
scan lines of said currently scanned image field, said square array having left

and middle and right columns of pixels arrayed transversely to successive scan
lines of said currently scanned image field;
first bandpass comb filter circuitry (25) for combining said variously
delayed video signals descriptive of pixels in said middle column of said

square array of nine contiguous pixels, for generating a first bandpass comb
filter response;
second bandpass comb filter circuitry (26) for combining said variously
delayed video signals descriptive of pixels in said middle row of said square

array of nine contiguous pixels, for generating a second bandpass comb filter
response thereto; 
first lowpass comb filter circuitry (27) for combining said variously
delayed video signals descriptive of pixels in said middle column of said

square array of nine contiguous pixels, for generating a first lowpass comb
filter response;
second lowpass comb filter circuity (28) for combining said variously
delayed video signals descriptive of pixels in said middle row of said square

array of nine contiguous pixels, for generating a second lowpass comb filter
response;
a low-pass filter (40) responding to said first bandpass comb filter
response for separating a vertical peaking signal (41) contained in its vertical

high frequencies, while suppressing its horizontal high frequencies;
a band-pass filter (50) responding to said first lowpass comb filter
response for separating a horizontal peaking signal (51) contained in its

horizontal high frequencies;
a vertical-scan edge detector (34) for supplying a vertical-scan edge
detector response indicative of the absolute value of the difference between

upper and lower pixels in said square array of pixels, a type of which is
known in the prior art; and
a horizontal-scan edge detector (35) for supplying a horizontal-scan
edge detector response indicative of the absolute value of the difference

between left and right pixels in said square array of pixels, a type of which
is known in the prior art;
 
CHARACTERISED BY


a cross-fader (XFD 2) for supplying said automatically adaptive video
peaking signal by linearly and constructively combining said horizontal

peaking signal and said vertical peaking signal in proportions controlled by a
cross-fader control signal, which proportions include at least one value

between 0:1 and 1:0;
a subtractor (136) connected for differentially combining said vertical
edge detector response and said horizontal edge detector response to generate

a difference signal; and
read-only memory circuitry (137;1370-1374) connected for supplying
said cross-fader control signal in response to the various values of said

difference signal applied thereto as address signal, said cross-fader control
signal increasing the proportion of said horizontal peaking signal component

and decreasing the proportion of vertical peaking signal component in said
automatically adaptive video peaking signal when said horizontal-scan edge

detector response exceeds said vertical-scan edge detector response, and said
cross-fader control signal respectively decreasing the proportion of said

horizontal peaking signal component and increasing the proportion of said

vertical peaking signal component in said automatically adaptive video peaking
signal when said vertical-scan edge detector response exceeds said horizontal-scan

edge detector response.
The circuitry of claim 1 CHARACTERISED BY being included in
automatically adaptive video peaking circuitry that further includes: 


a further cross-fader (XFD 1) for supplying a reduced-detail video
signal by linearly and constructively combining said first lowpass comb filter

response and said second lowpass comb filter response in proportions
controlled by said cross-fader control signal, so as to be similar to those

proportions in which said horizontal peaking signal and said vertical peaking
signal are combined by said cross-fader (XFD 2); and
circuitry (70) for combining said automatically adaptive video peaking
signal supplied by said cross-fader in controlled proportion together with said

reduced-detail video signal supplied by said further cross-fader.
The circuitry of claims 1 or 2 CHARACTERISED BY being included
in a luma/chroma separator for separating luminance and chrominance

components of composite video signal and providing automatically adaptive
luminance peaking, which said luma/chroma separator further includes:


a further cross-fader (XFD 1) for supplying a reduced-detail video
signal by linearly and constructively combining said first lowpass comb filter

response and said second lowpass comb filter response in proportions
controlled by said cross-fader control signal, so as to be similar to those

proportions in which said horizontal peaking signal and said vertical peaking
signal are combined by said cross-fader (XFD 2);
circuitry (70) for combining said automatically adaptive video peaking
signal supplied by said cross-fader in controlled proportion together with said

reduced-detail video signal supplied by said further cross-fader; 
chroma selection circuitry (MUX 1) of a type known per se for
selecting chroma from said first bandpass comb filter response when said

vertical-scan edge detector response is smaller than said horizontal-scan edge
detector response and for selecting chroma from said second bandpass comb

filter response when said horizontal-scan edge detector response is smaller
than said vertical-scan edge detector response.
The circuitry of claim 3 CHARACTERISED BY said chroma selection
circuitry selecting chroma from said first bandpass comb filter response or

from said second bandpass comb filter response, as controlled by a sign bit
extracted from said difference signal.
The circuitry of claim 1 CHARACTERISED BY being included in a
luma/chroma separator for separating luminance and chrominance components

of composite video signal and providing automatically adaptive luminance
peaking, which said luma/chroma separator further includes:


a further cross-fader (XFD 1) for supplying a reduced-detail video
signal by linearly and constructively combining said first lowpass comb filter

response and said second lowpass comb filter response in proportions similar
to those in which said horizontal peaking signal and said vertical peaking

signal are combined by said cross-fader (XFD 2);
circuitry (70) for combining said automatically adaptive video peaking
signal supplied by said cross-fader in controlled proportion together with said

reduced-detail video signal supplied by said further cross-fader; and 
a still further cross-fader (XFD 4) for supplying chrominance signal by
linearly and constructively combining said first bandpass comb filter response

and said second bandpass comb filter response in proportions controlled by
said cross-fader control signal, so as to be similar to those proportions in

which said horizontal peaking signal and said vertical peaking signal are
combined by said cross-fader (XFD 2).
The circuitry of claim 5 wherein said still further cross-fader (XFD 4)
comprises:


a respective pair of digital multipliers receptive of separate ones of
said first bandpass comb filter response and said second bandpass comb filter

response as respective multiplicand signals, receptive of said cross-fader
control signal as read from said read-only memory and of a complement of

said cross-fader control signal as respective multiplier signals and supplying
respective product signals; and
means linearly and constructively combining the respective product
signals of said respective pair of multipliers for generating said chrominance

signal.
The circuitry of any one of claims 3-6 wherein said further cross-fader
comprises:


a respective pair of digital multipliers receptive of separate ones of said
first lowpass comb filter response and said second lowpass comb filter

response as respective multiplicand signals, receptive of said cross-fader
control signal as read from said read-only memory and of a complement of 

said cross-fader control signal as respective multiplier signals and supplying
respective product signals; and
means linearly and constructively combining the respective product
signal of said respective pair of multipliers for generating said reduced-detail

video signal.
The circuitry of any one of claims 1-7 wherein said cross-fader
comprises:


a respective pair of digital multipliers receptive of separate ones of said
horizontal peaking signal and said vertical peaking signal as respective

multiplicand signals, receptive of said cross-fader control signal as read from
said read-only memory and of a complement of said cross-fader control signal

as respective multiplier signals and supplying respective product signals; and
means linearly and constructively combining the respective product
signals of said respective pair of multipliers for generating said automatically

adaptive video peaking signal.
The circuitry of any one of claims 1-8; wherein the pixels in the top
row of said square array are identified from left to right as a, b and c,

respectively; the pixels in the middle row of said square array are identified
from left to right as d, e and f, respectively; and the pixels in the bottom row

of said square array are identified from left to right as g, h and i,
respectively; CHARACTERISED BY said vertical-scan edge detector

combining signals at points a, b, c, g, h and i with weights in (-1/4): (-1/2): 
(-1/4): (1/4): (1/2): (1/4) ratio for generating said vertical-scan edge detector

response.
The circuitry of any one of claims 1-9; wherein the pixels in the top
row of said square array are identified from left to right as a, b and c,

respectively; the pixels in the middle row of said square array are identified
from left to right as d, e and f, respectively; and the pixels in the bottom row

of said square array are identified from left to right as g, h and i,
respectively; CHARACTERISED BY said horizontal-scan edge detector

combining signals at points a, c, d, f, g and i with weights in (-1/4): (1/4):
(-1/2): (1/2): (-1/4): (1/4) ratio for generating said horizontal-scan edge

detector response.
The circuitry of any one of claims 1-8; wherein the pixels in the top
row of said square array are identified from left to right as a, b and c,

respectively; the pixels in the middle row of said square array are identified

from left to right as d, e and f, respectively; and the pixels in the bottom row
of said square array are identified from left to right as g, h and i,

respectively; CHARACTERISED BY said horizontal-scan edge detector
combining signals at points a, b, c, d, e, f, g, h and i with weights in (-1/16):

(1/8): (-1/16): (-1/8): (1/4): (-1/8): (-1/16): (1/8): (-1/16) ratio for generating
said horizontal-scan edge detector response.
The circuitry of any one of claims 1-8 and 11; wherein the pixels in the
top row of said square array are identified from left to right as a, b and c,

respectively; the pixels in the middle row of said square array are identified
from left to right as d, e and f, respectively; and the pixels in the bottom row

of said square array are identified from left to right as g, h and i, 
respectively; CHARACTERISED BY said vertical-scan edge detector

combining signals at points a, b, c, d, e, f, g, h and i with weights in (-1/16):
(-1/8): (-1/16): (1/8): (1/4): (1/8): (-1/16): (-1/8): (-1/16) ratio for generating

said vertical scan edge detection response.
Video processing apparatus including adaptive video peaking circuitry,
an adaptive luma/chroma separator, or an adaptive chroma separator,

according to any of the preceding claims.
Television and/or video recording apparatus including adaptive video
peaking circuitry, an adaptive luma/chroma separator, or an adaptive chroma

separator, according to any of claims 1 to 12.
</CLAIMS>
</TEXT>
</DOC>
