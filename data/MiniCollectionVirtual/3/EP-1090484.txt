<DOC>
<DOCNO>EP-1090484</DOCNO> 
<TEXT>
<INVENTION-TITLE>
METHOD FOR CALCULATING DURATION OF CONNECTIONS, ESPECIALLY IN CONNECTION WITH PACKET SWITCHED NETWORKS
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L1256	H04L1256	H04Q1104	H04Q1104	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	H04Q	H04Q	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L12	H04L12	H04Q11	H04Q11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The present invention relates to a method for calculating duration of connections, especially in connection with packet switched network, for thereby arriving at i.e. a charge for such connections, based on time and volume of the respective connection, said method comprising time counter means, and in order to provide a more simple and reliable method which can be used not only in connection oriented networks but also in connection less networks, and independently of related protocols, it is according to the present invention suggested a method which is characterized by using a time counter means comprising a first timer counter ( DELTA t) measuring the time between successive arriving packets, as well as a second timer (Ttot) which is updated by the value of said first timer counter ( DELTA t) when a new packet arrives.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ERICSSON TELEFON AB L M
</APPLICANT-NAME>
<APPLICANT-NAME>
TELEFONAKTIEBOLAGET LM ERICSSON
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CORNELIUSSEN KNUT SNORRE BACH
</INVENTOR-NAME>
<INVENTOR-NAME>
CORNELIUSSEN, KNUT, SNORRE, BACH
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
METHOD FOR CALCULATING DURATION OF CONNECTIONS, ESPECIALLY IN CONNECTION WITH PACKET SWITCHED NETWORKSField of the inventionThe present invention relates to a method for calculating duration of connections, especially in connection with packet switched network, for thereby arriving at i.e. a charge for such connections, based on time and volume of the respective connection.Although the present invention has been developed in connection with measuring duration of connections for for example charging according to volume and time in packet switched networks, it is to be understood that the basic idea behind the present invention can find other applications wherein duration of connections is measured.Background of the inventionWhen a charge for a connection in a packet switched network is based on time and volume, it is necessary to calculate the total volume of transmitted data and the duration of the connection.The formula for charge based on volume and time may be written as follows:Ch arge = α * Volume + β * Time + γ 

wherein α and β are weight factors for respectively volume and time, and wherein γ is the fixed cost for establishing a connection.The equipment for measuring the time and volume will be located between the source and the destination of the connection in question, said location being in a router, switch or a stand-alone unit. The metering equipment should not effect the data sent on this connection, and it should only do measurements. The process of effecting measurements will involve some delay in the traffic, and this delay should be as small as possible, possibly not effecting the total performance to any larger degree. In order to calculate the total charge a charging manager will usually retrieve data from the measuring or metering equipment, such a charging manager being connected to said metering equipment for example as illustrate in Fig. 1.From Fig. 1 it appears that the metering equipment is placed between the source and the destination, and the calculated volume and time are collected by the charging manager wherein the total charge is calculated.The fixed cost γ for establishing a connection is added to the charge at the beginning of the connection.Depending on the type of network, there are usually two different methods for obtaining the total volume.If the size of each packet is fixed, i.e. in an ATM network, only the number of packets needs to be counted. 

This counter can then be multiplied by the fixed packet length to obtain the total volume.If the size of packets is
</DESCRIPTION>
<CLAIMS>
 P a t e n t c l a i m s
1. Method for calculating duration of connections, especially in connection with packet switched network, for thereby arriving at i.e. a charge for such connections, based on time and volume of the respective connection, said method comprising time counter means, c h a r a c t e r i z e d by using a time counter means comprising a first timer counter (Δt) measuring the time between successive arriving packets, as well as a second timer (T
tot
) which is updated by the value of said first timer counter (Δt) when a new packet arrives.
2. Method as claimed in claim 1, c h a r a c t e r i z e d i n that said first timer counter (Δt) and said second timer (T
tot
) are implemented in a metering equipment, said metering equipment informing about the value of said second timer (T
tot
) when receiving a request for a current duration of a connection.
3. Method as claimed in claim 1 or 2 , c h a r a c t e r i z e d i n that when a metering request arrives at a request time s, then a value is given equal to the time between the first packet (0) and said request time s, i.e.
where m is the last packet arriving at time t, t
<
s. 

4. Method as claimed in claim 1 or 2 , c h a r a c t e r i z e d i n that when a metering request arrives at a request time s then a value is given equal to the time from the first packet (0) to the last packet (m) .
5. Method as claimed in claim 1 or 2 , c h a r a c t e r i z e d i n that said timer (T
tot
) is started when the first packet (0) arrives, whereafter the time (Δt) between successive arriving packets is measured, the current value of said time (Δt) being given by answering a request for duration.
6. Method as claimed in any of the preceding claims, c h a r a c t e r i z e d i n that the duration of time from the first packet (0) to the last packet (m) is given independent of any protocol, i.e. whether there is used a connection oriented protocol or a connection less protocol.
7. Method as claimed in any of the preceding claims, c h a r a c t e r i z e d i n that the calculation is implemented without deciding on any time-outs.
8. Method as claimed in any of the preceding claims, c h a r a c t e r i z e d i n that said timer units (Δt, T
tot
) are adapted to communicated with appropriate connections tables, which in turn are adapted to cooper- ate with other equipment through appropriate interface (s) . 

</CLAIMS>
</TEXT>
</DOC>
