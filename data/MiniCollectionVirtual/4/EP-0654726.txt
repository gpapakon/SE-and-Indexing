<DOC>
<DOCNO>EP-0654726</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Computer power management systems
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F104	G06F132	G06F104	G06F132	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F1	G06F1	G06F1	G06F1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A power management unit is provided that monitors various 
portions of a computer system and causes a reduction in the 

frequencies of the CPU clock signal and the system clock signal 
during a power conserving state. The power management unit 

includes a programmable counter for allowing the system designer 
to vary the length of a wake-up period that occurs in response to 

an assertion of a timer tick interrupt. An in-service register 
of an interrupt controller is coupled to the power management 

unit which thereby allows the power management unit to receive 
real-time information regarding whether a timer tick interrupt is 

currently being serviced by the microprocessor. When a timer 
tick status bit of the in-service register is set, the power 

management unit causes the CPU clock signal and the system clock 
signal to be driven at maximum frequencies. When the timer tick 

status bit clears, the programmable counter begins counting. The 
power management unit advantageously causes the clock signals to 

be driven at the maximum frequencies for a length of time as 
determined by the programmable counter, and subsequently causes 

the clock signals to be driven at the reduced power-conserving 
frequencies when the counter expires. By accurately controlling 

the wake-up period of the computer system in this manner, a 
reduction in the overall power consumption of the computer system 

can be attained. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES INC
</APPLICANT-NAME>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
O'BRIEN RITA M
</INVENTOR-NAME>
<INVENTOR-NAME>
WISOR MICHAEL T
</INVENTOR-NAME>
<INVENTOR-NAME>
O'BRIEN, RITA M.
</INVENTOR-NAME>
<INVENTOR-NAME>
WISOR, MICHAEL T.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to computer systems and more
particularly to interrupt controllers and power management within
computer systems.An on-going developmental goal of manufacturers has been to
reduce the power consumption of computer systems. Reducing power
consumption typically reduces heat generation of the system,
thereby increasing reliability and decreasing cost. In addition,
power reduction has been particularly important in maximizing the
operating life of battery-powered portable computer systems.Various techniques have been devised for reducing the power
consumption of computer systems. These techniques include
increasing the integration of circuitry and incorporation of
improved circuitry and power management units (PMU's). One
specific power reduction technique involves the capability of
stopping clock signals that drive inactive circuit portions. A
system employing such a technique typically includes a power
management unit that detects or predicts inactive circuit
portions and accordingly stops the clock signals associated with
the inactive circuit portions. By turning off "unused" clock
signals that drive inactive circuit portions, overall power
consumption of the system is decreased. A similar technique
involves the capability of reducing the frequency of clock
signals that drive circuit portions during operating modes which
are not time critical.The power management techniques of stopping and/or reducing
the frequency of selected clock signals as described above are 
frequently employed within interrupt driven systems. In an
interrupt driven system, peripheral and I/O devices such as
keyboards, displays, timers, sensors and other components execute
certain tasks independently of the central resource or
microprocessor, but require communication with the microprocessor
at irregular, random, and therefore asynchronous intervals. In
such systems, a particular peripheral or I/O device generates an
interrupt signal which is passed on to the microprocessor via a
dedicated interrupt line or channel to request that the
microprocessor interrupt its processing and service the
particular peripheral or I/O device. Upon detecting an active
interrupt request, the microprocessor transfers control to
service the particular request.An example of a power management technique is disclosed in WO-A-9306545.A microprocessor typically services many peripheral devices
over a single input-output channel which can only be utilized by
one peripheral at a time. Consequently, a priority is assigned
to the various
</DESCRIPTION>
<CLAIMS>
A computer system comprising:

a timing unit (30) capable of asserting a timer tick interrupt
signal;
an interrupt controller (20) including at least one interrupt
request line for receiving said timer tick interrupt

signal, wherein said interrupt controller includes a
control circuit (118) capable of generating a microprocessor

interrupt signal in response to the assertion of said
timer tick interrupt signal, and wherein said interrupt

controller further includes an in-service register (124) for
storing data indicative of whether said timer tick

interrupt signal is currently being serviced by a
microprocessor; and
a power management unit (10) coupled to an output line of said
in-service register, wherein said power management unit

includes a clock control unit (52) capable of controlling a
clock signal such that said clock signal is driven at a

first frequency when said in-service register is set
and wherein said clock signal is driven at a second

frequency lower than the first during a power conservation mode, and wherein
said power management unit further includes a

programmable timer (56) coupled to said clock control unit,
wherein said programmable timer controls a time period

between a time at which said in-service register has
cleared and a time at which said clock control unit

causes said clock signal to be driven at said second
frequency.
The computer system as recited in Claim 1 wherein said
clock signal is a CPU clock signal.
The computer system as recited in Claim 1 wherein said
clock signal is a system clock signal. 
The computer system as recited in Claim 1 wherein said
power management unit further comprises an interrupt detection

circuit (54) coupled to said output line of said in-service register
and to said clock control unit for providing a signal indicative

of whether a timer tick status bit of said in-service register is
set.
The computer system as recited in Claim 1 further
comprising a clock generator (32) coupled to said clock control unit,

wherein said clock generator generates a CPU clock signal and a
system clock signal.
The computer system as recited in Claim 1 wherein said
power management unit includes an input port for programming said

programmable timer.
The computer system as recited Claim 1 wherein said
programmable timer is a programmable counter.
A power management unit (10) for a computer system
comprising:


a clock control unit (52) capable of asserting a first control
signal for reducing the frequency of a clock signal;
a system monitor unit (58) coupled to said clock control unit for
detecting an inactive state of said computer system and

capable of causing said clock control unit to assert
said first control signal in response to said inactive

state;
an interrupt detection circuit (54) coupled to said clock control
unit for detecting whether a timer tick interrupt has

occurred within said computer system and capable of
causing said clock control unit to deassert said first

control signal for increasing the frequency of the clock signal when an occurrence of said timer tick
interrupt is detected; and
a programmable timer (56) coupled to said clock control unit, 
wherein said programmable timer controls a time

duration during which said first control signal is
deasserted.
The power management unit as recited in Claim 8 wherein
said clock signal is a CPU clock signal.
The computer system as recited in Claim 8 wherein said
clock signal is a system clock signal.
The power management unit as recited in Claim 8 further
comprising an input port for programming said programmable timer.
The power management unit as recited Claim 8 wherein
said programmable timer is a programmable counter.
The power management unit as recited in Claim 8 wherein
said interrupt detection circuit is capable of detecting a timer

tick status bit of an in-service register (124) within said computer
system.
The power management unit as recited in Claim 13
wherein said interrupt detection circuit asserts a second control

signal when said timer tick status bit of said in-service
register is set.
The power management unit as recited in Claim 14
wherein said clock control unit deasserts said first control

signal for raising the frequency of said clock signal in response
to an assertion of said second control signal.
The power management unit as recited in Claim 15
wherein said programmable timer begins counting when said second

control signal makes a transition from an asserted state to a
deasserted state. 
The power management unit as recited in Claim 16
wherein said first control signal is reasserted when said

programmable timer reaches a terminal count value.
The power management unit as recited in Claim 17
wherein said terminal count value is programmable.
</CLAIMS>
</TEXT>
</DOC>
