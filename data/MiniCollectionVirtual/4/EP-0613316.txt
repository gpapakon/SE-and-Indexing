<DOC>
<DOCNO>EP-0613316</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Packet switching resource management within nodes.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L1256	H04L1256	H04Q1104	H04Q1104	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	H04Q	H04Q	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L12	H04L12	H04Q11	H04Q11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Method and apparatus for making limited internal-node communication 
facilities externally visible in a packet switching network. Internal- node communication 

facilities are called intranode links, can include any cable, channel, 
bus, etc. over which data passes, and are used to connect the multiple subnodes 

within a given node. Each subnode contains a switching mechanism and 
routes packets to other nodes, subnodes, or user applications. Each node provides 

network control functions such as topology, directory, path selection, and 
bandwidth management which can manage intranode links in the same manner 

that internode links are currently managed. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DERBY JEFFREY HASKELL
</INVENTOR-NAME>
<INVENTOR-NAME>
DRAKE JR JOHN ELLIS
</INVENTOR-NAME>
<INVENTOR-NAME>
DUDLEY JOHN GARY
</INVENTOR-NAME>
<INVENTOR-NAME>
GUERIN ROCH
</INVENTOR-NAME>
<INVENTOR-NAME>
KAPLAN MARC ADAM
</INVENTOR-NAME>
<INVENTOR-NAME>
MARIN GERALD ARNOLD
</INVENTOR-NAME>
<INVENTOR-NAME>
PETERS MARIA LAMBERT
</INVENTOR-NAME>
<INVENTOR-NAME>
DERBY JEFFREY HASKELL
</INVENTOR-NAME>
<INVENTOR-NAME>
DRAKE JR JOHN ELLIS
</INVENTOR-NAME>
<INVENTOR-NAME>
DUDLEY JOHN GARY
</INVENTOR-NAME>
<INVENTOR-NAME>
GUERIN ROCH
</INVENTOR-NAME>
<INVENTOR-NAME>
KAPLAN MARC ADAM
</INVENTOR-NAME>
<INVENTOR-NAME>
MARIN GERALD ARNOLD
</INVENTOR-NAME>
<INVENTOR-NAME>
PETERS MARIA LAMBERT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a method and apparatus for the packet switching 
of information signals. More specifically, this invention relates to an architecture 
which incorporates multiple subnodes, each containing a switching fabric, 
within nodes as a subsidiary part thereof. The subnodes within a given node 
are connected with bandwidth-limited, internal-node communication facilities 
called intranode links which are managed in the same manner that internode 
transmission links are managed using current techniques. In high speed transmission networks, routing of packets through the network 
is accomplished by means of routing information in the packet header. 
Such a network is composed of nodes interconnected by transmission links. 
Each node includes a packet switching mechanism for selectively launching 
received packets on outgoing transmission links and provide access to the network 
for user applications and network control functions. For example, a 
prior art node will include a
 
   multiplicity of adapters -- circuits attached to a single bus. The adapters examine 
the headers of packets on the bus to determine which packets are destined 
for which adapters. Such networks can be characterized as nodes, user 
applications in nodes, a switch per node, and the links connecting them together. 
Links connecting switches together correspond to the transmission 
links interconnecting such switching mechanisms. Adapter circuits at each of 
the switching mechanisms adapt the packet signals for transmission on or delivery 
to the transmission links and user applications. Many different types 
of packet switching mechanisms and transmission links can be accommodated 
in such packet transmission systems. Routing information for such networks can be expressed in many different 
forms, two major modes of which are called Automatic Network Routing  
 
(ANR), used to deliver a packet to a single destination endpoint, and Tree 
Multicast Mode (TMM), used to deliver a single packet to a plurality of destination 
endpoints. In ANR, the successive links in the path are specified, in 
routing order, by ANR labels in a packet's routing field. Along the path, as 
the packet is switched to a new link, that link's label is stripped away from the 
routing field to leave the next-to-be-used link label as the first label in the 
routing field. Automatic Network Routing is described in "PARIS: An Approach 
to Integrated High-Speed Networks" by I. Cidon and I. S. Gopal, 
International Journal of Digital and Analog Cabled
</DESCRIPTION>
<CLAIMS>
A packet switched communication network including two or more nodes 
connected by transmission links, each of said nodes containing a 

control point consisting of various routing and control functions, 
said network comprising: 

two or more subnodes within one or more of said nodes; 
intranode communication links connecting the subnodes within the 

nodes which contain subnodes; and 
means in each node for routing packets between the subnodes of a 

different node. 
The packet switching network of Claim 1 in which 
one of said control points is within one of said subnodes in such 

nodes that include a subnode. 
The packet switching network of Claim 1 in which 
one of said control points is distributed among the several 

subnodes in such nodes that include a subnode. 
The packet switching network of Claim 1 in which 
said control point, whether located in a node having no internal 

subnodes or in a subnode of a node, maintains a copy of the 
   topology database containing information on the status and 

characteristics of all nodes and links in the network, and 
said topology database contains the status and characteristics, not 

only of nodes without subnodes, but of subnodes within those nodes 
 

containing subnodes, and 
said topology database contains the status and characteristics of 

the intranode links connecting the subnodes within those nodes 
containing subnodes as well as the internode links. 
The packet switching network of Claim 4 in which 
said subnodes are represented in said topology database with unique 

identifiers, and 
said intranode links are assigned unique routing labels and are 

also represented in said topology database. 
The packet switching network of Claim 5 in which said identifiers 
for subnodes are of the form 

NetID.node ID.subnode ID, where 
NetID is a one to eight byte unique designation for the network, 

Node ID is a one to eight byte unique designation for a node within 
such a network, and 

Subnode ID is a one to eight byte unique designation for a subnode 
within such a node. 
The packet switching network of Claim 5 in which addresses for end 
users are of the form 

NetID.node ID.subnode ID.routing label, where
 

NetID is a one to eight byte unique designation for the network, 
Node ID is a one to eight byte unique designation for a node within 

such a network, 
Subnode ID is a one to eight byte unique designation for a subnode 

within such a node, and 
Routing label is the ANR label for the end user within a subnode. 
The packet switching network of Claim 5 in which addresses for a 
group of end users are of the form 

NetID.node ID.subnode ID.tree address, where 
NetID is a one to eight byte unique designation for the network; 

Node ID is a one to eight byte unique designation for each node 
within such a network; 

Subnode ID is a one to eight byte unique designation for each 
subnode within a node, and 

Tree address is the address of a tree by which the group of end 
users is connected. 
A node adapted for use in a packet network which includes at least 
one other node, each node having a control point means therein; and 

   which is connected to other nodes by one or more internode 
transmission links comprising: 

two or more subnodes within said node, which are connected by 
intranode communication links said control point means being 

responsible for participating in the management of said intranode 
 

communication links in said node. 
The node as in Claim 9 wherein said control point means maintains a 
copy of a topology database which includes information on the 

status and characteristics of the subnodes and intranode links in 
said other nodes. 
The node as in Claim 10 wherein: 
said subnodes are represented in said topology database with unique 

identifiers, and 
said intranode links are assigned unique routing labels and are 

also represented in said topology database. 
The node as in Claim 11 in which said identifiers for subnodes are 
of the form NetID.node ID.subnode ID, where: 

NetID is a unique designation for said network; 
Node ID is a unique designation for a node within said network; and 

Subnode ID is a unique designation for a subnode. 
The node as in Claim 11 in which addresses for end users are of the 

form NetID.node ID.subnode ID.routing label, where: 
NetID is a unique designation for said network; 

Node ID is a unique designation for a node within said network; 
Subnode ID is a unique designation for a subnode; and 

Routing label is the ANR label for the end user within a subnode. 
The node as in Claim 11 in which an address for a group of end 
users is of the form NetID.node ID.subnode ID.tree address, where: 

NetID is a unique designation for said network; 
Node ID is a unique designation for each node within said network; 

Subnode ID is a unique designation for each subnode, and 
Tree address is the address of the tree by which the group of end 

users is connected. 
A method for creating an expanded information packet to be 
exchanged between two nodes of a packet switching network during 

link activation, said method comprising the steps of: 
creating a message field containing ANR labels within said 

information packets; 
setting the beginning ANR labels of said message field to specify 

the intranode links between subnodes of the sending node; and 
setting the final ANR label to designate the control point of the 

sending node. 
A node adapted for use in a packet network which includes at least 
one other node, said node having means for generating an expanded 

information packet having a message field containing one or more 
ANR labels to be transmitted to another node in said structure, 

said information packet comprising; 
beginning ANR labels specifying intranode links; and

 
a final ANR label designating the control point of said node. 
A method for creating a spanning tree which includes one or more 
intranode links, said method comprising the steps of: 

determining, in a node, which subnodes have external links that are 
part of the spanning tree; 

selecting, in said node, a set of intranode links that connect said 
subnodes, and a subnode within which said node's control point is 

to reside such that no loops are formed; and 
programming said links with the tree address. 
</CLAIMS>
</TEXT>
</DOC>
