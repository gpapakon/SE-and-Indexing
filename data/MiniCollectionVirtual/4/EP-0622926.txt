<DOC>
<DOCNO>EP-0622926</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Extended range enhanced skew controller.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04J306	H04J306	H04L1228	H04L1228	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04J	H04J	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04J3	H04J3	H04L12	H04L12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An apparatus and method for extending the range of a 
digital data network by enhancing skew control. The apparatus 

is a circuit for use in a network interface unit. The 
apparatus measures the distance of the network interface unit 

from the head-end retransmission unit of the network by 
transmitting a series of signal packets on the network and 

counting the time it takes for the packets to be received back 
at the interface unit. All transmissions on the network take 

place with reference to a timing mark transmitted by the head-end 
unit at a regular interval. The apparatus sends the first 

in the series of signal packets at a pre-determined pre-skew 
interval before the timing mark. The apparatus counts the 

number of clock cycles after the timing mark before the signal 
packet is received back at the network interface unit. If the 

signal packet is not received back at the network unit within 
a pre-determined number of clock cycles, the apparatus sends a 

new signal packet at a new, larger pre-skew interval before 
the timing mark and again counts the clock cycles after the 

timing mark. This process is repeated until a signal packet 
is successfully received back at the network interface unit. 

Once a signal packet is successfully received back at the 

network interface unit, the pre-skew value at which the packet 
was sent and the value of the number of clock cycles after the 

timing mark at which the packet was received back is stored in 
the interface unit and all subsequent transmissions by that 

unit on the network are done at an interval before the timing 
mark defined by the stored skew value. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
FIRST PACIFIC NETWORKS INC
</APPLICANT-NAME>
<APPLICANT-NAME>
FIRST PACIFIC NETWORKS, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
AMAR AMAR CHAND
</INVENTOR-NAME>
<INVENTOR-NAME>
BALLA PRABHAKARA CHOWDARY
</INVENTOR-NAME>
<INVENTOR-NAME>
CHAO CHUAN-LUNG
</INVENTOR-NAME>
<INVENTOR-NAME>
MCNAMARA ROBERT P
</INVENTOR-NAME>
<INVENTOR-NAME>
PON HUNG CHEUNG
</INVENTOR-NAME>
<INVENTOR-NAME>
WANG CHONGZHEN
</INVENTOR-NAME>
<INVENTOR-NAME>
AMAR, AMAR CHAND
</INVENTOR-NAME>
<INVENTOR-NAME>
BALLA, PRABHAKARA CHOWDARY
</INVENTOR-NAME>
<INVENTOR-NAME>
CHAO, CHUAN-LUNG
</INVENTOR-NAME>
<INVENTOR-NAME>
MCNAMARA, ROBERT P.
</INVENTOR-NAME>
<INVENTOR-NAME>
PON, HUNG CHEUNG
</INVENTOR-NAME>
<INVENTOR-NAME>
WANG, CHONGZHEN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates generally to data 
communications networks and more specifically to an 
enhancement to network interface units in a high speed data 
interface network. Modern data networks allow for the high speed 
transmission of digital data between multiple users. Such 
data might be digitized voice data in a private branch 
exchange (PBX) office telephone network, video data, or 
information data from digital information processing systems 
such as personal computers. Modern networks may allow for the 
transmissions of all three types of data over the same 
physical network cable. One configuration for such a network is described in 
International Patent Application PCT/US89/01806, published as 
WO90/13956. This network is illustrated in Fig. 1, which is a 
block diagram of a digital data network of the type for which 
the invention is intended. It is characterized by a single 
network medium 12 connected to a plurality of network nodes, 
represented by Network Interface Units (NIUs) 20 each 
connected to a phone, computer, or other video, data or voice 
processing device (P) 22. The single medium is such that it 
can simultaneously carry a number of different signals, each 
in a different frequency band, thus allowing the network to 
have a number of frequency division multiplexed channels for 
carrying data. Each channel is further divided into two 
different frequency bands: a transmit frequency band and a 
receive frequency band. NIUs on the network transmit data on 
the transmit frequency and receive it on the receive 
frequency. A single head-end retransmission unit (HRU) 50 
receives all data transmitted on the transmit frequency and 
retransmits it on the receive frequency for reception by all 
network nodes. Fig. 2 is a diagram showing the time structure of 
signals on this network. Circuitry associated with the HRU 
provides a series of timing mark packets (TMs), transmitted  
 
simultaneously on all channels, at 1-ms intervals, thereby 
defining a series of 1-ms frames. In one configuration of the network for which the 
present invention is designed, each frame consists of a 10-byte 
TM, a 71-byte (60 data bytes) signalling packet (SP), and 
28 19.5-byte (16 data bytes) voice/data timeslots (VTSs), each 
capable of containing a voice/data packet (VP). VPs are used to provide voice communication 
containing binary encoded (pulse code modulation - PCM) speech 
from a specific phone conversation or to provide data 
communication. They are transmitted every cycle during the 
cour
</DESCRIPTION>
<CLAIMS>
A method for determining skew interval in a long 
range digital network comprising the steps of: 

   transmitting a signalling packet at a user-set 
pre-skew interval prior to a timing pulse; 

   counting the number of clock cycles after the 
timing pulse until the signalling packet is returned; and 

   storing the sum of said counted clock cycles 
and said user-set pre-skew interval as the skew interval. 
A method for determining the skew interval in a 
long range digital network comprising the steps of: 


a) transmitting a signalling packet at a pre-skew 
interval prior to a timing clock; thereafter 
b) counting the number of clock cycles after 
the timing clock until the signalling packet is returned; 
c) if the packet is not returned within a 
predefined time period, increasing the pre-skew interval 

and then repeating steps a) and b) until the packet is 
returned during the predefined time period; and 
 
   upon the packet being returned during the 

predefined time period, storing the resultant sum of 
said counted value and said pre-skew interval as the 

skew interval. 
An apparatus in a network interface unit for 
determining the skew interval in a long range digital network 

comprising: 
   means for storing a pre-skew interval based on 

geographical distance of said network interface unit from 
a headend unit of said digital network; 

   means coupled to said storing means for 
transmitting a signalling packet at said pre-skew 

interval prior to a timing clock signal; 
   receiving means for receiving said signalling 

packet;
 

   counting means coupled to said receiving means 
for counting clock cycles following the timing clock 

signal until the signalling packet is returned; 
   controller means coupled to said counting means 

and said storing means for detecting if said counting 
means has detected a received packet prior to elapse of a 

preset time period and, if said preset time period has 
not elapsed, for iteratively increasing the pre-skew 

interval and directing said transmitting means to 
retransmit the signalling packet until the counting means 

detects a received signalling packet within said 
predefined time period; and 

   storage means for storing the counter value 
indicative of the time a packet is returned during the 

predefined time period. 
The apparatus according to claim 3 where said 
pre-skew interval is set by a user. 
A circuit in a network interface unit for 
determining the skew interval in a long range digital network 

employing a central clock and central timing pulse signal 
comprising: 

   a skew register having a low-order part and a 
high-order part; 

   a network transmitter means coupled to said 
skew register for transmitting signal packets and data 

packets at a transmit time which is stored in said skew 
register, said transmit time being prior to said timing 

pulse; 
   a network receiver for receiving packets; 

   a counter coupled to said bus receiver and said 
skew register for counting the number of clock cycles 

which elapse between occurrence of timing pulse detection 
and receipt of a signalling packet by the network 

receiver and for storing said interval in said low-order 
part of said skew register; and

 
   a controller coupled to said high-order part of 

said skew register, said transmitter and said counter for 
detecting when said counter has failed to detect a 

received packet in a predetermined time from said timing 
pulse, for increasing an interval stored in said high-order 

part of said skew register and for directing said 
transmitter to retransmit said signal packet at an 

increased pre-skew interval. 
</CLAIMS>
</TEXT>
</DOC>
