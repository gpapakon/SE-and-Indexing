<DOC>
<DOCNO>EP-0621546</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Magnetic resonance angiography method and apparatus employing an integration projection.
</INVENTION-TITLE>
<CLASSIFICATIONS>A61B5055	A61B5055	G01R3354	G01R33563	G06T1100	G06T1100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>A61B	A61B	G01R	G01R	G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>A61B5	A61B5	G01R33	G01R33	G06T11	G06T11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Magnetic Resonance Angiography (MRA) method and apparatus for 
determining an angiogram, in the form of a two-dimensional array of pixel intensities, 

from time-of-flight or phase contrast MRA volumetric image data utilizes a weighted 
sum, pixel by pixel, of integration projection (IP) and maximum intensity projection 

(MIP) 2D pixel arrays formed in the same viewing direction. The forming of the 
integration projection pixel array is preceded by optional background suppression and 

optional application of a depth cueing intensity weighting function varying along the 
viewing direction. The background suppression procedure contains a non-linear unsharp 

filtering portion followed by an intensity thresholding step. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
PHILIPS ELECTRONICS NV
</APPLICANT-NAME>
<APPLICANT-NAME>
PHILIPS ELECTRONICS NV
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MOSHFEGHI MEHRAN C O INT OCTRO
</INVENTOR-NAME>
<INVENTOR-NAME>
MOSHFEGHI MEHRAN C O INT OCTRO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an angiography method and apparatus 
wherein a two-dimensional array of pixels for display as an angiogram is determined by 
a projection or ray casting with respect to a volumetric data set obtained from signal 
samples of radiation exiting a region of a body under examination, which volumetric 
data set exhibits a contrast between flowing blood and stationary tissue. In its particular 
aspects, the present invention relates to angiography employing an integration projection 
(IP). In the medical imaging field, a three-dimensional image data set or 
volumetric image may be collected from X-ray Computed Tomography (CT), Magnetic 
Resonance Imaging (MRI), Positron Emitted Tomography (PET), Single Photon 
Emission Computed Tomography (SPECT), Nuclear Medicine Tomography and 
Ultrasound modalities. In addition, it is a common practice to collect a volumetric 
image as two-dimensional image data for each of a stack of relatively thin slices. 
However collected, a volumetric image has intensity values or voxels centered at lattice 
points in a generally regular 3D grid or array. Various of these modalities are useful to 
produce an angiogram from a collected volumetric image data set having intensity 
values exhibiting an enhanced contrast between flowing blood and stationary tissue, 
some by employing a preparatory step of injecting a contrast agent into the bloodstream. Magnetic Resonance Angiography (MRA) is carried out by operating 
magnetic resonance imaging (MRI) apparatus to collect a three-dimensional data set of 
voxels using an RF and magnetic field gradient pulse sequence which produces an 
enhanced contrast between flowing blood and stationary tissue due to flow or velocity 
effects. Commonly used RF and magnetic field gradient sequences for angiography 
involve 2D time-of-flight or 2D or 3D phase-contrast methods. In the 2D time-of-flight 
method, a collection of spin resonance signals for multiple parallel slices is obtained.  
 
The flow sensitive contrast is due to substantially saturating stationary spins in the slice 
from which spin resonance signals are collected by relatively rapid repetition of close to 
90° flip angle slice selective RF excitation pulses so that only the unsaturated spins in 
blood flowing into the slice have relatively strong longitudinal magnetization just prior 
to experiencing the excitation pulses. This induces high intensity spin resonance signals 
from the inflowing blood, which intensity increases with the amount of inflow
</DESCRIPTION>
<CLAIMS>
An angiography method for determining a two-dimensional array of pixel 
intensities, said method comprising: 

   inducing radiation to exit from volume elements of a region of a body under 
examination, said radiation having a characteristic influenced by any flowing blood 

within said volume elements, said blood being in cardiovascular structure including 
blood vessels, said volume elements having center to center spacings in respective three 

linear independent directions; 
   receiving and sampling the radiation exiting from the volume elements of said 

region to form a collection of signal samples; 
   converting said collection of signal samples into an initial three-dimensional 

array of voxel intensities, each dimension of said array corresponding to a different one 
of said three linear independent directions; 

   modifying the voxel intensities of a pre-depth-cued three-dimensional array of 
voxel intensities derived from said initial array in accordance with a depth cueing 

function applied in a given direction to form a three-dimensional depth-cued array of 
voxel intensities; 

   summing the intensities of voxels intercepted by or interpolated along respective 
parallel rays projected in said given direction through said depth-cued array of 

computed voxel intensities to form respective intensity sums for the respective rays, 
each of said rays being associated with a different one of the pixels of the two-dimensional 

array to be determined; and 
   determining the values of the respective pixels of said two-dimensional array as 

a function of the respective sums for the rays associated with the respective pixels. 
A method as claimed in Claim 1, further comprising determining 
respective maximum intensities of voxels intercepted by or interpolated along said 

respective parallel rays associated with the respective pixels and directed in said given 
direction, as projected through a pre-MIP three-dimensional array of voxel intensities 

derived from said initial three-dimensional array, and wherein said determining of the 
 

values of the respective pixels of said two-dimensional array is by forming a weighted 
combination of said respective maximum intensities and said respective sums for the 

rays associated with said respective pixels. 
A method as claimed in Claim 1 or 2, wherein a pre-background-suppressed 
three-dimensional array is derived from said initial three-dimensional array 

and said pre-depth-cued three-dimensional array is derived from said pre-background-suppressed 
array by the following operations: 

   comparing the intensities of the voxels of said pre-background-suppressed array 
with a first intensity value to segment said voxels into flow voxels and background 

voxels; 
   forming a clipped array of voxels by replacing the flow voxels of said pre-background 

suppressed array with a second intensity value less than the first intensity 
value; 

   applying a low-pass spatial filter to said clipped array to form a smoothed 
clipped array; 

   subtracting said smoothed clipped array from said pre-background suppressed 
array, voxel by voxel to form a pre-thresholded array; and 

   intensity thresholding said pre-thresholded array with respect to a third intensity 
value to form said pre-depth-cued array. 
An angiography method for determining a two-dimensional array of pixel 
intensities, said method comprising: 

   inducing radiation to exit from volume elements of a region of a body under 
examination, said radiation having a characteristic influenced by any blood within said 

volume elements, said blood being in cardiovascular structure including blood vessels, 
said volume elements having center to center spacings in respective three linear 

independent directions; 
   receiving and sampling the radiation exiting from the volume elements of said 

region to form a collection of signal samples; 
   converting said collection of signal samples into an initial three-dimensional 

array of voxel intensities, each dimension of said array corresponding to a different one 
of said three linear independent directions; 

   deriving a background suppressed three dimensional array by the following 
procedure from a pre-background-suppressed three-dimensional array derived from said 

 
initial three-dimensional array: 


a) comparing the intensities of the voxels of said pre-background-suppressed 
array with a first intensity value to segment said voxels into flow voxels and 

background voxels; 
b) forming a clipped array of voxels by replacing the flow voxels of said pre-background 
suppressed array with a second intensity value less than the first intensity 

value; 
c) applying a low-pass spatial filter to said clipped array to form a smoothed 
clipped array; 
d) subtracting said smoothed clipped array from said pre-background suppressed 
array, voxel by voxel to form a pre-thresholded array; and 
e) intensity thresholding said pre-thresholded array with respect to a third 
intensity value to form said background suppressed array; 
 
   summing the intensities of voxels intercepted by or interpolated along respective 

parallel rays projected in a given direction through a pre-projection three dimensional 
array derived from said background suppressed array, to form respective intensity sums 

for the respective rays, each of said rays being associated with a different one of the 
pixels of the two-dimensional array to be determined; and 

   determining the values of the respective pixels of said two-dimensional array as 
a function of the respective sums for the rays associated with the r
espective pixels. 
A method as claimed in Claim 4, further comprising determining 
respective maximum intensities of voxels intercepted by or interpolated along said 

respective parallel rays associated with the respective pixels and directed in said given 
direction, as projected through a pre-MIP three-dimensional array of voxel intensities 

derived from said initial three-dimensional array, and wherein said determining of the 
values of the respective pixels of said two-dimensional array is by forming a weighted 

combination of said respective maximum intensities and said respective sums for the 
rays associated with said respective pixels. 
A method as claimed in Claim 1, 2, 3, 4 or 5 wherein said induced and 
received radiation are MR spin resonance RF signals. 
An angiography apparatus for determining a two-dimensional array of 
pixel intensities, said apparatus comprising: 

   means for inducing radiation to exit from volume elements of a region of a 
 

body under examination, said radiation having a characteristic influenced by any blood 
within said volume elements, said blood being in cardiovascular structure including 

blood vessels, said volume elements having center to center spacings in respective three 
linear independent directions; 

   means for receiving and sampling the radiation exiting from the volume 
elements of said region to form a collection of signal samples; 

   means for converting said collection of signal samples into an initial three-dimensional 
array of voxel intensities, each dimension of said array corresponding to a 

different one of said three linear independent directions; and 
   image processing means comprising: 


a) means for modifying the voxel intensities of a pre-depth-cued three-dimensional 
array of voxel intensities derived from said initial array in accordance with 

a depth cueing function applied in a given direction to form a three-dimensional depth 
cued array of voxel intensities; 
b) means for summing the intensities of voxels intercepted by or interpolated 
onto respective parallel rays projected through said depth cued array of computed voxel 

intensities in said given direction, to form respective intensity sums for the respective 
rays, each of said rays being associated with a different one of the pixels of the two-dimensional 

array to be determined; and 
c) means for determining the values of the respective pixels of said two-dimensional 
array as a function of the respective sums for the rays associated with the 

respective pixels. 
An apparatus as claimed in Claim 7, wherein said image rendering means 
further comprises: 

   d) means for determining respective maximum intensities of voxels intercepted 
by or interpolated along said respective parallel rays associated with the respective 

pixels and directed in said given direction, as projected through a pre-MIP three-dimensional 
array of voxel intensities derived from said initial three-dimensional array; 

   and wherein said means for determining the values of the respective pixels of 
said two-dimensional array comprises means for forming a weighted combination of 

said respective maximum intensities and said respective sums for the rays associated 
with said respective pixels. 
An apparatus as claimed in Claim 7 or 8, wherein a pre-background-suppressed 
 

three-dimensional array is derived from said initial three-dimensional array 
and wherein said image processing means further comprises background suppression 

means for converting said pre-background suppressed array to said pre-depth-cued 
array, said background suppression means comprising means for: 

   comparing the intensities of the voxels of said pre-background-suppressed array 
with a first intensity value to segment said voxels into flow voxels and background 

voxels; 
   forming a clipped array of voxels by replacing the flow voxels of said pre-background 

suppressed array with a second intensity value less than the first intensity 
value; 

   applying a low-pass spatial filter to said clipped array to form a smoothed 
clipped array; 

   subtracting said smoothed clipped array from said pre-background suppressed 
array, voxel by voxel to form a pre-thresholded array; and 

   intensity thresholding said pre-thresholded array with respect to a third intensity 
value to form said pre-depth-cued array. 
An apparatus as claimed in Claim 7, 8 or 9, wherein said induced and 
received radiation are MR spin resonance RF signals. 
</CLAIMS>
</TEXT>
</DOC>
