<DOC>
<DOCNO>EP-0646696</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Motion compensation apparatus and method for determining heading of a borehole
</INVENTION-TITLE>
<CLASSIFICATIONS>E21B4702	E21B47022	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>E21B	E21B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>E21B47	E21B47	</CLASSIFICATIONS-FOURTH>
<APPLICANTS>
<APPLICANT-NAME>
ANADRILL INT SA
</APPLICANT-NAME>
<APPLICANT-NAME>
SCHLUMBERGER SERVICES PETROL
</APPLICANT-NAME>
<APPLICANT-NAME>
ANADRILL INTERNATIONAL SA
</APPLICANT-NAME>
<APPLICANT-NAME>
SERVICES PETROLIERS SCHLUMBERGER
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HACHE JEAN-MICHEL D
</INVENTOR-NAME>
<INVENTOR-NAME>
MOULIN PIERRE A
</INVENTOR-NAME>
<INVENTOR-NAME>
PHILLIPS WAYNE J
</INVENTOR-NAME>
<INVENTOR-NAME>
HACHE, JEAN-MICHEL D.
</INVENTOR-NAME>
<INVENTOR-NAME>
MOULIN, PIERRE A.
</INVENTOR-NAME>
<INVENTOR-NAME>
PHILLIPS, WAYNE J.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention finds application in certain measurement systems which determine
the heading of a borehole of a well. For example, the invention relates to measuring-while-drilling
systems (MWD) which are designed to determine the position and heading
of a tandemly connected sub near the drill bit of a drill string assembly in an oil or gas
well borehole. The invention also finds application with wireline apparatus in which one
or more down-hole instruments are designed to determine the position and heading of
such instrument(s) during logging of an open hole borehole. In particular, the invention
relates to the determination of the heading of the well from gyroscopic data regarding the
earth's rotation and from accelerometer data regarding the earth's gravitational field. Still
more particularly, the invention relates to an apparatus and method for compensating
gyroscopic data for movement of a down-hole measurement instrument while a heading
determination is being made. Examples of prior art measuring-while-drilling (MWD) equipment include
U.S. Patents 4,768,152 and 4,433,491. The '152 patent discloses an apparatus and
method for surveying boreholes, using a single rate gyroscope and an accelerometer
package in an instrument pod which is lowered into a borehole. The '491 patent
discloses a similar instrument pod having gyroscopes and accelerometers for borehole
mapping, and also indicates that the invention is adaptable to the replacement of the
gyroscopes with magnetometers.Other prior art MWD equipment has included magnetometers and
accelerometers disposed on each of three orthogonal axes of a measurement sub of a
drill string assembly. Such measurement sub has typically been part of a special drill
collar placed a relatively short distance above a drilling bit. The drilling bit bores the
earth formation as the drill string is turned by a rotary table of a drilling rig at the
surface.At periodic intervals, the drill string is stopped from turning so that the
measurement sub in the wellbore may generate magnetometer data regarding the
earth's magnetic field and accelerometer data regarding the earth's gravitational field
with respect to the orthogonal axes of the measurement sub. The h vector from the
magnetometer data and the g vector from the accelerometer data are then used to
determine the heading of the well.Such prior art method suffers form the fact that the earth's magnetic field
varies with time and is affected by structures containing iron or magnetic ores in the
vicinity of the measurement
</DESCRIPTION>
<CLAIMS>
Apparatus operatively arranged for measuring characteristics of a

borehole instrument, comprising:

a measurement instrument operatively arranged for placement within said
borehole, said instrument having a separate accelerometer and magnetometer fixed

along each of z, x and y axes of an instrument coordinate system; and

characterized by:

computer means responsive to signals from said magnetometers for
determining a unit vector signal representing the earth's magnetic field with respect to

said instrument coordinate system at a first time 
t
1
, that is 
h and
t1
, and at a later time 
t
2
,
that is 
h and
t2
, and for determining a difference unit earth magnetic field vector, 
Δh and
,
representing that difference between 
h and
t2
 and 
h and
t1
, and for storing signals representative
of 
Δh and
 and 
h and
, where 
h
 is selected as equal to 
h and
t2
 or 
h and
t1
 or the mean value between

h and
t2
 and 
h and
t1
;
computer means responsive to said accelerometers for determining a unit
vector signal representing the earth's gravitational field with respect to said instrument

coordinate system at said first time 
t
1
, that is 
g and
t1
, and said later time 
t
2
, that is 
g and
t2
, and
for determining a difference unit earth gravitational field vector signal, Δ
g and
,
representing the difference between 
g and
t2
 and 
g and
t1
, and for storing signals representative
of Δ
g and
 and 
g and
, where 
g and
 is selected as equal to 
g and
t2
 or 
g and
t1
, or the mean value between

g and
t2
 and 
g and
t1
 ;
means for generating a signals representative of the difference in time Δ
t

between said first time 
t
1
 and said second time 
t
2
, and
computer means responsive to said signals representative of 
Δh and , h and,
 Δ
g and
 , 
g and

and Δ
t
 for determining a vector signal 
Ω
p
 representative of the angular rotation
velocity of said instrument.
The apparatus of claim 1, wherein said instrument is a measurement sub
operatively arranged for tandem connection to a drill string.
The apparatus of claim 2, further comprising: 

a separate gyroscope fixed along each of said z, x and y axes of said
instrument coordinate system;
computer means responsive to said gyroscopes for determining a vector signal

Ω
g
 representative of the rotational velocity of the earth and the rotational velocity of
said measurement sub and for storing said signal representative of said vector 
Ω
g
, and
computer means for producing a vector signal representative of the earth's
rotational velocity 
Ω
e
 with respect to the sub coordinate system by subtracting said
vector signal 
Ω
p
 from said vector signal 
Ω
g
.
The apparatus of claim 1 wherein said computer means for determining a
vector signal 
Ω
p
 includes means for solving the equation:

Δ 
g
 × 
g
 + (
g
·
Ω
p
 Δt) 
g
 = 
Δ
h
 × 
h
 + (
h
·
Ω
p
 Δt) 
h
.
In apparatus operatively arranged for measuring characteristics of a borehole
instrument, the apparatus including an instrument having a separate accelerometer and

magnetometer fixed along each of z, x and y axes of its coordinate system, a method
for determining the angular rotation velocity of said instrument when placed within a

borehole, comprising the steps of:

determining from signals of said magnetometers a unit vector representing the
earth's magnetic field with respect to said instrument coordinate system at a first time


t
1
, that is, 
h and
t1
, and a later time 
t
2
, that is, 
h and
t2
;
determining a difference unit earth magnetic field vector signal, 
Δh and,

representing the difference between 
h and
t2
 and 
h and
t1
 ;
determining from signals of said accelerometers a unit vector representing the
earth's gravitational field with respect to said instrument coordinate system at said first

time 
t
1
, that is 
g and
t1
, and at said later time 
t
2
, that is g and 
t2
;
determining a difference unit earth gravitational field vector signal, Δ
g and
,
representing the difference between 
g and
t2
 and 
g and
t1
;
determining a signal representative of the difference in time Δ
t
 between said
first time 
t
1
 and said second time 
t
2
, and
determining from 
Δh and, h and,
 Δ
g and
, 
g and
 and Δ
t
 a vector signal 
Ω
p
 representative of
the angular rotation velocity of said instrument, where 
h and
 is selected as equal to 
h and
t1
 or 

h and
t2
 or the mean value between 
h and
t1
 and 
h and
t2
 and 
g and
 is selected as equal to 
g
t1
 or 
g
t2
 or
the mean value between 
g and
t1
 and 
g and
t2
.
The method of claim 5, wherein said instrument is a measurement sub
tandemly connected to a drill string.
The method of claim 6 wherein said apparatus further includes a gyroscope
fixed along each of z, x and y axes of its coordinate system, the method further

comprising steps to determine the earth's rotational velocity with respect to said sub
coordinate system, such steps including:


determining from signals from said gyroscopes a vector signal 
Ω
g

representative of the rotational velocity of the earth and the rotational velocity of said
measurement sub; and
determining a vector representative solely of the earth's rotational velocity
vector 
Ω
e
 with respect to said sub coordinate system by subtracting said vector signal

Ω
p
 from said vector signal 
Ω
g
.
The method of claim 7 wherein said step of determining a vector signal 
Ω
p

includes the step of solving the equation:

Δ 
g
 x 
g
 + (
g
·
Ω
p
 Δt) 
g
 = 
Δ
h
 x 
h
 + (
h
·
Ω
p
 Δt) 
h
.
The method of claim 8, further comprising the step of computing a maximum
likelihood estimate of said vector signal 
Ω
p
.
The method of claim 9, wherein said step of computing the maximum
likelihood estimate of said vector signal 
Ω
p
 includes the step of minimizing the
quantity:


 
where


Δ
g
ml
 = (
g
 × 
Ω
p
 
ml
) Δt,

and

Δ
h
ml
 = (
h
 × 
Ω
p
 
ml
)Δt,

by treating the three components of said vector signal 
Ω
p
 as free parameters which
are allowed to vary, with the value of said vector signal 
Ω
p
 so determined being the
maximum likelihood estimate of said vector signal 
Ω
p
, vector signal 
Ω
 p / ml.
The apparatus of claim 3 further operatively arranged for measuring the
direction of a borehole in which said measurement instrument is placed and further

including:

computer means responsive to said vector signal representative of components
of said earth's rotational velocity 
Ω
e
 and to said vector signals representative of
components of said earth's gravitational field to generate a signal representative of the

direction  of the borehole.
The method of claim 7 further comprising a step to determine the direction of
a borehole in which said instrument is placed, the step comprising:


generating a signal representative of the direction  of said borehole in
response to said vector signal 
Ω
e
 representative of the earth's rotational velocity and
to said vector signals representative of components of earth's gravitational field.
</CLAIMS>
</TEXT>
</DOC>
