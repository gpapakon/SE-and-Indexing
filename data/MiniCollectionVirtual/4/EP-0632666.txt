<DOC>
<DOCNO>EP-0632666</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Dual tone detector operable in the presence of speech or background noise and method therefor.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04Q130	H04Q145	H04Q146	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04Q	H04Q	H04Q	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04Q1	H04Q1	H04Q1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A dual tone detector (100) for a single dual tone, a dual tone 
multi-frequency (DTMF), or similar system processes an input 

signal through both bandpass (103) and band reject (104) tone 
detectors. If both the bandpass (103) and band reject (104) tone 

detectors detect a tone, then the dual tone detector (100) 
provides a tone detect output signal. If only the bandpass tone 

detector (103), which is susceptible to false tones, detects a 
tone, then a voice input signal is muted and the tone detector 

(100) activates the tone detect output signal only if both the 
bandpass (103) and band reject (104) tone detectors subsequently 

detect a tone. In one embodiment, a dual bandpass/band reject 
tone detector (120) processes the input signal through shared 

front-end band reject filters (121, 122), limiters (124), 
resonators (127, 128), and a processing section (130) in order to 

save circuit area. Limiter and peak detector functions are also 
implemented in shared circuitry to further reduce circuit area. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MOTOROLA INC
</APPLICANT-NAME>
<APPLICANT-NAME>
MOTOROLA, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
GREAVES CARLOS
</INVENTOR-NAME>
<INVENTOR-NAME>
GREAVES, CARLOS
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates generally to signal processing, and 
more particularly, to tone detection. In voice communication systems, tones are frequently used 
for signaling. A dual tone, commonly referred to simply as a 
"tone", is represented by two true tones whose frequencies are 
separated in bandwidth, in order to avoid false tone detections. 
Thus, if normal speech patterns or noise produce a signal with a 
high amount of energy near one true tone frequency, it is unlikely 
that there will be enough energy near the other true tone 
frequency to result in a spurious tone detection. This type of tone 
signaling is utilized, for example, in dual tone multi-frequency 
(DTMF) signaling used in North American telephone systems. Known tone detectors typically employ the band separation 
technique, and these tone detectors usually fall within one of two 
categories. One type, known as a band reject tone detector, 
filters an input signal through two band select filters 
corresponding to the two DTMF frequency bands. A band select 
filter associated with the low DTMF frequency band, rejects 
signal frequencies in the high DTMF frequency band, and vice 
versa. The outputs of the band select filters are processed 
through signal limiters and then passed through resonators. 
Resonators tuned to each of the DTMF frequencies provide an 
output signal of sufficient energy to trip a subsequent comparator 
when the input signal has a sufficient magnitude at one of the 
DTMF frequencies. If the outputs of resonators in both the low 
and high DTMF frequency bands trip their respective comparators, 
then the tone detector provides a tone detect output signal to 
indicate the occurrence of a DTMF tone.  However, the band reject tone detector is susceptible to 
missing valid tones. If there is enough energy in other signals 
while a tone is present, the speech interferes with the tone and 
the band reject tone detector is unable to discern the tone. For 
example, speech interference may be due to a recorded 
announcement, customer speech, an operator, or background noise. A second type of tone detector is known as a bandpass tone 
detector. In the bandpass tone detector, the input signal is first 
passed through bandpass filters corresponding to the low and high 
tone ranges. If a signal within the passband of the filter has a 
sufficient amplitude, it will trip a comparator. If two true tones 
are detected, the bandpass tone detector will provide a tone 
detect indication. While immune from missing tones, the 
bandpass
</DESCRIPTION>
<CLAIMS>
A dual tone detector operable in the presence of speech or 
background noise (100), comprising: 

   a bandpass tone detector (103) having an input for 
receiving an input signal conducted on a 

transmission line (101), and an output for 
providing a bandpass tone detect signal, said 

input signal characterized as intermittently 
including tones; 

   a band reject tone detector (104) having an input for 
receiving said input signal, and an output for 

providing a band reject tone detect signal; and 
   logic means (106) coupled to said bandpass tone 

detector (103) and to said band reject tone 
detector (104), for providing a tone detect 

signal in response to both said bandpass tone 
detect signal being active and to said band 

reject tone detect signal being active, and for 
providing a mute signal in response to said 

bandpass tone detect signal being active and 
said band reject tone detect signal being 

inactive. 
The dual tone detector (100) of claim 1 further comprising 
input means (108) coupled to said transmission line (101), 

for receiving a second input signal and for decoupling said 
second input signal from said transmission line (101) in 

response to said mute signal. 
The dual tone detector (100) of claim 2, wherein said 
transmission line (101) comprises a telephone line, and 

wherein said input means (108) comprises a telephone line 
hybrid. 
A dual tone detector operable in the presence of speech or 
background noise (120) comprising: 

   a first band reject filter (121) having an input coupled 
to said transmission line (101), and an output, 

said first band reject filter (121) attenuating 
frequencies around a high frequency; 

   a second band reject filter (122) having an input 
coupled to said transmission line (101), and an 

output, said band reject filter attenuating 
frequencies around a low frequency; 

   limiter means (124) coupled to said first (121) and 
second (122) band reject filters, for limiting 

voltages said outputs of said first (121) and 
second (122) band reject filters to provide first 

and second limited signals, respectively; 
   a first bandpass filter (127) having an input for 

receiving said first limited signal, and an 
output, for passing frequencies around said low 

frequency; 
   a second bandpass filter (128) having an input for 

receiving said second limited signal, and an 
output, for passing frequencies around said high 

frequency; 
   processing means (130) coupled to said outputs of 

said first (127) and second (128) bandpass 
filters, for providing a first peak detect signal 

and a third limited signal in response to a signal 
at said output of said first bandpass filter 

(127), and for providing a second peak detect 
signal and a fourth limited signal in response to 

a signal at said output of said second bandpass 
filter (128); 

   a bandpass demodulator (140) having inputs for 
receiving said third and fourth limited output 

signals, and an output for providing said 
bandpass tone detect signal; and

 
   a band reject demodulator (141) having inputs for 

receiving said first and second peak detect 
output signals, and an output for providing said 

band reject tone detect signal. 
A dual tone multi-frequency (DTMF) detector operable in the 
presence of speech or background noise (200) comprising: 

   a first filter (201) having an input coupled to said 
transmission line (101), and an output, said first 

filter (201) attenuating frequencies within a 
high frequency band; 

   a second filter (202) having an input coupled to said 
transmission line (101), and an output, said 

second filter (202) attenuating frequencies 
within a low frequency band; 

   a first limiter (205) having an input coupled to said 
output of said first filter (201), and an output; 

   a second limiter (206) having an input coupled to said 
output of said second filter (202), and an output; 

   a first plurality of bandpass filters (210) each having 
an input coupled to said output of said first 

limiter (205), and an output, for passing 
frequencies within a corresponding plurality of 

DTMF frequencies within said low frequency 
band; 

   a second plurality of bandpass filters (211) each 
having an input coupled to said output of said 

second limiter (206), and an output, for passing 
frequencies within a corresponding plurality of 

DTMF frequencies within said high frequency 
band; 

   first peak detector means (230, 231) coupled to said 
first plurality of bandpass filters (210), for 

detecting whether voltages at said outputs of 
each of said first plurality of bandpass filters 

(210) exceed a predetermined threshold to 
 

provide a first plurality of peak detect signals 

in response; 
   second peak detector means (242, 243) coupled to said 

second plurality of bandpass filters (211), for 
detecting whether voltages at said outputs of 

each of said second plurality of bandpass filters 
(211) exceed said predetermined threshold to 

provide a second plurality of peak detect signals 
in response; and 

   band reject logic means (218) coupled to said first 
and second peak detector means, for providing 

said band reject tone detect signal in response 
to an activation of one of said first plurality of 

peak detect signals and one of said second 
plurality of peak detect signals. 
A method for detecting a dual tone in the presence of speech 
or background noise, comprising the steps of: 

   receiving an input signal via a transmission line 
(101); 

   detecting a tone in said input signal in a bandpass tone 
detector (103) to provide a bandpass tone detect 

signal in an active state thereof to indicate a 
detection of said tone; 

   detecting said tone in said input signal in a band 
reject tone detector (104) to provide a band 

reject tone detect signal in an active state 
thereof to indicate a detection of said tone; 

   providing a tone detect output signal in response to 
both said bandpass tone detect signal being 

active and to said band reject tone detect signal 
being active; and 

   muting a voice input signal from said transmission 
line (101) and repeating said step of providing 

said tone detect output signal, in response to 
said bandpass tone detect signal being active 

 
and said band reject tone detect signal being 

inactive. 
The method of claim 6 wherein said step of detecting said 
tone in said input signal in a band reject tone detector (104) 

comprises the steps of: 
   filtering said input signal to reject frequencies 

around a second frequency to provide a first 
signal; 

   filtering said input signal to reject frequencies 
around a first frequency to provide a second 

signal; 
   limiting said first signal to provide a first limited 

signal; 
   limiting said second signal to provide a second limited 

signal; 
   filtering said first limited signal around said first 

frequency to provide a first bandpass filtered 
signal; 

   filtering said second limited signal around said second 
frequency to provide a second bandpass filtered 

signal; 
   detecting a peak in said first and second bandpass 

filtered signals to provide first and second peak 
detect signals, respectively; and 

   providing a band reject tone detect signal in response 
to said first and second peak detect signals. 
The method of claim 7 wherein said step of detecting a tone 
in said input signal in said bandpass tone detector (103) 

comprises the steps of: 
   limiting said first and second bandpass filtered 

signals to provide third and fourth limited 
signals, respectively; and 

   providing said bandpass tone detect signal in response 
to said third and fourth limited signals. 
A method for detecting a DTMF tone in the presence of 
speech or background noise, comprising the steps of: 

   receiving an input signal via a transmission line; 
   filtering said input signal to reject frequencies 

around a second frequency to provide a first 
signal; 

   filtering said input signal to reject frequencies 
around a first frequency to provide a second 

signal; 
   limiting said first signal to provide a first limited 

signal; 
   limiting said second signal to provide a second limited 

signal; 
   filtering said first limited signal around said first 

frequency to provide a first bandpass filtered 
signal; 

   filtering said second limited signal around said second 
frequency to provide a second bandpass filtered 

signal; 
   limiting said first and second bandpass filtered 

signals to provide third and fourth limited 
signals, respectively; 

   detecting a peak in said first and second bandpass 
filtered signals to provide first and second peak 

detect signals, respectively; 
   providing a bandpass tone detect signal in response to 

said third and fourth limited signals; 
   providing a band reject tone detect signal in response 

to said first and second peak detect signals; and 
   providing a tone detect signal in response to both said 

bandpass tone detect signal and to said band 
reject tone detect signal. 
The method of claim 9 further comprising the step of: 
   muting a voice signal from said transmission line in 

response to said bandpass tone detect signal 
being active and to said band reject tone detect 

signal being inactive; and 
   providing said tone detect signal in response to a 

subsequent activation of both said bandpass tone 
detect signal and to said band reject tone detect 

signal. 
</CLAIMS>
</TEXT>
</DOC>
