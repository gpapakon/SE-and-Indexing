<DOC>
<DOCNO>EP-0631237</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Processor circuit comprising a first processor, a memory and a peripheral circuit, and system comprising the processor circuit and a second processor
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1312	G06F1516	G06F15177	G06F1312	G06F1516	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F13	G06F15	G06F15	G06F13	G06F15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In known systems, such as personal computers, a PC processor and 
a 68000 processor belonging to a processor circuit such as, for example, a 

PC card communicate with one another via a quasi dual-port RAM, the 
PC processor and the 68000 processor alternately reading data out of the 

RAM and writing other data into the RAM. Furthermore, the 68000 
processor communicates directly with its periphery. In addition, the 

system according to the invention offers the possibility of direct 
communication between the PC processor and the said periphery (of the 

68000 processor) without the intervention of the 68000 processor and 
without use being made of the RAM. This is of great advantage for some 

test purposes and in the creation of backup possibilities. The system 
according to the invention furthermore offers a synchronization protocol 

for synchronizing the PC processor and the 68000 processor. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
KONINKL KPN NV
</APPLICANT-NAME>
<APPLICANT-NAME>
KONINKLIJKE KPN N.V.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CHEUNG WING KEUNG
</INVENTOR-NAME>
<INVENTOR-NAME>
PIETERSE ROB
</INVENTOR-NAME>
<INVENTOR-NAME>
VAN BRUCHEM DIRK JAN JACOBUS
</INVENTOR-NAME>
<INVENTOR-NAME>
CHEUNG, WING KEUNG
</INVENTOR-NAME>
<INVENTOR-NAME>
PIETERSE, ROB
</INVENTOR-NAME>
<INVENTOR-NAME>
VAN BRUCHEM, DIRK JAN JACOBUS
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to a processor circuit comprising a first
processor and a memory circuit, which first processor can be coupled
to a first input/output of said memory circuit and, moreover
comprising a peripheral circuit which can be coupled to the first
processor, it being possible to couple a second input/output of the
memory circuit to an external second processor, outside said processor
circuit.Such a processor circuit is disclosed in US 4,620.11 8. The processor
circuit described therein comprises the memory circuit, which consists
of a memory (random-access memory or RAM), a muhiplexer (MUX) coupled
thereto, a first switching port (LATCH-1) which is coupled to the MUX
and is connected to the first processor, and a second switching port
(LATCH-2) which iz coupled to the MUX and is connected to the second
processor. As a resuh of using the MUX and the two LATCHES, the RAM is
transformed into a so-called quasi-dual port RAM (QDPR) or into a
memory circuit having a first input/output and a second input/output.
The two processors are able to communicate with one another via such a
memory circuit, a conflict being avoided by using a so-called
contention-resolving circuit (CRO coupled to both processors and the
MUX.Such a known processor circuit has the disadvantage that it has
little flexibility because it is insufficiently suitable for test
purposes and has back- up facilities at its disposal to an
insufficient extent. The object of the invention
as defined by the independent claim
is, inter alia, to provide a processor circuit of the
type stated in the introduction which is more flexible because it is sufficiently
suitable for test purposes and has back-up facilities at its disposal to a
sufficient extent.For this purpose, the processor circuit according to the invention has the
characteristic that it is designed, in one situation, for communication between
the second processor and the memory circuit, on the one hand, and
communication between the first processor and the memory circuit and the
peripheral circuit, on the other hand, and it is designed, in another situation,
for communication between the second processor and the peripheral circuit.Because the processor is designed, in one situation (the so-called "intelligent
mode"), for direct communication between the second processor and the
memory circuit, on the one hand, and direct communication between the first
processor and the memory circuit and the peripheral circuit, on the other
hand, and the processor circuit is designed, in another
</DESCRIPTION>
<CLAIMS>
Processor circuit (1) comprising a first processor (6) and a memory
circuit, which first processor can be coupled to a first input/output

of said memory circuit and, moreover comprising a peripheral
circuit which can be coupled to the first processor, it being possible

to couple a second input/output of the memory circuit to an external
second processor (2), outside said processor circuit,
characterized in
 that

said memory circuit comprises a memory (3) and switching means (4)
for enabling, in a first mode, communication

between the second processor (2) and the memory on the one
hand, and communication between the first processor (6) and the memory

and the peripheral circuit (7), on the other hand, and for
enabling in a second mode,

communication between the second processor and the peripheral circuit.
Processor circuit according to Claim 1, 
characterized
in
 that the
switching means couple, in the first

mode, the second input/output to the memory, on the one hand, and
couple the first input/output to the memory, on the other

hand, and, in the second mode, couple the
second input/output to the first input/output.
Processor circuit according to Claim 2, characterized in that the
switching by the switching means takes place in response to a control

signal originating from the first processor.
Processor circuit according to Claim 3, characterized in that the
first processor comprises a reset input for resetting the first

processor in response to a signal originating from the second
processor or the peripheral circuit.
System comprising the processor circuit according to one of the
preceding claims, characterized in that it comprises the second

processor coupled to the processor circuit. 
System according to Claim 5, characterized in that the second
processor is designed, in response to a start signal,


to read a first field of the memory after a first time interval,
if an error signal is stored in the first field of the memory, to generate
an error message, and, if this is not the case, to generate a ready signal

within a second time interval and place said ready signal in a second field
of the memory,

the first processor being designed, in response to the start signal,
to test itself,
if an error is detected during the testing, to generate the error signal
and place said error signal in the first field within the first time interval,

and, if this is not the case, to read the second field of the memory after
the second time interval,

the second time interval being longer than the first time interval.
System according to Claim 6, characterized in that the second
processor is designed


to read a third field of the memory after a third time interval,
if a first confirmation signal is stored in the third field, to initialize the
memory circuit and place an initialization signal in a fourth field of the

memory within a fourth time interval, and, if this is not the case, to
generate an error message,
to read a fifth field of the memory after a fifth time interval,
if a second confirmation signal is placed in the fifth field, to generate
an o.k. message, and, if this is not the case, to generate an error message,

the first processor being designed
to generate the first confirmation signal within the third time interval
in response to the ready signal placed in the second field of the memory 

and to place said first confirmation signal in the third field of the
memory,
to read the fourth field of the memory after a fourth time interval,
if the initialization signal is stored in the fourth field, to generate a
second confirmation signal and place said second confirmation signal in

the fifth field of the memory within the fifth time interval,

the fifth time interval being longer than the fourth time interval, which
is longer than the third time interval, which is longer than the second

time interval.
</CLAIMS>
</TEXT>
</DOC>
