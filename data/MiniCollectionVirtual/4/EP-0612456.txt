<DOC>
<DOCNO>EP-0612456</DOCNO> 
<TEXT>
<INVENTION-TITLE>
TRANSMISSION SYSTEM FOR CODED SPEECH SIGNALS AND/OR VOICEBAND DATA
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L2549	H04J316	H04L2549	H04M1106	H04J316	H04M1106	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04J	H04L	H04M	H04J	H04M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L25	H04J3	H04L25	H04M11	H04J3	H04M11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A digital coder receives (input 100) either speech or voice-band data. When receiving speech this is coded by a digital speech coder (102) and formatted into frames with parity bits (106). If modulated data are present this is recognised by a detector (107) which routes the signals instead via a demodulator (108). Parity bits are generated from the same frame portions but parity is inverted (110) so that a parity checking unit at a receiver (not shown) can readily recognise the change. Preferably means (111) are provided to insert into data frames codewords identifying the start and end and indicating the type of modulation in use. Additional detectors (107) and demodulators can be added for different types of modulation.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
BRITISH TELECOMM
</APPLICANT-NAME>
<APPLICANT-NAME>
BRITISH TELECOMMUNICATIONS PUBLIC LIMITED COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DAVIS ANDREW GORDON HOMELEIGH
</INVENTOR-NAME>
<INVENTOR-NAME>
DAVIS, ANDREW, GORDON
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to apparatus for coding voice-band signals
into digital form, and to apparatus for decoding such signals. More particularly the
object is to provide a coder and decoder able to accommodate both speech signals
and modulated data signals.It is known from US Patent 4 876 696 of Yoshikawa to transmit multifrequency
(MF) or modem data signals together with coded speech signals over the
same digital transmission path. Yoshikawa's system includes a transmitter with
two coders, one coder for speech and one for MF/modem data. A detector enables
coded signals from one coder or the other upon detection of either speech or
MF/modem data respectively in a received signal, the enabled signal being
multiplexed into an output of the transmitter along with an indicating bit to indicate
which of speech or MF/modem data are being carried by the output.The present invention provides, in a first aspect, an audio-frequency
coding apparatus comprising:
(a) an input for receiving audio-frequency signals;(b) a speech coder for coding the received signals into digital form;(c) a demodulator for demodulating the received signals, in accordance
with a predetermined modulation scheme;(d) a recogniser operable to place the apparatus in a data or speech
mode dependent on the presence or absence respectively of signals
according to the predetermined modulation scheme;(e) means for formatting signals from, in the data mode, the
demodulator and from, in the speech mode, the speech coder, into a
common framing structure; and(f) insertion means for generating a codeword indicative of data
transmission and inserting this, upon the placing of the apparatus
into the data mode, into a predetermined position within the framing
structure;
the apparatus being characterised in that it includes 
(g) a parity generator responsive to a plurality of predetermined bit
positions within the framing structure to generate parity bits and to
insert these in predetermined positions within the framing structure,
the sense of the parity bits when in the data mode being the reverse
of that in the speech mode.In another aspect of the invention there is provided a decoding apparatus
for decoding signals thus coded, comprising:
(a) means for receiving frames of digital signals and for performing
parity checks thereon to produce, for each frame, a parity indicating
signal indicative of a first sense or a second sense of parity;(b) recognition means for recognising codewords contained in said
received frames;(c) control means connected
</DESCRIPTION>
<CLAIMS>
An audio-frequency coding apparatus comprising:

(a) an input (100) for receiving audio-frequency signals;
(b) a speech coder (102) for coding the received signals into digital
form;
(c) a demodulator (108) for demodulating the received signals, in
accordance with a predetermined modulation scheme;
(d) a recogniser (107) operable to place the apparatus in a data or
speech mode dependent on the presence or absence respectively of

signals according to the predetermined modulation scheme;
(e) means (103) for formatting signals from, in the data mode, the
demodulator (108) and from, in the speech mode, the speech coder

(102), into a common framing structure; and
(f) insertion means (111) for generating a codeword indicative of data
transmission and inserting this, upon the placing of the apparatus

into the data mode, into a predetermined position within the framing
structure;

the apparatus being characterised in that it includes

(g) a parity generator (106) responsive to a plurality of predetermined bit
positions within the framing structure to generate parity bits and to

insert these in predetermined positions within the framing structure,
the sense of the parity bits when in the data mode being the reverse

of that in the speech mode.
An apparatus according to Claim 1 in which the insertion means (111) are
operable to insert, in a group of consecutive frames containing data from the

demodulator:

(i) in the first frame, a first codeword;
(ii) in the last frame, a second codeword distinct from the first; and
(iii) in any intervening frames, a third codeword distinct from the first
and second.
An apparatus according to Claim 1 or 2 including a second recogniser for
recognising a second modulation scheme, arranged to enable a second

demodulator, the codeword or words identifying the type of modulation.
A decoding apparatus for decoding signals encoded by means of the
apparatus of claim 1, comprising:


(a) means (200, 201) for receiving frames of digital signals and for
performing parity checks (203) thereon to produce, for each frame, a

parity indicating signal indicative of a first sense or a second sense
of parity;
(b) recognition means (206) for recognising codewords contained in said
received frames;
(c) control means connected to the recognition means (206) and
connected to receive the parity indicating signals, said control means

being responsive to a first predetermined combination of parity
indicating signal and codeword to switch the apparatus into a data

mode and being responsive to a second predetermined combination
of parity indicating signal and codeword to switch the apparatus into

a speech mode;
(d) modulation means (207) operable in the data mode to modulate the
received signals to provide a modulated signal to the output (205) of

the apparatus; and
(e) speech decoding means (202) operable in the speech mode to
decode the received signals to provide a speech signal to the said

output (205).
A decoding apparatus according to Claim 4 in which the first
predetermined combination is the occurrence of a first codeword and a parity

indicating signal indicative of a first sense of parity and the second predetermined
combination is the occurrence of a second codeword and a parity indicating signal

indicative of a first sense of parity. 
A decoding apparatus according to Claim 4 in which the control means are
arranged to recognise further combinations of parity indicating signal and

codeword other than said first and second predetermined combinations, and
includes timer means operable upon receipt of such other combinations to initiate

switching between modes only if the combination persists for a predetermined
number of consecutive frames.
A decoding apparatus according to Claim 5 in which the control means are
arranged to recognise further combinations of parity indicating signal and

codeword other than said first and second predetermined combinations, and
includes timer means operable upon receipt of such other combinations to initiate

switching between modes only if the combination persists for a predetermined
number of consecutive frames.
A decoding apparatus according to Claim 7 in which the control means are
responsive:


(i) when in the speech mode, to the repeated occurrence, on a
predetermined number of consecutive frames, of a parity indicating signal

indicative of a first sense of parity and of a third codeword to switch the apparatus
into the data mode; and
(ii) when in the data mode, to the repeated absence on a predetermined
number of consecutive frames, of a parity indicating signal indicative of a first

sense of parity or the repeated occurrence, on a predetermined number of
consecutive frames of a parity indicating signal indicative of a second sense of

parity unaccompanied by a recognisable codeword, to switch the apparatus into
the speech mode.
A decoding apparatus according to any one of Claims 4 to 7, including a
second modulator operable in the data mode to modulate the received signals to

provide a modulated signal, using a second type of modulation, to the output (205)
of the apparatus, the control means being responsive to codewords of a first set or

a second set to select the modulator to be used.
</CLAIMS>
</TEXT>
</DOC>
