<DOC>
<DOCNO>EP-0629896</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Optical signal processor, method of its control, method of its designing, and method of its production
</INVENTION-TITLE>
<CLASSIFICATIONS>G02B634	G02F1225	G02B6136	G02B612	G02B612	G06E300	G02B628	G02F101	G02B634	G06E300	G02B628	G02B613	G02B6132	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G02B	G02F	G02B	G02B	G02B	G06E	G02B	G02F	G02B	G06E	G02B	G02B	G02B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G02B6	G02F1	G02B6	G02B6	G02B6	G06E3	G02B6	G02F1	G02B6	G06E3	G02B6	G02B6	G02B6	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An optical signal processor according to the 
present invention is an optical circuit of a lattice 

configuration. Its basic circuit structure 
comprises 3 dB directional couplers (9), two optical 

waveguides (1,2) with equal optical path lengths, 
and two optical waveguides (1,2) with different 

optical path lengths (an optical path difference of 
about 1 to 50 mm). Phase controllers (4) for 

performing phase shift are provided on the optical 
waveguides (1,2). The portions with equal optical 

path lengths function as variable directional 
couplers (3), and variable directional couplers (3) 

having arbitrary coupling rates can be constructed 
by changing the phase controllers (4) on the optical 

waveguides with equal optical path lengths. As for 
an adaptive filter (24), there is adopted a 

construction in which a photodetector (20) for 
withdrawing part of output is provided at the output 

port, and a feedback electric wiring (21) for 
feedback control is laid. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NIPPON TELEGRAPH 
&
 TELEPHONE
</APPLICANT-NAME>
<APPLICANT-NAME>
NIPPON TELEGRAPH AND TELEPHONE CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
JINGUJI KANAME
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWACHI MASAO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKIGUCHI KOICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
JINGUJI, KANAME
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWACHI, MASAO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKIGUCHI, KOICHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an optical
signal processor for performing an arbitrary
advanced optical filtering treatment in the fields
of optical communication, optical exchange and
optical computing, as well as a method of
controlling the processor, a method of its
designing, and a method of its production.In recent years, wide attention has been drawn
to optical signal processors capable of filtering
optical signals, as such, in broad bands at high
speeds, without converting them into electric
signals, in the fields of optical communication,
optical exchange and optical computing. In optical
frequency multiplex communication where optical
signals are multiplexed and transmitted, in
particular, optical frequency filters which filter
incoming frequency-multiplexed optical signal
according to different frequencies are parts of
importance.Optical signal processors that have been
reported to attain the above purpose include one of
a transversal type as shown in Fig. 1 (see Japanese
Patent Application Laying-Open No. 212822/1990). 
This type of device is constructed such that
variable directional couplers 3-1 through 3-N are
disposed on the input ports 5, 6 side, optical
signals are distributed to branching waveguides 10-1
through 10-N at arbitrary branching ratios, and the
branched optical signals are combined by a coupling
part composed of N-1 3 dB directional couplers 9-1
to 9-(N-1). On the branching waveguides 10-1
through 10-N are arranged phase controllers 4-1
through 4-N for controlling the phases of the
branched optical signals individually. This type of
device can achieve the desired transmission
characteristics by varying the coupling rates of the
variable directional couplers 3-1 through 3-N, while
varying the amounts of phase shift of the phase
controllers 4-1 to 4-N.According to the above-described circuit, the
functional accuracy of the filter characteristics
can be improved by increasing the number of the
branching waveguides. Increasing the number N of
the branching waveguides for the purpose of
increasing the filter accuracy, however, poses the
problem of the maximum transmittance of the
transmission characteristics becoming small. This
is because the directional coupler is basically a
two-input two-output element, so that the 3 dB
directional couplers 9-1 through 9-(N-1) of the
coupling part have corresponding dummy ports 11-1
through 11-(N-1), from which the optical signals are
partly released.An optical signal processor of an improved
transversal type as shown in Fig 2 (see

</DESCRIPTION>
<CLAIMS>
An N-stage optical signal processor, the N stages
being coupled in series such that the output of one stage

provides the input to a next stage,

   each of the N stages comprising:

two optical waveguides 
(1-1 to 1-N, 2-1 to 2-N);
 and
a directional coupler 
(3-2 to 3-(N+1))
 which couples
together the two optical waveguides at the output of the

respective stage to the two optical waveguides of the next
stage, wherein an optical path difference of the two

optical waveguides in each of the N stages is the same
optical path difference;
wherein a first stage of the N stage optical signal
processor further comprises a further variable directional

coupler 
(3-1)
 which couples an input 
(5,6)
 of the optical
signal processor to the two optical waveguides 
(1-1, 2-1)

of the first stage; and
wherein the variable directional coupler 
(3-(N+1))
 of
the Nth stage provides an output of the optical signal

processor;

   
characterized in that

   the directional coupler 
(3-2 to 3-(N+1))
 has an
amplitude coupling rate which may range between a positive

and negative amplitude coupling rate; and

   each of the N stages comprises at least one phase
controller 
(4-1 to 4-2N)
 for applying a desired phase shift
provided on at least one optical waveguide of the two

optical waveguides.
An optical signal processor as claimed in Claim 1,
 
   
characterized in that

   the directional couplers 
(3-1 to 3-(N+1))
 each
comprise:


two 3 dB directional couplers 
(9-1, 9-2)
 having
amplitude coupling rates which may range between positive

and negative amplitude coupling rates;
two optical waveguides 
(1, 2)
 interposed between the
two 3 dB directional couplers, having one of:


the same optical path length, and
an optical path difference of a half-wave length
from each other; and
a phase controller 
(4x, 4y)
 for applying a desired
phase shift, provided on at least one optical waveguide

of the two optical waveguides interposed between the
two 3dB directional couplers.
An optical signal processor as claimed in claim 1,
characterized in that

   the angular representation 
n
 (-π/2 to π/2) of the
coupling rate of the (N+1) directional couplers, and the

amount of phase shift 
n
 (-π to π) of the N phase
controllers are calculated and set based on the following

recurrence formula:


   wherein the recurrence formula is solved in the
sequence of n=N to n=0, in the first stage of the

recurrence formula (n=N), a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2,
...N), where a
k
 is an expansion coefficient for the 
polynomial representation indicated below which

approximates the desired through port characteristics when
the desired characteristics are to be realized by through

port, b
k
 is an expansion coefficient for the polynomial
indicated below for cross port characteristics to be

obtained from the unitary relationship h(z)h
*
(z) +
f(z)f
*
(z)=1, or conversely, when b
k
 is an expansion
coefficient for the polynomial representation indicated

below which approximates the desired through port
characteristics when the desired characteristics are to be

realized by through port, a
k
 is an expansion coefficient
for the polynomial indicated below for cross port

characteristics to be obtained from the unitary
relationship h(z)h
*
(z) + f(z)f
*
(z)=1, where z is a complex
variable expressed by z=e
jω▵τ
 using the complex angular
frequency ω, j denotes 
-1
, and ▵τ is a delay time
corresponding to the constant optical path difference that

the two optical wavelengths have, defined by the following
formulas:



respectively.
An optical signal processor as claimed in Claim 3,

   
characterized in that

   at least one of the directional couplers is a fixed
directional coupler 
(33-1 to 33-3)
 having a fixed amplitude
coupling rate.
An optical signal processor as claimed in Claim 3,

   
characterized in that

   at least one of the directional couplers is a variable
directional coupler having a variable amplitude coupling

rate. 
An N-stage optical signal processor, the N stages
being coupled in series such that the output of one stage

provides the input to a next stage, each of the N stages
comprising:


two optical waveguides 
(1, 2)
; and
a directional coupler 
(33-1 to 33-3)
 which couples
together the two optical waveguides at the output of the

respective stage and which couples the respective stage to
the two optical waveguides of a next stage;
wherein an optical path difference of the two optical
waveguides in each of the N stages is the same optical path

difference;
wherein a first stage of the N stage optical signal
processor further comprises a further directional coupler

which couples an input of the optical signal processor to
the two optical waveguides of the first stage; and
wherein the variable directional coupler of the Nth
stage provides an output of the optical signal processor;

   
characterized in that

   the directional coupler has an amplitude coupling rate
which may range between a positive and negative amplitude

coupling rate and which is almost constant with respect to
wavelength.
An optical signal processor as claimed in Claim 6,

   
characterized in that

   the directional couplers are variable directional
couplers having approximately constant coupling rates with

respect to wavelength.
An optical signal processor as claimed in Claim 6,

   
characterized in that

   the directional couplers each comprise:

two directional couplers, having amplitude coupling
rates which may range between positive and negative

amplitude coupling rates; and 
two optical waveguides interposed between the two
directional couplers;
wherein the optical path difference between the two
optical waveguides interposed between the two directional

couplers is of the order of wavelength.
An optical signal processor as claimed in Claim 6,

   
characterized in that

   the directional couplers each comprise:

three directional couplers 
(33-1 to 33-3)
 having
amplitude coupling rates which may range between positive

and negative amplitude coupling rates; and
two optical waveguides 
(1, 2)
 interposed by the three
directional couplers, the respective two optical waveguides

at two sites interposed by the three directional couplers
having the same optical path difference;
wherein the optical path difference is of the order of
wavelength.
An optical signal processor as claimed in Claim 7,

   
characterized in that

   the variable directional couplers each comprise:

three directional couplers 
(33-1 to 33-3)
 having
amplitude coupling rates which may range between positive

and negative amplitude coupling rates;
two optical waveguides interposed by the three
directional couplers, the respective two optical waveguides

at two sites interposed by the three directional couplers
having the same optical path difference, the optical path

difference being of the order of wavelength; and
a phase controller 
(4-1 to 4-2N)
 for applying a
desired phase shift is provided on at least one optical

waveguide of the two optical waveguides interposed by the
three directional couplers.
An optical signal processor as claimed in Claim 7,
 
   
characterized in that

   the variable directional couplers each comprise:

four directional couplers having amplitude coupling
rates which may range between positive and negative

amplitude coupling rates;
two optical waveguides interposed by the four
directional couplers, wherein the two optical waveguides at

the input and output sides have the same optical path
difference, the optical path difference being of the order

of wavelength, and wherein the two optical waveguides at a
central part have the same waveguide length; and
a phase controller 
(4-1 to 4-2N)
 for applying a
desired phase shift is provided on at least one optical

waveguide of the two optical waveguides at the center of
the two optical waveguides interposed by the four

directional couplers.
An optical signal processor as claimed in Claim 7,

   
characterized in that

   the variable directional couplers each comprise:

four directional couplers having amplitude coupling
rates which may range between positive and negative

amplitude coupling rates; and
two optical waveguides interposed by the four
directional couplers, wherein the two optical waveguides at

input and output sides have the same optical path
difference, the optical path difference being of the order

of wavelength, and wherein the two optical waveguides at a
central part have the same waveguide length; and
a phase controller 
(4-1 to 4-2N)
 for applying a
desired phase shift is provided on at least one of the two

optical waveguides interposed by the four directional
couplers.
An optical signal processor as claimed in Claim 6 or
7,
 
   
characterized in that

   the angular representation 
n
 (-π/2 to π/2) of the
coupling rate of the directional couplers is calculated and

set based on the following recurrence formula:


   wherein the recurrence formula is solved in the
sequence of n=N to n=0, in the first stage of the

recurrence formula (n=N), a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2,
...N), where a
k
 is an expansion coefficient for the
polynomial representation indicated below which

approximates the desired through port characteristics when
the desired characteristics are to be realized by through

port, b
k
 is an expansion coefficient for the polynomial
indicated below for cross port characteristics to be

obtained from the unitary relationship h(z)h
*
(z) +
f(z)f
*
(z)=1, or conversely, when b
k
 is an expansion
coefficient for the polynomial representation indicated

below which approximates the desired through port
characteristics when the desired characteristics are to be

realized by through port, a
k
 is an expansion coefficient
for the polynominal indicated below for cross port

characteristics to be obtained from the unitary
relationship h(z)h
*
(z) + f(z)f
*
(z)=1, where z is a complex
variable expressed by z=e
jω▵τ
 using the complex angular
frequency 
ω=2π
 (c/λ) (λ=wavelength, c=light velocity), j
denotes 
-1
, and ▵τ is a delay time corresponding to the
constant optical path difference that the two optical

wavelength have, defined by the following formulas: 


respectively.
An optical signal processor as claimed in claim 1,

   
characterized in that

   for each of the N stages, both the two optical
waveguides of at least
 one site are further provided with
amplifying and/or attenuating devices 
(25-1 to 25-2N)

having the same amplification and/or attenuation value.
An optical signal processor as claimed in any one of
claims 1, 3, 6 and 7,

   
characterized in that

   two optical waveguides 
(27, 28)
 capable of
amplification and attenuation are used as the two optical

waveguides, wherein a pumping light source with a
wavelength different from that of an optical signal for

pumping the two optical waveguides is provided on an
optical injection side of the two optical waveguides, and

wherein both of the two optical waveguides have the same
amplification and attenuation values.
An optical signal processor as claimed in Claim 14 or
15,

   
characterized in that

   the angular representation 
n
 (-π/2 to π/2) of the
coupling rate of the directional couplers and the amount of

phase shift 
n
 (-π to π) of the N phase controllers are
calculated and set based on the recurrence formula

mentioned below, and the power amplification and/or
attenuation value γk of the amplifying and/or attenuation

devices provided on the two waveguides is set such that

   (γk is the power amplification and/or attenuation 
value of the entire circuit, and K is the number of the

stages where the amplifying and/or attenuating devices are
provided) is fulfilled



wherein the recurrence formula is solved in the sequence of
n=N to n=0, in the first stage of the recurrence formula

(n=N), a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2, ...N), where a
k
 is an
expansion coefficient for the polynomial representation

indicated below which approximates the desired through port
characteristics when the desired characteristics are to be

realized by through port, b
k
 is an expansion coefficient
for the polynomial indicated below for cross port

characteristics to be obtained from the unitary
relationship h(z)h
*
(z) + f(z)f
*
(z)=1, or conversely, when b
k

is an expansion coefficient for the polynominal
representation indicated below which approximates the

desired through port characteristics when the desired
characteristics are to be realized by through port, a
k
 is
an expansion coefficient for the polynomial indicated below

for cross port characteristics to be obtained from the
unitary relationship h(z)h
*
(z) + f(z)f
*
(z)=1, where z is a
complex variable expressed by z=e
jωΔτ
 using the complex
angular frequency ω=
2
π (c/λ) (λ=wavelength, c=light
velocity), j denotes 
-1
, and ▵τ is a delay time
corresponding to the constant optical path difference that

the two optical wavelengths have, defined by the following
formulas: 



respectively.
An optical signal processor as claimed in any one of
claims 1, 3, 6, 7, 14 and 15,

   
characterized in that

   the optical signal processor further comprises:

a power control part 
(15)
 for controlling the
directional couplers and the phase controllers, and
an operation part 
(16)
 for controlling the power
control part, and for storing a database containing one of:


the recurrence formula for obtaining the coupling
rates of the directional couplers and the amounts of phase

shift of the phase controllers from the desired optical
signal processing characteristics, and
results of calculation obtained using the recurrence
formula.
An optical signal processor as claimed in Claim 17,

   
characterized in that

   the optical signal processor further comprises:

an optical extraction part 
(19-1, 19-2)
 for extracting
a part of an optical signal from the two optical

waveguides, disposed at least at one site;
detectors 
(20-1, 20-2)
 for detecting the respective
optical signals extracted from the optical extraction part

and converting them into electric signals; and
a feedback electric wiring 
(21)
 extending from the
detectors to the operation part for performing feedback

control on the basis of the electric signals detected by
the detectors.
An optical signal processor as claimed in Claim
18,

   
characterized in that

   the optical extraction part 
(19-1, 19-2)
 is disposed 
in at least one of the output ports of the two optical

waveguides.
An optical signal processor as claimed in Claim 18,

   
characterized in that

   the optical signal processor further comprises:

   an optical extraction part 
(19-1 to 19-N)
 for
extracting a part of an optical signal from at least one of

the two optical waveguides, provided at the respective two
optical waveguides at N sites interposed by the directional

couplers.
A method of controlling the optical signal processor
of any one of claims 18, 19 and 20, which comprises

performing feedback control by repeating at certain time
intervals a two-step procedure of


1) having the one or plurality of detectors detect the
amplitude and phase of the optical signal extracted from

the optical extraction part at a single or a plurality of
different frequency points, and
2) having the operation part calculate, based on the
results of detection in 1), the coupling rate of the

directional couplers, the amounts of phase shift of the
phase controllers, and the amplification/attenuation values

of the amplifying/attenuating devices or the optical
waveguides capable of amplification and attenuation by use

of the database stored in the operation part that contains
the recurrence formula for calculation of parameters or the

results of calculation, and transmit for control a control
signal to the control part so that a necessary power is

supplied to make the values of those parameters close to
the desired circuit setting values.
An optical signal processor as claimed in any one of
claims 18, 19 and 20,

   
characterized in that
 
   the optical signal processor further comprises:


a wavelength-variable reference light source for
generating reference light separable from the optical

signal, provided at input ports for the two optical
waveguides to enable reference light to be injected from

one of the input ports; and
a control line provided to control the reference light
source form the operation part.
A method of controlling the optical signal processor
of Claim 22, which comprises performing feedback control by

repeating at certain time intervals a two-step procedure of

1) repeating the procedure of having the operation
part control the reference light source and set the

frequency of reference light, and having the optical
extraction parts and detectors separate and detect only the

reference light component from the optical signal to detect

the amplitude and phase of reference light at each
extraction point, once or a plurality of times for

different frequencies of reference light, and
2) having the operation part calculate, based on the
results of detection of reference light at one or a

plurality of frequency points obtained in Step 1), the
coupling rate of the directional couplers, the amounts of

phase shift of the phase controllers, and the
amplification/attenuation values of the

amplifying/attenuating devices or the optical waveguides
capable of amplification and attenuation by use of the

database stored in the operation part that contains the
recurrence formula for calculation of parameters or the

results of calculation, and transmit for control a control
signal to the control part so that a necessary power is

supplied to make the values of those parameters close to
the desired circuit setting values.
A method of designing a nonfeedback 2-input 2-output
optical signal processor with a lattice structure 

constructed of serially combined basic constituent elements
each comprising two optical waveguides having an optical

path difference corresponding to a delay time, ▵τ, and
directional couplers having positive and negative amplitude

coupling rates provided on one side, or on both sides only
at the first stage, of the two waveguides for coupling

together the two optical waveguides, wherein when desired
circuit characteristics f
0
(z) for cross port are given, the
coupling rate, an unknown parameter of the circuit, of the

directional couplers having positive and negative amplitude
coupling rates which constitute the respective basic

constituent elements can be calculated in accordance with
the following procedure so that the cross port output

characteristics satisfy the desired circuit
characteristics:


(1) Approximating f
0
(z) by the polynominal for z,


where z is a complex variable expressed by z=e
jω▵τ
 using the
complex angular frequency 
ω=2π
 (c/λ) (λ=wavelength, c=light
velocity), j denotes 
-1
, and ▵τ is a delay time
corresponding to the constant optical path difference that

the two optical wavelengths have;
(2) Normalizing the real expansion coefficient b
k
 for
f(z) so that f(z) satisfies


(3) Obtaining from f(z) the circuit characteristics
for through port,



(a
k
 is a real expansion coefficient), by utilizing the
relationship h(z)h
*
(z)=1-f(z)f
*
(z), to complete a 2 x 2
unitary matrix S representing the entire circuit

characteristics 


where the subscript * is defined by


and
the superscript * denotes a complex conjugate; and
(4) Decomposing the entire circuit characteristics
matrix S into the form S=S
N
S
N-1
...S
2
S
1
S
0
 by use of the
unitary feature of the circuit characteristics matrix S
n
 of
each basic constituent element, to obtain the circuit

parameters, such that the following recurrence formula is
solved in the sequence of from n=N to n=0, whereby the

angular representation 
n
 (-π/2 to /π2) of the coupling
rate of the directional couplers having positive and

negative amplitude coupling rates that constitute the
respective basic constituent elements is calculated:



provided that a
0
[n]
, b
0
[n]
 is a real expansion coefficient in
S
[n]
=S
n
S
n-1
...S
2
S
1
S
0
, and in the initial stage of the
recurrence formula (n=N) a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2,
...,N); and
(5) Recalculating the angular representation 
n
 of the
coupling rate of the directional coupler obtained in step

(4) as circuit parameters for realization of an optical
circuit, such as core size, intercore distance of the

coupling portion of the directional coupler, and coupling
length.
A method of designing a nonfeedback 2-input 2-output
optical signal processor with a lattice structure

constructed of serially combined basic constituent elements 
each comprising two optical waveguides having an optical

path difference corresponding to a delay time, ▵τ, and
directional couplers having positive and negative amplitude

coupling rates provided on one side (or on both sides only
at the first stage) of the two waveguides for coupling

together the two optical waveguides, wherein when desired
circuit characteristics h
0
(z) for through port are given,
the coupling rate, an unknown parameter of the circuit, of

the directional couplers having positive and negative
amplitude coupling rates which constitute the respective

basic constituent elements can be calculated in accordance
with the following procedure so that the cross port output

characteristics satisfy the desired circuit
characteristics:


(1) Approximating h
0
(z) by the polynomial for z,


where z is a complex variable expressed by z=e
jωΔτ
 using the
complex angular frequency ω=
2
π (c/λ) (λ=wavelength, c=light
velocity), j denotes 
-1
, and ▵τ is a delay time
corresponding to the constant optical path difference that

the two optical wavelengths have;
(2) Normalizing the real expansion coefficient a
k
 for
h(z) so that h(z) satisfies


(3) Obtaining from h(z) the circuit characteristics
for cross port,



(b
k
 is a real expansion coefficient), by utilizing the
relationship f(z)f
*
(z)=1-h(z)h
*
(z), to complete a 2 x 2
unitary matrix S representing the entire circuit

characteristics 


where the subscript * is defined by


and the
superscript * denotes a complex conjugate; and
(4) Decomposing the entire circuit characteristics
matrix S into the form S=S
N
S
N-1
...S
2
S
1
S
0
 by use of the
unitary feature of the circuit characteristics matrix S
n
 of
each basic constituent element, to obtain the circuit

parameters, such that the following recurrence formula is
solved in the sequence of from n=N to n=0, whereby the

angular representation 
n
 (-π/2 to π/2) of the coupling
rate of the directional couplers having positive and

negative amplitude coupling rates that constitute the
respective basic constituent elements is calculated:



provided that a
0
[n]
, b
0
[n]
 is a real expansion coefficient in
S
[n]
=S
n
S
n-1
...S
2
S
1
S
0
, and in the initial stage of the
recurrence formula (n=N) a
k
[N]
-a
x
, b
k
[N]
=b
k
 (k=0, 1, 2...,N);
and
(5) Recalculating the angular representation 
n
 of the
coupling rate of the directional coupler obtained in step

(4) as circuit parameters for realization of an optical
circuit, such as core size, intercore distance of the

coupling portion of the directional coupler, and coupling
length.
A method of designing an optical signal processor
having a structure comprising two optical waveguides, and

N+1 directional couplers having positive and negative
amplitude coupling rates which couple together the two 

optical waveguides at N+1 different sites, said respective
two optical waveguides at N sites interposed by the N+1

directional couplers having a constant optical path
difference, and a phase controller for applying a desired

phase shift being provided on at least one of the two
optical waveguides disposed at each of the N sites,

   
characterized in that

   when desired circuit characteristics f
0
(z) for cross
port are given, the coupling rate of the directional

coupler having positive and negative amplitude coupling
rates which constitutes each basic constituent element, and

the amount of phase shift of the phase controller, both
being unknown parameters of the circuit, can be calculated

in accordance with the following procedure so that the
cross port output characteristics satisfy the desired

circuit characteristics:

(1) Approximating f
0
(z) by the polynomial for z,


where z is a complex variable expressed by z=e
jωΔτ
 using the
complex angular frequency 
ω=2π
 (c/λ) (λ=wavelength, c=light
velocity), j denotes 
-1
, and ▵τ is a delay time
corresponding to the constant optical path difference that

the two optical wavelengths have;
(2) Normalizing the complex expansion coefficient b
k

for f(z) so that f(z) satisfies

(3) Obtaining from f(z) the circuit characteristics
for through port,



(a
k
 is a complex expansion coefficient), by utilizing the
relationship h(z)h
*
(z)=1-f(z)f
*
(z), to complete a 2 x 2
unitary matrix S representing the entire circuit

characteristics 


where the subscript * is defined by


and the superscript * denotes a complex conjugate;
(4) Decomposing the entire circuit characteristics
matrix S into the form S=S
N
S
N-1
...S
2
S
1
S
0
 by use of the
unitary feature of the circuit characteristics matrix S
n
 of
each basic constituent element, to obtain the circuit

parameters, such that the following recurrence formula is
solved in the sequence of from n=N to n=0, whereby the

angular representation n (-π/2 to π/2) of the coupling
rate of the directional coupler having positive and

negative amplitude coupling rates that constitutes each
basic constituent element, and the amount of phase shift,

n (-π to π), of the phase controller are calculated:


provided that a
0
[n]
, b
0
[n]
 is a complex expansion coefficient
in S
[n]
=S
n
S
n-1
...S
2
S
1
S
0
, and in the initial stage of the
recurrence formula (n=N) a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2,...,N);
and
(5) Recalculating the angular representation 
n
 (-π/2
to π/2) of the coupling rate of the directional coupler and

the amount of phase shift, n (-π to π), of the phase
controller obtained in step (4) as circuit parameters for

realization of an optical circuit, such as core size, 
intercore distance of the coupling portion of the

directional coupler, coupling length, size of a heater
forming the phase controller, and current applied to the

heater.
A method of designing an optical signal processor
having a structure comprising two optical waveguides, and

N+1 directional couplers having positive and negative
amplitude coupling rates which couple together the two

optical waveguides at N+1 different sites, said respective
two optical waveguides at N sites interposed by the N+1

directional couplers having a constant optical path
difference, and a phase controller for applying a desired

phase shift being provided on at least one of the two
optical waveguides disposed at each of the N sites,

   
characterized in that

   when desired circuit characteristics h
0
(z) for through
port are given, the coupling rate of the directional

coupler having positive and negative amplitude coupling
rates which constitutes each basic constituent element, and

the amount of phase shift of the phase controller, both
being unknown parameters of the circuit, can be calculated

in accordance with the following procedure so that the
cross port output characteristics satisfy the desired

circuit characteristics:

(1) Approximating h
0
(z) by the polynomial for z,


where z is a complex variable expressed by z=e
jωΔτ
 using the
complex angular frequency ω=2π (c/λ) (λ=wavelength, c=light

velocity), j denotes 
-1
, and ▵τ is a delay time
corresponding to the constant optical path difference that

the two optical wavelengths have;
(2) Normalizing the complex expansion coefficient a
k

for h(z) so that h(z) satisfies

(3) Obtaining from h(z) the circuit characteristics 
for cross port,



(b
k
 is a complex expansion coefficient), by utilizing the
relationship f(z)f
*
(z)=1-h(z)h
*
(z), to complete a 2 x 2
unitary matrix S representing the entire circuit

characteristics


where the subscript * is defined by


and the superscript * denotes a complex conjugate;
(4) Decomposing the entire circuit characteristics
matrix S into the form S= S
[n]
=S
N
S
N-1
...S
2
S
1
S
0
 by use of the
unitary feature of the circuit characteristics matrix S
n
 of
each basic constituent element, to obtain the circuit

parameters, such that the following recurrence formula is
solved in the sequence of from n=N to n=0, whereby the

angular representation n (-π/2 to π/2) of the coupling
rate of the directional coupler that constitutes each basic

constituent element, and the amount of phase shift, n (-π
to π), of the phase controller are calculated:



provided that a
0
[n]
, b
0
[n]
 is a complex expansion coefficient
in S
[n]
=S
n
S
n-1
...S
2
S
1
S
0
, and in the initial stage of the
recurrence formula (n=N) a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2,...,N);
and
(5) Recalculating the angular representation 
n
 (-π/2
to π/2) of the coupling rate of the directional coupler and 

the amount of phase shift, n (-π to π), of the phase
controller obtained in step (4) as circuit parameters for

realization of an optical circuit, such as core size,
intercore distance of the coupling portion of the

directional coupler, coupling length, size of a heater
forming the phase controller, and current applied to the

heater.
A method of producing an optical signal processor
having a structure comprising two optical waveguides, and

N+1 directional couplers having positive and negative
amplitude coupling rates which couple together the two

optical waveguides at N+1 different sites, said respective
two optical waveguides at N sites interposed by the N+1

directional couplers having a constant optical path
difference,
characterized by

having a designing step such that when desired circuit
characteristics f
0
(z) (h
0
(z)) for cross port (through port)
are given, the circuit parameters necessary for the

production are calculated in accordance with the following
procedure so that the cross port (through port) output

characteristics satisfy the desired circuit
characteristics:


(1) Approximating the desired characteristics f
0
(z)
(h
0
(z)) by the polynomial for z,


where z is a complex variable expressed by z=e
jω▵τ
 using the
complex angular frequency 
ω=2π
 (c/λ) (λ=wavelength, c=light
velocity), j denotes 
-1
, and ▵τ is a delay time
corresponding to the constant optical path difference that

the two optical wavelengths have;
(2) Normalizing the real expansion coefficient b
k
 (a
k
)
for f(z) (h(z)) so that the best approximation polynominal 

f(z) (h
0
(z)) satisfies

(3) Obtaining from the normalized best approximation
polynominal f(z) (h(z)) the circuit characteristics for

through port (cross port),


by utilizing the relationship h(z)h
*
(z)+f(z)f
*
(z)=1, to
complete a 2 x 2 unitary matrix S representing the entire

circuit characteristics


where the subscript * is defined by


and the superscript * denotes a complex conjugate;
(4) Decomposing the entire circuit characteristics
matrix S into the form S=S
N
S
N-1
...S
2
S
1
S
0
 by use of the
unitary feature of the circuit characteristics matrix S
n
 of
each basic constituent element, to obtain the circuit

parameters, such that the following recurrence formula is
solved in the sequence of from n=N to n=0, whereby the

angular representation n (-n/2 to π/2) of the coupling
rate of the directional coupler that constitutes each basic

constituent element is calculated:


provided that a
0
[n]
, b
0
[n]
 is a real expansion coefficient in
S
[n]
=S
n
S
n-1
...S
2
S
1
S
0
, and in the initial stage of the
recurrence formula (n=N) a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2,...,N);
(5) Recalculating the angular representation 
n
 of the
coupling rate of the directional coupler obtained in step

(4) as circuit parameters for realization of an optical 
circuit, such as core size, intercore distance of the

coupling portion of the directional coupler, and coupling
length; and
(6) Producing said two optical waveguides and said
variable directional coupler on the basis of the specific

parameters obtained in step (5) and obtaining said optical
signal processor by combining said two optical waveguides

and said variable directional coupler.
A method of producing an optical signal processor
having a structure comprising two optical waveguides, and

N+1 directional couplers having positive and negative
amplitude coupling rates which couple together the two

optical waveguides at N+1 different sites, said respective
two optical waveguides at N sites interposed by the N+1

directional couplers having a constant optical path
difference, and a phase controller for applying a desired

phase shift being provided on at least one of the two
optical waveguides disposed at each of the N sites,

   
characterized by

   having a designing step such that when desired
circuit characteristics f
0
(z) (h
0
(z)) for cross port
(through port) are given, unknown circuit parameters

necessary for the production are calculated in accordance
with the following procedure so that the cross port

(through port) output characteristics satisfy the desired
circuit characteristics:


(1) Approximating the desired characteristics f
0
(z)
(h
0
(z)) by the polynomial for z,


where z is a complex variable expressed by z=e
jω▵τ
 using the
complex angular frequency 
ω=2π
 (c/λ) (λ=wavelength, c=light
velocity), j denotes 
-1
, and ▵τ is a delay time
corresponding to the constant optical path difference that

the two optical wavelengths have; 
(2) Normalizing the complex expansion coefficient b
k

(a
k
) for f(z) (h(z)) so that the best approximation
polynomial f(z) (h(z)) satisfies


(3) Obtaining from the normalized best approximation
polynomial f(z) (h(z)) the circuit characteristics for

through port (cross port),


by utilizing the relationship h(z)h
*
(z)+f(z)f
*
(z)=1, to
complete a 2 x 2 unitary matrix S representing the entire

circuit characteristics


where the subscript * is defined by


and the superscript * denotes a complex conjugate;
(4) Decomposing the entire circuit characteristics
matrix S into the form S=S
N
S
N-1
...S
2
S
1
S
0
 by use of the
unitary feature of the circuit characteristics matrix S
n
 of
each basic constituent element, to obtain the circuit

parameters, such that the following recurrence formula is
solved in the sequence of from n=N to n=0, whereby the

angular representation n (-π/2 to π/2) of the coupling
rate of the directional coupler that constitutes each basic

constituent element and the amount of phase shift, n (-π
to π), of the phase controller are calculated:



provided that a
0
[n]
, b
0
[n]
 is a complex expansion coefficient 
in S
[n]
=S
n
S
n-1
...S
2
S
1
S
0
, and in the initial stage of the
recurrence formula (n=N) a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2,...,N);
(5) Recalculating the angular representation n (-π/2
to π/2) of the coupling rate of the directional coupler and

the amount of phase shift, n (-π to π), of the phase
controller obtained in Step (4) as circuit parameters for

realization of an optical circuit, such as core size,
intercore distance of the coupling portion of the

directional coupler, coupling length, size of a heater
forming the phase controller, and current applied to the

heater; and
(6) Producing said two optical waveguides and said
variable directional coupler on the basis of the specific

parameters obtained in step (5) and obtaining said optical
signal processor by combining said two optical waveguides

and said variable directional coupler.
A method of producing an optical signal processor as
claimed in Claim 28 or 29, which further includes a circuit

parameter adjusting step for correcting preparation errors
for the circuit parameters of the resulting optical signal

processor by repeating a plurality of times the following
adjusting procedure:


(1) Obtaining the through port characteristics h(ω
n
)
and the cross port characteristics f(ω
n
) by measuring the
amplitude and phase characteristics of the resulting signal

processor for different frequencies ωn (n=0, 1, 2,...,N),
and obtaining the expansion coefficients a
k
 and b
k
 by
solving the following simultaneous equations:



where j denotes 
-1
, and ▵τ is a delay time corresponding
to the constant optical path difference that the two

optical wavelengths have, and
 
   Calculating, based on the expansion coefficients a
k

and b
k
 obtained, the angular representation n of the
coupling rate of the directional coupler of the optical

signal processor prepared, and the amount of phase shift,
n, of the phase controller thereof



provided that in the initial stage of the above recurrence
formula (n=N) a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2,...,N); and
(2) Adjusting the amount of phase shift of a phase
controller constituting the variable directional coupler,

and the amount of phase shift of a phase controller on the
two optical waveguides with different optical path lengths

so as to make small the differences of the angular
representation n of the coupling rate of the directional

coupler and the amount of phase shift, n, of the phase
controller from the desired values of circuit parameters.
A method of producing an optical signal processor as
claimed in Claim 28 or 29, which further includes a circuit

parameter adjusting step for correcting preparation errors
for the circuit parameters of the resulting optical signal

processor by repeating a plurality of times the following
trimming procedure:


(1) Obtaining the through port characteristics h(ωn)
and the cross port characteristics f(ωn) by measuring the

amplitude and phase characteristics of the resulting signal
processor for different frequencies ωn (n=0, 1, 2,...,N),

and obtaining the expansion coefficients a
k
 and b
k
 by 
solving the following simultaneous equations:



where j denotes 
-1
, and ▵τ is a delay time corresponding
to the constant optical path difference that the two

optical wavelengths have, and

   Calculating, based on the expansion coefficients a
k

and b
k
 obtained, the angular representation n of the
coupling rate of the directional coupler of the optical

signal processor prepared, and the amount of phase shift,
n, of the phase controller thereof



provided that in the initial stage of the above recurrence
formula (n=N) a
k
[N]
=a
k
, b
k
[N]
=b
k
 (k=0, 1, 2,...,N); and
(2) Adjusting the coupling rate of the directional
coupler and the amount of phase shift of the phase

controller by laser heating the directional coupler and
part of the two optical waveguides, so as to make small the

differences of the measured angular representation n of
the coupling rate of the directional coupler and the

measured amount of phase shift, n, of the phase controller
from the desired values of circuit parameters.
A method of producing an optical signal processor as
claimed in Claim 28 or 29, which further includes a 

trimming step for eliminating the polarization dependency
of the resulting optical signal processor by repeating a

plurality of times the following polarization trimming
procedure:


(1) Forming a stress imparting film, which produces

birefringence, on the directional coupler and part of one
or both of the two optical waveguides with different

optical path lengths;
(2) Obtaining the through port characteristics h(ωn)
and the cross port characteristics f(ωn) by measuring the

amplitude and phase responses of the resulting signal
processor to different frequencies ωn (n=0, 1, 2,...,N) in

connection with TE and TM polarizations, and obtaining the
expansion coefficients a
k;m
 and b
k;m
 with respect to TE and
TM polarizations by solving the following simultaneous

equations:


where j denotes 
-1
, and ▵τ is a delay time corresponding
to the constant optical path difference that the two

optical wavelengths have and m=TE, TM, and

   Calculating, based on the expansion coefficients a
k;m

and b
k;m
 obtained with respect to TE and TM polarizations,
the angular representation 
n;m
 of the coupling rate of the
directional coupler of the resulting optical signal

processor with respect to TE and TM polarizations, and the
amount of phase shift, 
n;m
, of the phase controller thereof


provided that in the initial stage of the above recurrence
formula (n=N) a
k;m
[N]
=a
k;m
, b
k;m
[N]
=b
k;m
 (k=0, 1, 2,...,N); and
(3) Performing a step for removing the stress
imparting film formed in Step (1), so as to make small the

differences of the measured angular representation 
n;m
 of
the coupling rate of the directional coupler and the

measured amount of phase shift, 
n;m
, of the phase
controller, with respect to TE and TM polarizations, from

the desired values of circuit parameters.
</CLAIMS>
</TEXT>
</DOC>
