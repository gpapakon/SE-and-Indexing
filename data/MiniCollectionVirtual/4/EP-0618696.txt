<DOC>
<DOCNO>EP-0618696</DOCNO> 
<TEXT>
<INVENTION-TITLE>
In-circuit testing of components
</INVENTION-TITLE>
<CLASSIFICATIONS>G01R31317	G01R313185	G01R3128	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01R	G01R	G01R	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01R31	G01R31	G01R31	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method of testing a data line interface circuit 
having a current sourcing stage, including the steps of: 

placing the circuit in a no-data state, driving the stage 
with a non-data reference signal derived from an internal 

stage having a characteristic similar to the current 
sourcing stage, and monitoring the output for a signal 

consistent with a functional current sourcing stage. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
TEXAS INSTRUMENTS INC
</APPLICANT-NAME>
<APPLICANT-NAME>
TEXAS INSTRUMENTS LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
TEXAS INSTRUMENTS INCORPORATED
</APPLICANT-NAME>
<APPLICANT-NAME>
TEXAS INSTRUMENTS LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
FATTORI FRANK
</INVENTOR-NAME>
<INVENTOR-NAME>
FATTORI, FRANK
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to in-circuit testing and in particular to the in-circuit testing
of semiconductor components, for example, the driver transistors that form part of line
interface circuits.In many electronic systems it is required to transfer data between two pieces of
equipment, which are often at different locations. This data transfer is usually achieved by
means of a dedicated cable connecting the two pieces of equipment. In certain instances
the cable can be quite long, for example, 700 metres and in order to ensure the reliability
of the data transfer specialised line driver and receiver circuits are used at each end of the
cable. In order to simplify the connection of equipment from different manufacturers,
standards for the signal transmission along the cables have been adopted which define the
electrical characteristics of the line driver and receiver circuits. Examples of these
standards are EIA-RS232, EIA-RS432 and EIA-RS422.Taking the standard EIA-RS232 as an example, the output voltage of the data transmitter
must be more negative than -5 volts for a logic 1 to be deduced (marking state) and more
positive than +5 volts for a logic 0 (spacing state). When no data is being sent, the output
of the transmitter is in the marking state, that is to say at a voltage more negative than -5
volts.Typically, data transmission and reception is achieved by the transmission of signals
representative of logic 1 and logic 0 respectively.Line interface circuits include the line drivers and receivers and are susceptible to failures
such as those induced by shorting together of two conductors within a cable or electrical
overstress. Particularly vulnerable are the output driver stage transistors of the driver and
the input transistors of the receiver. In a typical driver arrangement, for example, there
will be two output driver transistors arranged in a push/pull configuration, with a high
sided driver to pull the driven line up to or above the spacing state voltage and a low side
driver to pull the driven line down to below the marking state voltage. It is essential to be able to test line interface circuits to
ensure their functionality. The common form of test is the
loop back test which can be performed by removing the
connection to the line from the interface and replacing it
with another connector in which the driver or drivers in the
interface are directly connected to an associated line
receiver or receivers. In the test, data is sent from a
line driver and its correct receipt by a
</DESCRIPTION>
<CLAIMS>
A method of testing a current sourcing stage including a
device under test (38) including the steps of:


driving the stage with a signal derived from a reference
stage (61), said reference stage including a reference device

(77, 1002)having a characteristic similar to a characteristic of the device under
test (38) such that said driving signal depends thereon,
comparing an output of the current sourcing stage, as
driven, with a reference signal defined such that said

comparison, for a known to be good reference device
(77, 1002), indicates whether said characteristic of the

device under test (38) is acceptable.
A method of testing a line interface circuit having a
current sourcing stage using the method of claim 1.
A method of testing as claimed in claim 2 wherein the
line driver has a transmitter and receiver pair operable in a

loop back mode, in which, if the test is successful, a data
signal presented at the input of the transmitter is output at

the output of the receiver, and the testing comprises
comparing data at the output of the receiver with that

presented at the input of the transmitter.
A method as claimed in claim 2 or claim 3, wherein the
said reference signal from said reference stage is a non-data

reference signal, said current sourcing stage has a data
terminal (Y) for applying data to the line and the method

comprises placing the line interface circuit in a state
during testing in which no data is transmitted from the data

terminal. 
A method as claimed in claim 4, wherein said current
sourcing stage includes a bipolar transistor (38).
A method as claimed in claim 5, wherein said reference
signal is a base current injected into said transistor (38).
A method as claimed in claim 6, wherein the reference
signal from said reference stage is switched between two

different current levels such that the monitored output of
the current sourcing stage toggles.
A method as claimed in any one of claims 5 to 7, wherein
said characteristic is current gain.
A method as claimed in claim 4, wherein said current
sourcing stage includes a field effect transistor.
A method as claimed in any one of claims 4 to 9, wherein
the line interface circuit has a current sinking stage (37),

the method including the step of:

comparing the stage output of the current sinking stage
with a reference voltage to monitor whether that output is

substantially pulled down to the marking state level.
A method as claimed in claim 10, wherein said reference
voltage is switched either side of said marking state level.
A method as claimed in claim 11, wherein said reference
voltage is switched plus and minus one forward biased base

emitter junction voltage with respect to said marking state
level.
A method as claimed in any one of claims 4 to 12,
wherein said circuit has a differential input stage including 

first and second input transistors (80, 81) connected in a
first mode of operation, the method including the steps of:


disabling the differential input stage to differential
input,
switching said first transistor on and said second
transistor off, said first transistor being in a second mode

of operation, and
monitoring stage output (Z) of the differential input
stage for consistency with a data signal that would cause

said first transistor to be on and said second transistor to
be off in said first mode of operation.
A method as claimed in claim 13, wherein said
differential input stage is a differential pair, said stage

being disabled to differential input by the step of switching
off a commonly connected bias.
A method as claimed in claim 14, wherein said first
transistor is turned on by the step of applying a separate

bias thereto.
A method as claimed in claim 15, wherein said separate

bias is alternately applied to said first and second
transistors (80, 81) to provide a toggling output.
A method as claimed in claim 16, wherein bias control
signals (L, R) are derived from a current sourcing stage test

and a current sinking stage test and including the step of
monitoring output to confirm all three tests.
A testable current sourcing stage comprising:

a device under test (38),
a reference stage (61) for providing a driving signal to
the device under test, said reference stage including a 

reference device (77,1002) having a characteristic similar to
a characteristic of the device under test such that said driving signal depends

thereon, and
means (63, 64) for comparing an output of the current
sourcing stage, as driven, with a reference signal defined

such that said comparison, for a known to be good reference
device (77,1002), indicates whether said characteristic of

the device under test (38) is acceptable.
A line interface circuit having a testable current
sourcing stage as claimed in claim 18.
A line interface circuit as claimed in claim 19, wherein
the said reference signal from said reference stage is a non-data

reference signal, said current sourcing stage has a data
terminal (Y) for applying data to the line and the line

interface circuit is arranged to have a state during testing
in which no data is transmitted from the data terminal.
A line interface circuit as claimed in claim 20, wherein
said current sourcing stage includes a bipolar transistor

(38).
A line interface circuit as claimed in claim 21, wherein
said reference signal from said reference stage is connected

to be injected as a base current into said transistor (38).
A line interface circuit as claimed in claim 22, wherein
the circuit is arranged to switch the reference signal from

the reference stage between two different current levels such
that the monitored output of the current sourcing stage

toggles. 
A line interface circuit as claimed in any one of claims
20 to 22, wherein said characteristic is current gain.
A line interface circuit as claimed in claim 20, wherein
said current sourcing stage includes a field effect

transistor.
A line interface circuit as claimed in any one of claims
20 to 25 comprising a current sinking stage (37) and

   means (301) for comparing the stage output of the
current sinking stage with a reference voltage to monitor

whether that output is substantially pulled down to the
marking state level.
A line interface circuit as claimed in claim 26 arranged
to switch said reference voltage either side of said marking

state level.
A line interface circuit as claimed in claim 27 arranged
to switch said reference voltage plus and minus one forward

biased base emitter junction voltage with respect to said
marking state level.
A line interface circuit as claimed in any one of claims
20 to 28 comprising


a differential input stage including first and second
input transistors (80, 81) connected in a first mode of

operation,
means (83) for disabling the differential input stage to
differential input,
means (88, 89) for switching said first transistor on
and said second transistor off, said first transistor then

being in a second mode of operation, and 
means for monitoring stage output (Z) of the
differential input stage for consistency with a data signal

that would cause said first transistor to be on and said
second transistor to be off in said first mode of operation.
A line interface circuit as claimed in claim 29, wherein
said differential input stage is a differential pair, and

said means (83) for disabling being arranged to switch off a
commonly connected bias.
A line interface circuit as claimed in claim 30, wherein
said means for switching said first transistor on is arranged

to apply a separate bias thereto.
A line interface circuit as claimed in claim 31, wherein
said means for switching said first transistor on and said

second off is arranged to apply said separate bias
alternately to said first and second transistors (80, 81) to

provide a toggling output.
A line interface circuit as claimed in claim 32, wherein
said means for switching said first transistor on and said

second transistor off is arranged to apply bias control
signals (L, R) derived from a current sourcing stage test and

a current sinking stage test and the circuit comprises means
for monitoring output to confirm all three tests.
A line interface circuit as claimed in any one of claims
19 to 33 comprising electrostatic discharge protection

networks (33). 
A line interface test circuit as claimed in any one of
claims 19 to 34 wherein the line driver has a transmitter and

receiver pair operable in a loop back mode, in which, if the
test is successful, a data signal presented at the input of

the transmitter is output at the output of the receiver.
A testable current sourcing stage or a line interface
circuit as claimed in any one of claims 18 to 35 wherein the

reference stage (61) comprises

a bipolar reference transistor (1002) having its
collector current established by a current generator

arrangement (1001),
an operational amplifier connected to compare the
collector voltage with a bias voltage and providing an

output, and
a MOS transistor (1000) having its gate connected to
receive the output of operational amplifier and channel

connected between the base of the bipolar reference
transistor (1002) and terminal (1004) providing the reference

signal provided by the reference stage (61).
</CLAIMS>
</TEXT>
</DOC>
