<DOC>
<DOCNO>EP-0648047</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for forming a video signal using motion estimation and signal paths with different interpolation processing
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N544	H04N701	H04N726	H04N701	H04N544	H04N726	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N5	H04N7	H04N7	H04N7	H04N5	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In motion compensated field rate upconversion systems intermediate fields of a 
television picture, not present at the input (I), are calculated by means of motion 

compensated interpolation. A typical application is conversion between 50 Hz and 
100 Hz television signals for display flicker reduction. In principle, every pixel in 

the intermediate fields can be the direct output of a motion compensated interpolator 
(MCI). In practice, however, there will always be areas of the picture where 

the motion is too fast or too complex to be estimated correctly.
 

According to the invention, the final output (O) is in fact the result of a soft switch 
(SSW) or fade between the motion compensated interpolation (MCI) and a fallback 

mode (FFI), controlled by a measure of confidence (CF) in the reliability of the estimated 
motion vector. Advantageously, the confidence measure includes the following 

two components: a 'basic confidence measure' which reflects the error 
(BME) in the motion measurement, and a measure based on the speed of movement 

(MVX, MVY). 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
THOMSON MULTIMEDIA SA
</APPLICANT-NAME>
<APPLICANT-NAME>
THOMSON MULTIMEDIA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BOLENDER NADINE
</INVENTOR-NAME>
<INVENTOR-NAME>
HACKETT ANDREW
</INVENTOR-NAME>
<INVENTOR-NAME>
KERDRANVAT MICHEL
</INVENTOR-NAME>
<INVENTOR-NAME>
KNEE MICHAEL
</INVENTOR-NAME>
<INVENTOR-NAME>
BOLENDER, NADINE
</INVENTOR-NAME>
<INVENTOR-NAME>
HACKETT, ANDREW
</INVENTOR-NAME>
<INVENTOR-NAME>
KERDRANVAT, MICHEL
</INVENTOR-NAME>
<INVENTOR-NAME>
KNEE, MICHAEL
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method and to an apparatus
for forming a video signal using motion estimation and
signal paths with different interpolation processing.The invention described here is part of a motion compensated
field rate upconversion system, where intermediate fields of
a television picture, not present at the input, are calculated
by means of motion compensated interpolation. A typical
application is conversion between 50Hz and 100Hz television
signals for display flicker reduction.US-A-4 967 271 discloses a television scan line doubler
wherein pixel values are interpolated controlled by a motion
detector. The motion detector signal switches between two
different interpolation modes which each represent a similar
interpolation quality. The field differences for several
horizontally adjacent pixels are taken into account for generating
the motion detector signal.In Signal Processing of HDTV, II; 30 August - 1 September
1989; Turin, IT; pages 649 - 655, Haghiri et al., 'A Motion
Compensated Field Rate Conversion Algorithm', a motion compensated
field rate upconversion for an HDMAC receiver is
described wherein a fall-back branch is included.
A video output signal is formed from a video input signal using signal paths with different
interpolation processing, using motion compensated interpolation means receiving the video input
signal and motion information extractor means which extract motion information from the
transmitted video input signal data stream. The motion
estimation is carried out at transmitter side and corresponding
motion vectors are transferred to the receiver, together
with an 80/40/20ms mode information. In 80ms mode
that is used for stationary picture content frame repetition
is used for the upconversion. In 40ms mode, always a motion
compensated upconversion using the transmitted motion vectors
is carried out in the receiver. In the 20ms mode, always
a fallback interpolation is performed in the receiver
upconversion. It is one object of the invention to disclose a method of
selecting an interpolation mode in relation to a confidence
measurement of the related motion vector. This object is
achieved by the method disclosed in claim 1.It is a further object of the invention to disclose an apparatus,
which utilises the inventive method. This object is
achieved by the apparatus disclosed in claim 9.
In principle, every pixel in the intermediate fields can be
the direct output of a motion compensated interpolator. In
practice, however, there will always be areas of the
</DESCRIPTION>
<CLAIMS>
Method for forming a video output signal (O) from a video
input signal (I) using motion estimation (ME) and signal

paths with different interpolation processing comprising
a motion compensated interpolation (MCI) in one signal

path and a further kind of interpolation (FFI) in the
other signal path, wherein the output signals of said

signal paths are combined (CB, SSW) in order to form said
video output signal (O), 
characterised in that
 said further
kind of interpolation is a fallback interpolation (FFI) for

such cases where the motion is too fast or too complex to
be estimated and that the output signals of said signal

paths are combined in relation to a measure of confidence
(CF) which is derived from a pixel block based minimum

motion estimation error (BME) of the input video signal
(I).
Method according to claim 1, wherein said measure of confidence
(CF) is further derived from the value of a pixel

block motion vector or from the values of the horizontal
(MVX) and vertical (MVY) components of said pixel block

motion vector.
Method according to claim 1 or 2, wherein the values of
said motion estimation error (BME) pass through two-dimensional

rank order filter means (ROFI), in particular
a median filter, before being used to form (CB) said

measure of confidence (CF).
Method according to claim 2 or 3, wherein the values of
said pixel block motion vector or its components (MVX,

MVY) pass through median filter means (MFI1, MFI2) before
being used to form said measure of confidence (CF).
Method according to any of claims 1 to 4, wherein the
values or pre-processed values of said motion estimation

error (BME) and/or said pixel block motion vector or its 
components (MVX, MVY) pass through limiting filter means

(L1, L2, L3) before being used to form said measure of
confidence (CF).
Method according to any of claims 1 to 5, wherein from
the values or pre-processed values of said motion estimation

error (BME) and/or said pixel block motion vector or
its components (MVX, MVY) the minimum is taken, or these

values are multiplied, in order to form said measure of
confidence (CF).
Method according to any of claims 1 to 6, wherein for deriving
said measure of confidence (CF) law memory means

are used and wherein in case of specific picture data
characteristics, e.g. camera or film mode, different laws

are selected or downloaded into the law memories.
Method according to any of claims 1 to 7, wherein the
chrominance components are handled by a separate measure

of confidence in order to form the respective
video output signal using especially designed laws.
Apparatus for forming a video output signal (O) from a
video input signal (I) using signal paths with different

interpolation processing, wherein the output signals of
said signal paths are combined (CB, SSW) in order to form

said video output signal, said apparatus including:

motion compensated interpolation means (MCI) receiving
said video input signal (I);
fallback interpolation means (FFI) for such video input
signals where the motion is too fast or too complex to be

estimated, said fallback interpolation means receiving
said input video signal (I);
motion estimation means (ME) which calculate from said
video input signal (I) a pixel block based minimum motion

estimation error (BME), or
motion information extractor means (ME) which extract

from the transmitted video input signal data stream a 
pixel block based minimum motion estimation error (BME);
combining means (CB, SSW) which provide pixel values for
said video output signal (O), wherein the output signals

of said motion compensated interpolation means (MCI) and
said fallback interpolation means (FFI) are mixed in relation

to a measure of confidence value (CF) which is derived
from said pixel block based minimum motion estimation

error.
Apparatus according to claim 9, wherein said measure of
confidence (CF) is further derived from the value of a

pixel block motion vector or from the values of the
horizontal (MVX) and vertical (MVY) components of said

pixel block motion vector.
Apparatus according to claim 9 or 10, wherein said pixel
block based minimum motion estimation error (BME) and

said related block motion vector or its components (MVX,
MVY) pass through rank order or median filter means

(ROFI, MFI1, MFI2) and/or through limiting filter means
(L1, L2, L3) before being used in said combining means

(CB, SSW) to form said measure of confidence value (CF).
</CLAIMS>
</TEXT>
</DOC>
