<DOC>
<DOCNO>EP-0627817</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Voltage comparator with bandgap based direct current summing and power supply switch using it
</INVENTION-TITLE>
<CLASSIFICATIONS>G05F330	G05F308	G01R19165	G01R19165	G11C11413	G05F324	G11C11413	G11C514	G11C514	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G05F	G05F	G01R	G01R	G11C	G05F	G11C	G11C	G11C	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G05F3	G05F3	G01R19	G01R19	G11C11	G05F3	G11C11	G11C5	G11C5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A direct current sum bandgap voltage comparator for 
detecting voltage changes in a power supply. The direct 

current sum bandgap voltage comparator includes a summing 
node, current sources, and an indicator circuit. The 

current sources are connected to the summing node and each 
current source supplies a current to the summing node. The 

current sources also are connected to a power supply 
voltage, wherein the current at the summing node is equal 

to zero when the power supply voltage is equal to or 
greater than a reference voltage. The indicator circuit 

has an input connected to the summing node and generates a 
logical signal at an output that is responsive to ch
anges 
in the summing node. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ST MICROELECTRONICS INC
</APPLICANT-NAME>
<APPLICANT-NAME>
STMICROELECTRONICS, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SLEMMER WILLIAM CARL
</INVENTOR-NAME>
<INVENTOR-NAME>
SLEMMER, WILLIAM CARL
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to integrated circuitS
and in particular to MOS integrated circuits. Still more
particularly, the present invention relates to bandgap
reference circuits in insulated gate FET semiconductor
integrated circuits.In some situations it is desirable to provide
retention of data in integrated circuits such as memory
devices. A number of circuits are commercially available
for retaining data in SRAMS when power is removed. These
devices are often known as "zero power circuits".
Typically, in a zero power circuit, the contents of the
circuit are protected in the event that the power supply
voltage to that circuit drops below some predetermined or
preselected threshold voltage. This protection may be
accomplished by switching the circuit from the primary
power supply to a secondary power supply, typically an
integral battery, when the voltage of the primary power
supply drops below the selected threshold voltage.
Secondary or backup power supplies are well known, as may
be seen in United States Patent Nos. 4,381,458 and
4,645,943.Power controller circuits exist, which provide
automatic sensing of a primary power source voltage. These
power controller circuits provide automatic switching to a
secondary power source when the primary power source
voltage drops below a predetermined threshold voltage. An
example of one such system may be found in United States
Patent No. 5,121,359, which describes a programmable logic
device with a backup power supply that is automatically
provided when a power loss at an input pin is detected.
United States Patent No. 4,654,829 discloses a portable 
non-volatile memory module, using a comparator and
switching circuitry to switch between a primary power
supply and a secondary power supply, such as a battery
power supply.Past approaches in setting or selecting the voltage
level in a zero power circuit has involved the use of many
bipolar devices, large resistors, oscillators, switched
capacitors, autozero devices, etc. A bandgap reference
circuit is one circuit that may be used to set that voltage
level. One drawback with a typical bandgap reference
circuit is that a large number of devices are needed for
implementation. As a result, a large amount of area on a
semiconductor chip is required. In addition to the area
problem, typical bandgap reference circuits also are fairly
sensitive to noise within the circuit. For example, active
memory circuits are usually noisy and known bandgap
circuits used with active memories circuits are usually
sensitive to
</DESCRIPTION>
<CLAIMS>
A direct current sum bandgap voltage comparator (12) comprising:

a summing node (V
SUM
);
a plurality of current sources (C,D) and current sinks (A,B) connected
to the summing node, each current source or sink comprising at

least one transistor, and each current source or sink supplying
or drawing a current to or from the summing node (V
SUM
) and being
connected to a common power supply voltage (V
cc
), wherein the
current sources or sinks supply or draw currents according to a

term of a
band-gap equation, the band-gap equation being:


K
1
(V
cc
-V
T
) +K
1
V
T
=K
2
V
BE
+K
3
 (kT/q)

where V
cc
 is the power supply voltage, V
T
 is a predetermined
threshold voltage of a MOSFET transistor (M9) in a first (C) and in a second (D) current source

within the plurality of current sources, V
BE
 is a base
emitter voltage of a transistor (B3) in a first current sink

(B) within the plurality of current sinks, k is Boltzman's
constant, T is a temperature in kelvin of a transistor (T1) in

a second current sink (A) within the plurality of current sinks,
q is an electronic charge constant, and K
1
, K
2
, and K
3

are constants determined by a resistance and a transistor size
in the first current source (C), first (B) and second (A) current sinks,

respectively; and
an indicator circuit (20,22) having an input connected to the
summing node (V
SUM
) and generating a logic signal at an output
(OUT)

as a comparison result between the power supply voltage and a preselected voltage,
responsive to voltage changes in the summing node (V
SUM
).
The comparator of claim 1, wherein the indicator circuit
includes a pair of inverters (C1,C2;C3,C4) connected in series,

wherein an input of the first inverter is the input of the
indicator circuit (20,22) connected to the summing node (V
SUM
) and
an output of the second inverter is the output (OUT) of the

indicator circuit (20,22).
A zero power circuit comprising: 

a first circuit (10);
a direct current sum bandgap voltage comparator (12) according
to claim 1; and
a switching circuit (8) for providing power to the first
circuit (10) from a primary power supply (4) and a secondary

power supply (6), the switching circuit (8) being connected to
the output of the indicator circuit (22), wherein power from the

primary power supply (4) is supplied to the first circuit (10)
if the logical signal indicates that the power supply voltage

(V
cc
) is equal to or greater than the preselected voltage and
power from the secondary power supply (6) is supplied to the

first circuit (10) if the power supply voltage (V
cc
) is less than
the preselected voltage.
The comparator of claim 1 or the circuit of claim 3, wherein
the plurality of current sources or sinks (A,B,C,D) comprises

four current mirrors.
The circuit of claim 3, wherein the secondary power supply
(6) is a battery.
The comparator or circuit of claim 4, wherein the first
current mirror (D) includes a plurality of transistors and

supplies a current to the summing node (V
SUM
) defined by K
1
(V
cc
-V
T
).
The comparator or circuit of claim 4, wherein the second
current mirror (C) includes a plurality of transistors and

supplies a current to the summing node defined by K
1
V
T
.
The comparator or circuit of claim 4, wherein the third
current mirror (B) includes a plurality of transistors and

draws a current from the summing node defined by K
2
V
BE
.
The comparator or circuit of claim 4, wherein the fourth
current mirror (A) draws a current from the summing node (V
SUM
)
defined by K
3
(kT/q). 
The comparator or circuit of claim 4 further comprising a
clamping circuit (26) connected to the summing node (V
SUM
),
wherein a voltage swing, responsive to changes in current

supplied by the current mirrors (A,B,C,D), may be selected for
the summing node (V
SUM
).
The comparator or circuit of claim 4 further comprising a
cascode stage (24) interposed between the summing node (V
SUM
) and
the current mirrors (A,B,C,D).
The comparator of claim 1 further comprising a hysteresis
circuit (28) connected to the indicator circuit (22) to reduce

noise.
The comparator of claim 1, wherein the indicator circuit
(22) provides a logic one output if the power supply (V
CC
) is
equal to or greater than the preselected voltage.
</CLAIMS>
</TEXT>
</DOC>
