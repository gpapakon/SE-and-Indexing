<DOC>
<DOCNO>EP-0623987</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Battery charger
</INVENTION-TITLE>
<CLASSIFICATIONS>H02J110	H02J906	H02J700	H01M1044	H01M1042	H02J710	H02J700	H02J906	H02J710	H02J110	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H02J	H02J	H02J	H01M	H01M	H02J	H02J	H02J	H02J	H02J	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H02J1	H02J9	H02J7	H01M10	H01M10	H02J7	H02J7	H02J9	H02J7	H02J1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An end-of-charge detection technique for a battery charger is 
described. The technique involves the detection of a voltage 

drop at the end of charging and eliminates the effect of noise 
spikes. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
STMICROELECTRONICS PTE LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
STMICROELECTRONICS PTE LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
YUEN TANG KONG
</INVENTOR-NAME>
<INVENTOR-NAME>
YUEN, TANG KONG
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a battery charger, and
particularly to an end of charge detection technique for use
in a battery charger.Charging characteristics for nickel cadmium (NICD) batteries
are shown in curve b of Figure 5. The battery voltage
increases slowly for 90% of the battery capacity during
charging, but then starts to climb steeply after that, from
point P1 onwards. At point P3 the voltage levels off and
starts to decline from point P3 to point P4. It is known to
attempt to determine the end of charge point by detecting this
voltage drop (-dV) at the end of charging.Due to increasing usage of ultra-fast or fast charging rates
(one hour or less than one hour charging time) in present day
high end chargers, switch mode power supply technology is
employed for the design of chargers due to reasons of size and
efficiency. However, these designs have high switching noise.These switching noises can take the form as shown in Figure
8a. They can be spikes or glitches S on an otherwise calm and
slowly changing battery voltage level Vbatt. False
detection by a conventional charger monitor using a -dV method
can occur in cases like that depicted in Figures 8b and 8c.
In Figure 8b, a noise spike S reaches a voltage level v1. If
one voltage measurement is made at v1 and another at v2, a -dV
detection will be indicated if the measurement at v2 is lower
than that at v1 by more than the preset threshold, e.g. 50mV.
The same false detection will occur if, as in Figure 8c, the
measurement at noise spike v4 is lower than that at v3 by more
than the same threshold value (Figure 8c).Due to the fact that amplitudes of switching noises S are
generally in the range of hundreds of mV, whereas the
detection threshold of -dV detection is only tens of mV, 
to avoid false detection due to these noise signals, extensive
filtering has to be used. Very often, too much filtering
causes a slow response and the result is that the battery is
overcharged before the -dV point is detected and charging
terminated. The avoidance of noise by filtering is also very
dependent on the particular design of charger. Optimum
filtering for one charger may be insufficient for another. It
also increases the cost of implementation.Another known method to avoid false detection in -dV detection
techniques is to interrupt charging and to measure the battery
voltage before resuming charging. This is done because during
the interval when charging is stopped, switching noises are
minimal and it is thus an optimum time to take a measurement
of
</DESCRIPTION>
<CLAIMS>
A battery charging including:

a voltage detection circuit (B1,B2) for monitoring the
voltage of a battery being charged and for providing sequentially

a plurality of voltage values;

   characterised in that there is provided a comparator (B9)
connected to compare each voltage value (Vaver) with a preceding

voltage value (Vmax) thereby to determine when there is a
difference between a current voltage value (Vaver) of said

plurality of voltage values and the preceding value (Vmax) which
exceeds a threshold value (-dV); and


a detector (B12,B13) arranged to output an end of charge
detection signal when said difference has been determined by the

comparator (B9) and when the said preceding voltage value (Vmax)
used by said comparator has not exceeded the voltage value

(Vaver1) preceding said preceding value (Vmax).
A battery charger according to claim 1, wherein a further
voltage value is generated after the voltage value at which said

difference is determined, said further voltage value being
compared with the preceding voltage value (Vmax).
A battery charger according to claim 1 or 2 wherein the
voltage detection circuit comprises an analogue to digital

converter (B1) and a digital filter (B2) for providing digital
voltage values.
A battery charger according to any preceding claim wherein
a plurality of storage registers (B3,B5,B6,B17) are provided for

storing said plurality of voltage values in sequence.
A battery charger according to claim 4 wherein said storage
registers (B3,B5,B6,B17) are controlled in response to a clock

signal to shift stored voltage values from one register to the
next. 
A battery charger according to claim 5 wherein the contents
of first (B3) and second (B5) ones of the storage registers are

compared, the greater value of the two being held in the second
storage register (B5) as a maximum voltage value.
A battery charger according to claim 6 wherein said detector
is arranged to detect the value stored in the second storage

register (B5) and the value stored in a third one (B6) of the
storage registers.
A battery charger according to any preceding claim which
includes a premeasurement circuit operable to identify when an

end-of-charge condition is expected.
A battery charger as claimed in any preceding claim wherein
said preceding voltage value is a maximum voltage value.
A battery charger as claimed in claim 9, wherein first
comparator means (B14) are connected to compare the current

voltage value with the previously determined maximum voltage
stored in the storage means to determine if the current voltage

is greater than the maximum voltage value whereby if said current
value is greater than said maximum value, then said current value

becomes the maximum value, and said comparing means (B10) are
arranged to compare the new maximum value with at least one

preceding voltage value and if said new maximum value is not
substantially equal to said at least one preceding value to

replace said new maximum value with a new current value.
A battery charger as claimed in claim 9 or 10, wherein said
detector (B12, B13) is arranged to provide an end of charge

signal only if the maximum voltage value is substantially equal
to a plurality of immediately preceding voltage values detected

by said voltage detection circuit, said immediately preceding
voltage values being determined prior to said current voltage

value. 
A battery charger as claimed in claim 9, 10 or 11, wherein
detector (B12,B13) has been determined a predetermined number of

times that the difference between current value and the preceding
voltage value exceeds said threshold value.
A method of detecting a voltage drop when charging a
battery, the method including monitoring the voltage of a battery

being charged and providing sequentially a plurality of voltage
values; the method being characterised by the steps of:


comparing each voltage value (Vaver) with a preceding
voltage value (Vmax) thereby to determine when there is a

difference between a current voltage value (Vaver) of said
plurality of voltage values and the preceding value (Vmax) which

exceeds a threshold value (-dV); and
producing an end of charge detection signal when said
difference has been determined in the comparing step and when the

said preceding voltage value (Vmax) has not exceeded the voltage
value (Vaver1) preceding said preceding value (Vmax).
A method according to claim 13 wherein a further voltage
value is generated after the voltage value at which said

difference is determined, said further voltage value being
compared with the preceding voltage value (Vmax).
A method as claimed in claim 13 or 14, wherein said
preceding voltage value is a maximum voltage value.
A method as claimed in claim 15, wherein said end of charge
signal is produced only when the maximum voltage value is

substantially equal to a plurality of voltage values, said
plurality of voltage values being determined prior to the current

value.
A method as claimed in claim 15 or 16, comprising the step
of terminating charging when a predetermined number of end of

charging signals have been produced. 
A method as claimed in claim 15, 16 or 17, comprising the
steps of comparing the current voltage value with a previously

determined maximum voltage value and if the current voltage value
is greater than the maximum voltage value, then the current value

becomes the maximum value; and

comparing the new maximum value with at least one
immediately preceding voltage value and if the new maximum

voltage is not substantially equal to said at least one preceding
value to replace the new maximum value with a new current value.
</CLAIMS>
</TEXT>
</DOC>
