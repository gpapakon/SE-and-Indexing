<DOC>
<DOCNO>EP-0613306</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Apparatus for controlling quantizing in a video signal compressor
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N592	H04N726	H04N750	H04N1104	H04N730	G06T900	H04N592	H04N726	G06T900	H04N750	H04N1104	H04N730	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	G06T	H04N	H04N	G06T	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N5	H04N7	H04N7	H04N11	H04N7	G06T9	H04N5	H04N7	G06T9	H04N7	H04N11	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A rate controlled VBR quantizing system includes a 
quantizer (14) for quantizing partially compressed video data and 

further apparatus (28) for monitoring the amount of compressed 
output data. Dependent upon the amount of compressed output 

data being lesser or greater than a predetermined value, the 
quantizer is conditioned (27) to operate in a fixed quantization 

mode, or a mode wherein only selected blocks of data in 
respective frames are adaptively quantized, respectively. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
RCA THOMSON LICENSING CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
RCA THOMSON LICENSING CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
GUHA AJANTA
</INVENTOR-NAME>
<INVENTOR-NAME>
REININGER DANIEL JORGE
</INVENTOR-NAME>
<INVENTOR-NAME>
GUHA, AJANTA
</INVENTOR-NAME>
<INVENTOR-NAME>
REININGER, DANIEL JORGE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to the quantizing apparatus in a
video signal compression system.Video signal compression apparatus typically include
circuitry to quantize codewords of partially compressed signal,
causing many of the quantized codewords to have similar values,
which condition is conducive to run length encoding. Thereafter
the quantized codewords are typically run and variable length
encoded to provide the signal in compressed format. The term
"partially compressed signal" refers to signal provided by, for
example, a discrete cosine transform, or DCT, processor. Video
data provided by DCT processors occurs in blocks of, for example,
8 x 8 coefficients representing a matrix of 8 x 8 contiguous pixels.
Typically the respective coefficients in a block are quantized by
different amounts depending upon the relative importance of the
respective coefficients. In quantizing a block of such coefficients a
quantization matrix is utilized. This quantization matrix includes
the quantizing values to be applied to the respective coefficients
in a block. Quantization of the video data may be performed by
applying the same matrix or table of quantization values to all
blocks of coefficients (codewords). This is referred to herein as
fixed quantization, even though the quantizing values in the
matrix may be different. Since different frames of video signal
represent different images, it will be readily appreciated that the
amount of compressed video data resulting from fixed
quantization will be variable from frame to frame, giving rise to
variable bit rate, VBR, compression.Certain signal transmission systems cannot efficiently
accommodate VBR compressed signal, hence constant bit rate, CBR,
compression systems have been developed. In the CBR systems
the quantization of codewords is made adaptive to control the
number of compressed data. Typically the volume of compressed
data is monitored and the quantization values are changed in
inverse proportion to the volume of compressed data in order to
render the number of compressed bits per frame substantially
constant. Adaptive quantizing systems also utilize tables of 
quantizing values for quantizing the blocks of coefficients.
Adaptivity is typically realized by simply scaling the quantizing
values as they are output from the table for application to the
respective coefficients of a block. Nominally all quantizing values
provided from the quantization table are scaled by the same
factor, but the scale factor may vary from block to block.CBR compression systems
</DESCRIPTION>
<CLAIMS>
Apparatus for compressing video signal segmented into blocks, which apparatus
includes a quantizer responsive to quantizing factors for quantizing the video

signal on a block by block basis, characterized by; an analyzer (25) including
circuitry for:


a) determining the volume of compressed data for respective said blocks when
compressed using a first predetermined quantizing factor or factors,
b) determining a threshold value related to an average of the volume of compressed
data for a plurality of said blocks;
c) determining blocks having volumes greater and lesser than said threshold; and
d) determining further quantizing factors which will effect coarser quantization than
said first predetermined factor or factors;

   a quantizer (14) responsive:

a) to said first predetermined quantizing factor for quantizing blocks having volumes
less that said threshold to generate variable bit rate compressed data; and
b) to said further quantizing factors for quantizing entire blocks having volumes
greater than said threshold.
The apparatus set forth in claim 1, further characterized by said analyzer (25)
determining said further quantizing factors adaptively as a function of the

difference between a target volume of compressed data for a plurality of blocks
and the actual volume of compressed data for said plurality of blocks.
The apparatus set forth in claim 2, further characterized by said analyzer (25)
iteratively determining said further quantizing factors adaptively in multiple passes

wherein respective further quantizing factors for respective blocks are incremented
in successive passes until the said actual volume is equal to or less than said

target volume. 
The apparatus set forth in claim 1, wherein said quantizer (14) is characterized by;
a source of a matrix of quantizing values; a weighting circuit; and means for

applying said quantizing factors as multipliers and said matrix quantizing values as
multiplicands to said weighting circuit.
The apparatus set forth in claim 1, wherein said analyzer (25) is characterized by
including circuitry for decrementing said threshold for successive blocks.
</CLAIMS>
</TEXT>
</DOC>
