<DOC>
<DOCNO>EP-0858046</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for integrated circuit card
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K700	G06K700	G06K1700	G06K1700	G06K1900	G06K1900	G07F708	G07F708	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06K	G06K	G06K	G06K	G06K	G07F	G07F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K7	G06K7	G06K17	G06K17	G06K19	G06K19	G07F7	G07F7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A portable integrated circuit card reader system provides for enhanced
functionality and interconnectability with external devices. A printed circuit

board arrangement includes a housing having first and second parallel planar
surfaces and a printed circuit board disposed in the housing, including a

substrate having a thickness of about 0.020 in. (0.5mm), and including a
portion which engages an external connector through an opening in the

housing. The printed circuit board is held by the housing at a first position,
parallel to and between the planar surfaces of the housing, at the opening in

the housing, and is held at a second position different from the first position,
parallel to the planar surfaces of the housing and adjacent to the first parallel

planar surface of the housing, the printed circuit board having a flex region
between the first position and the second position. An interface module

includes a housing, serial transceiver circuitry disposed in the housing, a first
input/output connector which connects to an input/output port of the portable

IC card reader, a cable coupling the connector to the transceiver circuitry,
and a second input/output port which couples the serial interface module

transceiver to an external device. A method of operating the portable IC card
reading device includes reading a stored value from an IC card when the IC

card is inserted in the device, receiving user input corresponding to an
amount of a planned purchase, and automatically calculating and displaying

an expected balance after the planned purchase. Further, after making the
planned purchase with the IC card, a stored value from the IC card is read

when the IC card is inserted in the device, and the value read is displayed.

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
OKI AMERICA INC
</APPLICANT-NAME>
<APPLICANT-NAME>
OKI AMERICA, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CHAU PAUL W
</INVENTOR-NAME>
<INVENTOR-NAME>
COPELAND JEFFREY P
</INVENTOR-NAME>
<INVENTOR-NAME>
VANDENENGEL GERALD W
</INVENTOR-NAME>
<INVENTOR-NAME>
CHAU, PAUL W.
</INVENTOR-NAME>
<INVENTOR-NAME>
COPELAND, JEFFREY P.
</INVENTOR-NAME>
<INVENTOR-NAME>
VANDENENGEL, GERALD W.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to the field of integrated circuit (IC) cards (also
referred to sometimes as chip cards), and in particular to IC card readers.A so-called integrated circuit card, also referred to as a "smart card"
and/or an "IC card" herein, is a credit card-sized carrier substrate, generally
formed of a plastic material, which carries circuitry for storing information,
such as financial information. These cards are gaining acceptance with many
consumers as an alternative to cash for purchases. Smart cards can already
be used in many countries of the world instead of coins or paper currency to
make purchases. In a typical smart card electronic cash system, an IC on the
card, either with an on-board micro-processor or just a memory chip, stores
information, i.e., a "token," which represents the value or "balance" of
electronic cash remaining on the card. As the user makes purchases with the 
card, this stored value is decreased electronically (internally) by the amount of
the purchase.Therefore, these IC cards are similar to a credit card with embedded
integrated circuitry including, for example, both volatile and nonvolatile
memory elements. The financial information is stored in these memory
elements. In order to access the information in the IC card, an interface
device, i.e., an IC card "reader," is required. There are two different kinds of
IC card reader/interface systems classified based on their size and
functionality. The first kind of IC card reader/interface device is referred to as
a terminal device, e.g., a point of sale (POS) terminal, used for financial
transactions. These device generally have a large size (form factor), but they
have the capability to connect to other on-line systems, such as a financial
institution, to provide a communication path between the IC card and the on-line
systems. Due to their relatively large size, these terminals are mostly
stationary and therefore cannot be carried around by the IC card user.The second type of IC card reader/interface device is the portable IC
card reader. Presently, these device are only used to provide static data
display of the stored card information, and do not have the capability to
connect to an on-line system to provide more sophisticated applications for
the IC card.There is also a variation of the first type of known IC card
reader/interface device which is not as large as the usual terminal type, but is
not as readily movable as the portable type. An example of this variation is
described in Hirokawa (U.S. Patent
</DESCRIPTION>
<CLAIMS>
A portable IC card reader device, comprising:

a compact housing, including a portion which accommodates at least
one battery;
a keypad, disposed in the housing, having numeric keys and function
keys;
a display, disposed in the housing, which displays alpha-numeric
characters; and
electronic circuitry, disposed in the housing, interconnecting the
keypad and display;

   wherein the electronic circuitry includes a micro-controller, an IC card
port, and an input/output port; and

   wherein the micro-controller is operative to control reading and writing
to and from an IC card, and to perform functions related to IC card

transactions.
The reader device according to claim 1, further comprising an
interface module which couples to the input/output port and interfaces the

reader device with an external device over a communications medium.
The reader device according to claim 2, wherein the interface
module is a serial interface module, the module comprising a housing, serial

transceiver circuitry disposed in the housing, a first input/output connector
which connects to the input/output port of the reader device, a cable coupling

the connector to the transceiver circuitry, and a second input/output connector
which couples the serial interface module transceiver to an external device.
The reader device according to claim 3, wherein the serial
interface module transceiver circuitry comprises RS-232 transceiver circuitry.
The reader device according to claim 3, wherein the serial
interface module transceiver circuitry comprises infra-red transceiver circuitry.
The reader device according to claim 3, wherein the serial
interface module transceiver circuitry comprises radio-frequency transceiver

circuitry.
The reader device according to claim 3, wherein the serial
interface module transceiver circuitry comprises modem circuitry.
A method of operating a portable IC card reading device
according to claim 1, comprising:


reading a stored value from an IC card when the IC card is inserted in
the device;
receiving user input corresponding to an amount of a planned
purchase;
automatically calculating and displaying an expected balance after the
planned purchase; and
after making the planned purchase with the IC card, reading a stored
value from an IC card when the IC card is inserted in the device, and

displaying the value read.
A method of operating a portable IC card reading device
according to claim 1, comprising:


reading a first stored value from an IC card when the IC card is
inserted in the device prior to being used to make a purchase by a user;
reading a second stored value from the IC card when the IC card is
inserted in the device after being used to make the purchase by the user; and
automatically calculating and displaying a purchase price based on the
first and second stored values.
A method of operating a portable IC card reading device
according to claim 1, comprising:


reading a first stored value from an IC card when the IC card is
inserted in the device prior to being used to make a purchase by a user;
receiving user input corresponding to an amount of a purchase;
reading a second stored value from an IC card when the IC card is
inserted in the device after being used to make the purchase by the user; and
automatically verifying the first stored value corresponds to the second

stored value minus the purchase amount.
A portable IC card reader device, comprising:

a compact housing having a form factor sized to fit in a shirt pocket or
wallet;
keyed input means for receiving keyed-in user input data;
display means for displaying data to a user;
IC card reading/writing means for reading/writing to/from an IC card;
processing and control means for processing data and controlling
operations of the reader device; and
interface means for interfacing the IC card reader device with an
external device for the exchange of at least data.
The reader device according to claim 11, wherein the display
means comprises a liquid crystal display device.
The reader device according to claim 11, wherein the keyed
input means comprises a pin-pad keypad having a plurality of keys including

numeric and function keys.
The reader device according to claim 11, wherein the
processing means comprises a micro-controller.
The reader device according to claim 11, wherein the interface
means comprises an input/output port.
The reader device according to claim 15, further comprising an
interface module which couples to the input/output port and interfaces the

reader device with an external device over a communications medium.
The portable IC card reader device according to claim 1,
wherein the portion which accommodates at least one battery comprises a

removable battery tray.
The portable IC card reader device according to claim 17,
wherein the removable battery tray comprises first and second battery

compartments for receiving a respective battery therein, and battery contacts
for connecting batteries received in the battery tray to the electronic circuitry

of the device.
The reader device according to claim 11, wherein the device
has a plurality of modes of operation, including:


standalone passive mode, wherein the reader device is not connected
to any adapter and simply displays data read from an IC card;
standalone active mode, wherein the reader device is not connected to
any adapter, accepts and responds to user commands input on the keyed

input means, and interacts with an IC card according to the user commands;
connected pass-through mode, wherein the reader device is connected
to an adapter, the adapter is connected to an external host or controller

device, and the external host or controller controls the reader device; and
connected non-pass-through mode, wherein the reader device is
connected to an adapter, the adapter is connected to an external host or

controller device, and the reader device performs some operations
independently of the external host or controller device.
The reader device according to claim 19, wherein the device
has a communications protocol for communicating with external devices, the

protocol provides for:

communicating with a plurality of different external adapter devices;
operating in any of said modes of operation;
handling a plurality of reader operations, including IC card interfacing,
display of information on said display means, power management, and

keypad entry on said keyed entry means; and
communications error handling and status.
In a portable IC card reader device, a printed circuit board
arrangement comprising:


a housing having first and second parallel planar surfaces; and
a printed circuit board disposed in the housing, including a substrate
having a thickness of about 0.020 in. (0.5mm), and including a portion which

engages an external connector through an opening in the housing;
   wherein the printed circuit board is held by the housing at a first

position, parallel to and between the planar surfaces of the housing, at the
opening in the housing, and is held at a second position different from the first

position, parallel to the planar surfaces of the housing and adjacent to the first
parallel planar surface of the housing, the printed circuit board having a flex

region between the first position and the second position.
The printed circuit board arrangement according to claim 21,
wherein at the first position, the printed circuit board extends in a direction

substantially perpendicular to an edge of the housing at the opening in the
housing.
The printed circuit board arrangement according to claim 21,
wherein the portion which engages the external connector comprises four

electrical contacts.
The printed circuit board arrangement according to claim 23,
wherein the external connector is a four pin molex connector and wherein the

portion which engages the external connector is adapted to mate with a four
pin molex connector.
An interface module for a portable IC card reader device,
comprising:


a housing;
serial transceiver circuitry disposed in the housing;
a first input/output connector which connects to an input/output port of
the portable IC card reader;
a cable coupling the connector to the transceiver circuitry; and
a second input/output port which couples the serial interface module
transceiver to an external device.
The interface module according to claim 25, wherein the serial
interface module transceiver circuitry comprises RS-232 transceiver circuitry.
The interface module according to claim 25, wherein the serial
interface module transceiver circuitry comprises infra-red transceiver circuitry.
The interface module according to claim 25, wherein the serial
interface module transceiver circuitry comprises radio-frequency transceiver

circuitry.
The interface module according to claim 25, wherein the serial
interface module transceiver circuitry comprises modem circuitry.
A method of operating a portable IC card reading device
,comprising:


reading a stored value from an IC card when the IC card is inserted in
the device;
receiving user input corresponding to an amount of a planned
purchase; and
calculating and displaying an expected balance after the planned
purchase.
The method according to claim 30, further comprising:

after making a purchase with the IC card, reading a stored value from
the IC card when the IC card is inserted in the device, and displaying the

value read.
A method of operating a portable IC card reading device,
comprising:


reading a first stored value from an IC card when the IC card is
inserted in the device prior to being used by a user to make a purchase;
reading a second stored value from the IC card when the IC card is

inserted in the device after being used by a user to make the purchase; and
calculating and displaying a purchase price based on the first and
second stored values.
A method of operating a portable IC card reading device,
comprising:


reading a first stored value from an IC card when the IC card is
inserted in the device prior to being used by a user to make a purchase;
receiving user input corresponding to an amount of a purchase;
reading a second stored value from the IC card when the IC card is
inserted in the device after being used by a user to make the purchase; and
verifying the first stored value corresponds to the second stored value
minus the purchase amount.
A portable modular IC card interface system, comprising:

a compact portable personal IC card reader; and
a plurality of different interface modules.
The system of claim 34, wherein the reader comprises:

a housing;
IC card interface circuitry and hardware;
a user keypad;
a user information display;
an interface port for connecting the reader to the plurality of different
interface modules; and
an internal power source.
The system of claim 34, wherein the plurality of different
interface modules include:


an RS232 interface module;
an infra-red interface module;
a telephone network interface module; and
a radio-frequency interface module.
The system of claim 34, wherein the system uses a
communications protocol that facilitates communications with the plurality of

different interface modules through the interface port.
The system of claim 34, wherein the system has a plurality of
operating modes, the modes including:


standalone passive mode;
standalone active mode; and
connected mode;
   wherein, when the reader is not connected to an external device

through any of the plurality of different interface modules, the reader operates
in the standalone passive mode or the standalone active mode;

   wherein, in the standalone passive mode, the reader operates to
display data from an IC card to a user;

   wherein in the standalone active mode, the reader operates to receive
user input and interact with an IC card based on the user input; and

   wherein in the connected mode, the reader device operates either
interactively or passively with an external device to interface the external

device to an IC card.
The system of claim 38, wherein, when in the connected mode,
the external device can control the reader keypad and display, and can

control an IC card inserted in the reader.
The system of claim 39, wherein the system uses a common
communications protocol that facilitates communications with the external

device through any one of the plurality of different interface modules through
the interface port.
The system of claim 40, wherein the protocol comprises a data
block having at least three fields, the fields comprising"


a header and length information field;
an optional information/data field; and
a checksum field.
The system of claim 41, wherein the header and length
information field comprises a function/command, wherein length data

indicates the presence of and size of data associated with the
command/function.
The system of claim 42, wherein the function/command
comprises at least one of a display control command; a keypad entry control,

status, and reference inquiry; and IC card communication.
The system of claim 34, wherein the plurality of different
interface modules provide for communication at a plurality of baud rates.
The system of claim 34, wherein power can be provided to the
reader through any one of the plurality of different interface modules.
</CLAIMS>
</TEXT>
</DOC>
