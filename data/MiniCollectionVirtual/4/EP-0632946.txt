<DOC>
<DOCNO>EP-0632946</DOCNO> 
<TEXT>
<INVENTION-TITLE>
BUFFER ALLOCATION TO REPEATED INFORMATION BLOCKS IN DATA TRANSMISSION, PARTICULARLY VIDEO TRANSMISSION
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L118	H04N724	H04L100	H04N724	H04L116	H04L116	H04L100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04N	H04L	H04N	H04L	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L1	H04N7	H04L1	H04N7	H04L1	H04L1	H04L1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Apparatus for transmitting and receiving information blocks, particularly video information, is arranged so that on receiving a corrupted information block it stores a first receiver buffer address at which the data block should be stored if subsequently successfully repeated in a later information block. The apparatus keeps track of the time taken to receive a requested repeat information block and on receiving the later information block at the predicted time, and on determining that it is uncorrupted, stores the data in the receiver buffer at the stored buffer address. Such apparatus can allocate received, repeated and non-repeated data blocks to their correct relative positions within the receiver buffer without the need for numbering of the data blocks on transmission giving a consequential reduction in the size of the data blocks being transmitted.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
BRITISH TELECOMM
</APPLICANT-NAME>
<APPLICANT-NAME>
BRITISH TELECOMMUNICATIONS PUBLIC LIMITED COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
GUNBY STEPHEN RICHARD
</INVENTOR-NAME>
<INVENTOR-NAME>
HERON ANDREW PETER
</INVENTOR-NAME>
<INVENTOR-NAME>
MACDONALD NEIL EDWARD
</INVENTOR-NAME>
<INVENTOR-NAME>
GUNBY, STEPHEN RICHARD
</INVENTOR-NAME>
<INVENTOR-NAME>
HERON, ANDREW PETER
</INVENTOR-NAME>
<INVENTOR-NAME>
MACDONALD, NEIL EDWARD
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to apparatus for transmitting and receiving
information blocks, each of which includes a data block, to and from a further
apparatus in a duplex communications system and in particular to such apparatus
which is arranged to determine if a received information block has been corrupted
by transmission and when it has, to request the further apparatus to repeat the
transmission of the data block of that information block, the data blocks being
stored in a receiver buffer.When exchanging information over a noisy channel information blocks can
be corrupted so it becomes necessary to implement an Automatic Repeat reQuest
(ARQ) scheme if the lost data blocks are to be obtained. Of the known
conventional ARQ schemes of stop-and-wait, go-back-N and selective repeat (SR),
the last is the most efficient in terms of throughput as only those data blocks in
corrupted information blocks are retransmitted. It is especially attractive to use
such an SR scheme in communications systems with the noisiest channels, for
example those using radio links, where many repeats may be needed.The repeated data blocks when received in a later transmitted information
block will generally need to be placed in a particular position relative to the data
blocks already received. This is achieved in prior art systems by including as part
of each data block a data block number which the apparatus can use to identify
the data block and so position it appropriately. Thus, US patent 4,774,587
proposes a receiver for receiving still video frames in which transmission errors are
detected and a negative acknowledgement transmitted requesting re-transmission,
and is concerned with the resulting tracking problem when picture segments are
transmitted out of order. In that system, however the transmissions include a
codeword with a data segment address, which permits maintenance of the proper
order.According to the present invention, there is provided apparatus for
receiving information blocks, each of which includes a data block, from a further
apparatus in a duplex communications system, the apparatus comprising:
a receiver buffer;control means to store the data blocks in the receiver buffer; means to determine if a received information block has been corrupted;the control means being responsive to the corrupted data determining
means to generate a request for the further apparatus to repeat the transmission of
the data block of the said corrupted information block; anda transmitter to transmit the request to the further
</DESCRIPTION>
<CLAIMS>
Apparatus for receiving information blocks, each of which includes a data
block, from a further apparatus in a duplex communications system, the apparatus

comprising:

a receiver buffer (512);
control means (500) to store the data blocks in the receiver buffer (512);
means (212) to determine if a received information block has been
corrupted;
the control means (500) being responsive to the corrupted data
determining means (212) to generate a request for the further apparatus to repeat

the transmission of the data block of the said corrupted information block; and
a transmitter (116) to transmit the request to the further apparatus;
characterised by path length determining means (518) to determine the round-trip

path length between the said apparatus and the said further apparatus; and that
the control means (500) is arranged,


(a) on receiving a corrupted information block to enter into an address
store (516) a receiver buffer
 address being the address at which the data block of
the corrupted information block is to be stored if repeated in a later information

block; and to determine, on the basis of the determined path length, in which later
information block the repeat transmission of the data block is expected to occur;

and
(b) upon receiving the expected later information block uncorrupted, to
store the data block thereof in the receiver buffer (512) at the address held by the

address store (516).
Apparatus as claimed in Claim 1 for receiving information blocks each of
which includes a repeat flag which when set indicates that the information block

contains a repeated data block, in which the data block of the expected later
information block is stored in the receiver buffer (512) at the address held by the

address store (516) only if the repeat flag of the expected later information block
is set. 
Apparatus as claimed in any preceding claim in which the data block of a
corrupted information block which has not previously been determined to be one

expected to include a repeat transmission of a data block is stored in the receiver
buffer (512) and when an uncorrupted repeated information block is received, the

data block stored in the receiver buffer is overwritten.
Apparatus as claimed in any preceding claim including means (204)
arranged to transmit information blocks having header data by which the further

apparatus can associate a transmission address with each information block, and
in which, for use with a said further apparatus which transmits information blocks

having header data including a receiver address set to correspond to the
transmission address of the information block last received by the further

apparatus, the path length determining means (5, 18) is connected to receive, for
determination of the later information block in which the repeated transmission of

a data block is expected to occur, the transmission address of the information
block last transmitted and the receiver address of the information block last

received by the apparatus.
Apparatus as claimed in any one of the preceding claims in which the
transmitter (116) is arranged to transmit information blocks containing header data

including an acknowledge bit to indicate whether the last received information
block was corrupted and m further acknowledge bits, m greater or equal to 1, each

of which indicates whether a distinct earlier received information block was
corrupted, and the control means (500) is arranged to signal said request for a

repeat transmission by means of the acknowledge bits of m+1 consecutive
transmitted blocks.
Apparatus as claimed in Claim 5 in which m = 2.
Apparatus as claimed in any preceding claim in which the data blocks
comprise compressed video data.
Apparatus as claimed in Claim 7 in which the compressed video data is
obtained from an H.261 video coder. 
Apparatus as claimed in any preceding claim including a radio transmitter
(116) and receiver (12) for transmitting and receiving information blocks via a radio

link.
</CLAIMS>
</TEXT>
</DOC>
