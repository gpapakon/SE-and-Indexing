<DOC>
<DOCNO>EP-0645736</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processing apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T340	G06T340	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T3	G06T3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image processing apparatus for converting low-resolution 
information to high-resolution information 

and increasing the number of pixels of input image 
information by a factor of (N × M) includes 

interpolating unit for interpolating one pixel of low-resolution 
information to (N × M) pixels, quantizing 

unit for quantizing, to n values (n ≧ 2), image 
information within a block of (N × M) pixels after 

interpolation by the interpolating unit corresponding to 
a low-resolution pixel of interest, and arithmetic unit 

for summing and combining, at a set allocation ratio, 
information quantized by the quantizing unit and 

interpolated information from the interpolating unit, 
thereby making it possible to convert a low-resolution 

image to a high-resolution image and to obtain a high 
picture quality. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MIYAKE NOBUTAKA
</INVENTOR-NAME>
<INVENTOR-NAME>
MIYAKE, NOBUTAKA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to an image processing
apparatus and, more particularly, to an image processing
apparatus such as one suitable for an image output
apparatus such as a printer for outputting input image
information upon enlarging the information by zooming,
or an apparatus for performing a resolution conversion
from low-resolution information to high-resolution
information in communication between machine models
having different resolutions.Various methods have been proposed for converting
input low-resolution information to high-resolution
information. With these proposed conventional methods,
however, the methods of conversion processing differ
depending upon the type of image dealt with (e.g., a
multivalued image has gray-level information for each
and every pixel, a two-value image binarized by pseudohalftones,
a two-value image binarized by a fixed
threshold value, a character image, etc.).Methods of interpolation which are conventional
methods of converting resolution in multivalued images
such as natural pictures having gray-level information
for each pixel include nearest neighbor interpolation, 
as shown in Fig. 25, in which pixel values that are the
same as observation points closest to an interpolated
point are arrayed, and bi-linear interpolation (linear
interpolation), as shown in Fig. 26, in which a pixel
value E is decided by calculation (see Equation 1 below)
based upon distances of four points (let A, B, C, D
represent the pixel values of the four points) that
surround the interpolated point.
E = (1-i) (1-j) A + i · (1-j) B + j · (1-i) C + ijDIf the distance between pixels is "1", then it is
assumed that there is a distance i from A in the
horizontal direction and a distance j from A in the
vertical direction (i≤1, j≤1).However, the examples of the prior art described
above have the shortcomings described below.Specifically, though the method of Fig. 25 is
advantageous in terms of construction, pixel values are
decided for each block enlarged in a case where the
image dealt with is used in a natural picture or the
like. As a consequence, blocks become conspicuous
visually, thus resulting in poor picture quality.In a case where the image dealt with is used in a
character, line image or CG (computer graphics),
identical pixel values are continuous for each block
enlarged. As a result, images such as of slanted lines 
become poor in quality owing to so-called "jaggies", as
shown in Figs. 27A, 27B. Figs. 27A ∼ 27C are examples
of two-fold resolution conversion vertically and
horizontal
</DESCRIPTION>
<CLAIMS>
An image processing apparatus for converting low-resolution
pixel data into high-resolution pixel data

comprising:

input means (100) for inputting the low-resolution
pixel data;
interpolating means (101) for interpolating between
pixels of the input data to generate interpolated pixel

data; and
edge data generating means (102,401,501) for
generating edge data,

   
characterised in that
 said edge data generating
means generates the edge data from the interpolated

pixels generated by said interpolation means by using the
interpolated pixels within a first reference area and 
in
that
 the apparatus further comprising:

setting means (103,402) for setting an allocation
ratio (a) on the basis of (i) the dynamic range

of input pixels within successive
predetermined second reference areas each containing

pixels surrounding an input pixel of interest, or (ii) the steepness of an edge within said second reference areas, the
allocation ratio being used to weight the interpolated

pixel data and the edge data so that one set of data is
weighted by the allocation ratio (a) and the other set of 

data is weighted by (1-a), and
adding means (106) for adding the weighted edge data
and the weighted interpolation pixel data to generate the

high resolution pixel data,

   wherein said setting means sets said allocation ratio
such that the weight to edge data is enlarged when the

dynamic range is large or the edge is steep.
Apparatus according to claim 1, wherein said edge
information generating means (102) further comprises:


detecting means (113) for detecting a first value
and a second value from low-resolution information in said

second reference area consisting of plural pixels; and
quantizing means (115) for quantizing interpolation
information in a third reference area consisting of

plural pixels,

   wherein said first and second value are allocated in
accordance with a quantization result of said quantizing

means.
Apparatus according to claim 2, wherein said
detecting means (113) is adapted to detect a maximum

value and a minimum value from the low-resolution
information consisting of plural pixels. 
Apparatus according to claim 3, wherein a threshold
value at the time of quantization in said quantizing

means (115) is calculated from peripheral pixels of the
low-resolution pixel of interest.
Apparatus according to claim 4, wherein when said
quantization is binarization, the binarization threshold

value is the average of the maximum and minimum values.
Apparatus according to claim 1, wherein the
allocation ratio in said setting means (103,402) is

decided by a width of pixel values peripheral to the low-resolution
pixel of interest.
Apparatus according to claim 1, wherein the
allocation ratio in said setting means (103,402) is

decided by a change in the width of pixel values
peripheral to the low-resolution pixel of interest.
Apparatus according to any preceding claim, wherein
the size of the first referential area peripheral to the

low-resolution pixel of interest which decides the
allocation ratio in said setting means is variable.
Apparatus according to claim 2 and any preceding 
claim when dependent on claim 2, wherein the size of the

second referential area peripheral to the low-resolution
pixel of interest which decides the quantization

representative in said adding means is variable.
Apparatus according to claim 2 and any preceding
claim when dependent on claim 2, wherein a size of the

third referential area peripheral to the low-resolution
pixel of interest which decides quantization conditions

such as threshold value in said quantizing means is
variable.
An image processing method of converting low-resolution
pixel data into high-resolution pixel data

comprising:

the step of inputting the low-resolution pixel data;
the step of interpolating between pixels of the
input data to generate interpolated pixel data; and
the step of generating edge data from the input
pixel data,

   
characterised in that
 the edge data is generated
from the interpolated pixels generated by using the

interpolated pixels within a first reference area and
further comprising:


the steps of setting an allocation ratio (a) on the 
basis of (i) the dymamic range of

input pixels within successive predetermined second
reference areas each containing pixels surrounding an

input pixel of interest, or (ii) the steepness of an edge within said second reference areas, the allocation ratio being used
to weight the interpolated pixel data and the edge data

so that one set of data is weighted by the allocation
ratio (a) and the other set of data is weighted by (1-a),

and
the step of adding the weighted edge data and the
weighted interpolation pixel data to generate the high

resolution pixel data,

   wherein said setting means sets said allocation ratio
such that the weight to edge data is enlarged when the

dynamic range is large or the edge is steep.
</CLAIMS>
</TEXT>
</DOC>
