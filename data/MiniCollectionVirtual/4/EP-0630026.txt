<DOC>
<DOCNO>EP-0630026</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Semiconductor memory device incorporating a test mode therein to perform an automatic refresh function
</INVENTION-TITLE>
<CLASSIFICATIONS>G11C2912	G11C2918	G11C2900	G11C2950	G11C11406	G11C2900	G11C11401	G11C11406	G11C2908	G11C11401	G11C2904	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G11C	G11C	G11C	G11C	G11C	G11C	G11C	G11C	G11C	G11C	G11C	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G11C29	G11C29	G11C29	G11C29	G11C11	G11C29	G11C11	G11C11	G11C29	G11C11	G11C29	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
There is provided a switch (140) between an address line (121) 
and external output terminals (A0 ∼ An), controlled by outputs of a 

counter circuit (117) and a test mode control circuit (119). The switch 
(140) transfers a variation of an address signal to external output 

terminals (A0 ∼ An), without connecting the address line (121) with 
the external address terminals (A0 ∼ An), directly. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
OKI ELECTRIC IND CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
OKI ELECTRIC INDUSTRY COMPANY, LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
TAKAHASHI SHINYA
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAHASHI, SHINYA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a semiconductor
memory device and, more particularly, to a semiconductor
memory device incorporating a test mode therein to
perform an automatic refresh function.Described below is a general operation of the test
mode for measuring a refresh period of DRAM employing
the automatic refresh function.First, an internal address counter counts an
oscillation number of an oscillation signal generated by
an oscillator which determines the refresh period and
outputs the result into an address terminal. Then,
judgement is made as to whether the automatic refresh
function has been correctly operated by measuring the
result output onto the address terminal.However, there arise the following problems in the 
DRAM employing the test mode function set forth above
when the test circuit operates under a normal operation
mode or an automatic refresh operation mode, that is,
when a test mode control signal is set to be a Low
level.Namely, when levels of external address signals
become below a ground potential level GND due to
undershoot or the like, or when the level of the test
mode control signal exceeds above the ground potential
level GND due to superimposition of noises upon the test
mode control signal caused by an operational noise in a
circuit, data of the external address signal affects on
data output as a refresh address.As the result, there arise problems that a counter
circuit may malfunction or defects may be generated upon
continuity of the refresh address.These kinds of semiconductor memory devices are
disclosed, for example, in Japanese Laid-Open Patent
Publication 63-148493.It is a primary object of the present invention to
provide a semiconductor memory device which can
accurately output contents of the refresh address output
from the counter circuit without any influence on the
refresh address even when an excessive negative
potential is applied to an external terminal or when 
noises are superimposed on the test mode control signal
for some reason.The object of the invention is attained by providing a semiconductor
memory device as defined in claim 1. The dependent claims
define particular embodiments of the invention.According to one embodiment the present invention employs a configuration where the
address lines are not connected directly with the
external terminals. The present invention according to one embodiment provides a switch, between
the address lines and the external output terminals,
controlled by the outputs of the counter circuit and the
test mode control
</DESCRIPTION>
<CLAIMS>
A semiconductor memory device having an
automatic refresh function and a test mode for measuring

a refresh period, comprising:

(a) an automatic refresh control circuit (107) for
shifting a potential of a first node (N1) from a first logic

level to a second logic level on detection of change-over
to an automatic refresh mode;
(b) a refresh signal generation circuit (113) producing a refresh signal on a second node (N2) in response to
which refresh signal an internal circuit is refreshed, the refresh signal generation circuit (113) shifting a potential of the

second node (N2) from the first logic level to the
second logic level after a lapse of a prescribed time following a shift of

the potential of the first node (N1) from the
first logic level to the second logic level;
(c) a counter circuit (117) for changing data stored
therein and outputting a refresh address signal with bits having either

the first logic level or the second logic level when the
potential of the second node shifts from the first logic

level to the second logic level; and
(d) a switch circuit (140) for providing information at
address signal terminals (123-0, ..., 123-n) about the logic levels of the bits of the refresh address signal, by setting the

address signal terminals to either a first state or a
second state in response to a content of the refresh address

signal output from the counter circuit during the test
mode;
 
said semiconductor memory device being characterized by further comprising:


(e) switches (131, 135, 501) connected between said address signal terminals
(123) and a reference potential;
(f) means (503) for controlling said switches in accordance with the outputs from
said counter circuit (117) and a test mode signal from a test mode control circuit

(129); and
(g) an address signal input circuit (119) for outputting 
an address signal fed through the address signal

terminals when the potential of the first node is at
the first logic level and for outputting the refresh address

signal from the counter circuit when the
potential of the first node is at the second logic

level.
A semiconductor memory device in accordance
with claim 1, wherein the first state and the second

state of the switch circuit are a low impedance state
and a high impedance state, respectively.
A semiconductor memory device in accordance
with claim 1, wherein the switch circuit (140) comprises

a plurality of mode selection circuits (130-1, ..., 130-n) which are provided in
correspondence with each bit of the refresh address signal and which

are connected to the counter circuit.
A semiconductor memory device in accordance
with claim 3, wherein each mode selection circuit (130-1, ..., 130-n)

comprises:

(a) a first MOS transistor (131-1, ..., 131-n) having a source, a gate
and a drain, the source being connected

with one of the address signal terminals and the gate being connected with an input terminal
through which a bit of the refresh address signal line is input; and
(b) a second MOS transistor having a source, a gate
and a drain the source, the gate and the drain of the second MOS transistor respectively being

connected with the drain of the first MOS transistor, 
an address signal line through which a test mode signal is input,

and a ground source
having a ground potential.
A semiconductor memory device in accordance
with claim 4, wherein the first MOS transistor of each of the

mode selection circuits is constituted of either an NMOS
transistor or a PMOS transistor.
A semiconductor memory device in accordance
with claim 4, wherein the second MOS transistor of each of the

mode selection circuits (130-1, ..., 130-n) is constituted of an NMOS
transistor if the test mode signal is active when it has a high

level.
A semiconductor memory device in accordance
with claim 4, wherein the second MOS transistor of each of the

mode selection circuits (130-1, ..., 130-n) is constituted of a PMOS
transistor if the test mode signal is active when it has a low

level.
A semiconductor memory device in accordance
with claim 3, wherein each mode selection circuit (135-0, ..., 135-n)

comprises:

(a) a logic gate (503-0, ..., 503-n) having a first input terminal, a
second input terminal and an output terminal, the first

and second input terminals being connected with an
address signal line through which a bit of the refresh address signal

from the counter circuit is input and an input terminal through
which a test mode signal is input, respectively; and 
(b) a MOS transistor (501-0, ..., 501-n) having a source, a gate
and a drain, the source, the gate and the drain being

connected with one of the address signal terminals, the output
terminal of the logic gate and a ground source having a ground potential,

respectively.
A semiconductor memory device in accordance
with claim 8, wherein the logic circuit is an AND gate,

and the MOS transistor is an NMOS transistor.
A semiconductor memory device in accordance
with claim 8, wherein the logic circuit is a NAND gate,

and the MOS transistor is a PMOS transistor.
</CLAIMS>
</TEXT>
</DOC>
