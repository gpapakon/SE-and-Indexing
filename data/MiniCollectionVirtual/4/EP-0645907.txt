<DOC>
<DOCNO>EP-0645907</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and device for channel selection.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04J300	H04J300	H04J306	H04J306	H04J1408	H04J1408	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04J	H04J	H04J	H04J	H04J	H04J	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04J3	H04J3	H04J3	H04J3	H04J14	H04J14	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The present invention provides a method and device 
for channel selection for setting at least one channel 

among N channels as a reference channel, detecting 
temporal location of the reference channel in a 

reception side, selecting an arbitrary channel using a 
relative time difference between the detected temporal 

location of the reference channel and that of the 
channel to be selected. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NIPPON ELECTRIC CO
</APPLICANT-NAME>
<APPLICANT-NAME>
NEC CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ISHIKAWA HAJIME
</INVENTOR-NAME>
<INVENTOR-NAME>
SUZAKI TETSUYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
ISHIKAWA, HAJIME
</INVENTOR-NAME>
<INVENTOR-NAME>
SUZAKI, TETSUYUKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention is used for high speed data 
transmission, and especially for optical fiber data 
transmission systems that multiplex and distribute high 
speed data. Here, the prior art of channel selection method 
described in Japanese Patent Laid-Open No.42929 (1991) is 
explained. Fig.10 is a block diagram showing the channel 
selection method described in the above-mentioned Published 
Unexamined Patent Application. In this figure, 101 is a transmitter. 102 to 105 are data transmission circuits for 
receiving data from data input terminals D1 to D4 
respectively and outputting the data at respective timing. 106 is a bit multiplexing circuit for time division 
multiplexing data output from the data transmission 
circuits 102 to 105 and outputting a serial transmission 
data to a reception side. 107 is a first frequency divider for frequency 
dividing a transmission clock into 1/4 and supplying pulses 
of which timing are different each other to the data 
transmission circuits 102 to 105.  108 is a clock generation circuit for supplying the 
transmission clock to the bit multiplexing circuit 106, 
the frequency divider 107 and the reception side. 109 is a channel information addition circuit for 
detecting channel information input from a channel 
information input terminal CH1 and supplying this 
channel information to the bit multiplexing circuit 106, 
the frequency divider 107 and the clock generation 
circuit 108. The channel information consists of channel 
numbers and information on number of all channels. 110 is a receiver. 111 is a data reception circuit for selecting 
channels in the serial transmission data and extracting 
data of a specified channel. 112 is a clock reception circuit for receiving the 
transmission clock. 113 is a gate circuit for opening and closing at 
every one clock based on the channel information and 
channel selection information input into a channel 
selection input terminal CHS and controlling the 
transmission clock. 114 is a second frequency divider for frequency 
dividing the clock from the gate circuit 113 into 1/4. 115 is a channel information detection circuit for 
detecting channel information from among reception data.  OUT is an output terminal of reception data. Next, operation of the above-mentioned channel 
selection method is explained. First, the clock generation circuit 108 generates a 
clock signal at transmission speed of the system trunk 
line within the transmitter 101. The frequency divider 107 frequency divides the 
clock signal into 1/4
</DESCRIPTION>
<CLAIMS>
A method for channel selection for time division 
multiplexing data of N channels and selecting an arbitrary 

channel in reception side, characterized in comprising: 

(a) step of setting at least one channel among said N 
channels as a reference channel, generating a transmission 

signal by time division multiplexing discrimination 
information for discriminating said reference channel with 

data of other channels and transmitting said transmission 
signal; and 
(b) step of receiving said transmission signal, 
detecting temporal location of said reference channel in 

said N channels based on said discrimination information 
and selecting an arbitrary channel based on a relative time 

difference between said temporal location of reference 
channel detected and temporal location of said arbitrary 

channel in said N channels. 
The method for channel selection of claim 1, 
characterized in that a plurality of reference channels of 

which discrimination information are different each other 
are set in said (a) step. 
The method for channel selection of claim 2, 
characterized in that temporal locations of said reference 

channels are set in even interval. 
The method for channel selection of claim 3,
 

characterized in that said intervals are set at N/2 time 
slot if N is an even number or at every (N±1)/2 time 

slot if N is an odd number. 
The method of any of claims 1 to 4, 
characterized in that said (b) step comprises: 


(c) step of generating a synchronization signal 
according to transmission speed of said data; 
(d) step of detecting said discrimination 
information from said transmission signal by changing 

phase of said synchronization signal, synchronizing said 
synchronization signal with said reference channel and 

setting the phase at this time as a reference phase; and 
(e) step of selecting an arbitrary channel, when 
having received request of selecting said arbitrary 

channel, by counting number of time slots from said 
reference channel to said arbitrary channel, shifting 

said reference phase said number of the time slots and 
synchronizing said synchronization signal with said 

arbitrary channel. 
The method of any of claims 1 to 5, 
characterized in that there are L kinds of data 

transmission speed for said N channels, and said (b) 
step comprises: 


(f) step of generating a plurality of 
synchronization signals according to said L kinds of 

 
data transmission speed; 
(g) step of discriminating said discrimination 
information from said transmission signal by changing 

phase of a synchronization signal among said 
synchronization signals and detecting said reference 

channel; 
(h) step of adjusting phase of said synchronization 
signals to said reference channel and setting these 

synchronization signals as reference synchronization 
signals; and 
(i) step of selecting an arbitrary channel, when 
having received request of selecting an arbitrary 

channel, by selecting a reference synchronization signal 
according to said arbitrary channel data transmission 

speed among said reference synchronization signals, 
counting number of time slots from said reference 

channel to said arbitrary channel, shifting phase of 
said selected reference synchronization signal said 

number of the time slots and synchronizing said 
synchronization signal with said arbitrary channel. 
A data transmitter for time division multiplexing 
data of N channels, characterized in comprising: 

   a discrimination information generation means (1) 
for generating discrimination information to 

discriminate a reference channel; and
 

   a time division multiplexing means (3) for time 
division multiplexing said discrimination information 

and data of other channels, and generating transmission 
data. 
The data transmitter of claim 7, characterized in 
comprising a plurality of discrimination information 

generation means (1, 50) for generating discrimination 
information that are different each other. 
A data receiver for receiving a transmission signal 
generated by time division multiplexing N channels 

including at least one reference channel in which 
discrimination information is interpolated, 

characterized in comprising: 
   a transmission clock signal extraction means (6) 

for extracting a transmission clock from said 
transmission signal; 

   a reference channel detection means (11) for 
detecting said reference channel from said transmission 

signal based on said discrimination information; 
   a synchronization signal phase control means (C) 

for generating a synchronization signal according to 
said data transmission speed based on said transmission 

signal, making said reference channel detection means 
detect said reference channel by controlling phase of 

said synchronization signal, storing the phase at the 
 

time when said reference channel detection means has 
detected said reference channel as reference phase, as 

well as when having received request of selection of an 
arbitrary channel, counting number of time slots from 

said reference channel to said arbitrary channel, 
shifting said reference phase said number of the time 

slots and synchronizing phase of said synchronization 
signal with said arbitrary channel; and 

   a data extraction means (10) for extracting data of 
said arbitrary channel from said transmission signal 

based on said synchronization signal phase-controlled by 
said synchronization signal phase control means. 
The data receiver of claim 9, characterized in that 
said synchronization signal phase control means (C) 

comprises; 
   a frequency divider (8) for generating said 

synchronization signal by dividing said transmission 
clock signal into 1/N; 

   a phase changing circuit (9) for changing phase of 
said synchronization signal based on a control signal 

and synchronizing phase of said synchronization signal 
with an arbitrary channel; and 

   a phase control circuit (12) for making said 
reference channel detection means detect said reference 

channel by outputting said control signal to change the 
 

phase of said synchronization signal, storing the phase 
at the time when said reference channel detection means 

has detected said reference channel as reference phase, 
as 
well as when having received request of selection of 
an arbitrary channel, counting number of time slots from 

said reference channel to said arbitrary channel and 
outputting said control signal to shift said reference 

phase said number of the time slots. 
The data receiver of claim 9, characterized in that 
said synchronization signal phase control means (C) 

comprises; 
   a frequency divider (13) for generating said 

synchronization signal by frequency dividing said 
transmission clock signal into 1/N; 

   a phase control circuit (14) for changing phase of 
said synchronization signal by resetting said second 

frequency divider, making said reference channel 
detection means detect said reference channel, storing 

the phase at the time when said reference channel 
detection means has detected said reference channel as 

reference phase, as well as when having received request 
of selection of an arbitrary channel, counting number of 

time slots from said reference channel to said arbitrary 
channel, resetting said second frequency divider so as 

to delay said reference phase said number of the time 
 

slots. 
The data receiver of claim 9, characterized in that 
said synchronization signal phase control means (C) 

comprises; 
   a variable frequency divider (15) having frequency 

division modes, 1/N and 1/(N+1), for generating said 
synchronization signal by frequency dividing said 

transmission clock signal in a frequency division mode, 
1/N normally, or generating said synchronization signal 

by frequency dividing said transmission clock signal in 
a frequency division mode 1/(N+1) for number of cycles 

instructed when the number of cycles has been 
instructed; and 

   a phase control circuit (16) for changing phase of 
said synchronization signal by outputting an instruction 

of said number of cycles to said variable frequency 
divider, making said reference channel detection means 

detect said reference channel, storing the phase at the 
time when said reference channel detection means has 

detected said reference channel as reference phase, as 
well as when having received request of selection of 

said arbitrary channel, counting number of time slots 
from said reference channel to said arbitrary channel, 

outputting said number of the time slots as said number 
of cycles to said variable frequency divider. 
The data receiver of any of claims 9 to 12, when having receiving 
a transmission signal in which L reference channels are 

set, characterized in that: 
   L units of said reference channel detection means 

(11, 51) are set, each of said reference channel 
detection means detects each reference channel; and 

   said synchronization signal phase control (C) means 
stores phase of the synchronization signal that has been 

detected at first by one of said L units of reference 
channel detection means as said reference phase. 
The data receiver of any of claims 9 to 13, when data transmission 
speed of said N channels are different each other, 

characterized in comprising; 
   a second synchronization signal phase control means 

(C) for generating a second synchronization signal 
according to an arbitrary data transmission speed based 

on said transmission clock signal, adjusting phase of 
said second synchronization signal to said reference 

channel that has been detected by said reference channel 
detection means by controlling phase of said second 

synchronization signal, as well as when having received 
request of selection of channel according to said second 

synchronization signal, counting number of time slots 
from said reference channel to the channel requested to 

be selected, shifting phase of said second 
 

synchronization signal adjusted to said reference 
channel said number of the time slots and synchronizing 

said second synchronization signal with said channel 
requested to be selected; and 

   a second data extraction means (72) for extracting 
data of said channel requested to be selected from said 

transmission signal based on said second synchronization 
signal that is phase controlled by said synchronization 

signal phase control means. 
A data receiver for receiving a transmission signal 
that is generated by time division multiplexing N 

channels including at least one reference channel in 
which discrimination information is inserted and having 

a plurality of data transmission speed, characterized in 
comprising: 

   a transmission clock signal extraction means (72) 
for extracting a transmission clock signal from said 

transmission signal; 
   a reference channel detection means (11) for 

detecting said reference channel from said transmission 
signal based on said discrimination information; 

   a synchronization signal phase control means (C) 
for generating a first synchronization signal according 

to data transmission speed of said reference channel and 
a second synchronization signal according to data 

 
transmission speed of other channels, making said 

reference channel detection means detect said reference 
channel by controlling phase of said first 

synchronization signal, adjusting phases of said second 
synchronization signal to the detected reference 

channel, as well as when having received request of 
selection of an arbitrary channel, selecting said second 

synchronization signal according to data transmission 
speed of said arbitrary channel, counting number of time 

slots from said reference channel to said arbitrary 
channel, shifting phase of said second synchronization 

signal adjusted to said reference channel said number of 
the time slots and synchronizing said synchronization 

signal with said arbitrary channel; and 
   a data extraction means (72) for extracting data of 

said arbitrary channel from said transmission signal 
based on said second synchronization signal that is 

phase controlled by said synchronization signal phase 
control means. 
The data receiver of claim 15, characterized in that 
said synchronization signal phase control means 

comprises: 
   a plurality of frequency dividers (74, 75) for 

generating said synchronization signal having same 
transmission speed as an arbitrary data by frequency 

 
dividing said transmission clock signal; 

   a plurality of phase changing circuits (76, 77), 
each of said phase changing circuits for adjusting phase 

of said synchronization signal to said arbitrary channel 
by changing phase of said synchronization signal based 

on a control signal; and 
   a phase control circuit (80) for outputting said 

control signal to change phase of said synchronization 
signal, adjusting phase of said synchronization signal 

to said reference channel, as well as when having 
received request of selection of said arbitrary channel, 

counting number of time slots from said reference 
channel to said arbitrary channel and outputting said 

control signal to shift phase of said synchronization 
signal adjusted to said reference channel said number of 

the time slots. 
A data transmitter and receiver, characterized in 
comprising: 


(a) a data transmission means (A) including: 

(1) a discrimination information generation 
means (1) for generating discrimination information to 

discriminate a reference channel; 
(2) a time division multiplexing means (3) for 
generating transmission data by time division 

multiplexing said discrimination information and data of 
 

other channels; 
(b) a data reception means (B) including: 

(1) a transmission clock signal extraction 
means (6) for extracting a transmission signal from said 

transmission signal; 
(2) a reference channel detection means (11) 

for detecting said reference channel from said 
transmission signal based on said discrimination 

information; 
(3) a synchronization signal phase control 
means (C) for generating a synchronization signal 

according to said data transmission speed based on said 
transmission clock signal, making said reference channel 

detection means detect said reference channel by 
controlling phase of said synchronization signal, 

storing the phase at the time when said reference 
channel detection means has detected said reference 

channel as reference phase, as well as when having 
received request of selection of an arbitrary channel, 

counting number of time slots from said reference 
channel to said arbitrary channel, shifting said 

reference phase said number of the time slots and 
synchronizing phase of said synchronization signal with 

said arbitrary channel; and 
(4) a data extraction means (10) for 
 

extracting data of said arbitrary channel based on said 
synchronization signal that is phase controlled by said 

synchronization signal phase control means. 
The data transmitter and receiver of claim 17, 
characterized in that said synchronization signal phase 

control means (C) comprises: 
   a frequency divider (8) for generating said 

synchronization signal by frequency dividing said 
transmission clock signal into 1/N; 

   a phase changing circuit (9) for synchronizing 
phase of said synchronization signal to an arbitrary 

channel by changing phase of said synchronization signal 
based on a control signal; 

   a phase control circuit (12) for making said 
reference channel detection means detect said reference 

channel by outputting said control signal to change the 
phase of said synchronization signal, storing the phase 

at the time when said reference channel detection means 
has detected said reference channel as reference phase, 

as well as when having received request of selection of 
an arbitrary channel, counting number of time slots from 

said reference channel to said arbitrary channel, 
outputting said control signal to shift said reference 

phase said number of the time slots. 
The data transmitter and receiver of claim 17,
 

characterized in that said synchronization signal phase 
control means (C) comprises: 

   a frequency divider (13) for generating said 
synchronization signal by frequency dividing said 

transmission clock signal into 1/N; 
   a phase control circuit (14) for changing phase of 

said synchronization signal by resetting said frequency 
divider, making said reference channel detection means 

detect said reference channel, storing the phase at the 
time when said reference channel detection means has 

detected said reference channel as reference phase, as 
well as when having received request of selection of an 

arbitrary channel, counting number of time slots from 
said reference channel to said arbitrary channel, 

resetting said frequency divider so as to delay said 
reference phase said number of time slots. 
The data transmitter and receiver of claim 17, 
characterized in that said synchronization signal phase 

control means (C) comprises: 
   a variable frequency divider (15) having frequency 

division modes, 1/N and 1/(N+1), for generating 
synchronization signal by frequency dividing said 

transmission clock signal in a frequency division mode, 
1/N normally, and generating a synchronization signal by 

frequency dividing said transmission clock signal in a 
 

frequency division mode, 1/(N+1) for number of cycles 
instructed when the number of cycles has been 

instructed; and 
   a phase control circuit (16) for changing phase of 

said synchronization signal by outputting an instruction 
of said number of cycles to said variable frequency 

divider, making said reference channel detection means 
detect said reference channel, storing the phase at the 

time when said reference channel detection means has 
detected said reference channel as reference phase, as 

well as when having received request of selection of 
said arbitrary channel, counting number of time slots 

from said reference channel to said arbitrary channel, 
outputting said number of the time slots as said number 

of cycles to said variable frequency divider. 
The data transmitter and receiver of any of claims 17 to 20, when 
receiving a transmission signal in which L reference 

channels are set, characterized in that: 
   L units of said reference channel detection means 

(11, 51) are set, each of said reference channel 
detection means detects each reference channel; and 

   said synchronization signal phase control means (C) 
stores phase of the synchronization signal that has been 

detected at first by one of L units of said reference 
channel detection means as said reference phase. 
A data receiver for receiving a transmission signal 
that is generated by time division multiplexing N 

channels including at least one reference channel in 
which discrimination information is inserted and having 

a plurality of data transmission speeds, characterized 
in comprising: 

   a transmission clock signal extraction means (72) 
for extracting a transmission clock signal from said 

transmission signal; 
   a reference channel detection means (11) for 

detecting said reference channel from said transmission 
signal based on said discrimination information; 

   a synchronization signal phase control means (C) 
for generating a plurality of synchronization signals 

according to said data transmission speeds based on said 
transmission clock signal, making said reference channel 

detection means (11) detect said reference channel by 
controlling combination of phases of said 

synchronization signals, adjusting phases of said 
synchronization signals to the detected reference 

channel, as well as when having received request of 
selection of an arbitrary channel, counting number of 

time slots from said reference channel to said arbitrary 
channel, shifting phase of said synchronization signals 

adjusted to said reference channel said number of the 
 

time slots and synchronizing said combination of phase 
of said synchronization signals with said arbitrary 

channel; and 
   a data extraction means (72) for extracting data of 

said arbitrary channel from said transmission signal 
based on said synchronization signals that is phase 

controlled by said synchronization signal phase control 
means. 
The data receiver of claim 22, characterized in that 
said synchronization signal phase control means 

comprises: 
   a plurality of frequency dividers (74, 75) for 

generating said synchronization signal having same data 
transmission speed by frequency dividing said 

transmission clock signal; 
   a plurality of phase changing circuits (76, 77), 

each of said phase changing circuits for adjusting phase 
of said synchronization signal to said arbitrary channel 

by changing phase of said synchronization signal based 
on a control signal; and 

   a phase control circuit (80), for outputting said 
control signals to change phase of said synchronization 

signal, adjusting phase of said synchronization signal 
to said reference channel, as well as when having 

received request of selection of said arbitrary channel, 
 

counting number of time slots from said reference 
channel to said arbitrary channel and outputting said 

control signals to shift phases of said synchronization 
signals adjusted to said reference channel said number 

of the time slots. 
</CLAIMS>
</TEXT>
</DOC>
