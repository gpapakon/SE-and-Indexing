<DOC>
<DOCNO>EP-0621547</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processing apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T700	G06T340	G06T340	G06T700	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T7	G06T3	G06T3	G06T7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image processing apparatus obtains an exact 
distance of a marking portion shown on a document image 

based upon a magnification (reduction) shown on a document 
image such as a map. etc. following the sequence of 

processes as mentioned below. First, a reduction value 
and a marking portion are recognized from an image data of 

a document image, and the marking portion is combined with 
the image data. Next, a dimension of the marking portion 

is obtained, and the exact distance of the marking portion 
is calculated based upon the obtained dimension and the 

reduction value. Then, after the distance value has been 
combined with the image data, the image data is outputted 

(copied). By adopting the processes, for example, in the 
case where an exact distance of a predetermined interval 

on the map is expected to be obtained, the desired 
distance value is shown in an outputted image only by 

preliminarily describing a marking on a specified interval 
in the document image. This makes it possible to improve 

added value of the apparatus when the image processing 
apparatus is applied to a digital copying machine and the 

like. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SHARP KK
</APPLICANT-NAME>
<APPLICANT-NAME>
SHARP KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MATSUMOTO KENJI
</INVENTOR-NAME>
<INVENTOR-NAME>
MIYAZA MASAO
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUMOTO, KENJI
</INVENTOR-NAME>
<INVENTOR-NAME>
MIYAZA, MASAO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to image processing
apparatuses, such as copying machines, facsimiles, scanner
printers, for supplying a predetermined process to image
data of an original document, which have been read by
input means.Recently, an image processing apparatus, for example,
a copying machine which is capable of enlarging and
reducing has been spread through the world. Such a
copying machine, which can easily provide copying images
of a desired magnification for document images, is in
common use for copying maps, design drawings of machines 
and buildings and the like.Further, as to such kind of a copying machine, a
digital copying machine is also in common use. The
digital'copying machine reads scanned document images by
using an image pickup element such as a CCD (Charge
Coupled Device) sensor, etc. and stores the image data in
an image memory. The digital copying machine then
enlarges or reduces the image data, and outputs the image
data. Since such a machine temporarily stores image data
of a document in an image memory, it is easy to enlarge
or reduce the image data.In the processes of enlargement and reduction,
longitudinal and lateral magnifications may be set
differently. Further, a copying magnification is suitably
set by an operator (manual magnification setting), or
automatically set according to a size of a copy sheet
(automatic magnification setting).However, with respect to processes of enlargement and
reduction, since a conventional digital copying machine is
capable of only enlarging or reducing a whole image, the
function is low in spite of the advantage of an easy
process for image data, thereby causing low added value.Therefore, an image processing apparatus such as the
above-mentioned copying machine is hoped to be developed 
so as to have a function which can solve following
problems and so as to rise added value of the apparatus.For example, although design drawings of machines and
buildings are made in an exact dimension or an accurate
magnification, when they are copied by a copying machine,
the copy image is very difficult to determine whether a
dimension of the copy image is same as the exact
dimension, enlarged, or reduced. Furthermore, after
enlarging and reducing are repeated, the magnifications of
the drawing becomes difficult to be discriminated. As a
result it is hard to grasp the exact dimension.In addition, since blank portions were also enlarged
or reduced, when a drawing is returned to its exact
dimension, there cause problems that the image is too
large or
</DESCRIPTION>
<CLAIMS>
An image processing apparatus comprising:

image input means (22) for reading a document image;
magnification recognition means (71i) for recognizing a
magnification of the document image to an actual image, which

is shown on the document image, from image data of the document
image read by said image input means (22);
mark recognition means (80) for recognizing interval
marks shown in the document image from the image data of the

document image;
dimension calculating means (74) for calculating a dimension
of intervals which have been specified by the interval

marks;
conversion means (74) for converting the dimension of
the intervals to a length with the magnification of 1 based

upon the magnification; and
combining means (74) for combining the image data with
data of the conversion value obtained by said conversion

means (74).
The image processing apparatus as defined in claim 1,
further comprising image output means (7, 10 to 17, 20, 21)

for visualising and outputting the data combined by said combining
means (74).
The image processing apparatus as defined in claim 1,
wherein said magnification recognition means (71) includes

character recognition means (71i) for recognizing the magnification
by character-recognizing character data which have

been extracted from the image data of the document image read
by said image input means (22).
The image processing apparatus as defined in claim 1,
wherein said dimension calculating means (74) includes calculating

means (74) for calculating the interval dimension from
a number of picture elements in the interval mark area recognized

by said mark recognition means (80). 
The image processing apparatus as defined in claim 1,
wherein said combining means (74) includes selective combining

means for combining the data so that the conversion value
is shown on a blank portion when the blank portion exists in

the proximity of the interval mark, whereas for combining the
data so that the conversion value is shown deeply and boldly

when a blank portion does not exist in the proximity of the
interval mark.
The image processing apparatus as defined in claim 1,
further comprising warning means (S11) for warning that the

processes by said conversion means (74) and combining means
(74) cannot be carried out when the magnification cannot be

recognized by said magnification recognition means (80).
An image processing apparatus comprising:

image input means (22) for reading a document image;
area specifying means (100) for specifying an arbitrary
area in the document image read by said image input means

(22);
interval specifying means (100) for specifying arbitrary
intervals in the document image;
dimension calculating means (74) for calculating a dimension
of the intervals;
dimension input means (37) for inputting a prescribed
dimension of the intervals;
ratio calculating means (74) for calculating a ratio of
the interval dimension to the prescribed dimension;
first magnification setting means (74) for setting a reciprocal
of the ratio as a first magnification of the specified

area which has been specified by said area specifying
means (100);
first conversion means (74) for converting a size of a
first image within the specified area in accordance with the

first magnification;
second magnification setting means (74) for setting a
second magnification of an unspecified area so that a second

image in the unspecified area does not exceed a predetermined 
size of sheets, the unspecified area being other than the

specified area on a sheet of a predetermined size which is
provided for the first image whose size has been converted by

said first conversion means (74);
second conversion means (74) for converting the size of
the second image in accordance with the second magnification;

and
combining means (74) for combining image data of both
the images whose sizes have been converted by said first and

said second conversion means (74).
The image processing apparatus as defined in claim 7,
further comprising image output means (7, 10 to 17, 20, 21)

for visualising and outputting the image data combined by
said combining means (74).
The image processing apparatus as defined in claim 7,
further comprising size changing means (S40) for changing a

size of sheets when the second image, whose size has been
converted by said second conversion means (74), is expected

to exceed the predetermined size of sheets.
The image processing apparatus as defined in claim 9,
further comprising warning means (S41) for warning that the

process by said conversion means (74) and said combining
means (74) cannot be carried out when a size of sheets cannot

be changed by said size changing means (S40).
The image processing apparatus as defined in claim 7,
wherein said area specifying means (100) includes area specifying

point input means (100a, 100b) for specifying a rectangle
as an arbitrary area by inputting two coordinates at both

ends of a diagonal line of the rectangle.
The image processing apparatus as defined in claim 7,
wherein said interval specifying means (100) includes interval

specifying point input means (100a, 100b) for specifying
a length between the two coordinates as an arbitrary interval

by inputting two coordinates. 
An image processing apparatus comprising:

image input means (22) for reading a document image;
interval specifying means (100) for specifying an arbitrary
interval in a document image read by said image input

means (22);
dimension calculating means (74) for calculating a dimension
of the interval;
dimension input means (37) for inputting a prescribed
dimension of the interval;
ratio calculating means (74) for calculating a ratio of
the dimension of the interval to the prescribed dimension;
magnification input means (74) for inputting an arbitrary
magnification to an exact dimension as the prescribed

dimension;
conversion magnification calculating means (74) for calculating
a conversion magnification, which is used in the

case where a size of the document image is converted, in accordance
with the ratio and the magnification so that the

document image has the same dimension as an image which has
been obtained by converting a size of the image having an exact

dimension of the document data at a magnification inputted
by said magnification input means (39); and
conversion means (74) for converting a size of the document
image in accordance with the conversion magnification.
The image processing apparatus as defined in claim 13,
further comprising image output means (7, 10 to 17, 20, 21)

for visualising and outputting the image data of the document
image whose size has been converted by said conversion means

(74).
The image processing apparatus as defined in claim 13,
wherein said interval specifying means (100) includes interval

specifying point input means (100a, 100b) for specifying
a length between two coordinates as an arbitrary interval by

inputting the two coordinates. 
The image processing apparatus as defined in claim 15,
further comprising:


dimension line recognition means (74) for recognizing a
dimension line shown in the document image from image data of

the document image;
wherein said interval specifying point input means
(100a, 100b) includes coordinate reading means for reading

coordinates at both ends of the dimension line.
The image processing apparatus as defined in claim 13,
wherein said dimension input means (37) includes dimension

value reading means for reading a dimension value mentioned
on the dimension line as a prescribed dimension.
The image processing apparatus as defined in claim 13,
further comprising size changing means (S115) for changing a

size of sheets when the document image whose size has been
converted by said conversion means (74) is expected to exceed

the predetermined size of sheets.
The image processing apparatus as defined in claim 18,
further comprising warning means (S116) for warning that

processes by said image output means (7, 10 to 17, 20, 21)
cannot be carried out when a size of sheets cannot be changed

by said size changing means (S115).
An image processing apparatus, comprising:

image input means (22) for reading a document image;
interval specifying means (100) for specifying an arbitrary
interval in the document image read by said image input

means (22);
dimension calculating means (74) for calculating a dimension
of the interval;
dimension input means (37) for inputting a prescribed
dimension of the intervals specified by said interval specifying

means (100);
first ratio calculating means (74) for calculating a
first ratio of the dimension of the intervals to the prescribed

dimension; 
magnification input means (39) for inputting an arbitrary
magnification to the document image;
conversion means (74) for converting a size of the document
image in accordance with the magnification;
second ratio calculating means (74) for calculating a
second ratio of the dimension of the intervals in the document

image, whose size has been converted by said conversion
means (74), to the prescribed dimension in accordance with

the first ratio and the magnification; and
combining means (74) for combining the data of the second
ratio with the image data of the document image.
The image processing apparatus as defined in claim 20,
further comprising image output means (7, 10 to 17, 20, 21)

for visualising and outputting the data combined by said combining
means (74).
The image processing apparatus as defined in claim 20,
wherein said interval specifying means (100) includes interval

specifying point input means (100a, 100b) for specifying
a length between two coordinates as an arbitrary interval by

inputting the two coordinates.
The image processing apparatus as defined in claim 22,
further comprising:


dimension line recognition means (74) for recognizing a
dimension line shown in the document image from the image

data of the document image;
wherein said interval specifying point input means
(100a, 100b) includes dimension reading means (100a) for

reading coordinates at both ends of the dimension line.
The image processing apparatus as defined in claim 20,
wherein said dimension input means (37) includes dimension

value reading means (74) for reading a dimension value shown
on the dimension line as a prescribed dimension.
An image processing apparatus, comprising:

image input means (22) for reading a document image of a 
map;
reduction ratio input means (37) for inputting a reduction
ratio of the map;
reference point input means (100a, 100b) for inputting a
reference point on a road shown in the map;
interval input means (100a, 100b) for inputting predetermined
intervals on the road by an exact distance;
unit length calculating means (74) for calculating a
unit length which is equal to a length of a unit distance on

the map in accordance with the reduction ratio;
conversion means (74) for converting the intervals to
the length on the map by the unit length;
road recognition means (74) for recognizing the road
from the image data starting at the reference point by superimposing

the reference point on the image data of the document
image read by said image input means (22); and
combining means (74) for combining the image data of the
road recognized by said road recognition means with marking

data for each converted interval which has been converted by
said conversion means (74).
The image processing apparatus as defined in claim 25,
further comprising image output means (7, 10 to 17, 20, 21)

for visualising and outputting the data combined by said combining
means (74).
The image processing apparatus as defined in claim 25,
wherein said road recognition means (74) includes comparison

means (74) for comparing a feature of the road with sample
data for each predetermined block of the image data so as to

recognize the road.
The image processing apparatus as defined in claim 25,
wherein said combining means (74) includes distance calculating

means (74) for calculating an exact distance of the road
from the reference point so a
s to decide the conversion intervals
based upon the unit length. 
The image processing apparatus as defined in claim 28,
further comprising addition means (74) for adding the converted

intervals subsequently beginning with the reference
point to provide the obtained values as markings.
</CLAIMS>
</TEXT>
</DOC>
