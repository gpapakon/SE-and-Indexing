<DOC>
<DOCNO>EP-0618547</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Output device
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K1502	G06K1502	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K15	G06K15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An output device characterized by being equipped 
with pattern generator to generate font pattern such 

as character and symbol, the first memory means to 
temporarily memorize the dot image pattern corresponding 

to the generated font pattern, the second 
memory means which can memorize dot pattern upon 

necessity and changing means to dynamically change 
the memory space in such manner as to incorporate 

the second memory into the first memory. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MATOBA TORU
</INVENTOR-NAME>
<INVENTOR-NAME>
NAGATA SATOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
MATOBA, TORU
</INVENTOR-NAME>
<INVENTOR-NAME>
NAGATA, SATOSHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an output
device for the improvement of dynamic allocation of
the font pattern memory area.Conventionally, among the output devices such
as printers, those which output character symbols in
dot pattern (hereinafter called font pattern or
character and other pattern), excepting type printer,
mostly output the character code data provided by the
host computer etc. after registering the character and
other pattern in the frame buffer memory (one page
image memory) by character generator.The style of character pattern data stored in
the character generator may be roughly divided into
the following three.
1 ○ The font where character and other pattern
(hereinafter simply called character pattern) is
composed of a simple dot matrix itself (unprocessed)
(hereinafter called "dot matrix").2 ○ The font where character pattern is memorized
by the profile, stroke or by the coordinates relative
to the origin of the character (hereinafter called 
"vector font").3 ○ The font where dot matrix pattern is processed
by some compression technology (such as Run Length sign
method) (hereinafter called "compressed font").Out of the above, the font which is most
frequently used in the conventional output device is
"dot matrix font". It is because it memories character
pattern itself on the dot matrix and therefore registration
in the frame buffer memory can be easily done
at a high speed.However, with the sophistication of performance
and increase of resolution of output devices,
rotation or deformation of character have been demanded
and thus "vector font" (outline font) has begun to
be used popularly. As the method to cope with the
increase of capacity of font resulted by the increase
of resolution, "compressed font" has also come to be
used. Recently, the font which mixes these different
fonts has also been introduced.If these styles are grouped under the name
of "non-dot matrix", the "non-dot matrix" font has
the advantage not possessed by "dot matrix" font but
it has the drawback that it requires more time for
registration of character pattern in the frame buffer
memory when compared to the simple "dot matrix" font.As the method to solve such problem, "font
cache method" has been made available. In the case 
of this method, when "non-dot matrix" font is registered
in the frame buffer memory, it is first converted into
"dot matrix" font and its pattern is memorized and
stored and such methods have been used in many output
devices to contribute to the improvement of processing
speed as a
</DESCRIPTION>
<CLAIMS>
A character processing apparatus comprising:

generating means (204) for generating dot form font
data from non-dot form font data;
memory means (RAM) for reading and writing data,
said memory means including a cache area (207) for
storing the dot form font data generated by said

generating means;
registration means (208) for, when dot form font
data corresponding to a character to be output is stored

in the cache area (207), registering the stored dot form
font data, and for, when dot form font data corresponding

to a character to be output is not stored in the cache
area (207), causing said generating means (204) to

generate dot form font data from non-dot form font data
corresponding to the character to be output and

registering the generated dot form font data; and
means (212) for changing the size of said memory
means,
the apparatus being characterised by including:
setting means for variably setting the size of the
cache area (207) according to the currently existing size

of said memory means.
An apparatus according to claim 1, wherein said
changing means (212) comprises a means for connecting a

detachable memory device (205) to said apparatus and 
wherein said setting means is arranged to set the size

of the cache area (207) of said memory means such that
the ratio of the cache area size to the entire memory

size remains substantially constant.
An apparatus according to either of the preceding
claims, further comprising print means (211) for printing

data based on the dot form font data registered by said
registration means (208).
An apparatus according to any one of the preceding
claims, wherein said memory means further comprises a

memory area (209) beside the cache area (207), wherein
said registration means (208) is arranged to register the

dot form font data in the memory area (209), and wherein
said setting means is arranged to maintain the size of

the memory area (209)

unchanged regardless
of change in the size of said memory means.
An apparatus according to any of claims 1 to 3,
wherein said registration means (208) is arranged to

register the dot form font data in a memory area (209)
for storing image data to be sent to an output means

(210).
An apparatus according to claim 1, further 
comprising means for changing the ratio of the cache area

size to the entire memory size.
A character processing method comprising the steps
of:


generating dot form font data from non-dot form font
data;
storing the generated dot form font data in a font
cache area (207) in a memory means (RAM) for reading and

writing data, the memory means also including a
registration area (209); and
when dot form font data corresponding to a character
to be output is stored in the cache area (207),

registering the stored dot form font data in the
registration area (209), and when dot form font data

corresponding to a character to be output is not stored
in the cache area (207), causing said generating step to

generate dot form font data from non-dot form font data
corresponding to the character to be output and

registering the generated dot form font data in the
registration area (209),
the method being characterised by the step of:
variably setting the size of the cache area (207)
according to the size of the memory means including the

cache area (207) and the registration area (209), when
the size of the memory means is changed.
A method according to claim 7, including the step
of increasing the size of the memory means by connection

of a detachable memory device (205), and wherein in said
setting step the size of the cache area (207) is set such

that the ratio of the cache area size to the entire
memory size remains substantially constant.
A method according to claim 7 or claim 8, further
comprising the step of printing data based on the

registered dot form font data.
A method according to any one of claims 7 to 9,
wherein said setting step maintains the size of the

registration area (209) unchanged regardless of change
in the size of the memory means.
A method according to claim 7, further comprising
the step of changing the ratio of the cache area size to

the entire memory size.
</CLAIMS>
</TEXT>
</DOC>
