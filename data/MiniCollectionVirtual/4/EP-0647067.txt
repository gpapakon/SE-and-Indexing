<DOC>
<DOCNO>EP-0647067</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Error correction for digital video data
</INVENTION-TITLE>
<CLASSIFICATIONS>G11B2018	G11B2012	H04N594	H04N5926	H04N592	H04N594	G11B2012	G11B2018	H04N592	H04N5926	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G11B	G11B	H04N	H04N	H04N	H04N	G11B	G11B	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G11B20	G11B20	H04N5	H04N5	H04N5	H04N5	G11B20	G11B20	H04N5	H04N5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In an apparatus for processing input N-bit 
digital video data with an error correction parity, the 

input N-bit digital video data includes each one sample of 
higher-order-N-bit data and a plurality of samples of 

lower-order-(M - N)-bit data, wherein M 
>
 N. An error 
correction circuit corrects an error of input N-bit digital 

video data, outputs error-corrected N-bit digital video 
data, and generates an error detection signal representing 

an error which can not be corrected. Further, a data 
combining circuit converts the error-corrected N-bit 

digital video data into M-bit digital video data, and an 
error classifying circuit classifies the error detection 

signal into a first error detection signal representing an 
error of the each one sample of the higher-order-N-bit data 

and a second error detection signal representing an error 
of the plurality of samples of the lower-order-(M - N)-bit 

data. An error concealment circuit performs an error 
concealment process for the converted M-bit digital video 

data based on only the first error detection signal. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC IND CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC INDUSTRIAL CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HIGASHIDA MASAAKI
</INVENTOR-NAME>
<INVENTOR-NAME>
OOTSUKA TAKESHI
</INVENTOR-NAME>
<INVENTOR-NAME>
HIGASHIDA, MASAAKI
</INVENTOR-NAME>
<INVENTOR-NAME>
OOTSUKA, TAKESHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an apparatus for
processing digital video data with an error correction
parity, and in particular, to an apparatus for recording
and reproducing or transmitting and receiving digital video
data with an error correction parity, comprising error
concealment means, such as a digital VTR, a digital video
data transmitter, a receiver, a transceiver or the like.As video tape recording and reproducing
apparatuses (referred to as VTRs hereinafter) each for
encoding a video signal into digital video signal,
recording the digital video signal onto a magnetic tape and
reproducing the recorded digital video signal from the
magnetic tape, the following VTRs have been put into
practical use:
(a) D1-VTR which uses a component signal as a
signal to be recorded;(b) D2-VTR which uses a composite signal as a
signal to be recorded; and (c) D3-VTR.The details of the D1-VTR are disclosed in, for
example, "SMPTE 227M 19-mm type D1 cassette-helical data
and control record", SMPTE Journal, March 1992. In the D1-VTR,
a video signal is sampled according to the so-called
4:2:2 method, and then the sampled signal is quantized into
eight-bit digital video data, which is recorded onto a
magnetic tape having a width of 3/4 inches. In the 4:2:2
method, the luminance signal is sampled at 13.5 MHz, and
the two color difference signals are sampled at 6.75 MHz,
respectively.In the D2-VTR, the composite video signal is
sampled at the frequency which is four times the frequency
of the subcarrier signal, and then the sampled signal is
quantized into eight-bit video data, which is recorded onto
a magnetic tape having a width of 3/4 inches. However,
since the magnetic tape has the width of 3/4 inches, the
D2-VTR can not be reduced in the size and weight thereof,
and this is requested for a camera integrally incorporated
type VTR. According to these needs in the markets, the D3-VTR
was manufactured as a product. In the D3-VTR, the
composite video signal is quantized into eight-bit video
data, and the video data is recorded onto a magnetic tape
having a width of 1/2 inches.In these digital VTRs, an error correction code 
is made so that one sample obtained by sampling and
quantizing an analog video signal so as to convert the same
into digital video data of eight bits is used as one symbol
of the error correction code. Then, an error concealment
process for predicting the contents of an error sample is
performed for a sample for which an error correction can
not be performed, utilizing a correlation of the video
si
</DESCRIPTION>
<CLAIMS>
An apparatus for recording and reproducing digital video data, comprising:

data dividing means (2) for dividing each sample of input M-bit digital video data into a high-order-N-bit
portion and a lower-order-(M - N)-bit portion, combining (35) lower-order-(M - N)-bit portions from

a plurality of successive M-bit digital video data samples to form a N-bit word, and outputting (39)
combined digital video data as N-bit words consisting of a plurality of said high-order-N-bit portions

and a plurality of said N-bit words of combined lower-order-(M - N)-bit portions, M and N being
predetermined natural numbers, M
>
N;
parity adding means (3) for adding an error correction parity to each N-bit word of
said combined digital video data outputted from said data dividing means (2), and

outputting each N-bit word of said combined digital video data with said error
correction parity;
recording means (4) for recording each N-bit word of said combined digital video
data with said error correction parity outputted from said parity adding means (3),

onto a recording medium (5);
reproducing means (6) for reproducing each N-bit word of said combined digital
video data with said error correction parity recorded on said recording medium (5); 
error correction means (7) for correcting an error of each N-bit word of said combined
digital video data outputted from said reproducing means (6), outputting

error-corrected each N-bit word of said combined digital video data, and generating
and outputting an error detection signal representing an error which can not be corrected;

and
data combining means (8) for converting said error-corrected each N-bit word of
said combined digital video data outputted from said error correction means (7)

into M-bit digital video data by combining said each one sample of said higher-order-N-bit
data and said plurality of samples of said lower-order-(M - N)-bit data

included in said error-corrected each N-bit word of said combined digital video data
so as to obtain said M-bit digital video data, and outputting converted M-bit digital

video data;

characterized in further comprising:

error classifying means (9) for classifying said error detection signal into a first
error detection signal representing an error of said each one sample of said higher-order-N-bit

data and a second error detection signal representing an error of said
plurality of samples of said lower-order-(M - N)-bit data; and
error concealment means (10) for performing an error concealment process for said
converted M-bit digital video data outputted from said data combining means (8)

based on said first error detection signal outputted from said error classifying
means (9), without performing any error concealment process for said converted

M-bit digital video data outputted from said data combining means (8) based on
said second error detection signal outputted from said error classifying means (9).
The apparatus as claimed in Claim 1,

wherein said error classifying means (9) comprises:

line memory means (54, 55) for storing said error detection signal outputted from
said error correction means (7), said line memory means (54, 55) having a memory

capacity for storing said error detection signal of two horizontal scanning line;
write memory control means (47) for controlling said line memory means (54, 55)
so as to write said error detection signal representing an error of said high-order-N-bit

data into said line memory means (54, 55);
read memory control means (48) for controlling said line memory means (54, 55)
so as to read out and output said error detection signal as said first error detection

signal.
The apparatus as claimed in Claim 1 or 2,

wherein said natural number N is a multiple of a natural number (M - N). 
An apparatus for reproducing M-bit digital video data samples from a recording medium, said M-bit
digital video data samples being recorded on said recording medium (5) as N-bit words together with

an error correction parity, each N-bit word consisting either of the higher-order-N-bit portion of a M-bit
digital video data sample or of the lower-order-(M - N)-bit portions of a plurality of successive M-bit

video data samples, M being a predetermined natural number, M and N being predetermined natural
numbers, M
>
N,

   said apparatus comprising:

reproducing means (6) for reproducing each N-bit word of said combined digital
video data with said error correction parity recorded on said recording medium (5);
error correction means (7) for correcting an error of each N-bit word of said combined
digital video data outputted from said reproducing means (6), outputting

error-corrected each N-bit word of said combined digital video data, and generating
and outputting an error detection signal representing an error which can not be

corrected; and
data combining means (8) for converting said error-corrected each N-bit word of
said combined digital video data outputted from said error correction means (7)

into M-bit digital video data by combining said each one sample of said higher-order-N-bit
data and said plurality of samples of said lower-order-(M - N)-bit data

included in said error-corrected each N-bit word of said combined digital video data
so as to obtain said M-bit digital video data, and outputting converted M-bit digital

video data;

characterized in further comprising:

error classifying means (9) for classifying said error detection signal into a first
error detection signal representing an error of said each one sample of said higher-order-N-bit

data and a second error detection signal representing an error of said
plurality of samples of said lower-order-(M - N)-bit data; and
error concealment means (10) for performing an error concealment process for said
converted M-bit digital video data outputted from said data combining means (8)

based on said first error detection signal outputted from said error classifying
means (9), without performing any error concealment process for said converted

M-bit digital video data outputted from said data combinding means (8) based on
said second error detection signal outputted from said error classifying means (9).
The apparatus as claimed in Claim 4,

wherein said error classifying means (9) comprises:

line memory means (54, 55) for storing said error detection signal outputted from
said error correction means (7), said line memory means (54, 55) having a memory

capacity for storing said error detection signal of two horizontal scanning line; 
write memory control means (47) for controlling said line memory means (54, 55)
so as to write said error detection signal representing an error of said high-order-N-bit

data into said line memory means (54, 55);
read memory control means (48) for controlling said line memory means (54, 55)
so as to read out and output said error detection signal as said first error detection

signal.
The apparatus as claimed in Claim 4 or 5,

wherein said natural number N is a multiple of a natural number (M - N).
An apparatus for transmitting and receiving digital video data, comprising:

data dividing means (2) for dividing each sample of input M-bit digital video data into a high-order-N-bit
portion and a lower-order-(M - N)-bit portion, combining (35) lower-order-(M - N)-bit portions from

a plurality of successive M-bit digital video data samples to form a N-bit word, and outputting (39)
combined digital video data of N-bit words consisting of a plurality of said high-order-N-bit portions

and a plurality of said N-bit words of combined lower-order-(M - N)-bit portions, M and N being
predetermined natural numbers, M
>
N;
parity adding means (3) for adding an error correction parity to each N-bit word of
said combined digital video data outputted from said data dividing means (2), and

outputting each N-bit word of said combined digital video data with said error
correction parity;
transmitting means (100) for transmitting each N-bit word of said combined digital
video data with said error correction parity outputted from said parity adding

means (3), to a predetermined destination station;
receiving means (101) for receiving each N-bit word of said combined digital video
data with said error correction parity from said destination station;
error correction means (7) for correcting an error of each N-bit word of said combined
digital video data outputted from said receiving means (101), outputting

error-corrected each N-bit word of said combined digital video data, and generating
and outputting an error detection signal representing an error which can not be

corrected; and
data combining means (8) for converting said error-corrected each N-bit word of
said combined digital video data outputted from said error correction means (7)

into M-bit digital video data by combining said each one sample of said higher-order-N-bit 
data and said plurality of samples of said lower-order-(M - N)-bit data

included in said error-corrected each N-bit word of said combined digital video data
so as to obtain said M-bit digital video data, and outputting converted M-bit digital

video data;

characterized in further comprising:

error classifying means (9) for classifying said error detection signal into a first
error detection signal representing an error of said each one sample of said higher-order-N-bit

data and a second error detection signal representing an error of said
plurality of samples of said lower-order-(M - N)-bit data; and
error concealment means (10) for performing an error concealment process for said
converted M-bit digital video data outputted from said data combining means (8)

based on said first error detection signal outputted from said error classifying
means (9), without performing any error concealment process for said converted

M-bit digital video data outputted from said data combining means (8) based on
said second error detection signal outputted from said error classifying means (9).
The apparatus as claimed in Claim 7,

wherein said error classifying means (9) comprises:

line memory means (54, 55) for storing said error detection signal outputted from
said error correction means (7), said line memory means (54, 55) having a memory

capacity for storing said error detection signal of two horizontal scanning line;
write memory control means (47) for controlling said line memory means (54, 55)
so as to write said error detection signal representing an error of said high-order-N-bit

data into said line memory means (54, 55);
read memory control means (48) for controlling said line memory means (54, 55)
so as to read out and output said error detection signal as said first error detection

signal.
The apparatus as claimed in Claim 7 or 8,

wherein said natural number N is a multiple of a natural number (M - N).
An apparatus for receiving digital video data, said digital video data representing M-bit digital
video samples and being encoded as N-bit words together with an error correction parity, each N-bit

word consisting either of the high-order-N-bit portion of a single M-bit digital video data sample or of
the lower-order-(M - N)-bit portions of a plurality of successive M-bit video data samples, M being

a predetermined natural number, M and N being predetermined natural numbers, M
>
N, said
apparatus comprising: 


receiving means (101) for receiving each N-bit word of said combined digital video
data with said error correction parity from said destination station;
error correction means (7) for correcting an error of each N-bit word of said combined
digital video data outputted from said receiving means (101), outputting

error-corrected each N-bit word of said combined digital video data, and generating
and outputting an error detection signal representing an error which can not be

corrected; and
data combining means (8) for converting said error-corrected each N-bit word of
said combined digital video data outputted from said error correction means (7)

into M-bit digital video data by combining said each one sample of said higher-order-N-bit
data and said plurality of samples of said lower-order-(M - N)-bit data

included in said error-corrected each N-bit word of said combined digital video data
so as to obtain said M-bit digital video data, and outputting converted M-bit digital

video data;

characterized in further comprising:

error classifying means (9) for classifying said error detection signal into a first
error detection signal representing an error of said each one sample of said higher-order-N-bit

data and a second error detection signal representing an error of said
plurality of samples of said lower-order-(M - N)-bit data; and
error concealment means (10) for performing an error concealment process for said
converted M-bit digital video data outputted from said data combining means (8)

based on said first error detection signal outputted from said error classifying
means (9), without performing any error concealment process for said converted

M-bit digital video data outputted from said data combining means (8) based on
said second error detection signal outputted from said error classifying means (9).
The apparatus as claimed in Claim 10,

wherein said error classifying means (9) comprises:

line memory means (54, 55) for storing said error detection signal outputted from
said error correction means (7), said line memory means (54, 55) having a memory

capacity for storing said error detection signal of two horizontal scanning line;
write memory control means (47) for controlling said line memory means (54, 55)
so as to write said error detection signal representing an error of said high-order-N-bit

data into said line memory means (54, 55);
read memory control means (48) for controlling said line memory means (54, 55)
so as to read out and output said error detection signal as said first error detection

signal.
The apparatus as claimed in Claim 10 or 11,

wherein said natural number N is a multiple of a natural number (M - N).
</CLAIMS>
</TEXT>
</DOC>
