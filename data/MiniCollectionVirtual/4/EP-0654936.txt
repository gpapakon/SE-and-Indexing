<DOC>
<DOCNO>EP-0654936</DOCNO> 
<TEXT>
<INVENTION-TITLE>
 Device for renewing an internal program of a facsimile machine
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N100	H04N100	H04N132	G06F9445	G06F9445	G06F1300	G06F1300	H04N132	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	G06F	G06F	G06F	G06F	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	H04N1	H04N1	G06F9	G06F9	G06F13	G06F13	H04N1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method and device of renewing an internal program of 

an apparatus communicatable with a central station operable 
to transmit a new apparatus control program. It is judged 

whether data received from the central station is a new 
program. Replacement is then executed of a previously 

stored program with the new program, if a new program is 
received. A previously stored internal program is automatically 

overwritten by a new program transmitted from the 
central station. 


</ABSTRACT>
<APPLICANTS>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
This invention relates to
a device for renewing a program
stored in an internal program memory of a facsimile machine
in communication with a central station.Japanese Unexamined Patent Publication No. 4-248754
discloses a facsimile machine in which a diagnostic program
is loaded from external communication equipment into a
writable memory of the machine. After executing a diagnostic
test, the program is automatically abandoned or erased,
regarding it as no longer necessary, to ensure effective use
of the memory having a limited storage capacity.Also, Japanese Unexamined Patent Publication No. 4-323070
discloses a printing machine in which a debugging
program is loaded from a read-only-memory (ROM) card or from
a host computer when a bug is found in a control program of
the printing machine. After debugging the control program,
it is stored in an electrically erasable programmable ROM
(EEPROM) so that there is no need to replace an internal ROM
for correcting a program bug. In the above-mentioned facsimile machine, the diagnostic
program or other add-on program for providing an extra
function is temporarily written into a memory where facsimile
image data is normally stored. It is therefore necessary
to perform operations for data communication each time
such a program is required. These operations are complicated
and make it difficult to troubleshoot in a quick manner.In the above-mentioned printing machine, because the
debugging program is loaded from a ROM card or from a host
computer, it is necessary to turn off the machine and service
personnel has to give debugging instructions each time a
bug is found. Furthermore, since the program is specifically
added for debugging purposes, it is written into extra
addresses in the memory. This means that the memory must be
provided with a spare capacity readily assigned to the
debugging program and means for controlling individual tasks
and address management. Moreover, it is necessary to prepare
a dedicated ROM card for debugging or a host computer
with a specially made debugging program and communication
control software for controlling data transmission routine. The EP-A-0 569 178 discloses an apparatus and a method for downloading
programs for a stored program controlled apparatus, in particular, for remote
updating the entire set of programs of the apparatus including the "boot-up"
segments. In accordance with this method downloading comprises two communication
segments. In the first segment the essential portion of the new package
of programs is
</DESCRIPTION>
<CLAIMS>
A device for renewing a program stored in an internal program memory
(3) of a facsimile machine in communication with a central station (9), the

central station (9) being operable to transmit data concerning a program
and other contents, the device comprising:


judging means (1) for judging whether data transmitted from the central
station is a new program;
replacing means (1) for replacing a previously stored program with the
new program, if a new control program is transmitted; and,
means (52) for maintaining if desired the apparatus powered on during the renewal
operation;

characterized in that

the judging means (1) is operable to execute the judgement based on an
Non-Standard function Signal, NSS signal, transmitted from the central

station (9) prior to the transmission of data.
A renewing device as defined in claim 1 further comprising a data memory
(4) for storing the data transmitted from the central station (9), characterized

in that

the judging means (1) is operable to judge whether the data stored in the
data memory (4) is a new program; and
the replacing means (1) is operable to transfer the new program from the
data memory (4) to the internal program memory (3) to replace the previously

stored program with the new program.
A renewing device as defined in claim 1, characterized in that 

the internal program memory (3) is operable to store an apparatus control
program for controlling the apparatus and a renewal program for controlling

the judging means (1) and the replacing means (1); and
the central station (9) is operable to transmit data concerning a new
apparatus control program.
A renewing device as defined in claim 3, characterized in that
the internal program memory (3) is a rewritable memory, and the rewritable

memory has a portion (33) where the renewal program is written
together with a write-inhibit code of inhibiting overwrite.
A renewing device as defined in claim 3, characterized in that
the internal program memory (3) includes:


a read-only memory (32) for storing the renewal program; and/or
a rewritable memory (33) for storing an apparatus control program.
A renewing device as defied in claim 3 or 5, characterized in that
the internal program memory (3) has two storage portions (34, 35) for

storing a currently running apparatus control program and a new apparatus
control program, respectively.
A renewing device as defined in claim 6, characterized in that
the two storage portions (34, 35) are operable to store a transmitted new

apparatus control program one after another.
A renewing device as defined in claim 7, characterized in that
the two storage portions (34, 35) include two rewritable memories (34,

35) respectively, and the renewal program is written in a portion of one
rewritable memory (34; 35) together with a write-inhibit code of inhibiting

overwrite.
A renewing device as defined in claim 6, characterized in that
the central station (9) is operable to transmit data concerning a new 

renewal program in addition to a new apparatus control program; and
the two storage portions (34, 35) include two rewritable memories (34,

35) respectively, each having a portion for storing an apparatus control
program and a renewal program.
A renewing device as defined in claim 9, characterized in that
the two rewritable memories (34, 35) are operable to store a transmitted

new apparatus control program and a transmitted new renewal program
one after another.
</CLAIMS>
</TEXT>
</DOC>
