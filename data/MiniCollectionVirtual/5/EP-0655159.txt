<DOC>
<DOCNO>EP-0655159</DOCNO> 
<TEXT>
<INVENTION-TITLE>
REJECTED FRAME CONCEALMENT
</INVENTION-TITLE>
<CLASSIFICATIONS>G10L2100	G10L2104	G10L1300	H04B110	G10L1300	H04L100	H04L100	G10L1100	G10L1900	G10L1102	H04B110	G10L1900	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G10L	G10L	G10L	H04B	G10L	H04L	H04L	G10L	G10L	G10L	H04B	G10L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G10L21	G10L21	G10L13	H04B1	G10L13	H04L1	H04L1	G10L11	G10L19	G10L11	H04B1	G10L19	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In a receiver of a frame based radio communication system rejected frames are concealed according to a first algorithm (LOOP S) if the last accepted frame was a speech frame and according to a second algorithm (LOOP B) if the last accepted frame was a frame containing background sounds.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ERICSSON TELEFON AB L M
</APPLICANT-NAME>
<APPLICANT-NAME>
TELEFONAKTIEBOLAGET LM ERICSSON
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BERGSTROEM ROLF ANDERS
</INVENTOR-NAME>
<INVENTOR-NAME>
JANSSON FREDRIK KLAS JANIS
</INVENTOR-NAME>
<INVENTOR-NAME>
WIGREN KARL TORBJOERN
</INVENTOR-NAME>
<INVENTOR-NAME>
BERGSTROEM, ROLF, ANDERS
</INVENTOR-NAME>
<INVENTOR-NAME>
JANSSON, FREDRIK, KLAS, JANIS
</INVENTOR-NAME>
<INVENTOR-NAME>
WIGREN, KARL, TORBJOERN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to rejected frame concealment in a
radio communication system, and specifically to an apparatus and
a method for improving decoding of audio signals in such a
system.Methods for coding/decoding of speech signals in a radio communication
system are well known and even standardized (for example
IS-54 in the US and GSM in Europe). Furthermore, methods for
improving encoding/decoding of background sounds, primarily intended
for digital cellular telephone systems, have been described
in Swedish Patent Application 93 00290-5. Both these types of
methods are primarily designed to handle a situation where the
connection between the encoder and the decoder is close to ideal,
in the sense that only a small amount of bit or transmission
errors remain after channel decoding. However, since the
connection is a radio channel the received signal may contain
some bit or transmission errors. Furthermore, frames may be lost
for other reasons than a bad transmission channel. In for example
the American digital cellular standard IS-54 the Fast Associated
Control CHannel (FACCH) is established by stealing speech frames
from the traffic channel (a similar channel exists in the
European GSM specification). A similar situation arises in a
packet switched network when packets (frames) are lost or arrive
too late to be used for speech generation in real time (the
packets may take different routes between sender and receiver).
In all these cases it may be necessary to modify the methods
mentioned above.An object of the present invention is an apparatus and a method
in which rejected frame concealment is applied to the received
signal in order to make the decoding of audio signals more robust 
or insensitive to transmission errors and frame losses.In accordance with the invention this object is solved by a
method in accordance with claim 1.Furthermore, in accordance with the invention the above object is
also solved by an apparatus in accordance with claim 10.The invention, together with further objects and advantages
thereof, may best be understood by making reference to the
following description taken together with the accompanying
drawing, in which
Fig. 1is a schematic block diagram of the relevant parts of a
receiver in a radio communication system containing an
apparatus in accordance with the present invention; andFig. 2is a flow chart of the method in accordance with the
present invention. To understand the operation of the invention it is useful to
briefly review the operation of a typical
</DESCRIPTION>
<CLAIMS>
A method for concealing rejected frames in a frame based radio communication system
comprising a receiver comprising a speech coder of the source filter type, which

method controls the speech decoder by received parameters representing audio
signals transmitted over a communication channel on a frame by frame basis, said

method being characterized by:

(a) accepting or rejecting received frames depending on whether the parameters
contained therein are considered to represent proper audio signals;
(b) detecting whether accepted frames represent primarily speech or background
sounds;
(c) concealing rejected frames by updating the parameters contained therein in
accordance with a first concealing algorithm if the last accepted frame primarily

represented speech and in accordance with a second concealing algorithm if the
last frame contained primarily background sounds.
The method of claim 1, characterized in that said second
concealing algorithm comprises locking filter and gain parameters

to their values in the last accepted frame.
The method of claim 2, characterized by said second concealing
algorithm decreasing the output level of the audio signal from

said speech decoder when a first predetermined number of
consecutive frames have been rejected.
The method of claim 3, characterized by said second concealing
algorithm repeatedly decreasing the output level of the audio

signal from said speech decoder each time said first predetermined
number of further consecutive frames have been rejected.  
The method of any of the preceding claims, characterized by
said first concealing algorithm interpolating predetermined

received parameters from the first rejected frame with corresponding
parameters from the last accepted frame.
The method of claim 5, characterized by said first concealing
algorithm interpolating predetermined received parameters from

the current rejected frame with corresponding parameters from the
previous rejected frame and decreasing the output level of the

audio signal from said speech decoder if at least two consecutive
frames have been rejected.
The method of claim 6, characterized by said first concealing
algorithm muting the output signal from said speech decoder if a

second predetermined number of further consecutive frames have
been rejected.
The method of any of the preceeding claims, characterized in
that transmitted parameters are encoded in accordance with a

first encoding algorithm if they represent speech and in
accordance with a second encoding algorithm if they represent

background sounds.
The method of any of the preceeding claims, characterized in
that received parameters are decoded in accordance with a first

decoding algorithm if they represent speech and in accordance
with a second decoding algorithm if they represent background

sounds.
An apparatus for concealing rejected frames in a frame based radio communication
system comprising a receiver comprising a speech coder of the source filter type, which

apparatus controls the speech decoder by received parameters representing audio
signals transmitted over a communication channel on a frame by frame basis, said

apparatus being characterized by:

(a) means (20, 28) for accepting or rejecting received frames depending on whether
the parameters contained therein are considered to represent proper audio

signals;
(b) means (34) for detecting whether accepted frames represent primarily speech or
background sounds;
(c) means (32) for concealing rejected frames by updating the parameters contained
therein in accordance with a first concealing algorithm (LOOP S) if the last

accepted frame primarily represented speech and in accordance with a second
concealing algorithm (LOOP B) if the last frame contained primarily background

sounds.
The apparatus of claim 10, characterized by means (32) for
performing said second concealing algorithm by locking filter and

gain parameters to their values in the last accepted frame.
The apparatus of claim 11, characterized by said means for
performing said second concealing algorithm decreasing the output

level of the audio signal from said speech decoder (40) when a
first predetermined number of consecutive frames have been

rejected.
The apparatus of claim 12, characterized by said means for
performing said second concealing algorithm repeatedly decreasing

the output level of the audio signal from said speech decoder
each time said first predetermined number of further consecutive

frames have been rejected.
The apparatus of any of the preceding claims 10-13, characterized
by means (32) for performing said first concealing

algorithm by interpolating predetermined received parameters in
the first rejected frame with corresponding parameters from the

last accepted frame.
The apparatus of claim 14, characterized by said means for
performing said first concealing algorithm interpolating

predetermined received parameters in the current rejected frame
with corresponding parameters from the previous rejected frame

and decreasing the output level of the audio signal from said
speech decoder if at least two consecutive frames have been

rejected.  
The apparatus of claim 15, characterized by said means for

performing said first concealing algorithm muting the output
signal from said speech decoder if a second predetermined number

of further consecutive frames have been rejected. 
The apparatus of any of the preceding claims, characterized by means for controlling
said decoder, the parameters input in the decoder having been encoded in a

transmitter in accordance with a first algorithm if they represent speech, and in
accordance with a second algorithm if they represent background sounds.
The apparatus of any of the preceding claims, characterized by means for controlling
said decoder such as to process the input parameters in accordance with a first

algorithm if they represent speech, and in accordance with a second algorithm if they
represent background sounds.
</CLAIMS>
</TEXT>
</DOC>
