<DOC>
<DOCNO>EP-0653708</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Logic circuit having error detection function, redundant resource management method, and fault tolerant system using it
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F11267	G06F11267	G05B903	G06F1100	G06F1118	G06F1120	G06F1116	G06F1108	G06F1120	G06F1116	G06F1118	G06F1100	G06F1108	G05B903	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G05B	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G05B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F11	G06F11	G05B9	G06F11	G06F11	G06F11	G06F11	G06F11	G06F11	G06F11	G06F11	G06F11	G06F11	G05B9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The present invention relates to a self-checking 
circuit and a method of its configuration. More 

particularly, it concerns a self-checking circuit useful 
for highly reliable system configuration. 
As for a logic circuit having error detection 
function that has function blocks of feeding out a 

plurality of signals at least duplexed, compares the 
output signals of the function blocks, and detects an 

error on the basis of results of the comparison, it 
comprises synthesizing means provided to superimpose 

inherent waveforms assigned in advance to the respective 
output signals of the function blocks onto the output 

signals of one of the function blocks. The inherent 
waveforms are orthogonal waveforms generated by 

orthogonal waveform generator circuit. The logic 
circuit also comprises comparison means for comparing a 

signal output of the synthesizing means with the signal 
output of the other function block to detect the error. 

The whole circuit including the function blocks are 
judged normal only if the waveforms inherent to the both 

output signals exist. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HITACHI LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
HITACHI, LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BEKKI KEISUKE
</INVENTOR-NAME>
<INVENTOR-NAME>
NOHMI MAKOTO
</INVENTOR-NAME>
<INVENTOR-NAME>
SATO HIROSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SATO YOSHIMICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SUZUKI SHOJI
</INVENTOR-NAME>
<INVENTOR-NAME>
TASHIRO KOREFUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
BEKKI, KEISUKE
</INVENTOR-NAME>
<INVENTOR-NAME>
NOHMI, MAKOTO
</INVENTOR-NAME>
<INVENTOR-NAME>
SATO, HIROSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SATO, YOSHIMICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SUZUKI, SHOJI
</INVENTOR-NAME>
<INVENTOR-NAME>
TASHIRO, KOREFUMI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a self-checking
circuit and a method of its configuration. More
particularly, it concerns a self-checking circuit useful
for highly reliable system configuration.Also, the present invention relates to a management
method of a redundant resource, and more particularly
concerns an effective use of the redundant resource in a
fault tolerant computer system.Control systems for airplanes, trains, automobiles,
and similar means of transportation are increasingly
electrolyzed as advanced control performances are needed
to increase energy (fuel) efficiency, operationability,
comfortability, and their speeds. To run the means of
transportation safely, any of the control systems are
forcefully required to be high in the reliability and
the fail-safe performance that is no dangerous output is
caused by occurrence of fault.To assure the reliability and fail-safe performance
of the control system, it is important the control
system to have a capability of detecting the occurrence
of fault, that is, a self-checking capability. To
accomplish the self-checking capability, the so-called 
redundant code is generally used that has a hamming
distance of higher than 2 between codes, such as the M-out-of-N
code and two-rail logic (1-out-of-2 code) that
can be regarded as a kind of the M-out-of-N code. The
redundant code can perfectly detect the fault as long as
it is a single fault. However, it cannot always detect
a multiple of faults. If the self-checking circuit is
accomplished in an LSI, a fault may spread over the
whole chip. This would be a phenomenon equivalent to
the occurrence of the multiple of faults. Assuming
errors be random, Eq. 1 below gives a probability η of
wrong output signals due to the fault coincide with code
points in a specific output code space O.
η = No/Nu
where No is number of the code points in the output code
space O and Nu is number of the code points. Therefore,
it is a problem how to increase Nu to No to increase the
detection rate.There are the following two methods to accomplish
the self-checking circuit having such redundant codes as
described above.
(1) A method of forming the whole circuit of
redundant codes.(2) A method of replicating function blocks and
using a self-checking comparison circuit formed of
redundant codes to compare signals output of the
function blocks.The method (1) above is involved in problems that
the circuit must be newly designed to make self-checking
and it is difficult to optimize its operation speed.On the other hand, the method
</DESCRIPTION>
<CLAIMS>
A logic circuit having an error detection function
for detecting an error by way of comparing (30...3n) signals

output of at least duplexed function blocks (110, 111); characterized in that:
said logic circuit having

synthesizing means (100; 80...8n) provided to superimpose inherent
waveforms assigned in advance to the respective function

blocks on one or both of the signals output of said at least
duplexed function blocks (110, 111),


thereby detecting the error on the basis of a signal
or signals output of said synthesizing means (100; 80...8n).
The logic circuit having error detection
function according to claim 1 wherein the synthesizing

means (100; 80...8n) includes waveform generating means (100) for generating
the inherent waveforms assigned in advance to the

respective function blocks (110, 111) and logic operation means for
exclusive-OR operation of the generated inherent

waveform and the output signals of the function blocks.
The logic circuit having error detection
function according to claim 1 wherein each of the

function blocks (110, 111) feeds out a plurality of signals, and
the synthesizing means (100; 80...8n) superimposes the inherent

waveforms assigned in advance to the respective function
blocks (110, 111) onto the signals output of the function blocks (110, 111),

thereby detecting the error, and signals output of the 
synthesizing means (100; 80...8n) are compared with the signals output

of the other function block (110, 111), thereby detecting the
error.
The logic circuit having error detection
function according to claim 3 wherein the synthesizing

means (100; 80...8n) includes waveform generating means (100), for generating
the inherent waveforms assigned in advance to the

respective output signals and logic operation means for
exclusive-OR operation of the generated inherent

waveform and the output signal of the one function
block (110, 111).
The logic circuit having error detection
function according to claim 3 wherein the inherent

waveforms assigned in advance to the respective output
signals are waveforms that are not correlated to one

another.
The logic circuit having error detection
function according to claim 3 wherein the inherent

waveforms assigned in advance to the respective output
signals are waveforms that are orthogonal to one

another. 
The logic circuit having error detection function
according to claim 1, wherein said synthesizing means

comprises: a first synthesizing means (80..8n) for
superimposing a unique waveform which is assigned in

advance for each output signal on an output signal from
one of the function blocks (110); and a second

synthesizing means (90..9n) for superimposing a unique
waveform which is assigned in advance for each output

signal on an output signal from the other one of the
function blocks (111), and further comprises comparison

means (30..3n) for detecting an error by comparing an
output from said first synthesizing means (80..8n) and

an output from said second synthesizing means (80..8n).
An error detecting method for detecting an
error by way of comparing a plurality of signals output

of duplexed function blocks (110, 111), the method characterized by:

a step of superimposing (80...8n) inherent waveforms assigned
in advance to the respective output signals onto the

output signals of one of the duplexed function blocks (110, 111);
and a step of comparing signal (30...3n) outputs of the other one of

said duplexed function blocks (110, 111) with signals having the
inherent waveforms superimposed , thereby detecting the

error.
The error detecting method according to claim 8 wherein
the inherent waveforms are superimposed in a way that

exclusive-OR operation is made of the output signals of the
one of the duplexed function blocks and the inherent

waveforms assigned in advance to the respective output
signals.
A logic circuit having an error detection function according to claim 7,
comprising: a first circuit having at least a CPU, an

interrupt controller, and a timer for generating a plurality
of output signals; a second circuit having the same features

as the first circuit; and a comparison circuit for comparing
the signals output of the first and second circuits;

   wherein the first and second circuits have said first
and second synthesizing means (80..8n, 90..9n) respectively,

provided therein, and the first and second circuits and the
comparison circuit are arranged in respectively individual

chips.
A fault tolerant system, comprising: a logic circuit
according to claim 1, the duplexed function blocks (110,

111) being formed by first and second computers, wherein the
system further includes; a switching control circuit for

selecting either one of the signals output of the first and
second computers before feeding the signal out;

   wherein the switching control circuit select the signal 
output of any one of the first and second computers on the

basis of error detection signals output of the first and
second computers.
</CLAIMS>
</TEXT>
</DOC>
