<DOC>
<DOCNO>EP-0653698</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Magnetic disc controller having a function of transferring sector ID information.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F306	G06F306	G06F1310	G06F1310	G11B2018	G11B2018	G11B2710	G11B2710	G11B2730	G11B2730	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G11B	G11B	G11B	G11B	G11B	G11B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F3	G06F3	G06F13	G06F13	G11B20	G11B20	G11B27	G11B27	G11B27	G11B27	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A magnetic disc controller comprises a CPU for controlling the 
whole of the magnetic disc controller, a ROM storing a program for 

controlling the central processing unit, a RAM temporarily used by the 
central processing unit, an interface for transferring data and command 

between the magnetic disc controller and an external host processor, and a 
serial-parallel converting circuit for interfacing data between the 

magnetic disc controller and the magnetic disc apparatus. When data is 
read out from the magnetic disc apparatus in units of sector, the central 

processing unit controls to transfer sector ID information of each sector 
to the external host processor prior to transferring data of each sector. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NIPPON ELECTRIC CO
</APPLICANT-NAME>
<APPLICANT-NAME>
NEC CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
TATEISHI HISAO
</INVENTOR-NAME>
<INVENTOR-NAME>
TATEISHI, HISAO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a magnetic disc controller having a 
function of transferring data read from a magnetic disc apparatus, and 
more specifically a magnetic disc controller configured to transfer data 
added with a sector identification information at the time of a data 
transfer. As a magnetic disc controller for controlling a transfer of data read 
from a magnetic disc apparatus, various special purpose LSIs (large scale 
integrated circuit) such as products available under the tradenames 
µPD765 and µPD72065 from NEC Corporation of Japan, have been used 
for a floppy disc apparatus. In the case of carrying out a transfer of data read from the 
magnetic disc apparatus by use of the conventional magnetic disc 
controller, data is transferred from the magnetic disc apparatus to a main 
memory in a host processor, by utilizing a "READ DATA" command and 
a "READ DIAGNOSTIC" command. As regards a detailed operation, 
reference should be made to a user's manual for these conventional 
products.  Here, the "READ DATA" command is for reading data from a data 
field designated by the host processor. The "READ DIAGNOSTIC" 
command is for checking whether or not the data has been written into a 
track without fail. The "READ DIAGNOSTIC" command is one kind of 
reading command for a diagnostic mode, which is similar to the "READ 
DATA" command, but is different from the "READ DATA" command, 
in which "READ DIAGNOSTIC" command reads the data although an 
identification (abbreviated to "ID" hereinafter) field and/or a data field 
(as shown in Figure 5) includes an error or although it is not a correct ID 
field. Now, a brief explanation will be made on a data transfer in the 
conventional magnetic disc controller with reference to Figures 1 and 2. Figure 1 shows a flow chart illustrating a processing for the 
"READ DATA" command. After the magnetic disc controller receives a command form the 
host processor and recognizes that the received command is the "READ 
DATA" command, the magnetic disc controller starts an operation for 
searching a target sector, as shown in Figure 1. Here, the host processor 
sets a starting sector and a final sector. If the target sector is found out in the searching operation, data is 
read out from the target sector, and is transferred to a main memory. After the transfer of data from the read-out sector is completed, 
whether the read-out sector is the final sector or not is discriminated. If 
the read-out sector is not the final sector, sector information, particularly,
</DESCRIPTION>
<CLAIMS>
A magnetic disc controller for controlling a magnetic disc 
apparatus, the magnetic disc controller being coupled to a magnetic disc 

apparatus and an external host processor, the magnetic disc controller 
being configured to write data received from said external host processor 

to said magnetic disc apparatus and to supply data read from said 
magnetic disc apparatus to said external host processor, said magnetic disc 

controller being also configured to control to the effect that the data is 
read out from the magnetic disc apparatus in units of sector, said magnetic 

disc controller including means for transferring sector identification 
information of each sector to said external host processor before data of 

the same sector is transferred to said external host processor. 
A magnetic disc controller for controlling a magnetic disc 
apparatus, comprising a central processing unit for controlling the whole 

of the magnetic disc controller, a first memory storing a program for 
controlling said central processing unit, a second memory temporarily 

used by said central processing unit, an interface for transferring data and 
command between the magnetic disc controller and an external host 

processor, and a serial-parallel converting circuit controlled by said 
central processing unit for writing data received from said interface to the 

magnetic disc apparatus and for supplying data read from the magnetic 
disc apparatus to said interface, said central processing unit being 

configured to control to the effect that the data is read out from the 
magnetic disc apparatus in units of sector, and sector identification 

information of each sector is transferred to the external host processor 
before data of each sector is transferred to the exte
rnal host processor. 
A magnetic disc controller claimed in Claim 2 wherein said central 
processing unit is also configured to transfer said sector identification 

information and said data of each sector to said host processor in the 
order starting from a sector detected in the first place after the sector 

search operation is started, without waiting for the index signal. 
A magnetic disc controller claimed in Claim 3 wherein said central 
processing unit is also configured to transfer at least the sector number to 

said host processor as said sector identification information. 
A magnetic disc controller claimed in Claim 2 wherein said central 
processing unit is also configured to transfer at least the sector number to 

said host processor as said sector identification information. 
</CLAIMS>
</TEXT>
</DOC>
