<DOC>
<DOCNO>EP-0625838</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Token ring network.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1300	G06F1300	H04L12427	H04L12433	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F13	G06F13	H04L12	H04L12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A token ring local area network includes workstations running both 
conventional data and multimedia applications. The latter, which 

generally require a minimum throughput in order to be viable, can be 
split into two further categories: those which cannot tolerate excessive 

latency (end to end delay), typically interactive applications such as 
voice communications, and those which are less sensitive to latency, 

typically playback operations. the network recognises three priority 
levels: (1) for latency-sensitive multimedia applications, (2) for 

latency-insensitive multimedia applications, and (3) conventional 
applications. All multimedia applications prior to commencement of any 

communications over the LAN must request an allocation of throughput from 
a LAN segment resource manager (LSRM), which will only be awarded if 

there is currently sufficient available throughput on the LAN to support 
the attended communication. Furthermore, first priority level 

applications are also given a maximum token holding time, thereby 
ensuring rapid circulation of the token, and controlling latency. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BARRACLOUGH KEITH
</INVENTOR-NAME>
<INVENTOR-NAME>
CRIPPS PETER
</INVENTOR-NAME>
<INVENTOR-NAME>
GAY ADRIAN
</INVENTOR-NAME>
<INVENTOR-NAME>
JONES ALAN
</INVENTOR-NAME>
<INVENTOR-NAME>
BARRACLOUGH, KEITH
</INVENTOR-NAME>
<INVENTOR-NAME>
CRIPPS, PETER
</INVENTOR-NAME>
<INVENTOR-NAME>
GAY, ADRIAN
</INVENTOR-NAME>
<INVENTOR-NAME>
JONES, ALAN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to the control of data communications 
on a token ring local area network, particularly in relation to 
multimedia applications. Local area network (LANs) used for connecting computer workstations 
together are widely discussed in the various textbooks, eg "A LAN Primer" 
by G Nunemacher, 1990, Prentice Hall, "LANs Explained" by W Scott Currie, 
1988, Ellis Horwood, or "Local Area Networks" by J Martin, 1989, Prentice 
Hall. One common form of LAN is a token ring system, and is the subject 
of the IEEE 802.5 standard. The basic principle of operation of a token 
ring is that the nodes or workstations in the LAN are logically 
configured into a ring, and a "token" is circulated around the ring. If a 
workstation wishes to send a message to another node in the ring, it must 
wait until it receives the token. The message is then sent around the 
ring to the destination node, which modifies the message to acknowledge 
receipt. The message is then returned to the source node, which releases 
the token, ie starts the free token circulating around the ring again. The IEEE 802.5 standard includes a priority system, according to 
which messages on the token ring can be assigned one of eight priority 
levels (from 0-7). The token contains a three-bit priority field and a 
three bit reservation field. As an example of the operation of the 
priority system, suppose a node (node A) requires access to the network 
at a priority level of say 4 whilst a message is currently being 
transmitted by another node. Node A sets the reservation field in the 
token accompanying the passing message (this token is not free and so 
cannot be used per se to send a message) to a value of 4 (providing the 
previous value in the reservation field was less than 4). The source node 
of the current message, when it releases a free token, then sets the 
priority field to 4 and the reservation field back to its original value. 
As the token now circulates, only nodes wishing to transmit at priority 
level 4 (or higher) are allowed to obtain the free token. Thus any 
competition for the token is now reduced to between nodes requiring 
service at priority level 4 or higher (note that there is no particular 
preference to node A). Once node A has transmitted its message, and  
 
providing any high priority level requests from other nodes have also 
been satisfied, node A lowers the priority level in the token back to its 
original value. Under the current priority system, priority levels 0-3 are assigned 
for the
</DESCRIPTION>
<CLAIMS>
A method of operating a token ring local area network, in which a 
plurality of nodes are arranged in a ring configuration, a node 

communicating by sending a transmission over the network when it has 
control of the token, the network supporting at least three priority 

levels of communication, designated first, second and third in decreasing 
order of importance, the network including a LAN segment resource manager 

(LSRM) for maintaining information about the first and second priority 
level communications currently in progress, 

   the method including the steps of: 
   assigning maximum throughput allocations to the three priority 

levels, and storing said allocations in the LSRM; 
   sending a request from a node to the LSRM for permission to 

commence a first or second priority level communication, together with 
the desired throughput allocation; 

   determining at the LSRM whether or not to award the requesting node 
the desired throughput allocation, dependent on the currently available 

throughput, and responding accordingly to the requesting node; 
   determining at the LSRM, for first priority level communications, 

the maximum time for which the requesting node can retain control of the 
token for a single transmission before release of the token, and 

responding accordingly to the requesting node; 
   recording at the LSRM any new allocation of throughput; and 

   commencing communications at the requesting node in accordance with 
the response from the LSRM. 
The method of claim 1, further comprising the step of sending a 
notification from a node to the LSRM when any first or second priority 

level communication for that node has completed. 
The method of claim 1 or 2, further comprising the steps of the 
LSRM monitoring communications on the token ring, and comparing the 

results with the recorded throughput allocations to verify that nodes are 
adhering to their throughput allocations. 
The method of any preceding claim, further comprising the step of 
any node supporting first and/or second priority level communications in 

addition to third priority level communications maintaining two queues of 
 

data to be transmitted, one for first and/or second priority level 
communications, and the other for third priority level communications. 
The method of any preceding claim, wherein the LSRM reserves at 
least a certain portion of the total available throughput for priority 

level three communications. 
The method of any preceding claim, wherein each node transmitting 
first and/or second priority level communications includes a local 

segment access agent (LSAA) performing the steps of: 
   assigning an identifier to each application at the node that has 

been granted a throughput allocation for first or second priority level 
communications; and 

   monitoring outgoing first or second priority level communications 
to verify that they are associated with a correctly assigned identifier. 
The method of claim 6, wherein the LSAA further performs the step 
of monitoring outgoing first priority level communications to ensure that 

any application at the node makes only one first priority level 
transmission within a predetermined maximum network latency period. 
Apparatus for operating a token ring local area network, in which a 
plurality of nodes are arranged in a ring configuration, a node 

communicating by sending a transmission over the network when it has 
control of the token, the network supporting at least three priority 

levels of communication, designated first, second and third in decreasing 
order of importance, the apparatus including: 

   a LAN segment resource manager (LSRM) for maintaining information 
about the first and second priority level communications currently in 

progress, 
   means for assigning maximum throughput allocations to the three 

priority levels, and storing said allocations in the LSRM; 
   means for sending a request from a node to the LSRM for permission 

to commence a first or second priority level communication, together with 
the desired throughput allocation; 

   means for determining at the LSRM whether or not to award the 
requesting node the desired throughput allocation, dependent on the 

currently available throughput, and responding accordingly to the 
requesting node;

 
   means for determining at the LSRM, for first priority level 

communications, the maximum time for which the requesting node can retain 
control of the token for a single transmission before release of the 

token, and responding accordingly to the requesting node; 
   means for recording at the LSRM any new allocation of throughput; 

and 
   means for commencing communications at the requesting node in 

accordance with the response from the LSRM. 
</CLAIMS>
</TEXT>
</DOC>
