<DOC>
<DOCNO>EP-1075759</DOCNO> 
<TEXT>
<INVENTION-TITLE>
VIDEO COMPRESSION IN INFORMATION SYSTEM
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N1413	H04N1413	H04N726	H04N726	H04N730	H04N730	H04N732	H04N732	H04N750	H04N750	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	H04N1	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A video image data field to be compression-encoded is divided into rectangular blocks. Each of the rectangular blocks is compared (130) with a corresponding (132) block of a reference image to generate comparison data. The block of the image to be encoded is selected for representation if the comparison data for the block meets a selection criterion. Mapping data is generated which is indicative of locations in the image plane corresponding to the selected blocks. The image to be encoded is represented in compressed form by header data (106), the mapping data (108) and image data representative of the selected blocks. When the reference image is compression encoded (206), the blocks may be expanded in areas of the reference image which correspond to a low information density. System configuration consists of a back panel (46) which is coupled to a front end processing/compression unit (42) which interfaces with a motherboard (40) through a PCI bus.
</ABSTRACT>
<APPLICANTS>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
 VIDEO COMPRESSION IN INFORMATION SYSTEMCROSS-REFERENCE TO RELATED APPLICATIONThis application is a continuation-in-part of co-pending prior application Serial No. 08/741,914, filed October 31, 1996. The disclosure of the parent application, Serial No. 08/741,914, is incorporated herein by reference. Also to be noted is another related application, Serial No. 08/729,620, also filed October 31, 1996, now U.S. Patent No. 5,822,542. BACKGROUND OF THE INVENTIONThe above-referenced parent patent application discloses a digital video recorder which has intelligent video information management capabilities. In any digital video recording apparatus, the large quantity of data inherently present in streams of video signals tends to require difficult trade-offs to be made between the storage capacity to be provided by the apparatus and the image quality to be available upon reproduction of the recorded video signals. The trade-offs can be particularly critical when it is desired to provide random access to the recorded video signal, as is the case in the intelligent video information management (IVIM) recorder disclosed in the parent patent application. In a preferred embodiment of the IVIM recorder, recording of video signal streams generated by up to 16 cameras, with random access playback, is provided on one or more hard disk drives. To achieve an adequate recording duration on the hard disk drives, a number of compression strategies were proposed in the parent patent application. The present inventors have developed additional features related to the compression strategies disclosed in the parent patent application so as to provide more efficient utilization of data storage capacity and or improved image quality, albeit with requirements for additional processing during compression-encoding operations. OBJECTS AND SUMMARY OF THE INVENTION It is an object of the invention to provide a method and apparatus for compressing, with a high degree of efficiency, video data representing streams of dynamic video images.It is a more particular object of the invention to provide improvements upon, and alternative embodiments of, the "conditional refresh" video data compression strategy disclosed in the parent patent application.1 

 According to a first aspect of the invention, there is provided a method of representing video data in compressed form, including the steps of dividing into rectangular blocks a present image to be compressed, the present image being formed in an image plane, each of the rectangular blocks
</DESCRIPTION>
<CLAIMS>
WHAT IS CLAIMED IS:
1. A method of representing video data in compressed form, comprising the steps of: dividing into rectangular blocks a present image to be compressed, the present image being formed in an image plane, each of said rectangular blocks consisting of n pixel blocks, each of said pixel blocks corresponding to an m pixel by m pixel segment of said image plane; n being an integer greater than or equal to 1 ; m being an integer greater than 1 ; comparing each of said rectangular blocks of the present image with a corresponding rectangular block of a reference image to generate comparison data for the block of the present image; selecting for representation the rectangular blocks of the present image for which the generated comparison data meets a selection criterion; generating mapping data indicative of locations in the image plane which correspond to the selected rectangular blocks for the present image; and representing the present image in compressed form by use of: (a) header data for identifying the present image;
(b) said mapping data generated for the present image; and
(c) image data representative of the selected rectangular blocks of the present image; wherein: said comparing step includes applying an orthogonal transformation to at least one pixel block of the n pixel blocks of each rectangular block of the present image to form coefficient data, and comparing the coefficient data with corresponding coefficient data for a corresponding pixel block in the reference image.
2. A method according to claim 1, wherein said comparing step includes comparing a coefficient which represents a DC component of the coefficient data for at least one pixel block of the present image with a coefficient which represents a DC component of the coefficient data for the corresponding pixel block of the reference image.
22 

3. A method according to claim 2. wherein said comparing step includes comparing a coefficient which represents a frequency component of the coefficient data for at least one pixel block of the present image with a coefficient which represents a corresponding frequency component of the coefficient data for the corresponding pixel block of the reference image.
4. A method according to claim 1, wherein said comparing step includes comparing a coefficient which represents a frequency component of the coefficient data for at least one pixel block of the present image with a coefficient which represents a corresponding frequency component of the coefficient data of the corresponding pixel block of the reference image.
5. A method according to claim 1 , wherein said representing step includes applying quantization to the coefficient data formed for each selected rectangular block to obtain quantization data, and applying Huffman encoding to the quantization data to form said image data representative of the selected rectangular blocks of the present frame.
6. A method according to claim 5, wherein the orthogonal transform is the discrete cosine transform (DCT), and the application of said DCT, said quantization and said Huffman encoding are in accordance with the JPEG image data compression standard.
7. A method according to claim 1 , wherein m = 8.
8. A method according to claim 7, wherein n = 4.
9. A method according to claim 8, wherein a rectangular block is selected for representation if any one of the four pixel blocks of the rectangular block meet a selection criterion.
10. A method according to claim 8, wherein each of said rectangular blocks consists of a horizontal sequence of four 8 x 8 pixel blocks.
23 

1 1. A method according to claim 10, wherein four 8 x 8 luminance pixel arrays and exactly two 8 x 8 chrominance pixel arrays are formed for each rectangular block of the reference image.
12. A method according to claim 1 1, wherein one of the two 8 x 8 chrominance pixel arrays consists of U pixels and the other of said two 8 x 8 chrominance pixel arrays consists of V pixels.
13. A method of representing video data in compressed form, comprising the steps of: dividing into rectangular blocks a present image to be compressed, the present image being formed in an image plane, each of said rectangular blocks consisting of n pixel blocks, each of said pixel blocks corresponding to an m pixel by m pixel segment of said image plane; n being an integer greater than or equal to 1 ; m being an integer greater than 1 ; applying an orthogonal transformation to at least one pixel block of the n pixel blocks of each rectangular block of the present image to form coefficient data; comparing the coefficient data with corresponding coefficient data for a corresponding pixel block in a reference image to generate comparison data for the rectangular block which includes the pixel block of the present image; selecting for representation the rectangular blocks of the present image for which the generated comparison data meets a selection criterion; and generating compressed image data only for the selected rectangular blocks of the present image.
14. A method according to claim 13 , wherein said step of generating compressed image data includes processing the coefficient data formed by applying said orthogonal transformation to the pixel blocks of the selected rectangular blocks of the present image.
15. A method according to claim 14, wherein said processing includes quantizing said coefficient data and Huffman encoding the quantized coefficient data.
24 

16. A method according to claim 15. wherein said orthogonal transformation and said processing of the coefficient data are performed in accordance with the JPEG image data compression standard.
17. A method according to claim 13, wherein n = 4 and m = 8.
18. Apparatus for storing compressed video data, comprising: means for receiving video signals representing a dynamic sequence of images; means for converting the video signals into a sequence of video data fields; processing means for compressing said video data fields; and means for storing the compressed video data fields; said processing means being programmed to: divide each of said video data fields into pixel blocks each corresponding to an m x m segment of an image plane, m being an integer greater than 1 ; apply an orthogonal transformation to each of the pixel blocks to form coefficient data; as to one of said images selected to be a reference image, store at least some of the coefficient data as reference data; as to said reference image, quantize the coefficient data to form quantization data and Huffman-encode the quantization data to form first storage data; cause the means for storing to store the first storage data; as to one of said images subsequent to said reference image, compare the coefficient data corresponding to at least some of the pixel blocks of said subsequent image to the reference data for the corresponding pixel block of the reference image; on the basis of said comparison, select pixel blocks of said subsequent image for further processing and select portions of the reference data for updating; update the selected portions of the reference data using coefficient data corresponding to the selected pixel blocks of said subsequent image; quantize the coefficient data corresponding to the selected pixel blocks and Huffman-encode the resulting quantized coefficient data to form second storage data; and cause the means for storing to store the second storage data.
25 

19. Apparatus according to claim 18. wherein said processing means includes a first processor for dividing the video data fields into said pixel blocks and a second processor for processing said pixel blocks formed by said first processor.
20. A method of performing data compression with respect to image data, said image data being representative of pixels arrayed in an image plane, the method comprising the steps of: dividing said image data into a plurality of basic data blocks, each of said basic data blocks representing a rectangular part of said image plane, all of said basic data blocks being of equal size; detecting a spatial frequency characteristic of each of a contiguous plurality of said basic data blocks; in dependence upon a result of said detecting step, selectively combining said contiguous plurality of said basic data blocks to form a combined data block; subsampling said combined data block to form a subsampled data block that is equal in size to said basic data blocks; and applying a transformation to said subsampled data block to form a block of coefficient data.
21. A method according to claim 20, wherein said detecting step includes: applying a transformation to each basic data block of said contiguous plurality of basic data blocks, to form a respective array of coefficient data, some of said coefficient data representing respective spatial frequency components of the respective basic data block; and detecting a characteristic of at least one of said coefficient data representing spatial frequency components.
22. A method according to claim 21 , wherein said transformation applied to each basic data block of said contiguous plurality of basic data blocks is a two-dimensional DCT.
23. A method according to claim 20, wherein said transformation applied to said subsampled combined data block is a two-dimensional DCT.
26 

24. A method according to claim 20, wherein each of said basic data blocks consists of an 8 x 8 array of pixels.
25. A method according to claim 24, wherein said combined data block consists of an 8n x 8n array of pixels, where n is an integer greater than 1, and said subsampling step comprises subsampling said combined data block by a factor of n in each of a horizontal direction and a vertical direction.
26. A method according to claim 24, wherein n = 2
P
, p being an integer equal to or greater than 1.
27. A method according to claim 20, further comprising the steps of: combining a first contiguous plurality of said basic data blocks to form a first combined data block; subsampling said first combined data block to form a first subsampled data block that is equal in size to said basic data blocks; applying a transformation to said first subsampled data block to form a respective block of coefficient data therefrom; combining a second contiguous plurality of said basic data blocks to form a second combined data block that is larger than said first combined data block; subsampling said second combined data block to form a second subsampled data block that is equal in size to said first subsampled data block; and applying a transformation to said second subsampled data block to form a respective block of coefficients therefrom.
28. A method of performing data compression with respect to image data, said image data being representative of pixels arrayed in an image plane, the method comprising the steps of: dividing said image data into a plurality of m x m pixel blocks, m being equal to 2
P
, p being an integer equal to or greater than 1 ; detecting a spatial frequency characteristic of each of a contiguous plurality of said m x m pixel blocks;
27 


 in dependence upon a result of said detecting step, selectively combining said contiguous plurality of m x m pixel blocks to form an (m-2
q
) x (m-2
q
) pixel block, q being an integer equal to or greater than 1 ; processing said (m-2
q
) x (m-2
q
) pixel block to form a processed m x m data array representative of said (m-2
q
) x (m-2
q
) pixel block; and applying a transformation to said processed m x m data array to form a block of coefficient data.
29. A method according to claim 28, wherein said processing step includes subsampling said (m-2
q
) x (m-2
q
) pixel block.
30. A method according to claim 28, wherein said detecting step includes: applying a transformation to each m x m pixel block of said contiguous plurality of m x m pixel blocks, to form a respective array of coefficient data, some of said coefficient data representing respective spatial frequency components of the respective m x m pixel block; and detecting a characteristic of at least one of said coefficient data representing spatial frequency components.
31. A method according to claim 30, wherein said transformation applied to each m x m pixel block of said contiguous plurality of m x m pixel blocks is a two-dimensional DCT.
32. A method of performing data compression with respect to image data, said image data being representative of pixels arrayed in an image plane, the method comprising the steps of: dividing said image data into a plurality of m x m pixel blocks, m being equal to 2 , p being an integer equal to or greater than 1 ; combining a first contiguous plurality of said m x m pixel blocks to form an (m-2
q
) x (m-2
q
) pixel block, q being an integer equal to or greater than 1 ; processing said (m-2
q
) x (m-2
q
) pixel block to form a first processed m x m data array representative of said (m-2
q
) x (m-2
q
) pixel block;
28 


 transform-encoding said first processed m x m data array to form compressed image data representative of said (m-2
q
) x (m-2
q
) pixel block; combining a second contiguous plurality of said m x m pixel blocks to form an (m-2
r
) x (m-2
r
) pixel block, r being an integer equal to or greater than 1, r ≠ q; processing said (m-2
r
) x (m-2
r
) pixel block to form a second processed m x m data array representative of said (m-2
r
) x (m-2
r
) pixel block; and transform-encoding said second processed m x m data array to form compressed image data representative of said (m-2
r
) x (m-2
r
) pixel block.
33. A method according to claim 32, wherein m = 8.
34. A method according to claim 32, wherein each of said processing steps includes subsampling the respective pixel block.
35. A method according to claim 32, wherein each of said transform-encoding steps includes applying a two-dimensional DCT to the respective m x m data array to form coefficient data, quantizing the coefficient data, and Huffman-encoding the quantized coefficient data.
29 

</CLAIMS>
</TEXT>
</DOC>
