<DOC>
<DOCNO>EP-0961218</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method of binarization in an optical character recognition system
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K938	G06K938	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K9	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Method of binarization to be used in an OCR system consisting in determining text
pixels by checking, for each pixel, that the difference between its value and the

values of a plurality of pixels located at a predetermined distance therefrom is
greater than a relative threshold corresponding to the difference in intensities

between the text and the background of the image, subsampling the image at a
rate corresponding to at least two pixels in order to detect kernels of text, and

binarizing the image pixels only in tiles of several stroke width sides containing text
kernels by using in each tile, an absolute threshold estimated in this tile. The step

of determining text pixels consists, for each analyzed pixel, in checking that either
one of the differences between the value of the analyzed pixel and the value of the

two pixels located at each intersection of a circle (12) centered at the location of
the analyzed pixel and having a radius equal to the stroke width with each one of

the row line, column line and both lines at the angle of 45 degrees, is greater than
the relative threshold.


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HEILPER ANDREI
</INVENTOR-NAME>
<INVENTOR-NAME>
NAVON YAAKOV
</INVENTOR-NAME>
<INVENTOR-NAME>
WALACH EUGENE
</INVENTOR-NAME>
<INVENTOR-NAME>
HEILPER, ANDREI
</INVENTOR-NAME>
<INVENTOR-NAME>
NAVON, YAAKOV
</INVENTOR-NAME>
<INVENTOR-NAME>
WALACH, EUGENE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to the Optical Character Recognition (OCR) systems
and in particular a new method of binarization in such an optical character
recognition system.Binarization of scanned gray scale images which is the first step used in a
document image analysis system such as an optical character recognition system.
This method consists in labeling each pixel as text or background.In automatic parcel sorting systems, the address is read and decoded from gray
scale image. The image is captured by a camera located above the parcel, while it
travels on a conveyor. For obvious reasons, the system is located in an open
space building and functions at hard conditions. The gray scale images suffer from
unstable light conditions, distortions due to inclination and pixel smearing, poor
contrast, and varying resolutions due to the changes of the parcel height.
Moreover, parcels are covered with plastics which cause reflections, tapes which
truncate the address label, logos, textures and graphics. All these variables make
the binarization process in sorting system very complicated. The choice of the
« best » binarized method is very difficult. A binarization method of several steps is
required in order to treat this large scope of images.An evaluation of the different methods of binarization (see the article « Goal-directed
evaluation of binarization methods » by O. Trier et al published in IEEE
Transactions on pattern analysis and machine intelligence, vol 17, N°12,
December 1995) has shown that the Niblack method with a postprocessing step
appears to be the best one. However, in this method, the threshold estimated is an
absolute threshold above which the pixel is set to text and else is set to 
background. The width of the text stroke is not considered in such an estimation
and conversely, the background pixels contribute to the estimation, which results in
an inaccurate thresholdSee also WO-A-8 703 118Accordingly, the main object of the invention is to achieve a method of binarization
in an OCR system, which uses an estimation of the relative threshold between the
intensities of the text and the background based upon only the pixels of texts.The invention relates therefore to a method of binarization In an optical character
recognition system wherein a scanned gray scale image contains text to be
recognized in the form of strokes having a known stroke width corresponding to
several image pixels, such a method consisting in determining text pixels by
checking, for each pixel, that the difference
</DESCRIPTION>
<CLAIMS>
A method of binarization in an optical character
recognition system wherein a scanned gray scale image contains

text to be recognized in the form of strokes having a known
stroke width corresponding to several image pixels, said

method comprising the steps of :

determining text pixels in the scanned image by checking,
for each pixel, that the difference between its value and the

values of the two pixels located at each intersection of a
circle centered at the location of said analyzed pixel and

having a radius equal to said stroke width with each one of
the row line, column line and both lines at the angle of 45

degrees with respect to the line row is greater than a
relative threshold corresponding to the difference in

intensities between the text and the background of the image,
binarizing the image pixels only in tiles of several stroke
width sides containing text pixels by using in each of said

tiles, an absolute threshold estimated in said tile.
The method according to claim 1 wherein said relative
threshold is the threshold corresponding to the tail of the

dominant lobe of the histogram giving the number of tiles
having a predetermined size which are fully filed with pixels

determined as text pixels in function of a threshold value
being the minimal difference between the value of said

analyzed pixel and the values of the two neighboring pixels
located at the intersection of said circle and any one of said

lines for which the conditions for said analyzed pixel being
set to « text » are fulfilled.
The method according to any one of claims 1 to 2, wherein
said absolute threshold is estimated from the text pixels and

the non-text pixels in the vicinity of said text pixels, the 
estimation being the arithmetic average of the text pixel

value average and of the non-text pixel value average.
The method according to anyone of claims 1 to 3, wherein
the determining step is performed on a first pixel in the

scanned image, if the first pixel is not a text pixel,
skipping to the next pixel by at least two, repeatidly

determining if the next pixel is a text until a pixel which is
not a text pixe
l is found and, repeating the preceding steps
until all the text pixels of the scanned image are determined.
The method of anyone of claims 1 to 4 wherein the
determining step is performed on the pixels of a same row and

if the last pixel of a row is not a text pixel, skipping to
the next row by at least two, otherwise skipping to the next

row.
The method according to anyone of claims 1 to 5, wherein
the tiles used in the image binarizing step are square tiles

having a side equal to three stroke widths.
The method according to any one of claims 1 to 6, further
comprising the step of removing pixels of high intensity after

all the text kernels have been identified and before said step
of binarizing the image pixels, said removing step consisting

in changing text pixels of higher intensity than proper text
pixels into background pixels.
The method according to any one of claims 1 to 7, further
comprising the step of changing text pixels isolated from the

other text pixels into background pixels.
</CLAIMS>
</TEXT>
</DOC>
