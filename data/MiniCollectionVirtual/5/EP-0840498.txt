<DOC>
<DOCNO>EP-0840498</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for pattern matching encoding
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M742	H04N1411	H03M742	G06T700	G06K968	H04N1411	G06T900	G06T900	G06K968	G06T700	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H04N	H03M	G06T	G06K	H04N	G06T	G06T	G06K	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M7	H04N1	H03M7	G06T7	G06K9	H04N1	G06T9	G06T9	G06K9	G06T7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method and an apparatus for pattern matching encoding are
disclosed. A font bit map library (11) is provided separately

from a temporary updating library (6), in which
temporary bit map pattern data (TBMD) capable of being

updated according to a character pattern cut out from input
binary image data is stored. In the font bit map library

(11) is stored font bit map library pattern data (FBMD) of
an input character pattern font or a font designated by the

user. A pattern matching process on the character pattern,
is executed by comparing the character pattern with temporary

bit map pattern data (TBMD) and font bit map pattern
data (FBMD). The character pattern is newly registered in

the temporary updating library (6), when it is judged as
being matched with only the temporary bit map pattern

(TBMD) or as being matched with neither of the temporary
bit map pattern (TBMD) or the font bit map pattern (FBMD).

It is possible to improve data compressibility without
sacrifice in image quality.


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NIPPON ELECTRIC CO
</APPLICANT-NAME>
<APPLICANT-NAME>
NEC CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HIRAO KOUICHIROU
</INVENTOR-NAME>
<INVENTOR-NAME>
HONGU TAKAHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
HIRAO KOUICHIROU
</INVENTOR-NAME>
<INVENTOR-NAME>
HONGU, TAKAHIRO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method and apparatus for pattern matching encoding, in which binary data are compressed by using pattern matching.U.S. Patent No. 5,303,313 discloses a process of inputting a binary stationary image using a scanner and compressing bit map data of the input image. In this process, input image data obtained using a scanner or the like is precompressed by a run length encoding or like process, and then cut into patterns. Then, template data and pattern position data are generated by matching each cut pattern with a registered template. In this way, the input bit map data is compressed into data comprised of template codes and pattern position data.A second image data compression apparatus has been proposed in order to improve data compressibility with application to hand-written characters or indefinite type characters. This system has a temporary library, which is capable of newly registering and updating bit map data to be compared with input bit map data according to the input data.Fig. 1 is a block diagram showing a prior art binary stationary image pattern matching encoder having a temporary updating library. Referring to the Figure, text image data inputted from a scanner is binarized and smoothed for improving the compressibility in encoding and the visual image quality. A pattern extracting unit 101 executes pattern extraction from the smoothed data, and outputs bit map data of a mark pattern to a matching unit 102. The matching unit 102 compares the mark pattern with bit map patterns stored in a temporary updating library 103. When the ratio of unmatched pixels to all pixels is not above a predetermined ratio, the matching unit 102 judges the result of the comparison as being matched, and when the ratio is above the predetermined ratio, it judges the result as being unmatched.When the matching unit 102 judges the result of the comparison as being matched, it outputs to a multi-symbol arithmetic encoding unit 105 the ID of the matched bit map in the temporary updating library and the positioning data used when the matching is made whereby the data compression is made. A match error correcting unit 104 inverts match error pixels of bit map data of mark patterns which are judged as being matched. The corrected bit map data are ID registered in the temporary updating library 103. Bit map data of mark patterns which are judged as being unmatched, are ID registered in the temporary updating library 103 with no correction. In the temporary updating library 103, library
</DESCRIPTION>
<CLAIMS>
A method of pattern matching encoding of unit bit-map patterns extracted from input binary image data which includes font patterns, with library bit-map patterns, comprising the steps of:

storing font library bit-map patterns of a preliminarily-designated font;
storing temporary library bit-map patterns;
comparing the unit pattern with the font library patterns and with the temporary library patterns by comparing bit-map data of each of the unit patterns with bit-map data of the font library patterns and of the temporary library patterns to determine at least whether the unit patterns match either one of the font library patterns or one of the temporary library patterns; and
when a unit pattern is determined as not matching either any of the font library patterns or any of the temporary library patterns, newly registering the unit pattern as a new stored temporary library pattern.
A method of pattern matching encoding according to claim 1, wherein when a unit pattern is determined as matched with one of the temporary library patterns although partially unmatched therewith, the unit pattern is also newly registered as a new stored temporary library pattern.
A method of pattern matching encoding according to claim 1, wherein a unit pattern is newly registered as a new stored temporary library pattern only when the unit pattern is determined as being matched with neither any of the font library patterns, nor any of the temporary library patterns, or is determined as being matched with one of the temporary library patterns although being partially unmatched therewith.
A method of pattern matching encoding according to claim 1, 2 or 3, wherein a unit pattern is determined as being matched when the ratio of the number of unmatched pixels in the bit-map data is not greater than a predetermined ratio, and as being unmatched when the ratio is greater than the predetermined ratio.
Pattern matching encoding apparatus for use in the method of claim 1, comprising:

font memory means (11) storing font library bit-map patterns of a preliminarily-designated font;
temporary memory means (6) storing temporary library bit-map patterns;
pattern matching means (5) for executing a pattern matching process of matching the unit patterns by comparing the unit patterns with the font library patterns in the font memory means and with the temporary library patterns in the temporary memory means by comparing bit-map data of each of the unit patterns with bit-map data of the font library patterns and of the temporary library patterns to determine at least whether the unit patterns match either one of the font library patterns or one of the temporary library patterns; and
updating control means (12) coupled to the pattern matching means and the temporary memory means which, when a unit pattern is determined by the pattern matching means as not matching either any of the font library patterns in the font memory means or any of the temporary library patterns, newly registers the unit pattern as a new stored temporary library pattern in the temporary memory means.
Pattern matching encoding apparatus according to claim 5, wherein when the unit pattern is determined by the pattern matching means as matched with one of the temporary library patterns although partially unmatched therewith, the updating control means (12) also newly
 registers the unit pattern as a new stored temporary library pattern in the temporary memory means (6).
Pattern matching encoding apparatus according to claim 5 or 6, wherein the pattern matching means determines a unit pattern as being matched when the ratio of the number of unmatched pixels in the bit-map data is not greater than a predetermined ratio, and as being unmatched when the ratio is greater than the predetermined ratio.
Pattern matching encoding apparatus according to claim 5, 6 or 7, which further comprises:

font storage means (9) for storing a plurality of different fonts;
font designating means (8) for designating one of the plurality of fonts; and
font developing means (10) for developing the designated font into a font bit-map to generate the font library patterns.
Pattern matching encoding apparatus according to claim 8, wherein the font designating means (8) is arranged such that it designates a font by detecting the font size and font type from the unit patterns.
Pattern matching encoding apparatus according to claim 8 or 9, wherein the font designating means (8) includes operating means (7) for externally executing the font designation.
</CLAIMS>
</TEXT>
</DOC>
