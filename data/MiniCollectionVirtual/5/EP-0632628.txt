<DOC>
<DOCNO>EP-0632628</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Communication data processor
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1300	H04L1256	H04L2906	H04L1256	H04L2908	G06F1300	H04L2906	H04L2908	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	H04L	H04L	H04L	H04L	G06F	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F13	H04L12	H04L29	H04L12	H04L29	G06F13	H04L29	H04L29	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Data received from a communication channel (12) is stored in 
a data area (200). A list area (202) corresponding to the data 

area (200) in which the communication data has been stored is 
deleted from a vacant list management area (204) and then added 

to a logical check list management area (206). A list area (202) 
corresponding to a data area (200) logically checked by a lower 

layer logical check section (40) is deleted from the logical 
check list management area (206) and then added to a higher layer 

protocol classification list management area (208). A list area 
(202) corresponding to a data area (200) classified by a higher 

layer protocol classification section (42) is deleted from the 
higher layer protocol classification list management area (208) 

and then added to the vacant list management area (204). When 
data relating to a protocol having an OSI model is to be processed, 

it is not required to perform the transfer of real data in 
a data storage. 


 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SHARP KK
</APPLICANT-NAME>
<APPLICANT-NAME>
TOYOTA MOTOR CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
SHARP KABUSHIKI KAISHA
</APPLICANT-NAME>
<APPLICANT-NAME>
TOYOTA JIDOSHA KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OKAMURA NAOKI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKANO HIDETOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAO NORIYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
OKAMURA, NAOKI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKANO, HIDETOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAO, NORIYUKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a communication
data processor for storing communication data which are
received from any other station through communication
media such as communication channels or the like and
transmitted by the processors' home station through the
communication media and for processing these communication
data in a hierarchy manner.For example, if a data communication is to be carried
out between control systems which are disposed in a
factory at various locations, each of the control systems
is required to have a communication control unit which
should be connected to the other control units through
the communication channels. Fig. 9 shows a communication
control unit usable in such an application.Referring to Fig. 9, there is shown a communication
control unit 10 which is provided in an application
equipment (not shown). The communication control unit is
adapted to perform the data communication with a communication
control unit disposed in any other application
equipment through a communication channel 12. The communication control unit 10 comprises a
modulator/demodulator 14, a communication controller 16,
a data storage 18, CPU 20, ROM 22 and a data I/O 24. CPU
20 is means for controlling the entire operation of the
communication control unit 10 while ROM 22 has stored
program and others required by the operation of the CPU
20. The data I/O 24 is a memory area in which data is
transferred between the data I/O 24 and the processor of
the associated application equipment, that is, the application
processor. The data I/O 24 may be formed, for
example, by 2 port RAM. The modulator/demodulator 14
modulates signals to be send to the communication channel
12 and also demodulates communication data from signals
which are received by the communication control unit 10
through the communication channel 12. The communication
controller 16 executes the transmission and reception
processings. The transmission processing is one that
transforms data from the application processor through
the data I/O 24 into forms suitable for transmission
while the reception processing is one that processes the
reception data demodulated by the modulator/demodulator
14. The data storage 18 stores the reception data and
others.Fig. 10 shows the receiving function of the communication
controller 16 according to the prior art. As
shown, the receiving function of the communication controller
16 is provided by a reception section 26, a lower 
layer logical check section 28 and a higher layer protocol
classification
</DESCRIPTION>
<CLAIMS>
A communication data processor comprising:

storage means (18) having a plurality of data areas (200), said storage means
being capable of storing a communication data at any one of the plurality of data areas

(200);
multilayered processing means (16) for performing a multilayered processing
to the communication data on the plurality of data areas (200), said multilayered

processing including a plurality of layer specific processings making a hierarchical
structure, said multilayered processing means (16) including a plurality of layer specific

processing means (40,42) each associated with the corresponding one of said plurality
of layer specific processings, each of said plurality of layer specific processing means

(40,42) being operative to perform its own layer specific processing to the
communication data while using at least one of the plurality of data areas (200) at which

the communication data to be processed has been stored;
transmission means (14) for executing transmission of communication data
through a communication media (12) and wherein said multilayered processing is one

corresponding to a multilayered protocol relating to transmission of communication data
through the communication media (12) and each of said plurality of layer specific

processings is one corresponding to one of a plurality of layer specific protocols which
define the multilayered protocol; and 
characterized by
 further comprising,
a plurality of data area list delivery means (50) each for transferring part of a
data area list containing data area management information from a list associated with

one of the plurality of layer specific processing means (40,42) corresponding to a layer 
specific processing as a source to a list associated with another one of the plurality of

layer specific processing means as a destination, the data area management information
including an information for locating a data area (200) which has stored a

communication data having been subjected to the layer specific processing of the source
and to be subjected to the layer specific processing of the destination.
A communication data processor comprising:

storage means (18) having a plurality of data areas (200), said storage means
being capable of storing a communication data at any one of the plurality of data areas

(200);
multilayered processing means (16) for performing a multilayered processing
to the communication data on the plurality of data areas (200), said multilayered

processing including a plurality of layer specific processings making a hierarchical
structure, said multilayered processing means (16) including a plurality of layer specific

processing means (40,42) each associated with the corresponding one of said plurality
of layer specific processings, each of said plurality of layer specific processing means

(40,42) being operative to perform its own layer specific processing to the
communication data while using at least one of the plurality of data areas (200) at which

the communication data to be processed has been stored;
reception means (14) for executing reception of communication data through a
communication media (12) and wherein said multilayered processing is one

corresponding to a multilayered protocol relating to reception of communication data
through the communication media (12) and each of said plurality of layer specific 

processings is one corresponding to one of a plurality of layer specific protocols which
define the multilayered protocol; and 
characterized by
 further comprising,
a plurality of data area list delivery means (50) each for transferring part of a
data area list containing data area management information from a list associated with

one of the plurality of layer specific processing means (40,42) corresponding to a layer
specific processing as a source to a list associated with another one of the plurality of

layer specific processing means as a destination, the data area management information
including an information for locating a data area (200) which has stored a

communication data having been subjected to the layer specific processing of the source
and to be subjected to the layer specific processing of the destination.
A communication data processor as defined in claim 1 wherein the
transmission means is transmission and reception means for executing transmission and

reception and the multilayered processing is one corresponding to a multilayered
protocol for transmission and reception.
A communication data processor as claimed in any proceeding claim, and
further comprising:


first data transfer means (44) for storing a communication data received or to
be transmitted at any one of the plurality of data areas (200) being now unused;

and
new data area list delivery means (48) for transferring data area management
information from a vacant area list to a data area list when the first data transfer means 

(44) stores the communication data on any one of said plurality of data areas (200), said
vacant area list as a source storing the data area management information for locating

one or more of the plurality of data areas (200) being now unused by any one of said
plurality of layer specific processing means (40,44), said data area list as a destination

storing the data area management information for locating one or more of the plurality
of data areas (200) which has stored the communication data to be subjected to one or

more of the plurality of the layer specific processings.
A communication data processor according to any one of claims 1 to 3 and
further comprising:


second data transfer means (46) for reading the communication data subjected
to a multilayered processing from the plurality of data areas (200) at which said

communication data is stored; and
a vacant area list delivery means (52) for transferring data area management
information from a data area list to a vacant area list when the second data transfer

means (46) reads a communication data from any one of said plurality of data areas
(200), said vacant area list as a destination storing the data area management

information for locating one or more of the plurality of data areas being now unused by
any one of said plurality of layer specified processing means (40,42), said data area list

as a source storing the data area management information for locating one or more of
the plurality of data areas which has stored a communication data having been subjected

to any one of the plurality of layer specific processings.
A communication data processor as defined in claim 5 wherein the vacant area
list includes, as data area management information, data area pointers (DP
i
, L
i
) for
specifying a memory space of said storage means (18) occupied by one or more of the

plurality of data areas (200) to be managed by said vacant area list.
A communication data processor as defined in claim 4 wherein the data area
list includes, as data area management information, data area pointers (DP
i
, L
i
) for
specifying a memory space of said storage means (18) occupied by one or more of the

plurality of data areas (200) to be managed by said data area list.
A communication data processor as defined in claim 6 wherein the vacant area
list includes:


a plurality of list areas (202), on the storage means (18) corresponding to any
one of the plurality of data areas (200), for storing a self-list pointer (N
i
) for specifying
itself, at least one adjacent list pointer (NP
i
, PP
i
) for specifying another one of the
plurality of list areas (202) to be managed and said data area pointer (DP
i
, L
i
), said
plurality of list areas (202) being sequentially chained into an annulus through the at

least one adjacent list pointer (NP
i
, PP
i
) of the plurality of list areas (202); and
list management areas (204, 206 and 208), on the storage means (18), for
storing a list chain pointer (P, PZ) for specifying one or more of the plurality of list

areas (202) forming said vacant area list and a list depth pointer (DTP
i
) for indicating
the number of list areas (202) forming said vacant area list.
A communication data processor as defined in claim 7 wherein the data area
list includes:


a plurality of list areas (202), on the storage means (18) corresponding to any
one of the plurality of data areas (200), for storing a self-list pointer (N
i
) for specifying
itself, at least one adjacent list pointer (NP
i
, PP
i
) for specifying another one of the
plurality of list areas (202) to be managed and said data area pointer (DP
i
, L
i
), said
plurality of list areas (202) being sequentially chained into an annulus through at least

one adjacent list pointer (NP
i
, PP
i
), of the plurality of list areas (202); and
list management areas (204, 206 and 208) on the storage means (18) for storing
a list chain pointer (P, PZ) for specifying one or more of the plurality of list areas (202)

forming said data area list and a list depth pointer (DTP
i
) for indicating the number of
list areas (202) forming said data area list.
A communication data processor as defined in claim 8 or claim 9 wherein on
transfer of data area management information and in connection with the source, the

data area list delivery means, new data area list delivery means or vacant area list
delivery means (48, 50, 52) is operative to delete one of the plurality of list areas (202)

corresponding to one of the plurality of data areas (200) relating to the data area
management information to be transferred, when two list areas (202) are chained

directly with the list area to be deleted, from an area list in the source by changing the
contents of the at least one adjacent list pointer (NP
i
, PP
i
) in one of the two list areas
(202) to the self-list pointer (N
i
) of the other one of the two directly chained list areas
(202) decrementing the list depth pointer (DPT
i
) by one, and if the contents of the list 
chain pointer (P, PZ) specifies the deleted list area (202) changing the contents of the

list chain pointer (P, PZ) to a contents for specifying one of the two directly chained list
areas (202).
A Communication data processor as defined in any one of claims 8 to 10
wherein on transfer of the data area management information and in connection with the

destination, data area list delivery means, new data list delivery means or vacant area list
delivery means (48, 50, 52) is operative to add one of the plurality of list areas (202)

corresponding to one of the plurality of data areas (200) relating to the data area
management information to be transferred to an area list in the destination by changing

the contents of the at least one adjacent list pointer (NP
i
, PP
i
) in said list area to be
added (202) to specify a list area (202) specified by the list chain pointer (P, PZ),

incrementing the list depth pointer (DPT
i
) by one, and changing the contents of the list
chain pointer (P, PZ) to specify said list area to be added (202).
A communication data processor as defined in claims 10 or 11 wherein two
adjacent pointers (NP
i
, PP
i
) and two list chain pointers (P, PZ) are provided for
following the chain of list areas (202) bidirectionally.
A communication data processor as defined in claim 12, further comprising
means for adding all the data area management information to the vacant area list prior

to the start of the multilayered processing.
</CLAIMS>
</TEXT>
</DOC>
