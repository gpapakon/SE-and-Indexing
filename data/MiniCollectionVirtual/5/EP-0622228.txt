<DOC>
<DOCNO>EP-0622228</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Bidirectional printing method
</INVENTION-TITLE>
<CLASSIFICATIONS>B41J1914	B41J1918	B41J1900	B41J251	B41J205	B41J251	B41J205	B41J1918	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>B41J	B41J	B41J	B41J	B41J	B41J	B41J	B41J	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>B41J19	B41J19	B41J19	B41J2	B41J2	B41J2	B41J2	B41J19	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Inversion (20,72,89) of the encoder signal (16,71) --during 
pen-carriage (62) operation in just one (63
B
) of two 
printing directions (63
F
, 63
B
)--advantageously causes 
development of the position-signal pulse (14,21) at each encoder 

bar (11) to be generated from the same edge of each bar (11), 
even though the pulse-using circuit (61) is always triggered from 

the same 
apparent
 waveform (13,20) feature (e.g., a so-called 
"falling edge"). As a result, the position at which ink (32) is 

fired (77) from a pen (31) on the carriage (62) is independent of 
tolerances in bar (11) width. Further asymmetry of timing, 

provided by addressing each position (34) based on an earlier-arriving 
encoder-signal pulse (21b) and passing that pulse 

(21b,71) through a delay line (Δt,81-85), is preferably used to 
compensate for the fact that ink-drop time-of-flight acts in 

opposite senses (V
c
F,V
c
R) during pen scanning in the two 
different printing directions (63
F
, 63
B
) respectively. This time-of-flight 
effect, for the bidirectionally flying ink drops (32,32',32''), 

produces undesirable offset (ΔX
F
,ΔX
R
) of the actually printed ink 
position 
in opposite directions
 from the nominal ink-firing point 
(14,21,25). The invention uses asymmetrical timing in such a 

way that the ink-firing points (14,25), in the two directions 
respectively, bracket each common, desired mark location; the 

bidirectionally flying drops (32,32") then "lead" or approach 
each common mark location (34) from opposite directions 

(V
c
F,V
c
B) and can be aligned precisely. Another technique is 
useful when the printer uses large amounts of ink -- relative to  

 
the amount of liquid carrier that can be absorbed by or 

evaporated from the printing medium -- as for example, when a 
printer does double-ink-drop printing on transparency stock. In 

this case print quality can be improved by deliberately selecting 
a relatively large amount of jitter or random variation (t₄-t₁, t₄'-t₁') 

in firing time (59,59') within each pixel column. A preferred 
amount corresponds to about one eighth of a column width. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
RASKIN GREGORY D
</INVENTOR-NAME>
<INVENTOR-NAME>
RASKIN, GREGORY D.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates generally to machines and
procedures for printing text or graphics on printing media
such as paper, transparency stock, or other glossy media;
and more particularly to such a machine and method that
constructs text or images from individual marks created on
the printing medium, in a two-dimensional pixel array, by
a pen or other marking element or head that scans across
the medium bidirectionally.The invention is particularly beneficial in printers
that operate by the thermal-inkjet process -- which discharges
individual ink drops onto the printing medium. As
will be seen, however, certain features of the invention
are applicable to other scanning-head printing processes
as well.Bidirectional operation of any scanning-head device
is advantageous in that no time is wasted in slewing or
returning the print head across the medium to a starting
position after each scan; however, bidirectional operation
does present some obstacles to precise positioning of the 
printed marks, and also to best image quality. In order
to describe these obstacles it will be helpful first to
set forth some of the context in which these systems
operate.In many printing devices, position information is
derived by automatic reading of graduations along a scale
or so-called "encoder strip" (or sometimes "codestrip")
that is extended across the medium. The graduations
typically are in the form of opaque lines marked on a
transparent plastic or glass strip, or in the form of
solid opaque bars separated by apertures formed through a
metal strip.Such graduations typically are sensed electrooptically
to generate an electrical waveform that may be characterized
as a square wave, or more rigorously a trapezoidal
wave. Electronic circuitry responds to each pulse in the
wavetrain, signalling the pen-drive (or other marking-head-drive)
mechanism at each pixel location -- that is,
each point where ink can be discharged to form a properly
located picture element as part of the desired image.These data are compared, or combined, with information
about the desired image -- triggering the pen or
other marking head to produce a mark on the printing
medium at each pixel location where a mark is desired. As
will be understood, these operations are readily carried
out for each of several different ink colors, for printing
machines that are capable of printing in different colors.In addition to this use of the encoder-derived signal
as an absolute physical reference for firing the pens, the
frequency of the wavetrain is
</DESCRIPTION>
<CLAIMS>
A method of printing images on a printing medium by construction from
individual marks formed in pixel arrays by a bidirectionally scanning print

head (31) that operates (63) along a scan axis, while position of the print head
is determined by reference to graduations (11) of a scale (10), each graduation

having first and second physical features; said method comprising the steps of:

scanning the head in a first direction (63
F
) along a scan axis;
while scanning the head in the first direction, operating a position-determining
system that senses graduations (11) of the scale, and that

encounters the first and second physical features of each graduation in
a first particular order;
while scanning the head in the first direction, controlling the head by
reference to the first physical features exclusively, to form (32) marks

on the printing medium;
then scanning the head in a second direction (63
B
) along the same scan
axis;
while scanning the head in the second direction, operating the same
position-determining system that senses the same graduations, and that

encounters the same first and second physical features of each
graduation, but in a second particular order that is the reverse of the

first order;
while scanning the head in the second direction, controlling (61,77) the
head by reference to the first physical features exclusively, to form (32)

marks on the printing medium (33);
whereby the marks are formed on the printing medium by reference to
the same physical positions independent of scanning direction,

notwithstanding the reverse order in which the first and second
physical features of each graduation are encountered; and wherein: 


during said scanning of the head in the first direction, said position-determining-system-operating
step comprises providing a first original

position indication electrical waveform (13) that has first and second
electrical features (14,15) of opposite sense, derived respectively from

sensing of the first and second physical features of the scale;
during scanning of the head in the first direction, the head-controlling
step comprises controlling the head by reference to the first electrical

feature (14) of said first original waveform (13);
during said scanning of the head in the second direction, said position-determining-system-operating
step comprises providing a second

original position-indicating electrical waveform (16) that has said same
first and second electrical features (18,17) of opposite sense, derived

respectively from sensing of the first and second physical features of
the scale, but all reversed in sense relative to their occurrences in the

first original waveform;
and further comprising the step of, while scanning the head in the
second direction and operating the position-determining system,

deriving from said position-indicating electrical waveform a new
version (20) of the second original waveform (16) that has said first and

second electrical features of opposite sense, but each being reversed in
sense relative to those in the second original waveform;
whereby the second electrical feature (21) of the new version has the

same sense as said first electrical feature (14) of the first original
waveform.
The method of claim 1, wherein said deriving step comprises inverting
said second original waveform to generate an inverted waveform that is said

new version.
The method of claim 1, wherein:

the print head comprises an inkjet pen; and 
the controlling step comprises operating the inkjet pen to propel ink
drops toward the printing medium to form the marks on the medium;

and said method further comprising the steps of:

while scanning in the first direction, controlling the pen from a certain
one of said first electrical features of the first original waveform, to make

a first mark at a particular location; and
while scanning in the second direction, controlling the pen from a
particular one of said second electrical features of the new waveform

version to make a second mark at the same particular location;
said particular one of said new-version electrical features being
encountered at least one period in advance of one of said new-version

electrical features that corresponds in position to said first electrical
feature of the first original waveform.
The method of claim 3, wherein said pen-controlling step while
scanning in the second direction comprises delaying discharge of ink from the

pen, after sensing of said particular one of said new-version electrical features,
so that said second mark is substantially aligned with said first mark.
The method of claim 3, further comprising the step of when printing
with two or more ink drops at each pixel location on transparency stock,

selecting a relatively high value of uncertainty in print position.
The method of claim 5, wherein said relatively high value corresponds
to significantly more than one sixteenth of one pixel column width.
Apparatus for printing images on a printing medium by construction
from individual marks formed in pixel arrays; said apparatus comprising:


means (79) for supporting such printing medium (33);
a printhead (31) mounted (62,75) for motion (63) across the medium; 
means (62,75) for scanning the head bidirectionally (63
F/B
) across the
medium;
an encoder strip (10) extended across the supporting means parallel to
the print-head motion (63) across the medium, and having first and

second physical features substantially in alternation;
electrooptical means (64) for reading the encoder strip to generate a
square wave (13, 16) whose pulses (14,15) correspond to combinations

of said first and second physical features and thereby to positions
across the medium; and
means (65-74), connected to receive the square wave from the
electrooptical means, for responding to said first physical features

exclusively, irrespective of scanning direction, to control the head to
form marks (34, 34') on the medium; and wherein the responding means

comprise:

means (61) for responding to falling edges (14,20) of a received
wavetrain to control (77) the head to form marks on the medium; and
direction-sensitive means (67-73), connected between the
electrooptical means and the responding means, for inverting the square

wave before receipt by the responding means during scanning in only
one of two directions of scanning of the head across the medium.
The apparatus of claim 7, wherein:

the direction-sensitive means further comprise means for interposing a
delay between the electrooptical means and the responding means,

during scanning in said same only one direction;
whereby control of the head to form marks on the medium is delayed
after occurrences of the falling edges of the inverted square wave.
The apparatus of claim 8, wherein the delay-interposing means comprise
a delay line that is switched into the connection between the electrooptical

means an the responding means, only during scanning in said same only one
direction.
The apparatus of claim 9, wherein the delay line comprises a shift
register that is advanced by a signal from a sample clock.
The apparatus of claim 10, further comprising means for adjusting the
sample-clock period to a relatively high value when bidirectionally printing

two or more drops per pixel on a transparent printing medium.
The apparatus of claim 11, wherein said relatively high value exceeds
the time interval during which the print head scans through one-six-teenth of

a pixel column.
The apparatus of claim 12, wherein said relatively high value is
approximately the time interval during which the print head scans through

one eighth of a pixel column.
The apparatus of claim 11, wherein said relatively high value exceeds
forty microseconds.
A method of printing images on a printing medium by construction from
individual ink drops formed in pixel arrays by a bidirectionally scanning inkjet

pen, said method comprising the steps of:

scanning the pen in a first direction;
while scanning the pen in the first direction, operating a position-sensitive
system to provide a first original position-indication electrical

waveform that has first and second periodically repeating features of
opposite sense; 
while scanning the pen in the first direction, controlling the pen
by exclusive reference to the first periodically repeating feature

of said first original waveform, to propel ink drops toward the
printing medium;
then scanning the pen in a second direction;
while scanning the pen in a second direction, operating the same
position-sensitive system to provide a second original position-indicating

electrical waveform that has said first and second
periodically repeating features of opposite sense;
while scanning the pen in the second direction and operating the
position-sensitive system, inverting said second position-indicating

electrical waveform to form an inverted waveform that has said
first and second periodically repeating features of opposite sense,

but each being reversed in sense relative to those in the second
original waveform;
whereby the second periodically repeating feature of the inverted
waveform has the same sense as said first feature of the first

original waveform;
while scanning the pen in the second direction, controlling the pen
by exclusive reference to said second periodically repeating

feature of the new version, to propel ink drops toward the
printing medium.
</CLAIMS>
</TEXT>
</DOC>
