<DOC>
<DOCNO>EP-0641448</DOCNO> 
<TEXT>
<INVENTION-TITLE>
METHOD OF AND APPARATUS FOR DETECTING THE DISPLACEMENT OF A TARGET
</INVENTION-TITLE>
<CLASSIFICATIONS>G01S1302	G01S1300	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01S	G01S	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01S13	G01S13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method of detecting the displacement of a target in a given environment comprises storing reference data comprising data representative of the environment; transmitting a transmit signal towards the target; sensing the return signals from the target and the environment; and detecting the displacement of the target by comparing the return signals and the stored reference data. A method of detecting the level of a sample in a container is also disclosed. Analogous apparatus features are also disclosed.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CAMBRIDGE CONSULTANTS
</APPLICANT-NAME>
<APPLICANT-NAME>
CAMBRIDGE CONSULTANTS LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OSWALD GORDON KENNETH ANDREW
</INVENTOR-NAME>
<INVENTOR-NAME>
RICHARDSON ALAN TREVOR
</INVENTOR-NAME>
<INVENTOR-NAME>
OSWALD, GORDON KENNETH ANDREW
</INVENTOR-NAME>
<INVENTOR-NAME>
RICHARDSON, ALAN, TREVOR
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method of and apparatus for detecting the
displacement of a target in a given environment, and also to a method of and
apparatus for determining the level of a sample in a container, especially, but not
exclusively, by radar techniques.The invention relates particularly to liquid level sensing in a tank, but is also
applicable to altimetry and intruder detection. It is most suited to relatively short
range applications.It is known, for example from a paper entitled "Geophysical Radar Designs", by
Oswald, G.K.A. (IEEE Proceedings, Volume 1-35, Part F, No. 4, August 1988), to
detect the displacement of a target relative to its environment by transmitting a radio-frequency
impulsive signal towards the target, sensing the return signals from the
target and the environment, and detecting displacement of the target by detecting any
Doppler shift in the return signal waveform by simple high pass or band pass filtering.In that such a technique relies on the Doppler effect, it can only function successfully
when there is a significant relative motion between the target and the environment (as
would be the case, for example, if an aircraft were the "target" and the terrain were
the environment). Such a technique cannot function at all when there is no relative
movement between the target and the environment, since in this case there will be no
Doppler shift. Hence this technique is not suitable for sensing the level of a sample
in a container, since, in many cases, the level might be expected to change only
slowly, if at all. For example, for petrochemical or soap tanks, changes of perhaps
only 2.5cm per day in level are commonly experienced.A radar-based technique for measuring the level of a liquid in a tank is also known.
In this technique, a narrow-beam, high frequency (for example 10-12 GHz), narrow 
bandwidth (for example 3% of the centre frequency) frequency modulated transmit
signal is transmitted via an antenna of roughly 0.3 m diameter towards a small region
of the liquid surface. It will be appreciated that the frequency has to be relatively
high and the antenna has to be relatively wide in order to produce a sufficiently
narrow beam so that only this small region of the liquid surface is irradiated. The
displacement of the surface is detected by sensing the return signals from solely the
surface.Such a technique suffers from the disadvantages firstly that it is expensive to
implement because of the relatively high frequency of operation. Secondly, it is
limited by
</DESCRIPTION>
<CLAIMS>
A method of detecting the displacement of a target (16) in a given environment
(14), comprising:


storing reference data comprising data representative of the environment (14);
transmitting a transmit signal towards the target (16);
sensing the return signals from the target (16) and the environment (14); and
detecting the displacement of the target (16) by comparing the return signals
and the reference data;
characterized by
the reference data being updated at an update rate which is varied in
dependence on the displacement of the target (16).
A method according to Claim 1, wherein the detection of the displacement of
the target includes comparing the return signals and at least a portion of the reference

data prior to carrying out a thresholding process to identify a return signal from the
target.
A method according to Claim 1 or Claim 2, wherein the detection of the
displacement of the target includes subtracting one of the return signals and at least

a portion of the reference data from the other prior to carrying out a thresholding
process to identify a return signal from the target.
A method according to any of the preceding claims, wherein the target is a
surface of a sample and the environment is a container for the sample.
A method according to Claim 4, wherein the target is the surface of a liquid
and the environment is a container for the liquid.
A method according to any of the preceding claims, wherein the return signals
are compared only with stored reference data representative of the environment (14).
A method according to any of the preceding claims, wherein the transmit signal
is 

transmitted from a transmitter (12), and data representative of the parts of the
environment (14) both closer to and more distant from the transmitter (12) than the

target (16) are stored, but only the data representative of the closer part of the
environment (14) are updated, whereby further data are updated as, and whenever, the

target (16) recedes from the transmitter (12).
A method according to any of Claims 1 to 5 wherein the stored reference data
with which the return signals are compared comprise data representative both of the

environment (14) and of the target (16).
A method according to Claim 8 wherein the return signals are compared with
reference data representative of the environment (14), and, if no displacement of the

target (16) is detected from this comparison, are additionally compared with reference
data representative of the target (16) and the environment (14).
A method according to any of the preceding claims wherein the stored
reference data are representative of return signals sensed at at least one previous

instant.
A method according to any of the preceding claims wherein the transmit signal
is transmitted at a plurality of instants, the stored reference data is derived from the

return signals and is stored at selected instants, and the displacement of the target (16)
is detected by comparing the return signals sensed at one instant and the reference

data sensed at at least one previous such selected instant.
A method according to any of the preceding claims wherein the stored
reference data are only updated if displacement of the target (16) is detected.
A method according to any of the preceding claims wherein timing errors in
the return signals are detected and compensated for, and preferably the relative timing

of the reference data and the return signals is compared and compensation is made if
any timing error is detected from the comparison. 
A method according to any one of the preceding claims wherein the respective
amplitudes of a reference point on the return signal waveform and on the reference

data are compared.
A method according to any of the preceding claims wherein data representative
of the environment (14) are determined in the absence of the target (16).
A method according to any of the preceding claims wherein the target (16) is
initially identified either as the first feature for which a displacement is detected or by

the user.
A method according to any of the preceding claims wherein data representative
of a predetermined portion of the environment (14) adjacent the target (16) are stored,

the storage of data being arranged to keep track of movement of the target (16).
A method according to any of the preceding claims wherein the target
displacement is detected in dependence on a difference waveform derived by

comparing the return signals and the stored reference data, and preferably derived by
subtracting one of the return signals and the reference data from the other.
A method according to Claim 18 wherein the target displacement is detected
in dependence on the location of an edge of the difference waveform in the region

corresponding to the target position.
A method according to any of Claims 1 to 19 wherein the transmit signal is
a broadband pulse, and has a bandwidth greater than 20% of its centre frequency.
A method according to Claim 20 wherein the centre frequency of the transmit
pulse is less than 5 GHz.
Apparatus for detecting the displacement of a target (16) in a given
environment (14), comprising : 


means for storing reference data comprising data representative of the
environment (14);
means (12) for transmitting a transmit signal towards the target (16);
means (12) for sensing the return signals from the target (16) and the
environment (14); and
means for detecting the displacement of the target (16) by comparing the
return signals and the stored reference data;
characterized by
the storage means being adapted to update the reference data at an update rate
which is varied in dependence on the displacement of the target (16).
Apparatus according to Claim 22, the apparatus comprising means for
comparing the return signals and at least a portion of the reference data prior to

carrying out a thresholding process to identify a return signal from the target, and
preferably includes means for subtracting one of the return signals and at least a

portion of the reference data from the other prior to carrying out the thresholding
process.
Apparatus according to Claim 22 or Claim 23 wherein the target is a surface
of a sample and the environment is a container for the sample, and preferably the

target is the surface of a liquid and the environment is a container for the liquid.
Apparatus according to any of Claims 22 to 24 wherein the detection means
is adapted to compare the return signals only with stored reference data representative

of the environment (14) and preferably the storage means is adapted to store data
representative of the parts of the environment (14) both closer to and more distant

from the transmitting means (12) than the target (16), but only to update the data
representative of the closer part of the environment (14), whereby further data are

updated as, and whenever, the target (16) recedes from the transmitting means (12).
Apparatus according to any of Claims 22 to 25 wherein the storage means is 
adapted to store data representative both of the environment (14) and of the target (16)

and the detection means is adapted to compare such data with the return signals, and
preferably the detection means is adapted to compare the return signals with reference

data representative of the environment (14), and, if no displacement of the target (16)
is detected from this comparison, additionally to compare the return signals with

reference data representative of the target (16) and the environment (14).
Apparatus according to any of Claims 22 to 26 wherein the storage means is
adapted to store reference data representative of return signals sensed by the sensing

means at at least one previous instant, and preferably the transmitting means (12) is
adapted to transmit the transmit signal at a plurality of instants, the storage means is

adapted to derive the reference data from the return signals and store such data at
selected instants, and the detecting means is adapted to detect the displacement of the

target (16) by comparing the return signals sensed at one instant and the reference data
sensed at at least one previous such selected instant.
Apparatus according to any of Claims 22 to 27 wherein the storage means is
adapted to update the stored reference data only if displacement of the target (16) is

detected.
Apparatus according to any of Claims 22 to 28 including means for comparing
the relative timing of the reference data and the return signals and for making

compensation if any timing error is detected from the comparison.
Apparatus according to any of Claims 22 to 29 including means for comparing
the respective amplitudes of a reference point on the return signal waveform and on

the reference data.
Apparatus according to any of Claims 22 to 30 wherein the detection means
is adapted to identify the target (16) initially as the first feature for which the

detection means detects a displacement. 
Apparatus according to any of Claims 22 to 31 wherein the storage means is
adapted to store data representative of a predetermined portion of the environment (14)

adjacent the target (16), and is adapted to keep track of movement of the target (16).
Apparatus according to any of Claims 22 to 32 wherein the detection means
is adapted to derive a difference waveform by comparing the return signals and the

stored reference data, and to detect the target displacement in dependence on the
difference waveform.
</CLAIMS>
</TEXT>
</DOC>
