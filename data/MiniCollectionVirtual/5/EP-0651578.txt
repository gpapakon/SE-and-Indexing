<DOC>
<DOCNO>EP-0651578</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processing apparatus that can provide image data of high quality without deterioration in picture quality
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N514	G09G536	H04N736	H04N701	G09G5391	H04N726	H04N726	H04N736	H04N514	H04N701	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	G09G	H04N	H04N	G09G	H04N	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N5	G09G5	H04N7	H04N7	G09G5	H04N7	H04N7	H04N7	H04N5	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Digital image data obtained by A/D converting an 
output signal from an image sensing device (1) by an A/D 

conversion circuit (3) is converted into image data 
corresponding to a predetermined image format by a digital 

process of an image conversion circuit (5). 
This image conversion circuit is controlled 
either by the resolution of 

the camera head or an external host. Furthermore, the processing and 
storage of the image data is made dependant on the contents of the image 

data (moving picture, person or text oriented). 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SHARP KK
</APPLICANT-NAME>
<APPLICANT-NAME>
SHARP KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
FUKUI KAZUHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
NAKAYA MITSUYOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
OKADA ATSUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
YASUDA YASUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
FUKUI, KAZUHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
NAKAYA, MITSUYOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
OKADA, ATSUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
YASUDA, YASUSHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to image processing
apparatuses, and more particularly, to an image processing
apparatus suitable for computer systems such as a personal
computer and a work station, domestic information
terminals such as a HA (Home Automation) system and
portable information terminals, and also communication
systems of television telephones and television
conferences.A conventional image processing apparatus compresses
image data by converting a video signal from a video movie
camera or the like into an intermediate format called a
CIF (Common Intermediate Format). The compressed image
data is transmitted to the other side via a telephone
line.Such an image processing apparatus will be described
hereinafter with reference to Fig. 71 showing a structure
of a conventional image processing apparatus.Referring to Fig. 71, an image processing apparatus 
includes a video movie 201, an A/D converter 202, a
luminance signal processing circuit 203, a color signal
processing circuit 204, an image conversion circuit 205,
and a frame memory 206.An analog video signal or a YC separation signal from
video movie 201 is converted into a digital video signal
by A/D converter 202. Digital luminance signal Y and
digital color signal C of the digital video signal are
processed by luminance signal processing circuit 203 and
color signal processing circuit 204, respectively, to be
provided to image conversion circuit 205. The digital
video signals processed by each of processing circuits 203
and 204 are stored in frame memory 206 via image
conversion circuit 205. Image conversion circuit 205
reads out the digital video signal stored in frame memory
206 to convert the same into a CIF format by applying
frame frequency conversion, line conversion, and pixel
conversion thereto. Such a conventional image processing
apparatus is disclosed in for example, Japanese Patent
Laying-Open Nos. 4-229789 and 4-185087.The prior art document WO-A-91/10320 discloses different options for transforming the
digital image information ouput from an image frame memory of a playback/processing
unit of the elelctronic imaging apparatus into different image formats.Because such a conventional image processing
apparatus has to carry out complicated frame frequency
conversion, pixel conversion, and line conversion, the
circuit complexity thereof is increased. There was also a
problem that a frame memory is required. Furthermore, 
when an arbitrary image format conversion is to be carried out. the storage
capacity required for the frame
</DESCRIPTION>
<CLAIMS>
An image processing apparatus comprising:

image signal output means (1-3) for converting sensed light incident
from an object into a digital image signal, and
signal processing means (4) for applying a signal process on said
digital image signal to output a digital video signal;
first conversion means (57; 601, 603; 65; 121) for converting said
digital video signal into image data corresponding to a first image format,
second conversion means (58; 59; 602; 66; 122) for converting said
image data corresponding to the first format into image data corresponding to

a second format, the second format being a modified version of the first
format, and
conversion control means (6; 68; 68a; 13; 15) for selecting and
controlling the operation of only said first conversion means to convert the

digital video signal into image data corresponding to the first format for
output from the apparatus and for selecting and controlling the operation of

both the first and second conversion means to convert the digital video signal
into image data corresponding to the second format for output from the

apparatus.
An image processing apparatus according to claim 1, further
comprising: 


detection means (9) for detecting a feature of an image from said
digital video signal,
wherein said conversion control means (13) is arranged to control the
first and second conversion means to perform conversion into an image

format according to the feature detected by said detection means.
An image processing apparatus according to claim 1, wherein
said first conversion means is operable to convert said digital video signal into

image data corresponding to a CIF format of 352 pixels x 288 lines;

said second conversion means is arranged to receive said image data
corresponding to the CIF format output from said first conversion means and

is operable to convert said image data corresponding to the CIF format into
image data corresponding to another format; and
said conversion control means selectively provides, as the output of
the apparatus, said converted image data corresponding to one of the CIF

format and the another format.
An image processing apparatus according to claim 3, wherein
said second conversion means comprises 1/2 conversion means (58) for

converting said image data corresponding to the CIF format into image data
that is 1/2 in a horizontal direction and a vertical direction, thus providing

image data corresponding to a QCIF format of 176 dots x 144 lines. 
An image processing apparatus according to claim 1, further
comprising:

   third conversion means (58; 67; 123) for converting said image data
corresponding to the second format into image data corresponding to a third

format, the third format being a modified version of the second format,
wherein the conversion control means is operable to further select and control

the operation of each of said first, second and third conversion means to
convert the digital video signal into image data corresponding to the third

format for output from the apparatus. 
An image processing apparatus according to claim 5, wherein
said first conversion means (65; 121) comprises square pixel conversion

means for converting said digital video signal into image data corresponding
to a first format corresponding to a square pixel.
An image processing apparatus according to claim 6, wherein
said second conversion means (66) is operable to convert said image data

corresponding to the first format into image data corresponding to the second
format in which the number of lines and the number of dots are 1/2;


said third conversion means (67) is operable to convert said image data
corresponding to the second format into image data corresponding to the third

format in which the number of lines and the number of dots are 1/2; and
wherein
said conversion control means (68; 68a) is responsive to a format
specification signal MD for specifying a conversion format for controlling the

conversion operation of said first to third conversion means.
An image processing apparatus according to claim 7, further
including contour enhancement means (69) for enhancing the contour of the

output converted image data. 
An image processing apparatus according to claim 7, wherein
said signal processing means (4) outputs said digital video signal in

synchronization with a predetermined clock signal (DCLK),

wherein said first conversion means comprises
first image data conversion means (63) for converting said digital
video signal input in synchronization with said clock signal into image data of

said first format, and outputting said image data of the first format in
synchronization with said clock signal, and
first timing signal generation means (64) for generating a first timing
signal (DTACTV) indicating the valid timing of said image data of the first

format,
wherein said second conversion means comprises
second image data conversion means (66) for converting said image
data of the first format input in synchronization with said clock signal

(DCLK) into image data of the second format, and outputting said image data
of the second format in synchronization with said clock signal, and
second timing signal generating means (66) for generating a second
timing signal (DTACTV1) indicating the valid timing of said image data of

the second format,
wherein said third conversion means comprises
third image data conversion means (671-674) for converting said
image data of the second format input in synchronization with said clock

signal (DCLK) into image data of the third format, and outputting said image
data of the third format in synchronization with said clock signal, 
third timing signal generation means (675, 676) for generating a third
timing signal (DTACTV2) indicating the valid timing of said image data of

the third format.
An image processing apparatus according to claim 9, wherein
said second image data conversion means selects image data of one of an odd

number and an even number field of said image data of the first format, for
converting the number of lines to 1/2,


wherein said third image data conversion means comprises horizontal
calculation means (674) for converting the number of dots in the horizontal

direction of said image data of the second format to 1/2 by a calculating
process, and
wherein said horizontal calculation means selects either image data of
two adjacent dots or image data of two dots spaced apart by 1 dot.
An image processing apparatus according to claim 9, wherein
said third image data conversion means comprises


horizontal calculating means (677) for converting the number of dots
in the horizontal direction of said image data of the second format to 1/2 by a

calculation process,
a line memory (679) for storing image data having the number of dots
in the horizontal direction converted to 1/2 by said horizontal calculation

means, and 
vertical calculation means (674) for converting the number of lines in
the vertical direction of said image data of the second format to 1/2 by

carrying out a calculation process on the image data output from said
horizontal calculation means and said line memory.
An image processing apparatus according to claim 11, wherein
said first format comprises a VGA format of a resolution of 640 x 480 dots.
An image processing apparatus according to claim 1, wherein
said first and second conversion means comprise


image conversion logic means (12) that can have an arbitrary logic
programmed, and
program means (13) for programming a predetermined logic in said
image conversion logic means,
wherein said image conversion logic means converts said digital video
signal into image data corresponding to the first or second image format

according to said predetermined logic programmed by said programming
means, and outputs said image data.
An image processing apparatus according to claim 13, further
comprising:


detection means (9) for detecting a feature of an image from said
digital video signal, 
wherein said program means determines an image format conversion
process according to said feature of the image for programming a

predetermined logic realizing said image format conversion process in said
image conversion logic means, and
wherein said image conversion logic means carries out said image
format conversion process on said digital video signal output from said signal

processing means according to said predetermined logic programmed by said
program means, and outputs said image data corresponding to said image

format.
An image processing apparatus according to claim 13, wherein
said signal processing means comprises signal processing logic means (14)

that can have an arbitrary logic programmed, and

   wherein said program means programs a predetermined logic in said
signal processing logic means and said image conversion logic means

according to an externally input control data.
An image processing apparatus according to claim 15, wherein
said image signal output means comprises image sensing means (1) having a

predetermined resolution,

wherein said control data comprises data concerning the resolution of
said image sensing means, 
wherein said program means programs a predetermined logic
according to the resolution of said image sensing means in said signal

processing logic means and said image conversion logic means,
wherein said signal processing logic means carries out a signal process
according to the resolution of said image sensing means, and
wherein said image conversion logic means carries out an image
format conversion process according to the resolution of said image sensing

means.
</CLAIMS>
</TEXT>
</DOC>
