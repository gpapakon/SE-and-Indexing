<DOC>
<DOCNO>EP-0612169</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Data transmission method and system therefor
</INVENTION-TITLE>
<CLASSIFICATIONS>B60R1602	B60R1602	B60R1603	H04L116	H04L12417	B60R1603	H04L118	H04L100	H04L12413	H04L100	H04L116	H04L12407	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>B60R	B60R	B60R	H04L	H04L	B60R	H04L	H04L	H04L	H04L	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>B60R16	B60R16	B60R16	H04L1	H04L12	B60R16	H04L1	H04L1	H04L12	H04L1	H04L1	H04L12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A data transmission system for a vehicle 
includes a plurality of control systems installed on 

the vehicle, and a network bus connecting the plurality 
of control systems with each other for circulating a 

transmission right through the plurality of control 
systems to thereby perform transmission of a message 

between the plurality of control systems. According to 
a first aspect, each of the control systems starts 

transmitting data when it is detected that the 
transmission right is not generated or lost from the 

system, and continues transmitting the data when no 
collision of data transmitted from the present control 

system with data transmitted from the rest of the 
plurality of control systems, or when by mediation for 

avoiding the collision is detected, it is determined to 
continue data transmission. According to a second 

aspect, the maximum number of times of retransmission 
to be permitted is determined according to a type of 

failure in transmission identified, and the 
retransmission is performed so long as the number times 

of retransmission of the data does not exceed the 
maximum number of times of retransmission to be 

permitted. According to a fourth aspect, the message 
comprises a first response field for receiving a first 

acknowledging response output from a control system 
having received the transmission right, and a second 

response field for receiving a second acknowledging 
response output from a control system having received 

data. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HONDA MOTOR CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
HONDA GIKEN KOGYO KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HASHIMOTO HIROSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
ISHII JUN
</INVENTOR-NAME>
<INVENTOR-NAME>
NAGATANI YUJI
</INVENTOR-NAME>
<INVENTOR-NAME>
HASHIMOTO, HIROSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
ISHII, JUN
</INVENTOR-NAME>
<INVENTOR-NAME>
NAGATANI, YUJI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a method of
transmitting data and a system therefor between a
plurality of electronic control units installed on an
automotive vehicle via a common communication line
connecting these electronic control units.Conventionally, in performing mutual data
transmission between a plurality of electronic control
units (hereinafter referred to as the "ECU's" installed
on an automotive vehicle via a common communication
line (hereinafter referred to as "the network bus")
connecting the ECU's, a token passing method is
employed for circulating a transmission right round the
ECU's in a predetermined sequence to permit an ECU
having received the transmission right to send out data
to the network bus.When a data transmission system employing the
token passing method is started, the following methods
are conventionally known for initially rendering (i.e.
generating) the transmission right to one of the ECU's:
(1) Fixed ECU method of initially rendering the
transmission right to a particular ECU determined in
advance in a fixed manner.(2) Waiting method in which all the ECU's start
transmitting data assuming that they are each initially
rendered with the transmission right, stop transmitting
data when collision of data occurs, and restart data 
transmission after waiting for predetermined waiting
time periods set to the ECU's, respectively, repeatedly
carrying out this procedure until no collision occurs,
to thereby restrict an initial holder of the
transmission right to one of the ECU's.However, the fixed ECU method suffers from a
problem that if the particular ECU to which the
transmission right is to be initially rendered is in
failure, the transmission right cannot be produced for
ever.With the waiting method as well, there is an
inconvenience that it takes much time to generate the
transmission right, and time is wastefully consumed
before the ECU's start to cooperate as a network.On the other hand, in the data transmission
system using the token passing method, it is a known
technique to add broadcast data to a message for
transmission to transfer the transmission right to the
next ECU, as disclosed e.g. in Japanese Patent
Publication (Kokoku) No. 1-58900.However, according to this conventional
technique, the message data format is not constructed
such that a sending end can confirm safe and accurate
transfer of each of the transmission right and data,
and hence there is room for improvement thereof to
expedite the transmission.Further, Japanese Patent Publication (Kokoku)
No. 1-57856
</DESCRIPTION>
<CLAIMS>
A data transmission system for a vehicle, including a plurality of control systems
(1, 2, 3, 4, 5) installed on said vehicle, a network bus (6) connecting said plurality

of control systems with each other for circulating a transmission right through said
plurality of control systems to thereby perform transmission of a message between

said plurality of control systems, and transmitter-reciever means for transmitting
data to or receiving data from the rest of said plurality of control systems via said

network bus,
characterized in that
 each of said plurality of control systems comprises:

collision-detecting means for detecting a collision of data transmitted from said
transmitter-receiver means with data transmitted from any of the rest of said

plurality of control systems;
mediating means for performing mediation on said data transmitted from said
transmitter-receiver means and having been detected to be collided with said data

transmitted from any of the rest of said plurality of control systems to direct said
transmitter-receiver means to continue data transmission or stop said data

transmission, for the purpose of avoiding said collision,
monitor means for monitoring said transmission right; and
control means for causing said transmitter-receiver means to start transmitting data
when said monitoring means detects that said transmission right is not generated or

lost from said system, and causing said transmitter-receiver means to continue
transmitting said data when said collision-detecting means does not detect a

collision of said data with data transmitted from the rest of said plurality of control
systems, or when said mediating means directs said transmitter-receiver to

continue data transmission.
A data transmission system according to claim 1, further comprising transfer
means for transferring said transmission right to a subsequent control system in a

predetermined manner, when said control means controls said transmitter-receiver
means to continue said data transmission until said data transmission is completed.
A data transmission system according to claim 1 or 2, wherein said mediating
means is adapted to compare said data transmitted from said transmitter-receiver

means with said data received via said network bus from the rest of said plurality
of control systems, bit by bit, based on the logic considering one of logical levels

of transmission data as dominant, and the other of said logical levels of said
transmission data as recessive, and adapted to direct said transmitter-receiver

means to stop said data transmission when said data transmitted from said
transmitter-receiver means and said data received from said network bus are

different from each other.
A data transmission system according to claim 2 or 3, wherein said transfer means
is adapted to transfer said transmission right to said subsequent control unit by

increasing an address representative of said each of said plurality of control
systems incorporating said transfer means by a predetermined number.
</CLAIMS>
</TEXT>
</DOC>
