<DOC>
<DOCNO>EP-0636998</DOCNO> 
<TEXT>
<INVENTION-TITLE>
High-security ic card
</INVENTION-TITLE>
<CLASSIFICATIONS>G07F710	G06K19073	G06K19073	G07F710	G06K1700	G06K1700	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G07F	G06K	G06K	G07F	G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G07F7	G06K19	G06K19	G07F7	G06K17	G06K17	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An IC card comprises a read-only memory (140) 
for storing an operation command therein, a reloadable 

memory (160) for storing a plurality of control 
commands therein, a selecting unit (162) for selecting 

the control command stored in the read-only memory and 
one of the control commands stored in the reloadable 

memory, and a control unit (130) for driving the IC 
card in accordance with the selected control commands. 

The IC card provides high security, and is capable of 
holding confidentiality of various commands stored 

therein. The IC card can be realised in a form which 
is adaptable to various application systems used for 

the IC card without rewriting the data in the read-only 
memory and can provide high general versatility. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
OKI ELECTRIC IND CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
OKI ELECTRIC INDUSTRY CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SHONA YOSHIHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
SHONA, YOSHIHIRO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to an IC card having a control unit and a
storage unit provided therein, for receiving various commands from an
outer device so as to execute various processes in accordance with the
received various commands.An IC card has recently been used in various fields. The IC card
comprises a contact unit disposed on the surface of the IC card and
electrically connected to an outer device so as to effect the transfer of
signals and data between the outer device and the contact unit, and a
semiconductor device disposed inside the IC card. This type of
semiconductor device is normally comprised of a control unit including a
microprocessor, etc., a Read Only Memory (ROM) for storing control
programs therein, an Electrically Erasable Programmable Read Only
Memory (EEPROM), etc. The EEPROM stores transaction data and the
like used for the IC card therein.This type of IC card has been employed in banking facilities such as
a bank, etc. The IC card employed in the banking facilities needs high
security from its nature.Such an IC card has been disclosed in, for example, Japanese
Patent Application Laid-Open Publication No. 2-89169 laid open to public
inspection on march 29, 1990.Additionally, EP-A-0 583 006 describes an IC card with an access
key box designation table which indicates which keys should be verified,
and a vertical matching condition settings table which indicates which level
keys should be collected for verification. The present invention seeks to provide a high-security IC card
capable of holding confidentiality of various commands stored therein.The present invention further seeks to provide a high general-purpose
card adaptable to various application systems used for the IC card
without changing the mask for a ROM.In accordance with the invention, there is provided an IC card
comprising a card base, at least one integrated circuit disposed on said
card base, and communication means disposed on said card base and
coupled to said at least one integrated circuit for transferring signals
between said at least one integrated circuit and an external device,
characterised in that said at least one integrated circuit includes:
a first memory having a command table area for storing command
tables, said first memory being a reloadable memory;a second memory for storing a non-reloadable command table, said
second memory being a read-only memory;wherein the command tables of the first memory and the command
table of the second memory store command class codes, each of which
designate the
</DESCRIPTION>
<CLAIMS>
An IC card (100) comprising a card base, at least one integrated
circuit (120) disposed on sa
id card base, and communication means (110)
disposed on said card base and coupled to said at least one integrated

circuit (120) for transferring signals between said at least one integrated
circuit (120) and an external device (200), characterised in that said at least

one integrated circuit (120) includes:

a first memory (160) having a command table area (163) for storing
command tables, said first memory (160) being a reloadable memory;
a second memory (140) for storing a non-reloadable command table
(141), said second memory (140) being a read-only memory;
wherein the command tables of the first memory (160) and the
command table (141) of the second memory (140) store command class

codes, each of which designate the command class for a respective
command to be executed, and store command codes which designate the

operation to be performed by each of the commands;
selecting means (130), operatively coupled to said first and said
second memory, for selecting either said non-reloadable command table

(141) stored in said second memory (140) or a command table stored in
said command table area of said first memory (160); and
means for carrying out operations designated by the command
codes of the selected command table in accordance with commands

received from the external device.
The IC card (100) as recited in claim 1 wherein said selecting means
(130) includes management storage means for storing first data (164a)

representing how many command tables are stored in said first memory,
and for storing second data (164b) representing a selected command table,

said second data (164b) being received from said external device (200) to
thereby specify any one of the command tables stored in said first memory

(160),

wherein said selecting means (130) selects the non-reloadable
command table (141) stored in said second memory (140) when the first

data (164a) representing how many command tables are stored in the first
memory is "0", and 
wherein said selecting means (130) selects one of the command
tables stored in said first memory (160) based on the second data (164b)

representing a selected command table, when the first data (164a)
representing how many command tables are stored in said first memory

(160) is other than "0".
The IC card (100) as recited in claim 1 wherein said selecting means
(130) includes management storage means for storing random number

data and for storing data (164a, 164'a) representing how many command
tables are stored in said first memory,


wherein said selecting means (130) selects the non-reloadable
command table (141) stored in said second memory (140) when the data

representing how many command tables are stored in said first memory
(160) is "0", and
wherein said selecting means (130) randomly selects a command
table stored in said first memory (160) based on the random number data,

when the data (164a, 164'a) representing how many command tables are
stored in said first memory (160) is other than "0", and provides the random

number data used to select a command table to said external device (200).
The IC card (100) as recited in claim 1 wherein said selecting means
(130) includes management storage means for storing data (164b)

representing a selected command table received from an external device,
for storing random number data, and for storing data representing how

many command tables are stored in said first memory (164a, 164'a),

wherein said selecting means (130) selects the non-reloadable
command table (141) stored in said second memory (140) when the data

representing how many command tables are stored in said first memory is
"0",
wherein said selecting means (130) selects a command table stored
in said first memory (160) when the data representing a selected command

table is received from said external device (200) and the data representing
how many command tables are stored in the first memory (160) is other

than "0", and 
wherein said selecting means (130) randomly selects a command
table stored in said first memory (160) based on the random number data,

and provides the random number data to said external device (200) when
no data representing a selected command table is received from said

external device (200) and the data representing how many command
tables are stored in said first memory (160) is other than "0".
An IC card system comprising an IC card (100) as recited in claim 1,
and an external device (200) for changing a command table selected by

said selecting means (130) of said IC card (100) each time said IC card
(100) is used.
</CLAIMS>
</TEXT>
</DOC>
