<DOC>
<DOCNO>EP-1234428</DOCNO> 
<TEXT>
<INVENTION-TITLE>
METHOD AND APPARATUS FOR PACKET DELAY REDUCTION USING SCHEDULING AND HEADER COMPRESSION
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L1256	H04L2906	H04L2906	H04L1256	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L12	H04L29	H04L29	H04L12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method and apparatus for reducing delay in the transmission of a plurality of packets by performing IP scheduling and header compression at various layers in a multilayer architecture having a plurality of classifications includes scheduling packets according to classifications. If congestion occurs during scheduling, packets may be discarded. Some packet headers may be compressed thereafter. Packets may further be queued in a first and a second queue, after scheduling, discarding, and compressing, according to at least two classifications. Best Efforts packets may be queued into the lower priority second queue. Classifications may be associated with, for example, QoS levels, delay factors, LFI, and Multilink PPP. Scheduling is performed at higher or lower layers in a multi-layer protocol. The lower layer includes a PPP layer. The lower layer may also include an HDLC layer which creates a tag for packets prior to compression being performed thereupon. The tag may be added to packets at some point thereafter. Tags are removed prior to transmission. An outbound packet queue having a queue depth of no greater than one ensures no more than one Best Efforts packet wait time.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ERICSSON TELEFON AB L M
</APPLICANT-NAME>
<APPLICANT-NAME>
TELEFONAKTIEBOLAGET LM ERICSSON (PUBL)
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OLSSON GUNNAR
</INVENTOR-NAME>
<INVENTOR-NAME>
RAHLEN SIMON
</INVENTOR-NAME>
<INVENTOR-NAME>
OLSSON, GUNNAR
</INVENTOR-NAME>
<INVENTOR-NAME>
RAHLEN, SIMON
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to multiplex communication systems for transferring information in packets and more particularly, to scheduling and header compression of packets in a multilayered network architecture.Modern communications networks carry increasing amounts of packet traffic which is associated with real-time voice, video, and related data. The Internet, for example, is seeing many new applications which take advantage of what is a relatively less costly alternative to conventional telephone call connections for sending a variety of data including real time voice and video. Trends toward real time applications over the Internet are driven in part by increasingly powerful computers being installed in private homes and the proliferation of the Internet as a focal point for various on-line activities such as holding voice conversations, listening to music, watching video clips, and the like. Unlike Internet communications which occur between computers on high bandwidth commercial connections, bandwidth in a typical home is limited by connectivity constraints imposed by modem speed, line quality, and the like.Further compounding the basic problem of limited bandwidth, is the limitation on the amount of actual information transmitted as a result of packet overhead due to protocol headers. Basic Internet protocols were developed primarily for making sure that packets were delivered accurately end to end at a time when little consideration was paid to real time issues.Three layer interface architectures including protocols such as X.25, for example, were developed for controlling transfer at the lower levels while higher layer protocols were developed to control more sophisticated functions (see, "Open Systems Interconnect (OSI) - New International Standards Architectures and Protocols for Distributed Information Systems," special issue, Proceedings of the IEEE, H.C. Folts and R. des Jardins, eds., vol. 71, no. 12, Dec. 1983). According to the design philosophy, lower layer functions were contemplated to be "transparent" to higher layer functionality and thus much of what can be accomplished at the lower layers is limited only by the ability of lower layer hardware and software to preserve that transparency. At the lowest layer, the Physical Layer, a protocol specification governs the physical connection between devices, such as, for example, the X.21 protocol. Next, the Data Link Layer specifies the protocol for, for example, accepting packets from higher layers and placing them into, for
</DESCRIPTION>
<CLAIMS>
A method for reducing delay in the transmission of a plurality of packets, having a plurality of classifications on a communication link according to a multi-layer protocol having at least a higher layer, and a lower layer the method comprising:

scheduling (551) each of the plurality of packets according to a one of the plurality of classifications associated therewith;
discarding (552b) the each of the plurality of packets which cannot be scheduled;
characterised by
 the step of:

compressing (562) a header on at least some of the each of the plurality of packets after scheduling and discarding.
The method of claim 1, further comprising the step of queuing the plurality of packets, in a first and a second queue, after scheduling, discarding, and compressing, according to at least two of the plurality of classifications, the first queue having priority over the second queue.
The method of claim 1, wherein the step of scheduling further includes the steps of:


establishing a plurality of queues based on the plurality of classifications; and
queuing the each of the plurality of packets into one of the plurality of queues according to the one of the plurality of classifications associated therewith.
The method of claim 3, wherein the plurality of classifications are associated with QoS levels.
The method of claim 3, wherein the plurality of classifications are associated with a plurality of delay factors; wherein each of the plurality of delay factors is different in each of the plurality of queues.
The method of claim 3, wherein the plurality of classifications are associated with a plurality of drop sensitivity factors; wherein each of the plurality of drop sensitivity factors is different in each of the plurality of queues.
The method of claim 3, wherein the plurality of classification are associated with LFI.
The method of claim 3, wherein the plurality of classifications are associated with Multilink PPP.
The method of claim 2, wherein one of the at least two classifications includes a Best Efforts classification and wherein the step of queuing further includes the steps of:

determining whether each of the plurality of packets is classified as a Best Efforts packet; and
queuing the determined Best Efforts packet into the second queue.
The method of claim 1, wherein the step of scheduling further includes the step of performing scheduling at the higher layer.
The method of claim 1, wherein the step of scheduling further includes the step of performing scheduling at the lower layer.
The method of claim 11, wherein the lower layer includes a PPP layer.
The method of claim 11, wherein the lower layer includes an HDLC layer and wherein the step of performing scheduling at the lower layer further includes the steps of:

creating a tag for each of the plurality of packets prior to performing the step of compressing, wherein the tag contains at least some information from the header;
adding the tag to each of the plurality of packets; and
removing the tag prior to the transmission of the each of the plurality of packets.
The method of claim 1, further including the step of outputting the each of the plurality of packets queued in the first and the second queue into an outbound queue having a queue depth of no greater than one.
An apparatus for reducing delay in the transmission of a plurality of packets having a plurality of classifications, on a communication link, the plurality of packets transmitted according to a multi-layer protocol having at least a higher layer, and a lower layer the apparatus comprising:

a serial link; and
an interface device coupled to the serial link, the interface device for implementing the multilayer protocol, the interface device having a processor, the processor configured to:

schedule (551) each of the plurality of packets according to a one of the plurality of classifications associated therewith;
discard (552b) the each of the plurality of packets which cannot be scheduled; the apparatus 
characterised by
 the processor configured to
compress a header on at least some of the each of the plurality of packets after scheduling and discarding.
The apparatus of claim 15, further comprising a first and a second queue; wherein the processor is further configured to queue the plurality of packets in the first and the second queue after scheduling, discarding, and compressing, according to at least two of the plurality of classifications, the first queue having priority over the second queue.
The apparatus of claim 15, wherein the processor, during scheduling, is further configured to:

establish a plurality of queues based on the plurality of classifications; and
queue the each of the plurality of packets into one of the plurality of queues according to the one of the plurality of classifications associated therewith.
The apparatus of claim 17, wherein the plurality of classifications are associated with different QoS levels.
The apparatus of claim 17, wherein the plurality of classifications are associated with a plurality of delay factors; wherein each of the plurality of delay factors is different in each of the plurality of queues.
The apparatus of claim 17, wherein the plurality of classifications are associated with a plurality of drop sensitivity factors; wherein each of the plurality of drop sensitivity factors is different in each of the plurality of queues.
The apparatus of claim 17, wherein the plurality of classification are associated with LFI.
The apparatus of claim 17, wherein the plurality of classifications are associated with Multilink PPP.
The apparatus of claim 16, wherein one of the at least two classifications includes a Best Efforts classification and wherein the processor during queuing is further configured to:

determine whether each of the plurality of packets is classified as a Best Efforts packet; and
queue the determined Best Efforts packet into the second queue.
The apparatus of claim 15, wherein the processor is further configured to schedule the each of the plurality of packets at the higher layer.
The apparatus of claim 15, wherein the processor is further configured to schedule the each of the plurality of packets at the lower layer.
The apparatus of claim 25, wherein the lower layer includes a PPP layer.
The apparatus of claim 25, wherein the lower layer includes an HDLC layer and wherein the processor is further configured to:

create a tag for each of the plurality of packets prior to performing the step of compressing, wherein the tag contains at least some information from the header;
add the tag to each of the plurality of packets; and
remove the tag prior to the transmission of the each of the plurality of packets.
The apparatus of claim 15, further comprising an outbound queue having a queue depth of no greater than one, and wherein the processor is further configured to output the each of the plurality of packets queued in the first and the second queue into the outbound queue.
</CLAIMS>
</TEXT>
</DOC>
