<DOC>
<DOCNO>EP-0630119</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Echo canceller
</INVENTION-TITLE>
<CLASSIFICATIONS>H04B323	H04B323	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04B	H04B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04B3	H04B3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An echo canceller modem having a fast training 
echo canceller is described. The echo cancellation 

coefficients are computed by taking correlations between 
a complex, periodic training signal sequence and a real 

component of the corresponding echo signal. The modem 
includes a receiver circuit which detects a signal on 

a channel possibly including an echo. An echo canceller 
estimates the real component of the echo signal. 

Training circuitry applies the complex training sequence 
to the channel and takes correlations between the 

training sequence and the real component of the 
corresponding echo signal. In the preferred arrangement, 

the modem also includes a computational element for 
computing the period of the periodic sequence, generating 

the complex periodic training sequence in real time and 
for computing a phase roll frequency based upon the 

computed echo cancellation coefficients. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MOTOROLA INC
</APPLICANT-NAME>
<APPLICANT-NAME>
MOTOROLA INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
LING FUYUN
</INVENTOR-NAME>
<INVENTOR-NAME>
LONG GUOZHU
</INVENTOR-NAME>
<INVENTOR-NAME>
LING, FUYUN
</INVENTOR-NAME>
<INVENTOR-NAME>
LONG, GUOZHU
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to data communication equipment or
modems provided with echo cancellation features.Data communication equipment (DCEs), or modems, are devices
used to transmit and receive binary data over a communication
channel. One category of DCEs, sometimes referred to as full-duplex
modems, is capable of performing the functions of
transmitting and receiving simultaneously. When the modem is
transmitting and receiving simultaneously over a two-wire
communication link (e.g., transmission over the switched
telephone network), an echo of the transmitted signal is commonly
present in the signal received from the remote modem. If the
transmitted and received signals occupy the same frequency band,
it is necessary to remove the echo signal, in order to reliably
detect the data sent by the remote modem.The echo signal typically has a near echo and a far echo
component. The near echo is generated by the imperfect hybrid
couplers in the local modem and the near-end telephone central
office. The far echo, on the other hand, is mainly generated by
the hybrid couplers in the remote central office and the remote
modem. The far echo is delayed in time relative to the near
echo. When this delay can be substantial, the echo canceller is
often broken into a near-echo and a far-echo canceller component
which are also separated by a delay.High-speed modems typically use bandwidth-efficient 
modulation schemes such as quadrature modulation. In such
systems, the binary data is first mapped into a sequence of
complex signal points (symbols) chosen from a constellation with
a finite number of points. The real-valued transmitted signal
carries information about this complex sequence.Two-wire, full-duplex, high-speed modems, such as the
standard V.32 voiceband modem specified by the CCITT, come
equipped with adaptive echo cancellers which are capable of
nearly eliminating the echoes of the transmitted signal. An echo
canceller is typically implemented as a transversal filter which
consists of a tapped-delay line, and a series of variable
complex-valued tap coefficients. The inputs to the tapped-delay
line are the aforementioned complex signal points. These are
appropriately weighted by the tap coefficients to generate as
output the real part of the weighted running sum. This
represents an approximation of the received real-valued echo
signal. The echoes are cancelled by subtracting this estimated
echo signal from the real received signal.Echo cancellers which are implemented as a transversal
filter with a
</DESCRIPTION>
<CLAIMS>
A modem for transmitting to and receiving signals from a remote
device over a channel (22), the received signal including a near echo and a

far echo separated by a delay; characterised in that the modem comprises: an
echo canceller (44); a training generator (60) adapted for operatively

generating a periodic training sequence with a symbol time interval T to
train the echo canceller, the periodic sequence having a period equal to an

integer multiple of a variable L, the near echo having a span of about N
1
T
and the far echo having a span of about N
2
T, N
1
 and N
2
 being integers; and
the near echo and the far echo being separated by a delay, BT; and a

computational element adapted for operatively determining the value of the
variable L by: selecting an integer K which is no greater than


(B-N
1
)/(N
1
+N
2
)

,
and setting L equal to an integer existing in an interval R which is

substantially defined as follows:

[(B+N
2
)/(K+1)] ≤ R ≤ [(B-N
1
)/K].
A modem according to Claim 1, further characterised in that the
integer K is the largest integer that is no greater than


(B-N
1
)/(N
1
+N
2
)

.
A modem according to Claim 1or 2 further characterised in that L is
selected to be the smallest integer existing in the interval R.
A modem according to any of Claims 1 to 3 further characterised in
that the period is equal to 2L.
A modem according to any preceding claim, wherein the far echo may
have a phase roll, further characterised in that the echo canceller module is

adapted to be controlled by specifying an estimate of the phase roll
frequency and by using the said computed correlations to determine a set of

variable coefficients in the echo canceller, and in that the modem further
comprises: a computational element adapted for operatively: computing a

difference in phase between a first set and a second set of echo canceller
coefficients, both sets having been generated by the trainer module, the first

set of echo canceller coefficients corresponding to a time T
1
 and the second
set of echo canceller coefficients corresponding to a later time T
2
; and
dividing the computed phase difference by the time difference, T
2
-T
1
,
to

arrive at the estimate of the phase roll frequency. 
A modem according to claim 5, further characterised in that said
computational element is adapted to compute the computed phase difference

as a weighted average of the phase differences between corresponding
elements of the first and second sets of echo canceller coefficients.
A method for computing a period used to construct a periodic training
sequence for training an echo canceller, the training sequence being applied

to a channel and resulting in a corresponding echo signal including a near
echo having a span of about N
1
T and a far echo having a span of about N
2
T,
N
1
 and N
2
 being integers and T being the symbol time interval of the
training sequence, and the near echo and the far echo being separated by a

delay , BT; the method being characterised in comprising the steps of:
selecting an integer K which is no greater than


(B-N
1
)/(N
1
+N
2
)

, and
setting the period equal to an integer multiple of an integer L existing in an

interval R which is substantially defined as follows:

[(B+N
2
)/(K+1)] ≤ R ≤ [(B- N
1
)/K]
A method according to Claim 7, further characterised in that the
integer K is the largest integer that is no greater than


(B-N
1
)/(N
1
+N
2
)

.
A method according to Claim 7 or 8 further characterised in that L is
selected to be the smallest integer existing in the interval R.
A method according to Claim 7, 8 or 9 further characterised in that
the period is equal to 2L.
A method where according to Claim 7, 8, 9 or 10 wherein the far echo
may have a phase roll, further characterised in that the operation of the echo

canceller is controlled by specifying an estimate of the phase roll frequency
and by using the said computed correlations to determine the echo canceller

coefficients, and in that the method further comprises the steps of:

computing the difference in phase between a first set and a second set of
echo canceller coefficients, both sets having been generated by the trainer

module, the first set of echo canceller coefficients corresponding to a time T
1

and the second set of echo canceller coefficients corresponding to a later time
T
2
; and 
dividing the computed phase difference by the time difference, T
2
 -
T
1
, to
arrive at the estimate of the phase roll frequency.
A method to Claim 11, further characterised in that the computed
phase difference is a weighted average of the phase differences between

corresponding elements of the first and second sets of the echo canceller
coefficients.
</CLAIMS>
</TEXT>
</DOC>
