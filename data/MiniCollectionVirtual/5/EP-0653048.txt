<DOC>
<DOCNO>EP-0653048</DOCNO> 
<TEXT>
<INVENTION-TITLE>
PROCESS FOR DETERMINING THE LOCATION OF A POSITIONING BODY IN RELATION TO A REFERENCE BODY AND DEVICE FOR IMPLEMENTING THE PROCESS
</INVENTION-TITLE>
<CLASSIFICATIONS>G01B1100	G01B1100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01B	G01B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01B11	G01B11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The description relates to a process for determining the location of a positioning body in relation to a reference body and a device for implementing it. The positioning body (10) bears a scale with evenly spaced markings and the reference body comprises a scanner (12) with a projection surface on which the mark (16) of the scale are projected and imaging optics. The co-ordinates of the centre of projection of the imaging optics are calculated by evaluating the mark (16) arranged on the scale. Here, coded marks of two perpendicular surface scales of the scale or the positioning body are decoded and at least four centres of intersection regions of the marks of both surface scales confining an area are determined. The calculation is made via the projective relationship between the projection surface of the scanner and the plane of the scale bearing the marks.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
EMS TECHNIK GMBH
</APPLICANT-NAME>
<APPLICANT-NAME>
E.M.S. TECHNIK GMBH
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KELLNER HELMUT
</INVENTOR-NAME>
<INVENTOR-NAME>
KELLNER, HELMUT
</INVENTOR-NAME>
</INVENTORS>
<CLAIMS>
Process for determining the location of a positioning body relative to a 
reference body, the positioning body carrying a scale arrangement with marks 

(16) of known coordinates and the reference body has a sensing device (12) with 
a projection surface, onto which are projected the marks (16) of the scale, as 

well as an imaging optics, in which the coordinates of the centre of projection 
(0) of the imaging optics are calculated from the known coordinates of the 

marks (16) on the scale arrangement via the projective relationship between the 
projection surface of the sensing device (12) and the plane (10) of the scale 

arrangement, the marks (16) containing their coordinate information relative to 
the scale arrangement in coded form and are decoded for the calculation, 

characterized in that use is made of a scale arrangement of two orthogonally 
oriented surface scales, that the marks (16) of both surface scales in each 

case form overlap areas and that the calculation is based on at least four 
centroids of overlap areas of the marks (16) of both surface scales defining a 

surface as known coordinates of marks (16). 
Process according to claim 1, characterized in that the calculation of the 
coordinates X0, Y0, Z0 of the centre of projection (0) and the orientation 

angles ae, f, w between the projection surface of the sensing device (12) and 
the plane (10) of the scale arrangement is performed in accordance with the 

following functions and equations: 

X0 = a3 - Z0 * (
tan(δ)
c
 * sin (√)) 
Y0 = b3 - Z0 * (
tan (δ)
c
* cos (√)) 
Z0 = 
( 
a1
c1
 - 
a2
c2
 )
( 
k2
c1
 - 
k5
c2
 ) * cos(√) + (
k3
c1
 - 
k6
c2
) * sin (√)
ae = arctan (
c1
c2
) 
f = arctan (
Z0 * tan(δ) * sin(√)
Z0
) 
w = arctan (
Z0 * tan(δ) * cos(√)
Z0
) 
 
with 


δ = arctan (- 
(c1 + c2) * c
sin(ae) + cos(ae)
) 
√ = arctan (
k5 * k7 - k2
k1 + k2 - k7 * (k4 + k6)
) 
k1 = c1 * 
tan(δ)
c
k2 = 
cos(ae)
c * cos(δ)
k3 = 
sin(ae)
c
k4 = c2 * 
tan(δ)
c
k5 = - 
sin(ae)
c * cos(δ)
k6 = 
cos(ae)
c
k7 = 
c1 * a3 - a1
c2 * a3 - a2
 
in which ae is the orientation angle to the Z-axis, f the orientation angle to 

the Y-axis, w the orientation angle to the X-axis, c the calibrated principal 
distance corresponding to the distance between the centre of projection (0) 

and the foot of the perpendicular of the projection surface and a1, a2, a3, b3, 
c1, c2 are transformation constants. 
Process according to claim 1 or 2, characterized in that more than four 

centroids of overlap areas of marks (16) of both surface scales are determined 
and that a compensating calculation is performed.  

 
Process according to one of the claims 1 to 3, characterized in that 
exclusively the overlap areas of the marks (16) are imaged on the sensing 

device (12). 
Process according to claim 4, characterized in that the overlap areas of 
the marks (16) are separately evaluated according to the coordinate direction, 

in that according to the marginal distribution method, the absolute frequencies 
of the brightness values of the overlap areas of the marks (16) in the row and 

column direction of the photosensitive pixels (14) of the sensing device (12) 
are determined and compared with a threshold value and the frequencies above 

the threshold value are evaluated as coordinates covered by the marks (16). 
Process according to claim 4 or 5, characterized in that the centroids of 
the overlap areas of the marks (16) are obtained by averaging in both 

coordinate directions, in that in each case pixel fields (14) of the sensing 
device (12) are chosen as search fields and in each search field the coordinates 

of the centroid Xs and Ys are determined according to the following 
equations: 


 
in which NLok is the number of points in the pixel field (14). 
Apparatus for determining the location of a positioning body relative to a 
reference body, in which the positioning body carries a scale arrangement with 

marks (16) of known coordinates and the reference body has a sensing device 
(12) with a projection surface on which are projected the marks (16) of the 

scale, as well as an imaging optics and a computer, in which the coordinates of 
the centre of projection (0) of the imaging optics are calculated from the 

known coordinates of marks (16) on the scale arrangement via the projective 
relationship between the projection surface of the sensing device (12) and the 

plane (10) of the scale arrangement, the marks (16) containing their coordinate  
 

information with respect to the scale arrangement in coded form and are decoded 
for the calculation, characterized in that the scale arrangement covers a plane 

(10) with two orthogonally oriented surface scales, on which the marks (16) of 
both surface scales in each case form overlap areas, and that the computer is 

controlled in such a way that the calculation is based on at least four centroids 
(Xs, Ys) of overlap areas of the marks (16) of both surface scales 

defining a surface as known coordinates of marks (16). 
Apparatus according to claim 7, characterized in that only the overlap 
areas of the marks (16) of both surface scales are present on the scale arrangement 

plane (10) carrying the marks (16). 
</CLAIMS>
</TEXT>
</DOC>
