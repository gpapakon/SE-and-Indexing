<DOC>
<DOCNO>EP-0634068</DOCNO> 
<TEXT>
<INVENTION-TITLE>
CONGESTION CONTROL FOR CELL NETWORKS.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L1256	H04L1256	H04Q300	H04Q300	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	H04Q	H04Q	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L12	H04L12	H04Q3	H04Q3	</CLASSIFICATIONS-FOURTH>
<APPLICANTS>
<APPLICANT-NAME>
STRATACOM INC
</APPLICANT-NAME>
<APPLICANT-NAME>
STRATACOM INC.,
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BUSTINI LIONEL A
</INVENTOR-NAME>
<INVENTOR-NAME>
CORBALIS CHARLES M
</INVENTOR-NAME>
<INVENTOR-NAME>
DALEY PATRICK D
</INVENTOR-NAME>
<INVENTOR-NAME>
BUSTINI, LIONEL, A.
</INVENTOR-NAME>
<INVENTOR-NAME>
CORBALIS, CHARLES, M.
</INVENTOR-NAME>
<INVENTOR-NAME>
DALEY, PATRICK, D.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
 CONGESTION CONTROL FOR CELL NETWORKS FIELD OF INVENTIONThe present invention relates to the field of cell switching network communications. More specifically, the present invention relates to apparatus and method of traffic congestion prevention and control within the cell switching network. BACKGROUND OF THE INVENTIONThe desire to integrate data, voice, image, and video over high speed digital trunks has led to the development of a packet switching technique called cell relay or asynchronous transfer mode.A typical fully-integrated voice and data network using digital trunk lines (e.g., T1 , FT1 , E1 , T3, etc.) includes a number of geographically distant interconnect nodes. Each node acts as a cell exchanger for receiving and forwarding cell information to its destination. By the use of a variety of interface cards, each node is capable of interfacing to user generated voice and data streams, then segmenting and assembling the streams into a more efficient cell format for transmission over a closed network using digital lines. Each node is also capable of receiving data from other network nodes and forwarding that data through to other network nodes to its ultimate destination. All terminal nodes also provide the necessary interface cards required to reassemble the data contained in the cells into a standard user data stream format.A typical modern node is capable of handling six classes of cell traffic, each class having different characteristics and different service requirements. The six classes of traffic include: 

 (1) High priority ("HP") for node-to-node control messages;(2) Voice for pulse code or adaptive pulse code voice signals;(3) Low speed statistical ("LSS") traffic sent at rates of less than 64 Kbps which includes statistical and deterministic full-period traffic;(4) High speed deterministic ("HSD") traffic for full period voice or data at data rates exceeding 64 Kbps;(5) Bursty data for point-to-point traffic generated by such sources as local area networks, bridges, routers or high speed packet switches within the cell network; and(6) Multicast traffic which is of the same type as bursty data except that it is simultaneously broadcast from one source to many destinations (vs. point-to-point).Each of these six traffic types are buffered at each network node in accordance with their particular sensitivities to network delay and cell loss. Cell loss may occur due to intermittent short term overload of network bandwidth and lack of adequate buffer capacity. For example, voice traffic is
</DESCRIPTION>
<CLAIMS>
CLAIMS What is claimed is:
1. A feedback control system for congestion prevention control on a virtual connection of a cell switching communications network handling bursty traffic, comprising: a) a source node for accepting, queueing, and buffering user framed bursty data, for formatting the bursty data into bursty data cells, and for transmitting the bursty data cells over the virtual circuit connection through the cell switching communications network at an incrementally variable controllable transmission rate, wherein the source node and any intermediate node comprising the virtual connection include means for accepting, queueing, and buffering the bursty data cells, means for detecting incipient congestion in the virtual connection queues and buffers, and means for forwarding the bursty data cells over the virtual connection together with an associated incipient congestion indicator; and b) a destination node, which is a terminus of the virtual connection, for accepting the bursty data cells and the associated incipient congestion indicator, for reconstructing, formatting, and outputting the framed bursty data, for monitoring the congestion indicator, for creating a rate control signal based on the congestion indicator, for transmitting the rate control signal back to the source node, wherein the incrementally variable controllable transmission rate of the source node is adjusted in response to the rate control signal sent from the destination node in order to minimize congestion. 


 2. The feedback control system of claim 1 , wherein the source node further comprises means for accepting data and control cells from the destination node using a same virtual connection between the source node and the destination node.
3. The feedback control system of claim 1 wherein the rate control signal is transmitted in a cell header by the destination node over a same virtual connection between the source node and the destination node.
-4. The feedback control system of claim 3, wherein the rate control signal is transmitted in a supervisory cell header if no return cell traffic is available.
5. The feedback control system of claim 1 , further comprising means for measuring virtual connection round-trip delay times, wherein the measuring means comprise: a) destination node means for generating a high priority (HP) time-stamped cell and for transmitting the HP timestamped cell to the source node; b) source node means for echoing HP timestamped cell back to the destination node; c) means for comparing a time-stamp of the HP timestamped cell with a destination node arrival time to determine round-trip delay time. 


 6. The feedback control system of claim 1 , wherein the source node further comprises: a) cell transmitter rate controller that permits a queued bursty data cell to be transmitted only if an accumulated transmission credit is greater than zero and, if transmission is permitted, decrements the accumulated transmission credit. b) credit manager for incrementing the accumulated transmission credit each time a prescribed interval of time has elapsed, wherein the prescribed time interval corresponds to a clock period of the assigned cell rate, wherein the accumulated transmission credit is sent to the cell transmitter rate controller.
7. The feedback control system of claim 6, wherein the credit manager further comprises: a) means for accepting a maximum credit count configuration parameter; and b) means for limiting the accumulated transmission credit to the maximum credit count configuration parameter.
8. The feedback control system of claim 1 , wherein the nodes are two-way nodes using a common virtual connection between source and destination nodes.
9. A feedback control system for congestion prevention control on a virtual connection of a cell switching communications network handling bursty traffic, comprising: 


 a) a source node for accepting, queueing, and buffering user framed bursty data, for formatting the bursty data into bursty data cells, and for transmitting the cells over the virtual circuit connection through the cell switching communications network at an incrementally variable controllable transmission rate wherein the source node and any intermediate node comprising the virtual connection include means for accepting, queueing, and buffering the bursty data cells, means for detecting incipient congestion in the virtual connection queues and buffers, and means for forwarding the bursty data cells over the virtual connection together with an associated incipient congestion indicator; and - b) a destination node, being the terminus of the communication network virtual connection for accepting the bursty data cells and the associated incipient congestion indicator, for reconstructing, formatting, and outputting the framed bursty data, for monitoring the congestion indicators, for creating a four state, two binary bit, rate control signal representing rate increase, rate decrease, fast rate decrease, and no-rate-change messages based on the congestion indicators, transmitting the rate control signal back to the source node, wherein the incrementally controllable transmission rate of the source node is adjusted in response to the rate control signal sent from the destination node in order to minimize congestion.
10. The feedback control system of claim 9 wherein the means for incrementally controlling the transmission rate is responsive to the four state control signal causing an additive fractional increase in 


response to a rate increase signal, a large fractional multiplicative factor decrease in response to a rate decrease signal, and a small fractional multiplicative factor rate decrease in response to a fast rate decrease signal.
11. A feedback control system for congestion prevention control on a virtual connection of a cell switching communications network handling bursty traffic, comprising: a) a source node for accepting, queueing, and buffering user framed bursty data, for formatting the bursty data into bursty data cells, and for transmitting the cells over the virtual circuit connection through the cell switching communications network at an incrementally variable controllable transmission rate that is variable between a prescribed lower guaranteed minimum rate and an upper maximum rate, the source node and any intermediate node comprising the virtual connection include means for accepting, queueing and buffering the bursty data cells, means for detecting incipient congestion in the virtual connection queues and buffers, and means for forwarding the cells over the network virtual connection together with an associated incipient congestion indicator; and b) a destination node being the terminus of the communication network virtual connection having means for accepting the bursty data cells and the associated incipient congestion indicator, for reconstructing, formatting and outputting the framed bursty data, for monitoring the congestion indicators, for creating a rate control signal based on the congestion indicators, for transmitting the rate control signal back to the 


source node, wherein the incrementally controllable transmission rate of the source node is adjusted in response to the rate control signal sent from the destination node in order to minimize congestion.
12. The feedback control system of claim 11 , wherein the rate control further comprises means for assigning an initial quiescent rate between the lower and upper rate.
13. The feedback control system of claim 12, wherein the rate control further comprises means for sensing lack of user input bursty data activity and resetting the rate to the quiescent rate.
14. The feedback control system of claim 11 , wherein the rate control means ignores the rate increase signal if the user input rate does not create an excess virtual circuit queue load.
15. A feedback control system for congestion prevention control on a virtual connection of a ceil switching communications network handling bursty traffic, comprising: a) a source node for accepting, queueing and buffering user framed bursty data, for formatting the bursty data into bursty data cells, and for transmitting the cells over the virtual circuit connection through the cell switching communications network at an incrementally variable controllable transmission rate, the source node and any intermediate node comprising the virtual connection include means for accepting, queueing and buffering the bursty data cells, means for detecting 


incipient congestion in the virtual connection queues and buffers by monitoring the average queue length over a regeneration cycle time interval, means for comparing the average queue length to a preset threshold, means for generating an associated incipient congestion indicator when threshold is exceeded, and means for forwarding the ceils over the network virtual connection together with the associated incipient congestion indicator; and b) a destination node being the terminus of the communication network virtual connection having means for accepting the bursty data cells and the associated incipient congestion indicator, for reconstructing, formatting, and outputting the framed bursty data, for monitoring the congestion indicators, for creating a rate control signal based on the congestion indicators, for transmitting the rate control signal back to the source node, wherein the incrementally controllable transmission rate of the source node is adjusted in response to the rate control signal sent from the destination node in order to minimize congestion.
16. The feedback control system of claim 15, wherein the incipient congestion threshold is set to provide a tolerable delay in combination with a tolerable concomitant cell loss rate.
17. The feedback system of claim 15, further comprising means for discarding cells that arrive while queue length is exceeded. 


 18. The feedback control system of claim 15, wherein the incipient congestion control indicator is encoded in the associated cell header.
19. A feedback control system for congestion prevention control on a virtual connection of a cell switching communications network handling bursty traffic, comprising: a) a source node for accepting, queueing and buffering user framed bursty data, for formatting the bursty data into bursty data cells, and for transmitting the cells over the virtual circuit connection through the cell switching communications network at an incrementally variable controllable transmission rate, the source node and any intermediate node comprising the virtual connection having means for accepting, queueing and buffering the bursty data cells, means for detecting incipient congestion in the virtual connection queues and buffers, and means for forwarding the cells over the network virtual connection together with an associated incipient congestion indicator; and b) a destination node being the terminus of the communication network virtual connection having means for accepting the bursty data cells and the associated incipient congestion indicator, for reconstructing, formatting and outputting the framed bursty data, for counting cells with the associated incipient congestion indicator asserted, for creating a rate control signal based on the cell count, for transmitting the rate control signal back to the source node, wherein the incrementally controllable transmission rate of the source node is adjusted in response to the rate 


control signal sent from the destination node in order to minimize congestion.
20. The feedback control system of claim 19, wherein the cell count means begins counting after a round-trip delay interval after the last rate control signal transmission from the destination node to the source node.
21. The feedback control system of claim 19, wherein the congestion monitoring means further comprises means for programmable threshold level detection and means for generating a rate control signal indicating a rate increase if the threshold is not exceeded by the average incipient congestion count, and for generating a decrease rate control signal if the threshold is exceeded, and means for transmitting the rate control signal to the source node.
22. The feedback control system of claim 19, wherein the control signal generation means further comprises means for detecting cell loss together with the detection of the average incipient congestion count exceeding threshold, means for generating a fast rate reduction signal when both conditions prevail, and means for transmitting the control signal to the source node.
23. The feedback control system of claim 19, wherein the control signal generation means generates a no-rate-change signal for 


each cell while waiting for the effects on congestion due to the previous rate change control signal.
24. A feedback control system for congestion prevention control on a virtual connection of a cell switching communications network handling bursty traffic, comprising: a) a source node for accepting, queueing and buffering user framed bursty data, for formatting the bursty data into bursty data cells, for indicating those cells derived from user input data received at rates exceeding a prescribed guaranteed minimum rate, and for transmitting the cells together with the indicators over the virtual circuit connection through the cell switching communications network at an incrementally variable controllable transmission rate, the source node and any intermediate node comprising the virtual connection having means for accepting, queueing and buffering the bursty data cells, means for detecting incipient congestion in the virtual connection queues and buffers, and means for forwarding the cells over the network virtual connection together with an associated incipient congestion indicator; and b) a destination node being the terminus of the communication network virtual connection having means for accepting the bursty data cells and the associated incipient congestion indicator, for reconstructing, formatting and outputting the framed bursty data, means for monitoring the congestion indicators, for creating a rate control signal based on the congestion indicators, means for transmitting the rate control signal back to the source node, wherein the incrementally controllable transmission 



rate of the source node is adjusted in response to the rate control signal sent from the destination node in order to minimize congestion.
25. The feedback control system of claim 24, wherein the means for indicating those cells derived from user input frames rates exceeding a prescribed guaranteed minimum rate further comprises means for encoding the indications in the cell header.
26. The feedback control system of claim 24, wherein the source node and any intermediate node further comprises means for discarding the cells which have been indicated as being derived from input data exceeding the minimum guaranteed rate whenever the virtual connection queues exceed a prescribed cell loss priority threshold length.
27. The feedback control system of claim 26, wherein the cell discarding means discards all subsequent cells, belonging substantially to the same data frame as that which was being queued when the priority threshold was exceeded.
28. A feedback control system for congestion prevention control on a virtual connection of a cell switching communications network handling bursty traffic, comprising: a) a source node for accepting, queueing and buffering user framed bursty data including an associated expendable data indicator that indicates an excess input frame data rate, for formatting the bursty 


data into bursty data cells, for encoding the expendable data indicator in the cell header, for discarding cells bearing the indicator for relief of congestion, and for transmitting the non-discarded cells over the virtual circuit connection through a cell switching communications network at an incrementally variable controllable transmission rate, the source node and any intermediate nodes comprising the virtual connection having means for accepting, queueing and buffering the bursty data cells, means for detecting incipient congestion in the virtual connection queues and buffers, and means for forwarding the cells over the network virtual connection together with an associated incipient congestion indicator; and - b) a destination node being the terminus of the communication network virtual connection having means for accepting the bursty data cells and the associated incipient congestion indicator, for reconstructing, formatting and outputting the framed bursty data, for monitoring the congestion indicators, for creating a rate control signal based on the congestion indicators, means for transmitting the rate control signal back to the source node, wherein the incrementally controllable transmission rate of the source node is adjusted in response to the rate control signal sent from the destination node in order to minimize congestion.
29. The feedback control system of claim 28, wherein the source node and any intermediate node further comprises means for discarding cells associated with the expendable data indicator. 


 30. The feedback control system of claim 28, wherein the destination node further comprises: a) at least one output queue for buffering reconstructed data frames; b) means for monitoring the output queue length; c) means for comparing the output queue length with a prescribed threshold; and d) means for discarding the reconstructed bursty data frames having an associated asserted expendable data indicator whenever the prescribed output queue threshold is exceeded.
31. The feedback control system of claim 30, further comprising: a) means for calculating an average queue length of the port transmit queue associated with the virtual connection; b) means for comparing the average output port transmit queue length with a prescribed average output port transmit queue length threshold; and c) means for generating a rate decrease signal if the average output port transmit queue length threshold is exceeded.
32. The feedback control system of claim 31 , wherein the average output queue length is computed over a regeneration cycle time interval. 


 33. A feedback control method for congestion prevention on a virtual circuit connection of a cell switching network handling bursty data traffic, comprising the steps of: a) queuing and buffering user bursty data frames at the input source node; b) formatting the bursty data frames into bursty data cells; c) queuing and buffering the bursty data cells within the source node and any intermediate nodes, for transmission to the next node comprising the virtual connection; d) detecting incipient congestion of the bursty data cells that are buffered and queued for transmission to the next node by monitoring queue lengths; e) generating an incipient congestion indicator when the queue lengths are excessive; f) associating the congestion indicator with corresponding cells that are contributing to the incipient congestion; g) transmitting the cells and associated congestion indicators to the destination node over a virtual circuit connection at a controllable rate; h) incrementally controlling the transmission rate of bursty cells in response to the congestion indicators so as to control congestion; i) reconstructing frames at the destination node from received bursty cells; j) monitoring the congestion indicators at the destination node for determining the congestion status of the virtual connection; 


 k) creating a rate control signal based on the congestion status; and
I) transmitting the rate control signal to the source node for incremental cell rate transmission control in order to minimize congestion.
34. The feedback control method of claim 33, wherein the step of creating a rate control signal based on the congestion status comprises generating a four state, two binary bit, signal representing rate increase, rate decrease, fast rate decrease, and no-rate-change.
35. The feedback control method of claim 34, wherein the step of incrementally controlling the transmission of cells and associated indicators is responsive to the four state control signal causing an additive fractional increase in response to rate increase signal, a moderate fractional multiplicative factor decrease in response to a rate decrease signal, a large fractional multiplicative factor decrease in response to a fast decrease signal, and no rate change in response to a no-rate-change signal.
36. The feedback control method of claim 35, wherein the step of incrementally controlling the transmission of cells and associated indicators varies the transmission rate between a lower guaranteed minimum rate and an upper maximum rate. 


 37. The feedback control method of claim 36 wherein the step of incrementally controlling the transmission of cells and associated indicators assigns an initial rate between the lower and upper rate.
38. The feedback control method of claim 36, wherein the step of controlling the transmission of cells and associated indicators provides for sensing lack of user input bursty data activity, causing the rate to be reset to a prescribed quiescent rate.
39. The feedback control method of claim 36, wherein the step of incrementally controlling the transmission of cells and associated indicators ignores the rate increase signal if the user input rate does not create an excess virtual circuit queue load.
40. The feedback control method of claim 36, wherein the step of incrementally controlling the transmission of cells and associated indicators further comprises the following steps: a) determining the assigned inter-cell interval corresponding to the assigned virtual circuit transmission rate expressed in queue server tick intervals; b) decrementing the assigned interval each base rate period; c) incrementing a transmission credit counter whenever the decremented assigned interval is equal to or less than zero, and renewing the decremented assigned interval by adding to it the prior assigned interval thereby creating a new assigned interval for use in step (b); 


 d) transmitting a cell at queue server tick intervals whenever the transmission credit count is greater than zero and a cell is queued for transmission; and e) decrementing the credit counter whenever a cell is transmitted.
41. The feedback control method of claim 40, further comprising the step of limiting the transmission credit counter to a prescribed maximum count.
-42. The feedback control method of claim 33, further comprising the following additional steps:
(a) monitoring the average length of any output port transmit queue associated with the bursty cell virtual connection;
(b) comparing the average queue length to a configurable queue length threshold value; and
(c) generating a rate decrease signal if the threshold level is exceeded. 

</CLAIMS>
</TEXT>
</DOC>
