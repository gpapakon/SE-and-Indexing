<DOC>
<DOCNO>EP-0646259</DOCNO> 
<TEXT>
<INVENTION-TITLE>
SYSTEM AND METHOD FOR IMPROVED FLOW DATA RECONCILIATION ---------.
</INVENTION-TITLE>
<CLASSIFICATIONS>G01F100	G01F100	G01F1500	G01F1502	G01F1506	G01F1506	G01F2500	G01F2500	G05B1304	G05B1304	G05B1700	G05B1702	G06F1900	G06F1900	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01F	G01F	G01F	G01F	G01F	G01F	G01F	G01F	G05B	G05B	G05B	G05B	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01F1	G01F1	G01F15	G01F15	G01F15	G01F15	G01F25	G01F25	G05B13	G05B13	G05B17	G05B17	G06F19	G06F19	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The present invention is a system (100) and method for improved processing of flow data signals to provide output flow data signals which better approximate the true flows being measured. The general approach on which the invention is based is commonly known as flow data reconciliation. A dynamic simulation (110) is run in parallel with a flow data reconciliation, and model predicted flows are used to complete balances wherever sensor measurements are unavailable. Model predicted compositions are also used to allow the computation of stream enthalpies so that enthalpy balances can be used in the reconciliation. The use of model predicted values of changes in inventory allow dynamic material balances to be used, making the reconciliation much more effective for process with slow dynamic behavior. Weighting factor on sensors (106), computed based on the current value of the error of the sensor (106), reduce the impact of sensors (106) with high errors. A multiplicative correction factor distributes corrections more evenly among streams with large and small flows. Statistical behavior of historical performance of sensors (106) is used to reduce the adverse impact of rapid shifts in sensor accuracy and to detect unconverged reconciliation solutions.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
DU PONT
</APPLICANT-NAME>
<APPLICANT-NAME>
DU PONT
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CARDNER DAVID V
</INVENTOR-NAME>
<INVENTOR-NAME>
CARDNER DAVID V
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
 SYSTEM AND METHOD FOR IMPROVED FLOW DATA RECONCILIATIONCROSS REFERENCE TO COPENDING PATENT APPLICATIONThe present application is related to the following concurrently filed patent application, assigned to the Assignee of the present application: U.S. Patent Application (Attorney Docket 1100.1220000) byDavid V- Cardner, entitled "SYSTEM AND METHOD FOR IMPROVING MODEL PRODUCT PROPERTY ESTIMATES", which is hereby incorporated by reference in its entirety.BACKGROUND OF THE INVENTION1. Field of the InventionThe invention relates to flow data reconciliation, the estimation of true flow values from measured flow values, and to the application of flow data reconciliation in process control.2. Discussion of Related ArtAnytime sensors are used to measure flow in a chemical process, the resulting sensor measurements are susceptible to errors. Flow meters vary in their accuracy depending on the material in the stream, the conditions of the stream, and the sensing technology used in the sensor; and they vary in reproducibility as their performance deteriorates due to fouling, wear, or failure. Plants can improve or reduce sensor performance through frequency of maintenance. Thus, flow sensors have both fixed and variable performance factors. Anytime that flow measurements are used for critical control or monitoring tasks in a chemical process, it is desirable to have the true 

flow value rather than the measured value, with its attendant uncertainty. This is especially true for two key uses of data: as input to process models and as input to closed loop control schemes. In these uses, inaccurate data can cause the generation of erroneous predictions or control moves, both of which could adversely affect performance of the process.Although a process operator cannot have perfect knowledge of flow rates, there are techniques for deriving more accurate flow values. In many cases, all flows around a unit operation will be measured. Applying a fundamental engineering principle of mass conservation, a steady state material balance can be applied to a unit operation, which states that the flows in minus the flows out must equal zero.When all the flows around a unit are measured, the measured flow values can be substituted into this material balance equation. However, due to inaccuracies in the measured flow values, the flows will not equate to zero. The difference between the actual sum and correct value of zero is the error (or residual) around the unit Each measured flow value can then be adjusted to reduce the error in
</DESCRIPTION>
<CLAIMS>
What is claimed is:
1. A computer-based method of processing flow signals, said method employing data reconciliation, comprising the steps of: (1) measuring, in a process comprising one or more units and two or more streams, flow rates and temperatures of two or more of said streams to produce raw flow signals;
(2) predicting, using dynamic simulation, predicted flow signals for one of more of said streams not measured in step (1); (3) constructing a complete mass balance around at least one of said units, by using said raw flow signals and said predicted flow signals;
(4) correcting one or more of said raw flow signals and/or predicting flow signals by using said complete mass balance to produce mass corrected flow signals.
2. The computer-based method of processing flow signals of claim 1, further comprising the steps of: predicting, using said dynamic simulation, predicted values of rate of change of inventory in one or more of said units; and constructing said complete mass balance(s) of step (3) using a dynamic balance(s).
3. The computer-based method of processing flow signals of claim 1, further comprising the steps of: predicting, using said dynamic simulation, predicted composition values in one or more of said streams; and 


 constructing a complete enthalpy balance around at least one of said one or more units, by computing stream enthalpies using said mass corrected flow signals, said predicted composition values, and said raw temperature signals; and further correcting one of more of said mass corrected flow signals to produce enthalpy corrected flow signals.
4. The computer based method of claim 1, further comprising the steps: operating said process to produce a product; and using said mass corrected flow signals to directly or indirectly change the state of a final control element of said process in accordance with an operating objective.
5. The computer-based method of processing flow signals of claim 1, further comprising the steps: operating the process to create said flow rates; changing the state of a final control element of said process in accordance with a predicted product property signal; and wherein said predicting step (2) further predicts said predicted product property signal.
6. A computer-based data recondliation system, comprising:
(a) two or more sensors for producing raw flow signals indicative of flow rates of two or more streams in a process comprising one or more units and two or more streams; 


 (b) a computer-based dynamic simulation, connected to use mass corrected flow signals and said raw flow signals as inputs, for producing predicted flow signals for one or more said streams; and
(c) a computer-based flow data reconciliation module, connected to use said predicted flow signals and said raw flow signals as inputs, for correcting said raw flow signals to minimize a mass error sum of a complete mass balance around at least one of said one or more units, to produce said mass corrected flow signals.
7. The computer-based data reconciliation system claim 6, wherein said computer-based dynamic simulation further produces predicted rate of change of inventory signals in one or more of said units; and wherein said computer-based flow data reconciliation module is further connected to use said predicted rate of change of inventory signals, for correcting said raw flow signals in accordance with a dynamic complete mass balance.
8. The computer-based data reconciliation system of claim 6, wherein: said computer-based dynamic simulation further produces predicted composition signals for one or more of said streams; and further comprising: a computer-based flow data reconciliation module, connected to use said mass corrected flow signals said raw temperature signals and said predicted composition signals as inputs, for further correcting said mass corrected flow signals to minimize an enthalpy error sum of a complete enthalpy balance around at least one of said one or more units. 


9. The computer-based data reconciliation system of claim 6, further comprising: a controller, for changing a state of a final control element of said process, connected to directly or indirectly use said corrected flow signals as inputs, and connected to change said state in accordance with an operating objective.
10. The computer-based data reconciliation system of claim 6, wherein said dynamic simulation further produces a predicted product property signal; and further comprising: a product property controller,connected to directly or indirectly use said predicted product property signal as input, for producing a controller output signal in accordance with said input and a control objective; and an actuator, for changing a state of the process, connected to change said state in accordance with said controller output signal.
11. A computer-based method of processing flow signals, said method employing data reconciliation, comprising the steps of:
(1) measuring, in a process comprising one or more units and two or more streams, flow rates of two or more of said streams to produce raw flow signals;
(2) constructing a complete mass balance around at least one of said units, using said raw flow signals;
(3) adjusting each of said raw flow signals by multiplying each signal by a respective constant; and
(4) adjusting said respective constants to minimize a sum of values, each value indicative of the deviation of each said respective constant from a value of one. 


12. The computer-based method of processing flow signals of claim 11, wherein: said values of step (4) are computed by multiplying each said deviation times a respective weight, and further comprising a step of computing each said value of step (4), and reducing said respective weight of each said value whenever said value exceeds a threshold.
13. The computer-based method of processing flow signals of claim 11, wherein said values of step (4) are computed by multiplying each said deviation times a respective weight, and further comprising the steps of: computing a statistical characteristic of said value; and computing each said value of step (4), and reducing said respective weight of each said value whenever said value is high relative to said statistical characteristic.
14. A computer-based data reconciliation system, comprising:
(a) two or more sensors for producing raw flow signals indicative of flow rates of two or more streams in a process comprising one or more units; (b) a computer-based flow data reconciliation module, connected to use said raw flow signak as inputs, for correcting said raw flow signals to produce mass corrected flow signals by multiplying each signal by a respective constant and adjusting said respective constants to minimize a sum of values, each value indicative of the deviation of each said respective constant from a value of one.
15. The computer-based data reconciliation system of claim 14, wherein said computer-based flow data reconciliation module corrects said 


raw flow signals by multiplying each said deviation times a respective weight, and by reducing said respective weight of each said value whenever said value exceeds a threshold.
16. The computer-based data reconciliation system of claim 14, wherein said computer-based flow data reconciliation module corrects said raw flow signals by computing a statistical characteristic of said value and reducing said respective weight of each said value whenever said value is high relative to said statistical characteristic. 

</CLAIMS>
</TEXT>
</DOC>
