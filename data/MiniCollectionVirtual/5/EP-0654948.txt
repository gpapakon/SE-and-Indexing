<DOC>
<DOCNO>EP-0654948</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processing method and apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N5202	H04N570	H04N5202	H04N726	H04N726	H04N570	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N5	H04N5	H04N5	H04N7	H04N7	H04N5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image processing apparatus comprises: an input 
unit to input image data, a quantizing unit to quantize 

the image data inputted by the input unit to the data 
of at least three or more levels, a memory to store the 

data quantized by the quantizing unit on a picture unit 
basis and an output unit to output an image on the 

basis of the data stored in the memory on the picture 
unit basis. The quantizing unit quantizes th
e image 
data of the present picture in accordance with the 

quantized data of the previous picture stored in the 
memory means. The quantizing unit quantizes the input 

image data of one pixel to the data of three or more 
levels by using a plurality of threshold values each 

including an upper threshold value, a standard 
threshold value, and a lower threshold value. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ARATANI SHUNTARO
</INVENTOR-NAME>
<INVENTOR-NAME>
MAKITA TAKESHI
</INVENTOR-NAME>
<INVENTOR-NAME>
OHSHIMA MASAMICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SUGA KAZUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
ARATANI, SHUNTARO
</INVENTOR-NAME>
<INVENTOR-NAME>
MAKITA, TAKESHI
</INVENTOR-NAME>
<INVENTOR-NAME>
OHSHIMA, MASAMICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SUGA, KAZUMI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to image processing method
and apparatus for inputting digital image data and
converting to image data whose number of bits is
smaller than that of the input data and, more
particularly, to image processing method and apparatus
for enabling a half tone image to be displayed for a
display using, for example, a ferroelectric liquid
crystal and having a gradation expressing ability of a
small number of gradations such as two values, four
values, or the like.A ferroelectric liquid crystal (hereinafter,
simply referred to as an FLC) display among liquid
crystal displays has a feature such that the liquid
crystal has a "memory performance" to hold a display
state changed by applying an electric field, so that a
contrast is not deteriorated even if the number of scan
lines increases. Therefore, an attention is paid to
the FLC display as a device which can display by a
large screen and at a high precision even in a simple
matrix structure.However, the FLC fundamentally can express only
two gradations by one element. Even in case of 
displaying one pixel by a plurality of elements, the
number of gradations which can be expressed is four
values, six values, eight values, or the like and its
gradation expressing ability is low.Hitherto, a half tone process such as dither
method, error diffusion method, or the like has been
used as a method of improving the gradation expressing
ability of a display device of a low gradation
expressing ability. Such half tone processing methods
have already widely been used in a printer apparatus of
a binary output and the like.According to the dither method, although an output
value is decided by comparing an input value and a
predetermined threshold value, by changing the
threshold value in a predetermined area, a half tone is
expressed in the predetermined area in a macro manner.
As an example of a multivalue dither in which the
dither process is executed to a device of a multivalue
output, a case where a 4-level dither process by a (2 x
2) dither matrix is executed to input data of eight
bits and a 4-level output of 0 to 3 is obtained will
now be described with reference to the drawings. In
case of the 4-level dither of the (2 x 2) dither
matrix, four threshold tables each having three
threshold values as shown in Fig. 2 are used in
correspondence to cells of a dither matrix as shown in
Fig. 3. The dither matrix is moved and applied to each 
pixel in the image data at a period of two pixels in
both of the vertical and horizontal directions. The
corresponding
</DESCRIPTION>
<CLAIMS>
An image processing apparatus comprising:

input means for inputting data as successive pixels;
quantizing means (102) for quantizing the pixel data

image using a threshold; and
memory means for storing data output by said
quantizing means on a picture frame basis, and

wherein
said quantizing means (102) is adapted to quantize
each pixel of the successive image data pixels into

quantization data (Q
k
) of three or more levels by using
a plurality of thresholds for that pixel;
said quantizing means being capable in operation of
adjusting each threshold used to quantize an individual

pixel upwardly from a standard threshold value (I
ntc
) to
an upper threshold value (I
nth
) or downwardly to a lower
threshold value (I
ntl
) in accordance with the quantization
result (Q
pr
) at the corresponding threshold values for
the corresponding pixel of the previous picture frame,

the deviation between the upper and lower threshold
values of one threshold used to quantize a pixel being

different from the deviations between the upper and lower
threshold values for each of the other threshold values 

used in quantizing pixels,
and charcterized in that said apparatus

further comprises
processing means (202) for gamma conversion processing the

input image data, and

   wherein a deviation between said standard threshold
value and said upper or lower threshold value is

determined in accordance with a statistical expectation
value regarding noise included in the input image data

and gamma conversion processing characteristics. 
Apparatus according to claim 1, wherein
the deviations between a standard threshold value and its

associated upper or lower threshold values are less than
the deviations between any higher standard threshold

value and its associated upper or lower threshold values.
Apparatus according to any preceding claim, wherein
said quantizing means is adapted to discriminate whether

the image data of the present picture which was input has
a value near any one of said plurality of threshold

values, and in the case where said image data is set to
a value near said threshold value, a quantization value

of the image data of the present picture is determined
on the basis of the data stored in said memory means, and

in the case where said image data is set to a value which
is not near said threshold value, the quantization value

of the image data of the present picture is decided in
accordance with said plurality of threshold values.
A method of processing image data comprising:

inputting data as successive pixels;
quantizing the pixel data image using a threshold;
and
storing data output by said quantizing means on a
picture frame basis, and 
characterised in that
said quantizing step quantizes each pixel of the
successive image data pixels into quantization data (Q
k
)
of three or more levels by using a plurality of

thresholds for that pixels;
said quantizing step adjusting each threshold used
to quantizes an individual pixel upwardly from a standard

value (I
ntc
) to an upper threshold value (I
nth
)
or downwardly to a lower threshold value (I
ntl
) in
accordance with the quantization result (Q
pr
) at the
corresponding threshold values for the corresponding

pixel of the previous picture frame, the deviation
between the upper and lower threshold values of one

threshold used to quantize a pixel being different from
the deviations between the upper and lower threshold

values for each of the other threshold values used in
quantizing pixels, and periodically selecting between the

use of a standard threshold value in the quantization
step or an adjusted threshold value, and

further comprising
processing the input image data for gamma conversion

processing and setting a deviation between said standard
threshold value and said upper or lower threshold value

is in accordance with a statistical expectation value
regarding noise included in the input image data and

gamma conversion processing characteristics.
A method according to claim 4, wherein, when the
quantized data of the previous picture is set to a level

lower than the standard threshold value, said quantizing
step, when the output of said timing means does not

require adjustment to the threshold levels, quantizes the
image data of the present picture by using an upper 

threshold value, and when the quantized data of the
previous picture is set to a level higher than the

standard threshold value, of quantizing the image data
of the present picture by using a lower threshold value.
A method according to any one of claims 4 to 5,
wherein the deviations between a standard threshold value

and its associated upper or lower threshold values are
less than the deviations between any higher standard

threshold value and its associated upper or lower
threshold values.
A method according to any one of claims 4 to 6.
wherein said quantizing step discriminates whether the

image data of the present picture which was input has a
value near any one of said plurality of threshold values,

and in the case where said image data is set to a value 
near said threshold value, a quantization value of the

image data of the present picture is determined on the
basis of the data stored in said memory means, and in the

case where said image data is set to a value which is not
near said threshold value, the quantization value of the

image data of the present picture is decided in
with said plurality of threshold values.
</CLAIMS>
</TEXT>
</DOC>
