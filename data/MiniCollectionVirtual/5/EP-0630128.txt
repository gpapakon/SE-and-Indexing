<DOC>
<DOCNO>EP-0630128</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Autorate method for simultaneous transmission of voice and data.
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M1300	H03M1335	H04L100	H04L100	H04L120	H04L120	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H03M	H04L	H04L	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M13	H03M13	H04L1	H04L1	H04L1	H04L1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In a simultaneous voice and data communications system comprising 
two modems, an autorate feature is implemented in one illustrative method by 

adding a silence detector to the receiver circuitry of at least one of the modems in 
such a way that noise statistics for the communications channel are only 

accumulated during intervals of silence. If the resulting noise statistics exceed a 
predetermined threshold, i.e., the communications channel is too noisy, the receiving 

modem negotiates a lower data rate with the transmitting modem. In another 

illustrative method, the transmitting modem provides a signal, which represents an 
interval of silence, to the receiving modem. Upon receipt of the signal, the receiving 

modem accumulates error statistics in order to determine if the communications 
channel is too noisy. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
AT 
&
 T CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
AT
&
T CORP.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BREMER GORDON
</INVENTOR-NAME>
<INVENTOR-NAME>
KO KENNETH DAVID
</INVENTOR-NAME>
<INVENTOR-NAME>
SMITHWICK LUKE J
</INVENTOR-NAME>
<INVENTOR-NAME>
ZURANSKI EDWARD SIGMUND
</INVENTOR-NAME>
<INVENTOR-NAME>
BREMER, GORDON
</INVENTOR-NAME>
<INVENTOR-NAME>
KO, KENNETH DAVID
</INVENTOR-NAME>
<INVENTOR-NAME>
SMITHWICK, LUKE J.
</INVENTOR-NAME>
<INVENTOR-NAME>
ZURANSKI, EDWARD SIGMUND
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to data communications equipment, e.g., 
modems. In particular, this invention relates to the transmission of both voice and 
data signals over the same communications facility at the same time. A standard feature in most modems today is the "autorate" feature. In 
particular, each modem of a data connection continually tests the quality of the 
communications channel to adjust the data transmission rate, i.e., the bit rate, 
between the modems. For example, if the data signal begins to experience an 
increase in errors, i.e., a higher error rate, then the modems will negotiate a lower 
data rate between themselves. Conversely, if over a period of time the error rate is 
lower than a predetermined threshold, the modems will negotiate a higher data rate 
between themselves. A number of prior art autorating techniques are illustrated in U.S. Patent 
No. 4,756,007 issued July 5, 1988 to Qureshi et al.; U.S. Patent No. 4,991,184 issued 
February 5, 1991 to Hashimoto; and U.S. Patent No. 5,007,047 issued April 9, 1991 
to Sridhar et al. Generally speaking, the prior art approach operates in the following 
manner. The receiving modem performs a "slicing" operation on each received 
signal point. This slicing operation simply estimates the closest symbol to the 
received signal point from a known constellation of symbols. This is known also as 
a "hard decision." The magnitude of the deviation of the received signal point from 
the closest symbol is assumed to be proportional to the ambient noise condition of 
the communications channel. When the ambient noise condition of the channel 
exceeds in either direction a set of predetermined limits, the modems negotiate 
between themselves a change in the data rate to accommodate the estimated ambient 
noise of the communications channel. The co-pending, commonly assigned, U.S. Patent application of 
Gordon Bremer and Kenneth D. Ko, entitled "Simultaneous Analog and Digital 
Communication," serial No. 08/076505, filed on June 14, 1993, which is hereby 
incorporated by reference, discloses a simultaneous voice and data communication 
system in which a voice signal is simultaneously added to a data signal for 
transmission over a communications channel to a receiving modem. Generally, in 
each signaling interval, T, the data signal is represented by a data symbol, which is a 
reference signal point value. To this data symbol is added a voice signal vector, 
which represents the voice signal. The addition of the voice signal vector to the
</DESCRIPTION>
<CLAIMS>
A method for autorating for use in data communications equipment, 
where the data communications equipment is coupled to a distant endpoint through a 

communications channel, the method comprising the steps of: 
   receiving a signal from the communications channel, where the signal 

represents a sequence of signal points; 
   generating an error signal that is a function of the difference between 

each one of the received sequence of signal points and a respective one of a number 
of signal points from a signal space; 

   evaluating the error signal during at least one time interval to provide an 
estimate of the ambient noise of the communications channel, where the occurrence 

of the at least one time interval is a function of an enabling signal; and 
   changing the data bit rate over the communications channel as a 

function of said ambient noise estimate. 
The method of claim 1 wherein the evaluating step includes the steps 
of: 

   comparing the error signal to a first threshold; 
   counting the number of times the error signal exceeds the first threshold; 

and 
   providing the estimate of the ambient noise when the number of times 

the error signal exceeds the first threshold is greater than a predetermined second 
threshold. 
The method of claim 2 wherein the step of counting includes the step 
of resetting the count if a predetermined time interval expires before the 

predetermined second threshold is exceeded. 
The method of claim 2 wherein the step of counting is performed so 
that over a long period of time said count of the number of times the error signal 

exceeds the first threshold is occasionally decremented before the count exceeds the 
predetermined second threshold. 
The method of claim 2 wherein the received signal includes portions 
of a data signal and at least one other signal, and the enabling signal is an estimate of 

the presence of the at least one other signal in any time interval in such a way that 
the error signal is evaluated only when the enabling signal provides an estimate that 

 
the at least one other signal is not present. 
The method of claim 5 wherein the enabling signal provides an 
estimate of the presence of the at least one other signal by comparing the energy 

level of the at least one other signal to a predetermined threshold. 
The method of claim 6 wherein the at least one other signal is a voice 
signal and the enabling signal is representative of the occurrence of silent intervals in 

the voice signal. 
The method of claim 6 further comprising the steps of: 
   filtering the at least one other signal to estimate the energy distribution 

of the at least one other signal in a first frequency range; and 
   generating the enabling signal when the energy distribution in the first 

frequency range is below a predetermined threshold. 
The method of claim 8 wherein the first frequency range is within the 
frequency spectrum of a voice signal. 
The method of claim 1 wherein the enabling signal is the result of a 
message received from the distant endpoint. 
Apparatus for use in data communications equipment comprising: 
   means for demodulating a received signal from a communications 

channel to provide a sequence of signal points; 
   means for processing the sequence of signal points to provide a data 

signal, a second signal, and an error signal, where the error signal represents an 
estimation of the deviation of each signal point of the sequence from one of a 

number of data symbols, where each data symbol represents a respective one of a 
number of reference signal points; 

   means for processing the error signal to provide an autorate signal; and 
   means responsive to the autorate signal for changing the data bit rate 

communicated over the communications channel; 
   where the means for processing is enabled in at least one of a number of 

time intervals, K, as a function of the second signal. 
The apparatus of claim 15 wherein the means for processing the error 
 

signal includes: 
   means for filtering the error signal to provide a signal representative of 

the mean-squared-error of said deviation; 
   means for comparing the signal representative of the mean-squared-error 

to a threshold in such a way that the autorate signal represents when the mean-squared-error 
exceeds the threshold a predetermined number of times within a 

predetermined interval; and 
   means responsive to the second signal for controlling the means for time 

comparing. 
The apparatus of claim 12 wherein the second signal is a voice signal 
and the means responsive enables the means for comparing during intervals of 

silence in the voice signal. 
The apparatus of claim 13 wherein the means responsive enables the 
means for comparing whenever the energy of the voice signal is below a 

predetermined amount over a predefined frequency range. 
</CLAIMS>
</TEXT>
</DOC>
