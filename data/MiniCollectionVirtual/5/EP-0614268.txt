<DOC>
<DOCNO>EP-0614268</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for producing a difference signal between signal frequencies, and for detection of modulation
</INVENTION-TITLE>
<CLASSIFICATIONS>H03D700	H03D1300	H03D700	H03D1300	H04B126	H04B126	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03D	H03D	H03D	H03D	H04B	H04B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03D7	H03D13	H03D7	H03D13	H04B1	H04B1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A frequency difference signal of a modulated signal (f₁) and 
an unmodulated signal (f₂) is produced maintaining the 

information of the frequency or phase modulation. According 
to the method, the time-related order of entry of the front 

edges of the pulses of the modulated and the unmodulated 
signal is controlled and the edge of the frequency 

difference signal in question at any moment is formed 
timewise at the same point as the edge of such modulated 

signal at which the time-related order of arrival of the 
modulating signal and the unmodulated signal has changed. 

Hereby, the frequency or phase shift of the modulated signal 
can be detected as an equivalent change in the frequency 

difference signal, and the modulation of the frequency 
difference signal is detected on the basis of the location 

of the pulse edge of the frequency difference signal. 

 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NOKIA MOBILE PHONES LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
NOKIA MOBILE PHONES LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KANANEN KARI
</INVENTOR-NAME>
<INVENTOR-NAME>
RAPELI JUHA
</INVENTOR-NAME>
<INVENTOR-NAME>
KANANEN, KARI
</INVENTOR-NAME>
<INVENTOR-NAME>
RAPELI, JUHA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method and apparatus for
down converting a modulated high-frequency signal to a lower
frequency using a mixer, and detecting the modulation.In order to detect a modulated signal, the frequency of a
carrier wave forming a received signal in a radio apparatus,
such as in a radio phone, is reduced by one or two mixing
phases such that it is sufficiently low for the frequency or
phase deviation used in the modulation to be within the
frequency or phase resolution range of the detector. For
instance, in the commonly known QPSK modulation (Quadrature
Phase Shift Keying), a 90 degree phase shift implies only a
250 pico second time difference in about 1 GHz frequency
signal in the waveform of the signal but when mixed, for 1
MHz frequency, the equivalent time difference is already 250
nanoseconds. The latter time difference can easily be
measured.Fig. 1 presents a conventional procedure for reducing the
frequency of a received radio frequency signal. The received
signal fRX is carried through an antenna filter, a duplex
filter when in a radio phone, and an amplifier to a
multiplier 11. Analog multiplication of the carrier wave is
carried out therein with a fixed mixing frequency fLO1
obtained from a local oscillator LO1, and from among the
mixing results thus obtained a desired intermediate
frequency fIF1 = fLO1 - fRX is selected with a frequency domain
filter 12. As regards the detection, it would be preferable
to select the intermediate frequency fIF1 to be small enough,
but in radio apparatus currently used this cannot be done.
The reason is that the input signal generally contains also 
such frequencies with which the other difference frequencies
fRX - fLO produced in the multiplier would pass onto the
critical frequency fIF1 of the filter and would generate
spurious response.As an example thereof a radio phone with 935 to 970 MHz
reception frequency range may be mentioned. The intermediate
frequency fIF1 should be higher than the input frequency
range divided by two, that is 35 MHz/2, because otherwise in
the reception, in the lower end of the reception frequency
range and at 15 MHz intermediate frequency, and at 950 MHz
local oscillator frequency fLO, the apparatus would receive
two outputs of different frequencies, that is, the desired
fRX = 935 MHz, in which the following is valid:
fLO - fRX = 950 MHz - 935 MHz = 15 MHz
and a non-desired so-called mirror frequency fRX = 965 MHz,
in which the following is valid:
fRX - fLO = 965 MHz - 950 MHz = 15 MHz.The elimination of
</DESCRIPTION>
<CLAIMS>
A method for producing a frequency difference signal
between a modulated signal (f
1
) and an unmodulated signal
(f
2
) and for detecting the modulation from the frequency
difference signal, the method comprising the step of

monitoring the time-related order of arrival of the front
edges of the pulses of the modulated and unmodulated signal,

characterised by the steps of:

generating a front edge of a frequency difference signal
pulse at the same point in time as the front edge of a

modulated signal pulse at which the time-related order of
arrival of the pulse edges of the modulated signal (f
1
) and
the unmodulated signal (f
2
) are found to change, whereby the
frequency or phase shift of the modulated signal is

detectable as a corresponding change in the frequency
difference signal, and;
detecting the modulation of the frequency difference
signal on the basis of the locations of the pulse edges of

the frequency difference signal.
A method according to claim 1, wherein the frequency
difference signal is produced by taking samples controlled by

the modulated signal (f
1
) from an unmodulated frequency (f
2
)
and by selecting a first sample with a reversed sign for the

output.
A method according to claim 1 or 2, wherein, for the
front pulse edge of the frequency difference signal, the

front pulse edge of the modulated input signal (f
1
) is
selected which is time-wise closest to the respective front

edge of an unmodulated signal (f
2
). 
A method according to any one of the preceding claims,
wherein, the sequence length of the frequency difference

signal changes, the relative location of the pulse edges of
the frequency difference signal is measured in respect with

the pulse edges of an unmodulated signal (f
2
) and the
sequence length (t
c
) is calculated using the following
formula:


t
c
 = M * 
1
f
2
 + Δ T
1
 - Δ T
2

where A T
1
 refers to the distance of the front edge of the
detected output pulse from the subsequent pulse edge of an

unmodulated signal f
2
, Δ T
2
 refers to the distance of a
subsequent detected output pulse from the pulse edge of an

unmodulated signal (f
2
) following thereafter, and M refers to
the number of the whole sequences of the unmodulated signal

remaining between said pulse edges.
A circuit for downmixing a modulated signal and for
detecting information conveyed by the modulation, the circuit

having:

a first input for receiving a frequency or phase
modulated first high-frequency signal (f
1
);
a second input for receiving a second high-frequency
signal (f
2
), this second signal being unmodulated;
an output whereat a modulation information containing
difference signal (f
OUT
) of said frequencies is provided;
means for observing the time-related order of arrival of
the front edges of the pulses of the first and a second high-frequency

signals and for providing a pulse front edge to the
difference signal whenever the order of arrival of the front

edges of said input signal pulses changes,
 
   characterised by means for synchronising the front edge

of a pulse of the difference signal with the front edge of a
pulse of a first high-frequency signal.
A circuit according to claim 5, wherein the means for

observing and providing and for syncronizing consist of a D-type
flip-flop (43), to the clock input of which is provided

the first high-frequency signal (f
1
) and to the data input of
which is provided the second high-frequency signal (f
2
 ), and
from the output of which is provided said difference signal.
A circuit according to claim 6 and comprising a second
D-type flip-flop (44), the clock input of which is

operatively connected to said first input of the circuit with
the data input of the second D-type flip-flop being connected

to the output of the first D-type flip-flop (43), and the
output from the second D-type flip-flop providing a second

difference signal.
A circuit according to claim 7, characterized in that
the circuit comprises an interpolar (46) counting the

fractions of the sequence length, the inputs of the
interpolator comprising said second difference signal and

said second high-frequency signal (f
2
), and being arranged
to calculate the time-related distance T
1
 of the front edge
of a detected output pulse from the pulse edge of a

subsequent unmodulated signal (f
2
), the time-related
distance T
2
 of a subsequent detected output pulse from the
pulse edge of a subsequent unmodulated signal (f
2
), and the
number M of the whole sequence of the unmodulated signal

remaining between said pulse edges, whereby the sequence
length t
c
 of the frequency difference signal can be
calculated using the following formula: 


t
c
 = M * 
1
f
2
 + Δ T
1
 - Δ T
2
 .
A circuit according to claim 5 and comprising:

a first switch (S1), amplifier means (52), a comparator
(53) and logic means (55), all coupled subsequently to said

first switch whereby said first signal can be connected
through the first said switch (S1) to the input of the

amplifier means (52), and said difference signal can be
provided from the output of the logic means, and
a second switch (S2), through which the input signal
(f
1
) of the amplifier means can be connected directly to the
logic means (55),

whereby the position of the first and the second switches at
any moment is determined in the form of a response to said

second signal (f
2
), so that samples from the first signal are
conducted to the amplifier means.
A circuit according to claim 9, wherein the logic means
provide said difference signal with an ascending edge only

when a signal entering the comparator (53) exceeds the
triggering threshold of the comparator in the course of the

positive sequence of the first signal (f
1
).
A circuit according to any one of claims 5 to 10,
wherein, with the exception of a basic clock frequency of the

circuit, all activities are discontinued, starting from the
detected pulse edge being at the difference frequency, for a

period of time related to the bandwidth of the modulated
signal, wherein after said period of time a new pulse edge at

the difference frequency is probable.
</CLAIMS>
</TEXT>
</DOC>
