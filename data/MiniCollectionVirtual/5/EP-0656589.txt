<DOC>
<DOCNO>EP-0656589</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Digital image forming apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N132	H04N121	G06F1114	G03G2100	H04N132	G03G2100	H04N121	G03G1536	G03G1536	G06F1114	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	G06F	G03G	H04N	G03G	H04N	G03G	G03G	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	H04N1	G06F11	G03G21	H04N1	G03G21	H04N1	G03G15	G03G15	G06F11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A digital image forming apparatus wherein at least
when an occurrence of trouble that required automatic

switching of the power witch to the OFF position during
operation of the image output operation when it is

detected by a trouble detector, the image data inputted
for an image output operation is stored in an internal

memory which ensures the memory content even with the
power switch switched to the OFF position. After the

trouble is settled, the image output operation is
continued with respect to the image data stored in the

internal memory by the image output unit. As a result,
an idle operation for reinputting the image data to be

outputted through visualization by, for example, a
reading operation of the document image can be

eliminated.

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SHARP KK
</APPLICANT-NAME>
<APPLICANT-NAME>
SHARP KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OKAHASHI TOSHIHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAMAGAKI AKIRA
</INVENTOR-NAME>
<INVENTOR-NAME>
TOKISHIGE MASATO
</INVENTOR-NAME>
<INVENTOR-NAME>
OKAHASHI, TOSHIHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAMAGAKI, AKIRA
</INVENTOR-NAME>
<INVENTOR-NAME>
TOKISHIGE, MASATO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a digital image
forming apparatus such as a digital copying machine,
digital printer, etc., which performs image forming
processes for visualizing inputted image data by
reading the image data having been temporarily stored
in an image memory.A digital copying machine as an example of digital
image forming apparatus forms an image through the
following processes. First, an image on a document is
read by a scanner, and the resulting image data is
temporarily stored in an image memory. Then, the image 
data is read from the image memory, thereby visualizing
the image data through the copying process.However, the described conventional digital
copying machine has not succeeded in giving a
sufficient solution to suppress the adverse effects
from the trouble occurred during operation, such as
paper being stuck, errors in reading from and writing
in the image memory, etc. Also, the solution to
efficiently restart the operation has not been given.For example, in the digital copying machine which
employs a volatile memory composed of a semiconductor,
if some trouble has occurred such as paper being stuck,
etc., during the operation, and the main power of the
copying machine is turned OFF, the contents stored in
the picture memory would be erased. Therefore, after
the trouble is settled, in order to restart the copying
operation by switching the power ON, it is required to
restore the image data by reading the image on the
document by the scanner, thereby presenting the problem
that a long time is required before the copying machine
can be restarted. The described problem becomes
obvious especially in the processes of inputting image
data read by an external device to be temporarily
stored in the image memory and of reading the image 
data so as to produce copies.On the other hand, Japanese Laid-Open Patent
Publication No. 146566/1988 (Tokukaisho 53-146566)
discloses a digital copying machine provided with a
non-volatile memory as an external memory. In this
copying machine, the content in the memory, i.e., the
image data, can be stored even when the power switch is
turned OFF. However, the solution to efficiently
restart the copying machine has not yet been given.The described conventional digital copying
machines also present the following problems. When
producing copies by reading image data from the image
memory, if an error has occurred during the reading
operation from the picture memory, a normal memory
access may not be ensured, or the reading operation may
be repeated
</DESCRIPTION>
<CLAIMS>
A digital image forming apparatus, comprising:

an image memory (64);
a data writing means (65, 66a) for writing inputted image
data into said image memory (64);
a data reading means (65, 66a) for reading the image data
from said image memory (64);
an image output means (12) for outputting the image data
read from said image memory (64) through visualization;
an error detection means (66a) for detecting at least a
writing error occurred during a writing operation of the image

data or a reading error occurred during a reading operation
of the image data; and
an operation control means (65) for controlling such
that when the error is detected, either one of said data

writing means (65, 66a) and said data reading means (65, 66a)
performs an operation related to an occurrence of the error

with respect to a next memory area in said image memory (64).
The digital image forming apparatus as set forth in
claim 1, further comprising a memory control means (65) for

processing a memory area in said image memory (64) in which
an error had occurred to be determined as an inhibited area.
The digital image forming apparatus as set forth in
claim 2, wherein said memory control means (65) is activated

when an image forming operation is not performed after the
power switch (50b) is turned ON.
The digital image forming apparatus as set forth in
claim 1, wherein said operation control means (65) is arranged

to control said data reading means (65, 66b) to retry
within a restricted number of times a reading operation from

a memory area (66b) wherein a reading error has occurred, and
is, when a reading error still remains after retrying the 

reading operation the restricted number of times, arranged to
control said data reading means (65, 66a) to perform a data

reading operation from a next memory area (66b) in said image
memory (64).
The digital image forming apparatus as set forth in
claim 1, wherein said operation control means (65) is arranged

to control said data writing means (65, 66a) to retry
within a restricted number of times a writing operation with

respect to the memory area (66b) wherein a writing error has
occurred, and is arranged to control said data writing means

(65, 66a) to perform a data writing operation in a next memory
area (66b) in said image memory (64) when a writing error

still remains after retrying the writing operation the restricted
number of times.
The digital image forming apparatus as set forth in
claim 1, further comprising

   a data interpolation means (65) for interpolating the
image data subject to a reading error, wherein

   said operation control means (65) is arranged to control
said data interpolation means (65) to perform the data interpolation

operation when the reading error is detected by said
error detection means (66a), and to control said data reading

means (65, 66a) so as to continue the data reading operation
with respect to a next memory area (66b) in said image memory

(64).
The digital image forming apparatus as set forth in
claim 6, wherein said reading control means (65) is arranged

to control said data reading means (65, 66a) to retry a reading
operation from the memory area (66b) subject to the reading

error within a restricted number of times, and is, when
the reading error still remains after retrying the reading

operation the restricted number of times, arranged to control
said data reading means (65, 66a) to perform the data reading

operation with respect to the next memory area (66b) in said
image memory (64). 
The digital image forming apparatus as set forth in
claim 7, wherein said data interpolation means (65) is arranged

to perform an interpolation based on an average density
in a predetermined area when a retry count exceeds a restricted

number of times and a difference in the maximum density
and the minimum density of the predetermined area including

the central position of the memory region is within a
threshold value, and to perform an interpolation operation

based on a maximum density or a minimum density which corresponds
to a greater number of picture elements.
The digital image forming apparatus as set forth in
claim 7, wherein said data interpolation means (65) is arranged

to perform an interpolation based on image data at
least in a main scanning direction or a sub-scanning direction

in a position where the image data is stored in the memory
area (66b) subject to the reading error.
The digital image forming apparatus as set forth in
claim 9, wherein said data interpolation means (65) is arranged

to perform an interpolation based on a density when
densities of adjoining areas at least in one direction of the

main scanning direction and the sub-scanning direction are
identical, and to perform an interpolation based on an average

density of the adjoining areas in at least one direction
of the main scanning direction and the sub-scanning direction

when the densities of the adjoining areas are different.
The digital image forming apparatus as set forth in
claim 7, wherein said data interpolation means (65) is arranged

to perform an interpolation based on saturation data
obtained based on image data in a color of the memory area

(66b) subject to the reading error and image data in two
other colors which determine a color in an image portion.
The digital image forming apparatus as set forth in
claim 11, wherein said data interpolation means (65) is arranged

to perform an interpolation based on the saturation 
data and image data surrounding the memory area (66b) subject

to the reading error.
The digital image forming apparatus as set forth in
claim 11, wherein said data interpolation means (65) is arranged

to perform a data interpolation based on the saturation
data and the image data in the memory area (66b) subject

to the reading error at least in one direction of the main
scanning direction and the sub-scanning direction.
The digital image forming apparatus as set forth in
claim 1 or 6, further comprising:


a means (65) for stopping an image outputting operation
when an amount of error detected by said error detection

means (66a) exceeds a permissible amount.
The digital image forming apparatus as set forth in
claim 1 or 6, further comprising:


an automatic document feeding means (15) for transporting
a plurality of documents 
set in the document set position
in the document reading position in correct order according

to the document image reading operation of an image input
means (61);
the image input means (61) for reading an image on the
document set in the document reading position;
an informing means (50) for informing a user;
an operation start instruction means (65) for inputting
an instruction for starting an image output operation; and
an operation control means (65) for controlling said informing
means (50) so as to urge the image output operation

to be stopped when an amount of error detected by said error
detection means (66a) exceeds a permissible amount, to enable

the image output operation to be restarted by inputting an
instruction to start the image output operation, to set back

a piece of document corresponding to image data processed before
the stoppage of the image output operation to the document

set position of said automatic document feeding means 
(15), and thereafter to operate said operation start instruction

means (65).
The digital image forming apparatus as set forth in
claim 15, wherein the operation control means (65) is arranged

to inhibit an image outputting operation to be restarted
when a processing function required for processing

the document image in a predetermined order is selected.
The digital image forming apparatus as set forth in
claim 1 or 6, further comprising:


an error amount memory means (65, 67) for storing an accumulated
amount of errors detected by said error detection

means (66a).
The digital image forming apparatus as set forth in
claim 1 or 6, further comprising:


an error amount memory means (65, 67) for storing accumulated
amount of writing errors detected by said error detection

means (66a);
a memory control means (65) for processing the memory
area subject to a writing error in the image memory (64) to

be determined as an inhibited area;
a warning means (50a) for giving a warning to the user;
and
an operation control means (65) for activating said
warning means (50a) when a remaining capacity of said image

memory (64) is below a predetermined amount by said memory
control means (65).
The digital image forming apparatus as set forth in
claim 1, further comprising

   a writing control means (65) for controlling said data
writing means (65, 66a) so that image data to be written when

a writing error into said image memory is detected by said
error detection means is written in an error writing section

(64, 67) set as a memory section wherein a writing error is
less likely to occur compared with a memory area (66b) subject

to the writing error.
</CLAIMS>
</TEXT>
</DOC>
