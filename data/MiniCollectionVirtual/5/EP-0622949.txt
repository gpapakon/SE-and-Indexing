<DOC>
<DOCNO>EP-0622949</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Inverse halftoning using linear filtering and statistical smoothing
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T500	H04N140	G06T500	H04N140	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	H04N	G06T	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T5	H04N1	G06T5	H04N1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method and apparatus for converting T(·) a 
binary image y
m,n
 into a gray scale image T(y
m,n
) includes 
a pipeline having a number of nearly identical stages 

T(·). At each stage, modifications occur to provide the 
gray scale image by following a sequence of steps including: 

(1) determining a sample mean value representing an 
averaging of pixel values within a neighborhood containing 

a selected pixel; (2) determining a weighted variation 
value representing pixel value variations within the 

neighborhood; and (3) adjusting the pixel value of the 
selected pixel toward the sample mean value if the difference 

between the pixel value and the sample mean value 
exceeds the weighted variation value. The adjustment to 

the pixel value is in the direction of the sample mean 
value. Preferably, the weighting of the variation value 

is different at each stage. At each stage along the 
pipeline, low pass filtering (18) is provided to remove 

high frequency noise generated by the process. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
WONG PING W
</INVENTOR-NAME>
<INVENTOR-NAME>
WONG, PING W.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method
for constructing a high quality gray scale
image from a binary image."Halftoning" is the process of constructing a
binary image, i.e. a bi-level image, from a gray scale
image, i.e. a multi-level image. The constructed binary
image can then be displayed by means of binary devices,
such as newspaper printers and laser printers. An n-bit
gray scale image is converted into an one-bit binary
image perceived to contain a continuous tone. The gray
scale image may be passed through a sequence of operators
that assign pixel values of 1 or 0 for each pixel of the
resulting binary image."Inverse halftoning" is the process of reconverting
the binary image into an approximation of the
original gray scale image. Inverse halftoning can be
applied to a wide variety of binary image processing
problems, such as scaling, tone correction, interchanging
between halftone methods, facsimile image processing, and
image compression. For example, a gray scale image may
be constructed from a binary image, whereafter the gray
scale image undergoes a processing operation and is
finally rehalftoned.A binary image is a two-dimensional array of
pixels having pixel values limited to two levels. On the
other hand, a gray scale image is a two-dimensional light
intensity function x(i,j), where i and j denote discrete 
pixel coordinates and where the pixel value at any pixel
x is proportional to the gray level of the image at that
point. For example, the gray scale image may be an
eight-bit scale having 256 possible gray levels.Halftoning methods that use algorithms can
generally be classified into two different categories --
ordered dither and error diffusion. Ordered dither can
be described at a basic level as a procedure of converting
the gray scale image by thresholding the gray input
with a periodically repeated threshold matrix. Error
diffusion can be described as "spreading out" the error
between an input gray-scale pixel and its binary output
over a small area of the binary image. A weighted combination
of output errors from previously processed
pixels with respect to the scanning strategy is added to
the input pixel, and the sum is thresholded to produce
the binary output. Thus, error diffusion provides a local
average within any small area of the binary image to
approximate the gray level in the corresponding area of
the gray scale image.The two types of halftoning produce binary
images that are substantially different both with respect
to structure and characteristics, e.g., the
</DESCRIPTION>
<CLAIMS>
A method for converting a binary image into a gray
scale image comprising:


(a) selecting a neighborhood of pixels in the
binary image Y
m,n
, each pixel having a pixel value at one
of two levels, said neighborhood including a selected

pixel;
(b) determining (20) a first value responsive
to an averaging of pixel values of said pixels within

said neighborhood;
(c) determining (20) a second value responsive
to a characterization of variation of pixel values among

said pixels within said neighborhood;
(d) increasing (20) the pixel value of said
selected pixel if said pixel value is less than the difference

determined by subtracting said second value from
said first value;
(e) decreasing (20) said pixel value of said
selected pixel if said pixel value is greater than the

sum of said first and second values; and
(f) repeating steps (a)-(e) for other pixels
of said binary image such that a gray scale image T(y
m,n
)
is formed.
The method of claim 1 wherein determining (20) the
second value includes mathematically weighting said characterization

of said variation of pixel values, thereby
providing said second value.
The method of claim 2 further comprising repeating
T(·) steps (a)-(f) for said gray scale image T(y
m,n
)
formed by said steps, wherein repeating steps (a)-(f) is

performed with a different mathematical weighting in determining
said second value. 
The method of claim 1 further comprising presenting
said gray scale image T(y
m,n
) at a visual media (28).
The method of claims 1, 2 and 4 wherein said selected
pixel (x
m,n
) is at coordinates m,n in a two-dimensional
array of pixels and said first and second values are µ
m,n

and γv
m,n
, respectively, said steps providing an adjusted
pixel value (x new / m,n) wherein


The method of claim 5 wherein said step of determining
the second value (γv
m,n
) includes multiplying a
weighted value (γ) times the local variation (v
m,n
) of
pixel values within said neighborhood (R
m,n
) of pixels
such that at the r
th
 power norm


where


and where 
R
m,n
 denotes the number of pixels in the
neighborhood. 
The method of claims 1, 2 and 4 further comprising
low pass filtering said gray scale image T(y
m,n
) formed by
steps (a)-(f).
The method of claims 1, 2 and 4 wherein said binary
image y
m,n
 is a bi-level color image and wherein the
formed gray scale image T(y
m,n
) is a multi-level color
image.
</CLAIMS>
</TEXT>
</DOC>
