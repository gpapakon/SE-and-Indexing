<DOC>
<DOCNO>EP-0647058</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Digital halftone rendering of a gray scale image with frequency-dependent diagonal correlation
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N1405	G06T500	H04N1403	H04N1403	G06T500	H04N1405	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	G06T	H04N	H04N	G06T	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	G06T5	H04N1	H04N1	G06T5	H04N1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method of halftoning a digital gray scale image is disclosed that utilizes a 
point by point thresholding comparison to a novel diagonal correlation dither matrix. 

The new dither matrix forces diagonal correlation of adjacent dots in the output image 
while maximizing dispersion of dots, thereby producing visually unobtrusive output 

dot patterns. The matrix is generated according to a spatial domain cost function that 
determines a cost value for each candidate pixel based on respective radial distances 

and relative angles between a candidate pixel and the ON pixels in the matrix such 
that unit diagonals are favored over placement of vertically or horizontally adjacent 

dots. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BARTON DAVID C
</INVENTOR-NAME>
<INVENTOR-NAME>
BARTON, DAVID C.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This application relates generally to digital halftoning, and, more specifically,
to methods of rendering a gray scale image by utilizing a point by point halftoning
operation against a novel dither matrix or "mask" that imposes controlled amounts of
diagonal correlation in the binary output array. Methods of generating a dither
matrix, also called a threshold array, with frequency-dependent diagonal correlation
for use in dispersed-dot ordered dither techniques are disclosed.Digital image data must be transformed or pre-processed so that computer
display terminals with various grey level capacities, laser printers, dot matrix printers,
inkjet printers etc., many having different resolutions and aspect ratios, will all render
an image represented by the image data in a similar way. A pre-processor associated
with or configured for each such output device transforms the digital data to a form
tailored to the characteristics of that particular device.Digital halftoning is a key component of such a pre-processor. This term
refers to any process that creates the illusion of continuous tone images by judicious
arrangement of binary picture elements, such as ink drops in the case of inkjet
printers. Digital halftoning is sometimes called spatial dithering.Various digital halftoning techniques are known. They generally fall into one
of two broad classes, depending on the type of dot created, dispersed, or clustered. If
a display device can successfully accommodate an isolated black or white pixel, then
by far the preferred choice is dispersed-dot halftoning, which maximizes the use of
resolution. A clustered-dot halftone mimics the photoengraving process used in
printing, for tiny pixels collectively form dots of various sizes.There is also a choice of computational complexity that can be accepted. A
"point operation" in image processing refers to any algorithm which produces output 
for a given location based only on the single input pixel at that location, independent
of its neighbors. Thus, in point operations, halftoning is accomplished by a simple
pointwise comparison of the input image against a predetermined threshold array or
mask. For every point or pixel in the input image, depending on which point value is
larger -- the gray scale image or the mask -- either a 1 or 0, respectively, is placed at
the corresponding location in the binary output image. While various masks may be
used, the general procedure for point halftoning is known. Details of such a
procedure are disclosed in U.S. Patent No.
</DESCRIPTION>
<CLAIMS>
A method of halftoning a digital gray scale image ([F(i,j)]) by utilizing

a point by point thresholding comparison (28) to a predetermined diagonal correlation
dither matrix ([M(i,j)]
), characterized in that the dither matrix is substantially comprised of a
cost function that forces diagonal correlation of adjacent dots (C1,P10) in the output image while maximizing

dispersion of dots, thereby producing visually unobtrusive output dot patterns.
A method according to claim I wherein the dither matrix is generated.
for each desired tone level, by a process comprising the steps of:


providing a null matrix (M) of pixel locations having a predetermined size;
initializing the null matrix (52) to a predetermined initial state corresponding
to a minimum tone level;
identifying as candidate pixels (58) all of the OFF pixels in the matrix;
determining a cost value (60) for each candidate pixel based on respective
radial distances and relative angles between the candidate pixel and the ON pixels in

the matrix;
comparing the respective cost values of the candidate pixels (78) to determine
a minimum cost value;
selecting (78) one of the candidate pixels that has the minimum cost value;
turning ON the selected candidate pixel (80) in the matrix; and
repeating (84) said identifying, determining, comparing, selecting and turning
ON steps until the number of ON pixels in the matrix corresponds to the desired tone

level.
A method according to claim 2 wherein said determining a cost value
includes:


selecting a search area (r) surrounding the candidate pixel;
determining an individual cost value (110) based on each ON pixel (106)
within the search area (108); and
summing the individual cost values (112) to determine the total cost value.
A method according to claim 3 wherein selecting the search area
includes sizing the search area so as to include an area inversely related to the

desired tone value.
A method according to claim 3 wherein selecting the search area
includes sizing the search area so as to encompass at least a predetermined number of

ON pixels greater than about 10-15 ON pixels.
A method according to claim 3 wherein selecting the search area

includes increasing the size of the search area for low tone values so as to reduce
human visual detection of low frequency artifacts among dots in output regions of

constant low tone value.
A method according to claim 3 wherein selecting the search area
includes increasing the size of the search area for high tone values so as to reduce

human visual detection of low frequency artifacts among white spaces in output
regions of constant high tone value.
A method according to claims 3,4,5,6 or 7 wherein said determining
the individual cost value includes adjusting a radial distance between the candidate

pixel and each ON pixel by a function of the radial distance and a relative angle
between the candidate pixel and each ON pixel, the adjusted radial distance having a

peak where the relative angle equals approximately 45 degrees, thereby favoring
candidate pixels diagonally adjacent to ON dots over candidate pixels vertically or

horizontally adjacent to ON dots.
A method according to claims 3,4,5,6 or 7 wherein the cost value is
determined according to a cost function (FnC) that comprises exponentiating the

adjusted radial distance to at least the third power so that the cost value is strongly
influenced by the actual radial distance between the candidate pixel and the ON dots,

whereby clumps of dots have an influence on the cost value approximately equal to
the cost imposed by a dot in the clump that is closest to the candidate pixel. 
A method according to claims 3,4,5,6 or 7 further comprising
compensating for a target output system in which dots that are printed within a

predetermined minimum radial distance touch greater than one unit one another, by
adjusting the actual radial distance r, so as to form an adjusted radial distance that

varies between r and the minimum radial distance.
</CLAIMS>
</TEXT>
</DOC>
