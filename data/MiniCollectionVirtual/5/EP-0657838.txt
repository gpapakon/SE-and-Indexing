<DOC>
<DOCNO>EP-0657838</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processing apparatus and method
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N140	G06K920	H04N140	G06K920	G06K932	G06K932	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	G06K	H04N	G06K	G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	G06K9	H04N1	G06K9	G06K9	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image containing characters and lines, which is 
inputted by a scanner or the like, is binarized and 

stored in a memory. A thickening process is repeatedly 
applied on groups of significant bits stored in the 

memory, until a predetermined condition is fulfilled. 
After this process, the thickened image is thinned at 

least a greater number of times than the number of times 
the thickening process is repeated in order to eliminate 

lines. As a result, characters are determined to exist 

at areas where groups composed of remaining significant 
dots exist, then characters are separated from the input 

image based on the areas of groups composed of remaining 
significant dots. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HARADA TAKASHI
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUBAYASHI KAZUHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
MORI SHIGEKI
</INVENTOR-NAME>
<INVENTOR-NAME>
NAGASAKI KATSUHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIMADA KAZUTOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SUNAKAWA SHINICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
TATSUMI EISAKU
</INVENTOR-NAME>
<INVENTOR-NAME>
HARADA, TAKASHI
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUBAYASHI, KAZUHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
MORI, SHIGEKI
</INVENTOR-NAME>
<INVENTOR-NAME>
NAGASAKI, KATSUHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIMADA, KAZUTOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SUNAKAWA, SHINICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
TATSUMI, EISAKU
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an image
processing apparatus and method and, more particularly,
to an image processing apparatus and method capable of
separating characters and lines in an image.Assume that an original image having characters and
lines, such as maps and drawings, read by a scanner or
the like is processed, for instance, edited and/or
searched for characters, by a computer. Conventionally,
the original image is binarized, labeled, and thinned,
and so on, and numbers and length of groups of the
labeled pixel are determined, then labeled pixel groups
having relatively large numbers of pixels (having long
length) are recognized as lines, and labeled pixel
groups of relatively short lengths are recognized as
characters. Thus both lines and characters are
extracted at the same time.In the conventional method as described above,
extraction as well as recognition of characters and
lines are performed in parallel. Therefore, there is a
problem in that it takes quite a long preparation time
for the process. The present invention has been made in consideration
of the above situation, and has as a concern to provide
an image processing apparatus and method which enable
separation of characters and lines efficiently when an
image having lines and characters is inputted.US Patent Specification No US-A-5202933 discloses
a method and apparatus for differentiating and extracting
text and line graphics in an image. The method described
uses morphological operations in the horizontal and
vertical directions to coalesce group pixels so that
groups of character pixels can be separated from lines.According to the present invention
there is provided an image processing apparatus as set out
in claim 1, and
an image processing method as set out in claim 12. Other features and advantages of the present
invention will be apparent from the following
description taken in conjunction with the accompanying
drawings, in which like reference characters designate
the same or similar parts throughout the figures.The accompanying drawings, which are incorporated
in and constitute a part of the specification,
illustrate embodiments of the invention and, together 
with the description, serve to explain the principle of
the apparatus and method according to the invention.
Fig. 1 is a block diagram of an image processing
apparatus according to a first embodiment of the invention;Fig. 2 is a flowchart explaining a process
according to the first embodiment of the invention;Fig. 3 shows transition of an image in a thickening
pr
</DESCRIPTION>
<CLAIMS>
Image processing apparatus adapted to receive image
data representing an image containing characters and

lines and to separate the characters from the lines, the
apparatus comprising processing means (3) for thickening

groups of significant dots in the image by the addition
of further dots and for thinning groups of dots so

thickened; and determining means (3) for determining
areas representing characters from the thickened and

thinned groups of dots, and characterised in that said
processing means are adapted to repeatedly execute a

thickening operation until the number of dots added at
a n-th thickening operation is less than the number of

dots added at the (n-1)th thickening operation, where "n"
is the number of repetitions of the thickening operation,

and to obtain an image at the (n-m)th thickening
operation, wherein "m" is an integer greater than "1",

said processing means being further adapted to thin the
thickened image so obtained by said processing means by

repeatedly removing dots for at least a number of times
greater than n-m, the determining means being adapted to

determine that an area of significant dots remaining
after the thinning process is a character region area.
Apparatus according to claim 1, wherein the
processing means are adapted to thicken the image which 

has been previously thickened and thinned on the basis
of the number of times the thickening process and the

thinning process had been repeated; and extracting means
for extracting characters from the input image based on

the area of significant dots obtained after this second
thickening process.
Apparatus according to claim 1 or claim 2, wherein
the thickening process at each thickening step is carried

out in accordance with the following function for each
significant pixel f
ij
Apparatus according to claim 3, wherein the
thickening process at each thinning step is carried out

in accordance with the following function

Apparatus according to any one of claims 2, 3 or 4,
wherein said extracting means comprises logic operating

means for performing a logical operation between the
final thickened image and the input image. 
Apparatus according to claim 5, further comprising
recognition means for recognizing characters extracted

by said extracting means.
Apparatus according to any preceding claim, wherein
the processing means operate the thickening and thinning

processes in the vertical and horizontal directions of
the image.
Apparatus according to any preceding claim, wherein
the processing means is adapted to repeat the first

mentioned thickening process only a predetermined number
of times if the number of dots added does not decrease.
Apparatus according to claim 8, wherein said
predetermined value can be changed.
Apparatus according to any preceding claim, further
comprising reading means (1) for reading an original

image to generate the image data.
Apparatus according to claim 10, further comprising
setting means for setting a color or colors of the input

image to be read by said reading means.
An image processing method comprising:

receiving image data representing an image 
containing

characters and lines and separating the characters from the lines,
the method comprising the steps of

thickening groups of significant dots in the image by the
addition of further dots and thinning groups of dots so thickened;

determining areas representing characters from the thicked and thinned
groups of dots;

said method being characterised by the steps of repeatedly executing the
thinning generation until the number of dots added at an

(n)-th thickening operation is less than the number of
dots added at the (n-1)th thickening operation, where "n"

is the number of repetitions of the thickening operation;
obtaining an image at the (n-m)th thickening operation,

wherein "m" is a integer greater than 1; thinning the
thickened image so obtained by repeatedly removing dots

for at least a number of times greater than n-m; and
determining that an area of significant

dots remaining after the thinning process is a character region area.
A method according to claim 12, including thickening
the image which has been previously thickened and thinned

on the basis of the number of times the thickening
process and the thinning process had been repeated; and

extracting characters from the input image based on the
area of significant dots obtained after this second

thickening process. 
A method according to claim 12 or claim 13, wherein
the thickening process at each thickening step is carried

out in accordance with the following function for each
significant pixel f
ij
A method according to claim 14, wherein the
thickening process at each thinning step is carried out

in accordance with the following function

A method according to any one of claims 12 to 15,

wherein said extracting means comprises logic operating
means for performing a logical operation between the

final thickened image and the input image.
A method according to any one of claims 12 to 16,
further comprising recognizing characters extracted by

said extracting means.
A method according to any one of claims 12 to 17,
wherein including carrying out the thickening and

thinning processes in the vertical and horizontal 
directions of the image.
A method according to any one of claims 12 to 18,
including repeating the first mentioned thickening

process only a predetermined number of times if the
number of dots added does not decrease.
A method according to any one of claims 12 to 19,
further comprising reading an original image to generate

the image data.
A method according to claim 20, further comprising
setting means for setting a color or colors of the input

image to be read.
A storage medium storing processor implementable
instructions for controlling a processor to carry out the

method of any one of claims 12 to 21.
An electrical signal carrying processor
implementable instructions for controlling a processor

to carry out the method of any one of claims 12 to 21.
</CLAIMS>
</TEXT>
</DOC>
