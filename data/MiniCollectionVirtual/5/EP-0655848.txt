<DOC>
<DOCNO>EP-0655848</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Automatic gain control circuit for a digital baseband line equalizer.
</INVENTION-TITLE>
<CLASSIFICATIONS>H03G320	H03G320	H04B304	H04B304	H04B306	H04B306	H04M340	H04M340	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03G	H03G	H04B	H04B	H04B	H04B	H04M	H04M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03G3	H03G3	H04B3	H04B3	H04B3	H04B3	H04M3	H04M3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An automatic gain control circuit (300) produces a control voltage 
(V
AGC
) for a digital baseband line equalizer having a ternary output signal (103). 
The circuit includes a capacitor (216) for storing a charge to produce the control 

voltage, a charge circuit (202,210,212) for charging the capacitor if the amplitude of 
the ternary output signal exceeds a reference voltage (± V
REF
), and a discharging 
circuit (304,302,214) for discharging the capacitor only when the ternary output 

signal is at a non-zero level. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
AT 
&
 T CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
AT
&
T CORP.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SONNTAG JEFFREY LEE
</INVENTOR-NAME>
<INVENTOR-NAME>
SONNTAG, JEFFREY LEE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to repeaters used in digital telephone communications, and 
more particularly, to an automatic gain control circuit for a digital baseband line 
equalizer such as that found in a T1 or an E1 repeater. In telephony, T1 and E1 are digital transmission standards. T1 is a standard 
used in the United States. A similar standard used in Europe is identified as the E1 
standard. An important component of a digital transmission system is the repeater. 
Repeaters are placed at regular intervals along a transmission line in order to 
regenerate signals. A digital baseband line equalizer is invariably employed in the 
front end of repeaters such as those used in a T1 or E1 system. The equalizer filters 
and amplifies a signal which has been distorted during transmission over a length of 
cable. The signal is a ternary digital signal transmitted at a rate of 1.544 Mbits/sec 
(megabits per second) in the T1 standard, and 2.04 Mbits/sec in the E1 standard. By 
ternary, it is meant that the signal has three logic levels: low, zero and high. Data is 
encoded using an alternate mark inversion (AMI) scheme in which a logical zero is 
transmitted as a zero voltage, and a logical one is transmitted as either a high or low 
voltage. The equalizer used in the front end of these repeaters includes an automatic 
gain control (AGC) circuit which modifies the gain and frequency response of the 
equalizer to adjust for varying line conditions. It is intended for the AGC circuit to 
maintain a constant amplitude signal at the output of the equalizer. However, with 
conventional AGC circuits, the amplitude of the output signal tends to vary as a 
function of the data density of the signal. For example, if a data signal has a large 
number of zeros occurring one after the other, then it will appear to the conventional 
AGC circuit that the gain needs to be increased, even though a correct amplitude data  
 
stream is being received. Thus, the gain of the circuit tends to be dependent on the 
content or density of the data being received at the repeater. What is needed is an equalizer that will produce a constant amplitude output 
signal independent of data density. The invention is an automatic gain control (AGC) circuit for generating a 
control voltage for a digital baseband line equalizer. The control voltage controls the 
gain and frequency response (i.e., the equalization) of the equalizer. The control 
circuit includes a capacitor for storing a charge to produce the control voltage, a 
charging circuit
</DESCRIPTION>
<CLAIMS>
An automatic gain control circuit for generating a control voltage to 

control the equalization of a digital line equalizer having a ternary output signal, 
comprising: 

   storage means for storing a charge to produce the control voltage; 
   charge means for providing a first current to said storage means if the 

amplitude of the ternary output signal of the digital baseband line equalizer exceeds 
a reference voltage; and 

   discharge means for providing a second current to said storage means only 
when the ternary output signal is at a non-zero level, wherein said second current has 

a polarity opposite that of said first current. 
The automatic gain control circuit of claim 1, wherein said storage 
means comprises a capacitor. 
The automatic gain control circuit of claim 2, wherein said charge 
means comprises: 

   first comparator means for monitoring the ternary output signal and for 
producing a trip signal when the amplitude of the ternary output signal exceeds said 

reference voltage; and 
   first current source means for providing said first current to said capacitor in 

response to said trip signal. 
The automatic gain control circuit of claim 3, wherein said first 
comparator means comprises: 

   a first comparator configured to compare the ternary output signal to a high 
reference voltage and to produce a high trip signal when the amplitude of the ternary 

output signal exceeds said high reference voltage; 
   a second comparator configured to compare the ternary output signal to a low 

reference voltage and to produce a low trip signal when the amplitude of the ternary 
 

output signal exceeds said low reference voltage; and 
   an OR gate coupled to said first and second comparators and configured to 

output said trip signal in response to one of said high trip signal and said low trip 
signal. 
The automatic gain control circuit of claim 4, wherein said first current 
source means comprises: 

   a first current source configured to produce said charge current; and 
   a first switch connected in series with said first current source to selectively 

provide said charge current to said capacitor in response to said trip signal. 
The automatic gain control circuit of claim 5, wherein said discharge 
means comprises: 

   second comparator means for monitoring the ternary output signal and for 
producing a data present signal when the amplitude of the ternary output signal 

exceeds a data slice voltage; and 
   second current source means for providing said second current to said capacitor 

in response to said data present signal. 
The automatic gain control circuit of claim 6, wherein said second 
comparator means comprises: 

   a third comparator configured to compare said ternary output signal to a high 
slice voltage and to produce a data high present signal when the amplitude of the 

ternary output signal exceeds said high slice voltage; 
   a fourth comparator configured to compare the ternary output signal to a low 

slice voltage and to produce a data low signal when the amplitude of the ternary output 
signal exceeds said low slice voltage; and 

   an OR gate coupled to said third and fourth comparators and configured to 
output said data present signal in response to one of said high slice signal and said low 

slice signal. 
The automatic gain control circuit of claim 7, wherein said second 
current source means comprises: 

   a second current source configured to produce said discharge current; and 
   second switch connected in series with said second current source to selectively 

provide said second current to said capacitor in response to said data present signal. 
An apparatus for producing a control voltage for a digital baseband line 
equalizer having a ternary output signal, comprising: 

   a capacitor configured to store a charge to produce the control voltage; 
   first comparator means for monitoring the ternary output signal and for 

producing a trip signal when the amplitude of the ternary output signal exceeds a 
reference voltage; 

   charge means for providing a first current to said capacitor in response to said 
trip signal; 

   second comparator means for monitoring the ternary output signal and for 
producing a data present signal when the amplitude of the ternary output signal 

exceeds a data slice voltage; and 
   discharge means for providing a second current to said capacitor in response 

to said data present signal, wherein said second current has a polarity opposite that of 
said first current. 
The apparatus of claim 9, wherein said first comparator means 
comprises: 

   a first comparator configured to compare the ternary output signal to a high 
reference voltage and to produce a high trip signal when the amplitude of the ternary 

output signal exceeds said high reference voltage; 
   a second comparator configured to compare the ternary output signal to a low 

reference voltage and to produce a low trip signal when the amplitude of the ternary 
output signal exceeds said low reference voltage; and 

   an OR gate coupled to said first and second comparators and configured to 
 

output said trip signal in response to one of said high trip signal and said low trip 
signal. 
The apparatus of claim 10, wherein said charge means comprises: 
   a first current source configured to produce said first current; and 

   a first switch means connected in series with said first current source to 
selectively provide said first current to said capacitor in response to said trip signal. 
The apparatus of claim 11, wherein said second comparator means 
comprises: 

   a third comparator configured to compare the ternary output signal to a high 
slice voltage and to produce a data high present signal when the amplitude of the 

ternary output signal exceeds said high slice voltage; 
   a fourth comparator configured to compare the ternary output signal to a low 

slice voltage and to produce a data low signal when the amplitude of the ternary output 
signal exceeds said low slice voltage; and 

   an OR gate coupled to said third and fourth comparators and configured to 
output said data present signal in response to one of said high slice signal and said low 

slice signal. 
The apparatus of claim 12, wherein said discharge means comprises: 
   a second current source configured to produce said discharge current; and 

   second switch means connected in series with said second current source to 
selectively provide said second current to said capacitor in response to said data 

present signal. 
</CLAIMS>
</TEXT>
</DOC>
