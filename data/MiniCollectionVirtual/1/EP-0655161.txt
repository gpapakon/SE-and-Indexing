<DOC>
<DOCNO>EP-0655161</DOCNO> 
<TEXT>
<INVENTION-TITLE>
LOST FRAME CONCEALMENT
</INVENTION-TITLE>
<CLASSIFICATIONS>G10L1102	H04B110	H04L100	G10L1300	G10L1300	G10L2100	H04B110	H04L100	G10L2104	G10L1900	G10L1100	G10L1900	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G10L	H04B	H04L	G10L	G10L	G10L	H04B	H04L	G10L	G10L	G10L	G10L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G10L11	H04B1	H04L1	G10L13	G10L13	G10L21	H04B1	H04L1	G10L21	G10L19	G10L11	G10L19	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A receiver in a frame based radio communication system includes a speech decoder of the source-filter type which is controlled by means (20, 22, 24) including internal state variables updated on a frame by frame basis for modifying received filter defining parameters representing background sounds transmitted over a communication channel. The receiver includes means (14) for detecting frame loss and means (18) for concealing the effects of frame loss by restricting updating of at least one of the internal state variables.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ERICSSON TELEFON AB L M
</APPLICANT-NAME>
<APPLICANT-NAME>
TELEFONAKTIEBOLAGET LM ERICSSON
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ANDERS BERGSTROEM ROLF
</INVENTOR-NAME>
<INVENTOR-NAME>
TORBJOERN WIGREN KARL
</INVENTOR-NAME>
<INVENTOR-NAME>
ANDERS, BERGSTROEM, ROLF
</INVENTOR-NAME>
<INVENTOR-NAME>
TORBJOERN, WIGREN, KARL
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to lost frame concealment in a
communication system, for example a radio communication system,
and specifically to an apparatus and a method for improving
decoding of background sounds in such a system.Means for improving encoding/decoding of background sounds,
primarily intended for digital cellular telephone systems, have
been described in Swedish Patent Applications 93 00290-5 and
93 01798-6. These means are primarily designed to handle a
situation where the connection between the speech encoder and the
speech decoder is close to ideal, in the sense that no frames are
lost. However, in for example the American digital cellular
standard IS-54 the Fast Associated Control CHannel (FACCH) is
established by stealing speech frames from the traffic channel (a
similar channel exists in the European GSM specification). In
such a case it may be necessary to modify the methods described
in the above Swedish patent applications. A similar situation
arises in a packet switched network when packets (frames) are
lost or arrive too late to be used for speech generation in real
time (the packets may take different routes between sender and
receiver).An object of the present invention is an apparatus and a method
in which so called lost frame concealment is applied to the
received signal in order to make the speech decoding more robust
or insensitive to lost frames.This object is solved by a
system and method in accordance with the
appended claims. The invention, together with further objects and advantages
thereof, may best be understood by making reference to the
following description taken together with the accompanying
drawing, which is a schematic block diagram of the relevant parts 
of a receiver in a radio communication system containing an apparatus
in accordance with the present invention.To understand the operation of the invention it is useful to
briefly review the operation of a typical digital cellular radio
connection, typical lost frame concealment techniques, and also
to review the algorithms of the above mentioned Swedish patent
applications.In a communication link of a digital cellular telephone system
the acoustic signal is first digitized and then a speech coding
algorithm is applied (see for example B.S. Atal, V. Cuperman and
A. Gersho, eds, "Advances in Speech Coding", Kluwer Academic
Publishers, 1991). This algorithm compresses the speech signal
and transforms it to a number of quantized parameters (usually in
a frame based manner). The resulting bits are

</DESCRIPTION>
<CLAIMS>
A frame based radio communication system comprising a receiver comprising an apparatus,
for concealing the effects of lost frames in a speech decoder (26), which speech decoder is

of the source-filter type, and which apparatus comprises means (20, 22, 24) for controlling said
decoder, said means including


means (14) for detecting loss of frames, and
means (18) for concealing the effects of a lost frame

said system being characterized by said apparatus comprising:

a voice activity detector (20) comprising at least a threshold for speech/background
sound decisions, said concealing means (18) restricting updating of said

threshold in case of a lost frame.
A frame based radio communication system comprising a receiver comprising an apparatus,
for concealing the effects of lost frames in a speech decoder (26), which speech decoder is

of the source-filter type, and which apparatus comprises means (20, 22, 24) for controlling said
decoder, said means including


means (14) for detecting loss of frames, and
means (18) for concealing the effects of a lost frame

said system being characterized by said apparatus comprising:

a voice activity detector (20) performing speech/background sound decisions on a
frame by frame basis, said concealing means (18) inhibiting updating of the

speech/background sound decision obtained from the previous frame in case of a lost
frame.
The system of claim 1 or 2, characterized by a stationarity detector (22) connected
to an output of said voice activity detector (20) for discriminating between stationary

and non-stationary background sounds, said stationarity detector including at least one
buffer containing estimates of statistical moments of recent frames dominated by

background sounds for making stationarity decisions, said concealing means
restricting updating of said buffer in case of a lost frame.
The system of claim 1 or 2, characterized by a stationarity detector (22) connected
to an output of said voice activity detector (20) for discriminating between stationary

and non-stationary background sounds, said concealing means (18) inhibiting updating 
of the stationarity/non-stationarity decision obtained from the previous frame in case of

a lost frame.
The system of any of the preceding claims, characterized by means (24) for low
pass filtering of filter defining parameters, said concealing means (18) restricting

updating of filter coefficients of the low pass filtering process in case of a lost frame.
The system of any of the preceding claims, characterized by means (24) for
bandwidth expansion of the filter represented by the filter defining parameters, said

concealing means (18) restricting updating of filter coefficients in case of a lost frame.
The system of claim 5 or 6, characterized by a post filter for modifying the tilt of the
spectrum of the decoded signal, said concealing means (18) restricting updating of tilt

information in case of a lost frame.
A method for concealing the effects of lost frames in a speech decoder of the
source-filter type in a receiver in a frame based radio communication system, said

method including

detecting loss of frames, and
concealing the effects of a lost frame

said method being characterized by:

voice activity detection comprising at least a threshold for speech-/background
sound decisions, and
restricting updating of said threshold in case of a lost frame
A method for concealing the effects of lost frames in a speech decoder of the
source-filter type in a receiver in a frame based radio communication system, said

method including

detecting loss of frames, and
concealing the effects of a lost frame

said method being characterized by:

voice activity detection based on performing speech/background sound decisions
on a frame by frame basis, and
inhibiting updating of the speech/background sound decision obtained from the
previous frame in case of a lost frame.
The method of claim 8 or 9, wherein a stationarity detector (22) is connected to an
output of a voice activity detector (20) for discriminating between stationary and non-stationary

background sounds, said stationarity detector including at least one buffer
containing estimates of statistical moments of recent frames dominated by background

sounds for making stationarity decisions, characterized by restricting updating of said
buffer in case of a lost frame.
The method of claim 8 or 9, wherein a stationarity detector (22) is connected to an
output of a voice activity detector (20) for discriminating between stationary and non-stationary

background sounds, characterized by inhibiting updating of the
stationarity/non-stationarity decision obtained from the previous frame in case of a lost

frame.
The method of any of the preceding claims 8-11, characterized by

low pass filtering of filter defining parameters, and
restricting updating of filter coefficients of the low pass filtering process in case of
a lost frame.
The method of any of the preceding claims 8-12, characterized by

bandwidth expansion of a filter represented by filter defining parameters, and
restricting updating of filter coefficients in case of a lost frame.
The method of claim 12 or 13, characterized by

post filterering for modifying the tilt of the spectrum of the decoded signal, and
restricting updating of tilt information in case of a lost frame.
</CLAIMS>
</TEXT>
</DOC>
