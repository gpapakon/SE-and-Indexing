<DOC>
<DOCNO>EP-0643380</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Speech speed conversion method and apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>G10L2100	H04B1404	H04B1404	G10L2104	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G10L	H04B	H04B	G10L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G10L21	H04B14	H04B14	G10L21	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The speed of an input speech is changed without changing 
the pitch of the input speech. Raw data of a speech are stored 

so that the speed of the speech can be modulated continuously 
on the basis of the raw data. 
A speech speed conversion apparatus includes a unit (321, 
10, 7, 5) for inputting speech, a speech speed conversion unit 

(11) for changing the speed of the input speech, and a unit (6, 
8, 9, 325) for supplying the output of the speech speed conversion 

unit as output speech to listener's ears. The apparatus 
further includes a speech speed conversion switch (3, 4) so 

that speech with changed speed of the input speech is delivered 
in a period in which the conversion switch is turned on, whereas 

speech without change of the input speech is delivered when 
the conversion switch is turned off. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HITACHI LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
HITACHI, LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HATAOKA NOBUO
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWAUCHI YASUNORI
</INVENTOR-NAME>
<INVENTOR-NAME>
KUMAGAI YUKIO
</INVENTOR-NAME>
<INVENTOR-NAME>
MORIKAWA JUICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NEJIME YOSHITO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAMIYA TADASHI
</INVENTOR-NAME>
<INVENTOR-NAME>
HATAOKA, NOBUO
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWAUCHI, YASUNORI
</INVENTOR-NAME>
<INVENTOR-NAME>
KUMAGAI, YUKIO
</INVENTOR-NAME>
<INVENTOR-NAME>
MORIKAWA, JUICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NEJIME, YOSHITO, HITACHI KOYASUDAI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAMIYA, TADASHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a speech
speed conversion method, a speech speed conversion
apparatus, and an electronic apparatus for modulating
the speed of a voice, and, particularly, to a technique
which is effective on application to a control technique
for using such an apparatus in conversation and so on.As a device for aiding hearing sense for
persons hard of hearing, there have been, conventionally,
mainly used analog type hearing aids using
analog circuits for processing the amplitude and
frequency characteristic of a voice. On the contrary,
research and development for making application of
digital signal processing to compensation for hearing-impairment
have been made eagerly in recent years. The
trend of the research and development has been described
in detail, for example, in "Application of Digital
Technique to Compensation for Hearing-Impairment",
Journal of Acoustical Society of Japan (Vol. 47, No. 10,
pp.760-765, 1991), "Speech-perception aids for hearing-impaired
people: Current status and needed research",
J. Acoust. Soc. Am. (90(2), Pt. 1, Aug. 1991), and so
on.To compensate for hearing loss, the amplification
of the amplitude of a speech signal and the 
compression of a dynamic range are generally performed
with every frequency in accordance with the hearing
characteristic of a user. In the conventional analog
hearing aid, such a process is realized by an analog
circuit. On the other hand, in the digital hearing aid
developed in recent years, this process is realized by a
software such as a digital filter, or the like, so that
adaptation to the hearing characteristic of the user can
be made more in detail.In the aforementioned trend, an attempt to
change only the speed of a voice by digital signal
processing without any change of the pitch of the voice
to thereby perform hearing aids of higher degree
covering the whole range of a hearing system inclusive
of the decline of language processing speed has been
made in recent years. Such a speech speed conversion
technique has been described in detail, for example, in
"Development of Portable DSP System for performing
Speech Processing for the Aged", Technical Research
Report of Institute of Electronics, Information and
Communication Engineers of Japan (Vol. 92, No. 207 SP92-54),
"High-Quality Real-Time Speech Speed Conversion
System", ditto (SP92-55), and so on.In the aforementioned conventional techniques,
a broadcasted voice over the television/radio or the
like or a voice recorded in a tape recorder or the like
was used as the
</DESCRIPTION>
<CLAIMS>
A speech speed conversion method for receiving and storing
an input speech and changing a speed of said input speech

without any change of the pitch of said input speech, wherein
speed conversion for said input speech is carried out in a

period which is designated by a listener when speech speed conversion
is needed, and no speech speed conversion is carried out in the

period other than said designated period,

   
characterised
 in that the quantity of lag from real time
is adjusted in a period in which the stored speech is reproduced

in case the lag is caused by a speech speed conversion or
repeat operation.
A speech speed conversion apparatus comprising:

means (321) for receiving input speech;
memory means (2) for storing information representative
of said input speech;
speed conversion means (1) for changing the speed of
said input speech;
means (325) for supplying an output of said speed conversion
means (1) as a speech output to listener's ears;
a speech speed conversion switch (113); and
means adapted to output speech while changing the speed
of said input speech when said speed conversion switch (113)

is turned on, and to output speech without changing the speed
when said switch is turned off;

   
characterised
 by catching-up means for adjusting the 
quantity of lag from real time in a period in which said

stored information is reproduced in case the lag is caused by
a speech speed conversion or repeat operation.
The apparatus of claim 2, wherein said memory means (2)
includes means for storing data on a frame by frame basis.
The apparatus of claim 3, further comprising means for
deciding about waveform expansion and reduction processes in said

speed conversion process on the basis of a comparison between
the power of a frame and a threshold provided as a variable.
The apparatus of claim 2, further comprising a speed
selection switch (113) for selecting the speed of said

speech, and means for changing the speed of said speech to
that selected by said speed selection switch.
The apparatus of claim 5, further comprising means for
controlling an audio/video apparatus.
The apparatus of claim 2, further comprising a repeat
switch (105) and means for repeating a reproduced speech when

said repeat switch is turned on.
The apparatus of claim 7, wherein said repeat means includes
means for turning back the speech by several seconds

whenever said repeat switch (105) is pushed once, means for
sometimes generating intermittent sounds while the speech is 

turned back, means for stopping the turning-back of the
speech when the speech reaches the end of a ring buffer (24),

and/or means for selecting the speed at the repeat time.
The apparatus of claim 8, wherein said means for selecting
the speed at the repeat time has at least two of the following

modes: default speed value repeat, slow repeat, fast
repeat, and gradually accelerated repeat.
The apparatus of claim 2, wherein said catching-up means
includes means for starting catching-up when a slow reproduction

mode is terminated, means for starting catching-up when
reproduction is turned back to the point of time of the start

of a repeat after the repeat, means for selecting the speech speed
at the catching-up time, means for automatically shifting the

current mode to a through mode for directly outputting the
input speech when catching-up is completed, and/or means for

generating a report signal sound when catching-up is completed.
The apparatus of claim 10, wherein said means for
selecting the speed at the catching-up time has means for

making a non-stop skip to real time, means for catching up
the real time with fast hearing, and/or means for making a

parallel movement with a time lag.
The apparatus of claim 2, further comprising a speed selection
switch, a repeat switch (105), and/or a reset switch 

(106), the or each said switch being provided in a peripheral
portion on a side surface of said speed conversion apparatus

so as to facilitate handling.
The apparatus of claim 12, wherein said reset switch
(106) includes means for stopping the repeating or catching-up

operation and making a skip to real time when said switch
is turned on at the repeat or catching-up time, and then

shifting the current mode to a through mode.
The apparatus of claim 2, wherein said speed conversion
means is provided as a software (11) executed by a digital

signal processor (1) having an input terminal for receiving
an interruption request signal from the outside, so that controlling

of the speed conversion process or switching of the
rate of speed conversion on the basis of said speed conversion

switch (113) is given to said digital signal processor
(1) via said interruption request signal input terminal.
The apparatus of claim 2, further comprising means for
hearing said output speech through a binaural headphone

(325).
The apparatus of claim 2, further comprising:

a microphone (321) for converting an acoustic signal
into an electric signal;
an analog amplifier (10) for amplifying an output of
said microphone (321); 
a low-pass filter (7) for removing high-frequency components
from the output of said analog amplifier (10);
an A/D converter (5) for converting the analog output
signal of said low-pass filter (7) into a digital signal;
a digital signal processor (1) for executing the speed
changing process;
means (113) for changing a processing parameter;
a D/A converter (6) for converting the digital speech
data into an analog value;
a second low-pass filter (8) for removing high-frequency
components from the output of said D/A converter (6);
a second analog amplifier for amplifying the output of
said second low-pass filter (8); and
a headphone (325) for converting the output of said
second analog amplifier into an acoustic signal and supplying

the acoustic signal to both ears.
The apparatus of claim 16, wherein said speed conversion
means carries out a series of procedures over a whole frame

repeatedly through a pipe-line process by frame using a
plurality of input frame buffers, said series of procedures

including:

applying a pitch extraction process to a leading portion
of the frame to detect the pitch of the leading portion;
transferring data of the length of one pitch thus
detected to output buffers;
multiplying data of the length of two pitches by a
window function which changes from 0 to 1, and by a window 

function which changes from 1 to 0;
adding up respective data obtained by the multiplications
by the window functions to generate a reproduced wave

pattern having a time length of two pitches;
inserting the reproduced wave pattern in the rear of the
preliminarily transferred data of the length of one pitch;
carrying out a pitch detection process again while
spearheaded by a position at a distance of two pitches from

the position preliminarily subjected to the pitch extraction
process to thereby perform pitch detection at said position;

and
transferring data of the length of n pitches (n being an
integer) based on the pitch length obtained by the final

pitch detection to the output buffers.
The apparatus of claim 17, wherein said speed conversion
process is executed only if the average power of data in an

input frame is higher than a preliminarily set threshold, the
data contained in said frame being directly transferred to

the output buffers if said average power is lower than said
threshold.
The apparatus of claim 18, wherein a second threshold is
provided in the threshold process for the average power of

data in the input frame so that when a frame having a average
power lower than said second threshold is continued for a

time longer than a preliminarily set time threshold, data in
the frame having an average power lower than the second 

threshold and continuing for a time longer than said time
threshold being forbidden to be transferred to the output

buffers.
The apparatus of any one of claims 2 to 15, wherein the
or each said switch has a soft touch feeling so that the

microphone (321) does not pick up click noise of the switch.
The apparatus of claim 20, wherein the or each said
switch has respective surface forms different in tactility so

as to be identified without seeing.
The apparatus of any one of claims 2 to 21, further comprising
rustling prevention means for changing the distance

between a microphone (321) and the apparatus body (101) so
that said microphone (321) does not touch clothes directly

when said apparatus body (101) is put into a breast pocket in
use.
The apparatus of claim 2, further comprising display
means provided at a predetermined position of said speed

conversion apparatus for visually indicating the quantity of
time lag from real time.
The apparatus of any one of claims 2 to 23, wherein a
ring buffer (24) is used as said memory means (2), and said

apparatus further comprises means for managing lag time by a
counter indicating the time lag on said ring buffer (24). 
The apparatus of claim 16, wherein a standby mode for
lowering the clock cycle of the processor (1) and carrying

out the same process as in the through mode is provided
besides the through mode.
The apparatus of claim 2, further comprising an electric
source switch (109) operated at three stages consisting of an

ON stage, an OFF stage and an ON-OFF intermediate stage, and
an electric source supply means operated in an analog through

mode in which analog input-output systems are short-circuited
so as to be directly connected to each other to stop electric

source supply to a digital processing system between said
analog input-output systems when said switch is adjusted to

said intermediate stage.
A telephone including the speech speed conversion apparatus
of claim 2 between the handset and the body of the telephone.
A telephone line switching system including the speech
speed conversion apparatus of claim 2.
</CLAIMS>
</TEXT>
</DOC>
