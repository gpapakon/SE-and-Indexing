<DOC>
<DOCNO>EP-0655841</DOCNO> 
<TEXT>
<INVENTION-TITLE>
DC voltage offset compensation
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M106	H03M166	H03C300	H03M106	H03M110	H03M166	H03C340	H03M110	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H03M	H03C	H03M	H03M	H03M	H03C	H03M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M1	H03M1	H03C3	H03M1	H03M1	H03M1	H03C3	H03M1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The object of the invention comprises a method and a device for compensating the 
DC offset (dU) of a D/A converter (2) particularly in the base frequency modulator 

of a mobile phone. The method and the device use an error correction register (5), 
whose value is changed on the basis of the DC offset, and which is added to each 

signal sample to be converted for compensating the DC offset. The value of the 
error correction register (5) is changed in the testing mode so that a preset control 

value is fed into the D/A converter (2), corresponding to the zero voltage of the 
output of an ideal D/A converter; the voltage values of the outputs of the 

differential output pair (2a, 2b) arranged in connection with the D/A converter (2) 
are compared to verify the polarity of the voltage difference (dU) of the outputs 

and the polarity, i.e. the sign, of the relative DC offset; and, on the basis of the 
polarity of the voltage difference (dU), the value of the error correction register (5) 

is either decreased or increased by one from the preset initial value which is 
preferably zero. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NOKIA MOBILE PHONES LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
NOKIA MOBILE PHONES LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
LINTINEN MARKKU
</INVENTOR-NAME>
<INVENTOR-NAME>
MIKKOLA PEKKA
</INVENTOR-NAME>
<INVENTOR-NAME>
RANTA JUKKA
</INVENTOR-NAME>
<INVENTOR-NAME>
LINTINEN, MARKKU
</INVENTOR-NAME>
<INVENTOR-NAME>
MIKKOLA, PEKKA
</INVENTOR-NAME>
<INVENTOR-NAME>
RANTA, JUKKA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method and apparatus for compensating the DC
offset voltage of a D/A converter, in particular for a D/A Converter for a digital
radio telephone.In digital radio telephones the modulation of a signal to be transmitted is carried
out in the digital part of the modulator, after which the modulated digital signal is
converted into an analog signal by a D/A converter. The analogue signal is then
coupled to the radio frequency section of the radio telephone for transmission as
a radio signal. A problem with D/A converters is that a low and generally slowly
varying DC offset occurs in their output, generally resulting from the non-ideal
characteristics of the manufactured circuit components, and which is not related
to the digital signal to be converted. The DC offset causes undesirable carrier
leakage in the transmission signal of the mobile phone which interferes with the
transmission of the signal. It is thus desirable that the DC offset of the D/A
converter is compensated.In a known method for compensating the DC offset of a D/A converter an error
correction register is arranged in connection with the D/A converter, the value of
the contents of the error correction register being modified in accordance with the
measured DC offset and added to each signal to be converted. By obtaining a
value for the error correction register which is opposite in polarity but the same
magnitude as the DC offset of the D/A converter, the DC offset can be
compensated.A problem with the above-described method for compensating the DC offset is
that it does not take into account the variation in DC offset due to temperature
changes. This temperature behaviour is neither predictable nor necessarily regular,
and in addition, it is different for respective D/A converter component units. Since
it is not economically feasible to measure the temperature behaviour of each D/A 
converter component and to tabulate it in a memory arranged in connection
with the D/A converter, the compensation of the DC offset due to temperature
has to be carried out in some other way that is economic.IEEE JOURNAL OF SOLID-STATE CIRCUITS, DEC. 1990, USA, VOL. 25,
NR. 6, PAGE(S) 1318-1327, ISSN 0018-9200 Tan K-S et al 'Error correction
techniques for high-performance differential A/D converters' discloses an A/D
converter that adjusts the A/D converters DC offset by controlling the
capacitive coupling of a known signal to a top plate of a capacitive array.EP 0 605 883, wich constitutes prior art under Article 54(3) EPC,
</DESCRIPTION>
<CLAIMS>
A method for compensating for an offset in a signal of an electronic device
(2; 8) having a differential pair output port, the method comprising the steps

of:

inputting a predetermined signal to the electronic device (2;8);
deriving an error signal indicative of a difference between respective
signals of a differential signal output from the differential output port;
modifying a compensation value stored in a memory means (5; 12, 13)
in accordance with the error signal; and
adding said value to a subsequent signal input to the electronic device
(2; 8).
A method according to claim 1, further comprising repeating said steps
with the subsequent signal being the predetermined signal until said

difference passes through a minimum value.
A method according to claim 1 wherein the electronic device (2; 8) is a
D/A converter.
A method according to any preceding claim, wherein the error signal is
indicative of the polarity of the difference.
A method according to any preceding claim, wherein the
predetermined signal has substantially zero magnitude. 
A method according to claims 4 or 5, wherein the value stored in the
memory means (5; 12, 13) is incremented if the said polarity is negative and

decremented if the polarity is positive.
A method according to any of claims 4 to 6 dependent on claim 2,
wherein the passing of the difference through a minimum value is indicated by

a change in the polarity of the difference.
A method according to any preceding claim, wherein said steps are
performed during periods of non-use of the electronic device.
Apparatus for compensating for an offset in a signal of an electronic
device (2; 8) having a differential pair output port, the apparatus comprising


input means (1; 7) for inputting a predetermined signal to the electronic device
(2; 8);
detecting means (4; 10, 11) for detecting a difference between respective
signals of a differential signal output from the differential output port;
modifying means for modifying a compensation value stored in a memory
means (5; 12, 13) in accordance with the detected difference; and
adding means for adding said value to a subsequent signal input to the
electronic device (2; 8)
Apparatus according to claim 9, wherein the electronic device (2; 8) is
a D/A converter. 
Apparatus according to claim 9 or claim 10, wherein the detecting
means (4; 10, 11) is adapted to detect the polarity of the difference.
Apparatus according to any of claims 9 to 11, wherein the input means
(1; 7) is adapted to input a predetermined signal of substantially zero

magnitude to the electronic device (2; 8).
Apparatus according to any of claims 11 to 12, wherein the value
stored in the memory means (5; 12, 13) is incremented if the said polarity is

negative and decremented if the said polarity is positive.
Apparatus according to claim 11 or any of claims 12 to 13, dependent
on claim 13, wherein the passing of the difference through a minimum value is

indicated by a change in the polarity of the difference.
Apparatus according to any of claims 9 to 14, wherein the input means
(1; 7) inputs a predetermined signal to the electronic device (2; 8) when it is

not in use.
Apparatus according to claim 15, comprising equipment (15) for
detecting free time slots or non use of the electronic device (2; 8) when the

value stored in the memory means (5; 12, 13) can be updated.
</CLAIMS>
</TEXT>
</DOC>
