<DOC>
<DOCNO>EP-0651351</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Filtering method and filter.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T520	G06T520	H03H1702	H03H1702	H04N730	H04N730	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	H03H	H03H	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T5	G06T5	H03H17	H03H17	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The invention relates to a method of and a filter for 
continuous two-dimensional filtering of discrete m*n 

data, the data to be processed comprising n lines each 
containing m data samples, which filter comprises a 

horizontal filter (HF) and a vertical filter (VF) for 
performing the filtering as successive horizontal and 

vertical filtering operations for data divided for the 
processing into blocks comprising y lines. The filter 

comprises further a first memory (M1) for storing horizontal-filtered 
data to be received from the horizontal 

filter (HF), a second memory (M2) for storing internal 
intermediate states of the vertical filter (VF) and a 

timing and synchronizing block (TSC) for generating 
address signals (A1, A2) and control signals (C1, C2) 

for a storing in the first memory (M1) and for a reading 
from the first memory (M1) as well as for a storing in 

the second memory (M2) and for a reading from the second 
memory (M2). 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
RAUTARUUKKI OY
</APPLICANT-NAME>
<APPLICANT-NAME>
RAUTARUUKKI OY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ALAPURANEN PERTTI
</INVENTOR-NAME>
<INVENTOR-NAME>
SARKKINEN TIMO
</INVENTOR-NAME>
<INVENTOR-NAME>
TIENSYRJAE KARI
</INVENTOR-NAME>
<INVENTOR-NAME>
ALAPURANEN, PERTTI
</INVENTOR-NAME>
<INVENTOR-NAME>
SARKKINEN, TIMO
</INVENTOR-NAME>
<INVENTOR-NAME>
TIENSYRJAE, KARI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method of 
continuous two-dimensional filtering of discrete m*n 
data, the data to be processed comprising n lines each 
containing m data samples, in which method the filtering 
is performed as successive horizontal and vertical filtering 
operations and the data is divided for the processing 
into blocks comprising y lines. The invention 
also relates to a filter implementing the method. Two-dimensional discrete m*n data is a set of 
data samples of variable value, expressed with e.g. 8 
data bits, and arranged to ordered pairs of integers m 
and n in such a way that there are n (1<n<∞) lines containing 
m data samples (1<m<M, where M is a number defined 
by application needs and technological limits). 
Public signal processing literature (e.g. D.E. Dudgeon, 
R.M. Mersereau: Multidimensional Digital Signal Processing. 
Prentice-Hall, Inc., Englewood Cliffs, New Jersey 
07632, 1984, pp. 5 to 12, 116 to 118, and J.S. Lim, A.V. 
Oppenheim: Advanced Topics in Signal Processing. Prentice-Hall, 
Inc., Englewood Cliffs, New Jersey 07632, 
1988, pp. 385 to 389) presents as practical procedures 
for continuous two-dimensional filtering of m*n data for 
instance overlap-add and overlap-save methods based on 
discrete Fourier transformation and derivatives thereof, 
the methods utilizing the properties of separable systems. 
These methods process m*n data as blocks, causing 
detrimental discontinuity in several real-time applications 
and requiring plenty of storage capacity for storing 
data samples and intermediate results and requiring 
a transposition of the intermediate results. In conferences 
and publications, an abundance of solutions implementing 
a two-dimensional discrete cosine transform have  
 
been presented and suggested to be used in HDTV systems, 
the solutions being based on the above principles. The object of the present invention is to provide 
a method and a filter for continuous two-dimensional 
filtering of discrete m*n data, not comprising the 
problems of the above-mentioned known methods especially 
in the form of large storage capacity or discontinuity 
of results. This object is achieved by means of the 
method according to the invention, comprising the steps 
of
 
   filtering a data block comprising y lines in 
the horizontal direction,
 
   storing the results of the horizontal filtering 
by lines in a first memory, the memory each time containing 
y stored lines of the results of the horizontal 
filtering,
 
   reading the results of the
</DESCRIPTION>
<CLAIMS>
A method of continuous two-dimensional filtering 
of discrete m*n data, the data to be processed 

comprising n lines each containing m data samples, in 
which method the filtering is performed as successive 

horizontal and vertical filtering operations, the data 
being stored in connection with horizontal and vertical 

filtering in a first memory (M1) and a second memory 
(M2), respectively, and in which method the data is divided 

for the processing into blocks comprising y lines, 
characterized in that the method comprises 

steps of 
   filtering a data block comprising y lines in 

the horizontal direction, 
   storing the results of the horizontal filtering 

by lines in the first memory (M1), the memory each time 
containing y stored lines of the results of the horizontal 

filtering, 
   reading the results of the horizontal filtering 

from the first memory by columns along the length of the 
block, 

   filtering the results read from the first memory 
by columns in the vertical direction, which results 

of the vertical filtering constitute filtered data, 
   storing intermediate states of the vertical 

filtering in the second memory (M2), upon processing the 
y lines of each column, 

   reading from the second memory (M2), before the 
vertical filtering of next block, the y lines earlier 

state of the corresponding column to be the initial 
value of the vertical filtering and 

   continuing the blockwise processing until n 
data lines have been filtered. 
A method according to claim 1, characterized
 

in that the results of the horizontal 
filtering are initially written to successive memory 

locations until all memory locations are in use, and 
subsequently, the results are written in place of the 

content of the memory location just read to the vertical 
filtering. 
A method according to claim 1, characterized 
in that the storing of the intermediate 

states of the vertical filtering in the memory and 
the reading of the values from the memory to be the 

initial values of the vertical filtering are combined 
by changing the contents of the memory locations to be 

read for those to be stored. 
A filter for continuous two-dimensional filtering 
of discrete m*n data, the data to be processed 

comprising n lines each containing m data samples, which 
filter comprises 

   a horizontal filter (HF) and a vertical filter 
(VF) for performing the filtering as successive horizontal 

and vertical filtering operations for the data divided 
for the processing into blocks comprising y lines, 

   a first memory (M1) for storing horizontal-filtered 
data to be received from the horizontal filter 

(HF), 
   a second memory (M2) for storing internal intermediate 

states of the vertical filter (VF),characterized in that it further comprises 
   a timing and synchronizing block (TSC) for generating 

address signals (A1, A2) and control signals 
(C1, C2) for storing in the first memory (M1) by lines 

and for reading from the first memory (M1) by columns 
as well as for storing the intermediate states of the 

vertical filtering in the second memory (M2) and for 
reading the intermediate states from the second memory 

(M2). 
A filter according to claim 4, characterized 
in that the size of the first memory 

(M1) is 2*m*y memory units divided into two parts in 
size of m*y, one of them each time serving as a write 

memory, to which data is written by lines, and the other 
one as a read memory, from which data is read by columns. 
A filter according to claim 4, characterized 
in that the size of the second memory 

(M2) is m*y memory units. 
A filter according to claim 4, characterized 
in that the size of the first memory 

(M1) is m*y memory units, a content of a new memory location 
being immediately written in place of the content 

of the memory location read each time. 
A filter according to claim 7, characterized 
in that the timing and synchronizing 

block (TSC) for generating addresses (A1) for the first 
memory (M1) comprises an address counter, comprising 

   a first register (REGA) containing the address 
of the first column of the second line of a data 

block, 
   a second register (REGB) containing an increment 

used in the data block, 
   a modified modulo(ma) adder, calculating a 

total (A+B)mod(ma), where A is the content of the first 

register (REGA), B is the content of the second register 
(REGB) and ma is the number of the memory units of the 

block subtracted by one, except in a situation when 
(A+B) = ma  

, in which case the total is A+B, and 
   a third register (REGC) containing an initial 

address. 
</CLAIMS>
</TEXT>
</DOC>
