<DOC>
<DOCNO>EP-0657871</DOCNO> 
<TEXT>
<INVENTION-TITLE>
System for the generation of a time variant signal for suppression of a primary signal with minimisation of a prediction error
</INVENTION-TITLE>
<CLASSIFICATIONS>G10K11178	G10K1100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G10K	G10K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G10K11	G10K11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
System for the generation of a time variant signal (sec(t)) 
for suppression of a primary signal (d(t)), comprising:

 
   a control unit (1) having a forward filter (10) and/or a feedback 

filter (11) for providing a cancellation control signal (u(t));
 

   cancellation-generating means (2) for generating a cancellation 
signal which is propagated along a secondary path with transfer 

function A/B and then providing the time variant signal (sec(t)),
 

   sensor means (4) for measuring a residual signal (ε(t)),
 

   update means (5) for providing an update signal (
up
(
t
)) for 
updating the filter coefficients in the control unit and

 
   a prediction filter (8) within the update unit (5), which is 

intended to generate a predicted value (y
pred
(t)) which is equal to 
the anticipated output value of the sensor means (4) at a specific 

point in time, if the coefficients of the filters (10; 11) had had 
the most recently obtained values during the entire reaction time of 

the secondary transfer path. 

 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
TNO
</APPLICANT-NAME>
<APPLICANT-NAME>
NEDERLANDSE ORGANISATIE VOOR
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DOELMAN NICOLAAS JAN
</INVENTOR-NAME>
<INVENTOR-NAME>
DOELMAN, NICOLAAS JAN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a system for the generation
of a time variant signal for suppression of a primary signal, comprising:
a control unit at least provided with one digital filter, an
input for receiving an update signal for updating coefficients of
the digital filter and an output for providing a cancellation control
signal;cancellation-generating means which are connected to the
output of the control unit for the generation of a cancellation
signal, which is intended, after propagation along a secondary
transfer path having a path transfer function, to be added as the
time variant signal at an addition point to the primary signal in
order to provide a residual signal,sensor means for measuring the residual signal at the addition
point and for providing an output signal;update means provided with an input which is connected to
the sensor means and an output for providing the update signal.A system of this type is disclosed in US Patent 4 667 676, in
which a system for the generation of an estimated time variant signal
is described which, for example, can be used in the field of
noise or vibration suppression. The known system has to generate a
cancellation signal which has an amplitude which is at least
approximately of equal magnitude but of opposite sign to a primary
signal, so that the effect of the primary signal can be cancelled by
adding the two signals.The known system comprises a control unit which is connected
to a sensor which detects the primary signal and a sensor which
detects a residual signal, that is to say the signal which remains
after adding the primary signal and the generated cancellation signal.
The coefficients of said digital filter can be adapted by the
residual signal.The convergence speed and stability of the known system are
adversely affected by the time delay and the possible phase shift
between the output of the control unit and the location where the
cancellation signal is added to the primary signal in order as far 
as possible to cancel the primary signal. In an anti-noise system,
for example, the output signal from the control unit is converted
between the output of the control unit and said addition point into
an acoustic signal, which traverses an acoustic path. Said path is
indeed termed the secondary acoustic path, in contrast to the primary
acoustic path, which is traversed by the primary signal itself.
The delays associated with acoustic paths are appreciable compared
with the delays to which electrical signals are subject. In the
known system no
</DESCRIPTION>
<CLAIMS>
A system for the generation of a time variant signal (sec(t))
for suppression of a primary signal (d(t)) at an addition point (3),

comprising:

a control unit (1) provided with at least one digital filter
(10, 11), a first control unit input for receiving a reference signal

(x(t)), a second control unit input for receiving an update signal
(up(t)) for updating coefficients of said at least one digital filter

(10, 11) and a control unit output for providing a cancellation
control signal (u(t));
cancellation-generating means (2) which is connected to the
output of the control unit (1) for the generation of a cancellation

signal to be transmitted through a secondary transfer path having a
secondary path transfer function (B/A) corresponding to a certain

reaction time, to render said time variant signal (sec(t)) at said
addition point (3);
sensor means (4) for measuring a residual signal (ε(t))
resulting from adding said time variant signal (sec(t)) and said

primary signal (d(t)) at the addition point (3), and for providing an
output signal (y(t));
update means (5) provided with a first update means input for
receiving said output signal (y(t)), a second update means input for

receiving said cancellation control signal (u(t)), and a third update
means input for receiving said reference signal (x(t)), which update

means is arranged to establish said update signal (up(t)) based on the
signals received on said first, second and third update means inputs,

said update signal (up(t)) being provided at an update means output,

wherein said update means (5) is provided with a prediction
filter (8) which is arranged to calculate a predicted value (y
pred
(t))
based on the signals actually received on said first, second, and

third update means inputs such that said predicted value (y
pred
(t))
equals an anticipated, calculated output value of said sensor means

(4), calculated under the assumption that said coefficients of said at
least one digital filter (10, 11) were already updated in accordance

with the signals actually received on said first, second, and third
update means inputs and taking into account the secondary path

transfer function (B/A), said predicted value (y
pred
(t)) being used by 
said update means to calculate the update signal (up(t)) to be

transmitted to the control unit (1) in accordance with a predetermined
algorithm.
A system according to claim 1, wherein the at least one
digital filter comprises a forward filter (10).
A system according to claim 1 or 2, wherein the control unit
(1) has a third control unit input for receiving the output signal

(y(t)) from the sensor means (4) and the at least one digital filter

comprises a feedback filter (11).
A system according to claim 2, wherein the forward filter (10)
is selected from the following possible filters: a transversal filter

and a recursive filter.
A system according to claim 3, wherein the feedback filter
(11) is selected from the following possible filters: a transversal

filter and a recursive filter.
A system according to any of the preceding claims, wherein the
prediction filter (8) is equipped to calculate the predicted value

(y
pred
(t)) in accordance with the following equation:

y
pred
(
t
) = 
y
(
t
) - 
Wx
FF
(
t
) - 
Ru
FF
(
t
) - 
Sy
FF
(
t
)

where:

-W/R = transfer function of the forward filter
-S/R = transfer function of the feedback filter

and wherein input signals y
FF
(t), u
FF
(t) and x
FF
(t) are defined as
follows:


y
FF
(
t
) = 
B
A
·
y
(
t
)
u
FF
(
t
) = 
B
A
·
u
(
t
)
x
FF
(
t
) = 
B
A
·
x
(
t
)

where:

B/A = transfer function of the secondary transfer path.
A system according to claim 6, wherein the update means (5)
are equipped to calculate the update signal in accordance with the

following three 
components:


up
W
 = µ(
t
)·
F
-1
(
t
)·
y
pred
(
t
)·
ϕ
x
(
t
)
up
R
 = µ(
t
)·
F
-1
(
t
)·
y
pred
(
t
·
ϕ
u
(
t
)
up
S
 = µ(
t
).
F
-1
(
t
).
y
pred
(
t
).
ϕ
y
(
t
)

where:

µ(t) = step size parameter
F
-1
(t) = direction optimalisation matrix

and:

ϕ
x
(
t
) = [
x
F
(
t
) 
x
F
(
t
-1) ... 
x
F
(
t
-
n
w
)]
T
ϕ
u
(
t
) = [
u
F
(
t
-1) 
u
F
(
t
-2) ... 
u
F
(
t
-
n
r
)]
T
ϕ
y
(
t
) = [
y
F
(
t
) 
y
F
(
t
-1) ... 
y
F
(
t
-
n
s
)]
T

where:

y
F
(
t
) = 
B
AR
+
BS
·
y
(
t
)
u
F
(
t
) = 
B
AR
+
BS
·
u
(
t
)
x
F
(
t
) = 
B
AR
+
BS
·
x
(
t
)

and the control unit is equipped to update the filter coefficients of
the forward filter having transfer function -W/R and of the feedback

filter having transfer function -S/R in accordance with:


W
(
t
) = 

W
(
t
-1) + 
up
W
(
t
)

R
(
t
) = 

R
(
t
-1) + 
up
R
(
t
)

S
(
t
) = 

S
(
t
-1) + 
up
S
(
t
)
A system according to claim 7, wherein the update means (5) is
equipped to calculate the update signal with the aid of the LMS

algorithm known per se, so that F is equal to the identity matrix.
A system according to claim 7, wherein the update means (5) is 
equipped to calculate the update signal with the aid of the normalised

LMS algorithm known per se, so that F is equal to the average of the
square of the energy of the signals x
F
, u
F
 and y
F
.
A system according to claim 7, wherein the update means (5)
is equipped to calculate the update signal with the aid of the RLS

algorithm known per se, so that F is equal to the estimated hessian of
the error criterion.
A system according to any of the claims 2 to 10, wherein the
forward filter (10) is implemented in software.
A system according to any of the preceding claims, wherein
both the update means (5) and the prediction filter (8) are

implemented in software.
A system according to any of the preceding claims, wherein
the cancellation-generating means (2) comprises one or more loud-speakers

and the sensor means (4) comprises one or more microphones.
A system according to any of the claims 1 to 12, wherein the
cancellation-generating means (2) comprise at least one vibration

actuator and the sensor means comprise at least one vibration
recorder.
A system according to any of the preceding claims, provided
with an identification unit (9) having a first identification unit

input for receiving the output signal (y(t)), a second identification
unit input for receiving the reference signal (x(t)), a third

identification unit input for receiving the cancellation control
signal (u(t)) and an identification unit output which is coupled to

the prediction filter (8) for providing an estimate of the transfer
function (B/A) of the secondary transfer path.
A system according to claim 3 wherein the feedback filter is
implemented in software.
</CLAIMS>
</TEXT>
</DOC>
