<DOC>
<DOCNO>EP-0659000</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Threshold setting and decision circuit
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L2506	H04B7005	H04L2714	H04B7005	H04L2714	H04L2506	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04B	H04L	H04B	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L25	H04B7	H04L27	H04B7	H04L27	H04L25	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A decision circuit comprises an averaging circuit (106), a 
threshold level generator (403,404), and a decision 

circuit (402). The averaging circuit (106) receives a gaseband 
signal (Sd) from a detector (103) and generates an averaged 

amplitude value (Sdav) of the detected signal. The threshold 
level generator (403,404) generates decision levels 

(CL1-CL3) using the averaged amplitude value as a reference level. 
The decision circuit (402) reproduces the original 

digital signal from the detected signal by comparing the detected 
signal with these decision levels. The received signal 

preferably comprises a frame format, including a preamble, which is 
modulated such that the amplitude of the detected signal 

varies alternately between the highest level and the lowest level 
of the amplitude of the detected signal. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NIPPON ELECTRIC CO
</APPLICANT-NAME>
<APPLICANT-NAME>
NEC CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KONDO HISASHI
</INVENTOR-NAME>
<INVENTOR-NAME>
KONDO, HISASHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a demodulation circuit in a
radio communication system using digital modulation, and more
specifically to a demodulation circuit for demodulating a detected
signal to an original digital signal through code discrimination.In recent years, mobile communication systems are employing
digital systems from the viewpoints of the matching with computer
communication and of providing a variety of services.
Particularly, a Frequency Shift Keying (FSK) system ensures
effectual high-frequency power amplification because the amplitude
of a modulated signal is kept unchanged. Therefore, the FSK system
is a modulation system suitable for portable radio apparatuses.
Further, in the FSK system, there are proposed various systems such
as an MSK (minimum shift keying) and a GMSK (Gaussian filtered MSK)
where spreading of the spectrum of a signal is narrowed, which can
effectually utilize a limited frequency band.In a radio communication system using such digital modulation, 
a receiver requires a demodulation circuit for detecting a received
signal and regenerating an original digital code from the detected
signal. FIG. 1 illustrates an example of a conventional
multi-valued FSK demodulation circuit.As illustrated in FIG.1, a signal received by a receiver 2
through an antenna 1 is detected by a detector 3, and a detected
signal is output through a waveform shaping circuit 4 to a timing
signal generator 5 which generates a timing signal synchronous with
the waveform-shaped signal. A comparator 6 compares the detected
signal with code discrimination levels CL1 - CL3, and a comparison
result is output to a code discrimination circuit 7. The code
discrimination circuit 7 regenerates an original digital code using
the comparison result according to the timing signal. The code
discrimination levels CL1 - CL3 for regenerating the digital code
are generated by dividing constant voltage Vcc through resistors R1
- R4.In fact, however, there is an occasion where a center voltage
of the detected signal obtained by the detector 3 is varied owing
to varieties of variation factors such as variations of a
transmission frequency on the side of a transmitter, variations of
propagation conditions of radio waves, a temperature change and a
voltage change on the side of the receiver. Since the code
discrimination levels are fixed, variations of the center voltage
of the detected signal owing to such factors reduce a
discrimination margin between each code discrimination level and 
a voltage of the detected
</DESCRIPTION>
<CLAIMS>
A demodulation circuit for demodulating a detection signal
(Sd) detected from a received multi-valued digital modulation wave

into a digital signal, comprising:

(a) averaging means (106, 703) for averaging the amplitude of
the detection signal (Sd) to generate an average amplitude value

(Sdav);
(b) memory means (403) for storing the average amplitude value; and
(c) discrimination level generating means (404) for
generating a plurality of discrimination level (CL1-CL3) using the

average amplitude value as a reference level;

characterized by:
(d) ideal value generating means (802) for generating a plurality
of ideal amplitude levels of the detection signal based on

the average amplitude value;
(e) error detecting means (803) for detecting an amplitude error of
the detection signal using the ideal amplitude levels;
(f) cumulative addition means (804, 805, 806) for cumulatively
adding the amplitude error by a predetermined interval;
(g) correction means (801) comprising an adder (807) for correcting the detection signal (Sd)
using a result value (E) of the cumulative addition means said adder being adapted to produce a

corrected detection signal which is
transferred as the detection signal to the error detecting means (803); and
(h) discrimination means (402) for comparing the amplitude
of the corrected detection signal with the plurality of discrimination levels to

reproduce the digital signal.
A demodulation circuit according to claim 1, wherein the
received multi-valued digital modulation wave comprises a plurality

of frames each having a predetermined time interval.
A demodulation circuit according to claim 2, wherein any of
the frames includes a first signal portion (PR) modulated such that

the amplitude of the detection signal would be varied alternatively

between two levels each having a predetermined level difference 
from a center level of the largest amplitude of the detection signal

in predetermined timing.
A demodulation circuit according to claim 3, characterized
by:


detection means (110) for detecting the first signal
portion of the frame from the digital signal reproduced by the

discrimination means (109); and
selection means (107) for selecting an output signal of the
averaging means when the first signal portion is detected by the

detection means (110) as the average amplitude value.
A demodulation circuit according to claim 3 or 4, wherein the
first signal portion comprises a preamble (PR) in a format of the

frame.
A demodulation circuit according to any of claims 1-5,
characterized by a waveform shaping means (104) for shaping the

detection signal (Sd) using the averaged amplitude value (Sdav) as
a reference level.
A demodulation circuit according to any of claims 1-5,
wherein the discrimination level generating means (403, 404) is

characterized by:

first memory means (403) for storing the average amplitude 
value;
second memory means (502) for storing a discrimination level
difference corresponding to an ideal aperture of the detection

signal; and
computing means (501) for estimating a plurality of
discrimination levels (CL1-CL3) based upon the discrimination level

difference and the average amplitude value.
</CLAIMS>
</TEXT>
</DOC>
