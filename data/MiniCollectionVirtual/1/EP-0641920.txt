<DOC>
<DOCNO>EP-0641920</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Malfunction diagnosis apparatus for internal combustion engine
</INVENTION-TITLE>
<CLASSIFICATIONS>F02D4122	G01N2726	F01N320	F02D4122	F02D4114	F02D4114	F01N320	G01M1504	G01N2726	F01N1100	F02B7708	F01N1100	F02B7708	G01M1504	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>F02D	G01N	F01N	F02D	F02D	F02D	F01N	G01M	G01N	F01N	F02B	F01N	F02B	G01M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>F02D41	G01N27	F01N3	F02D41	F02D41	F02D41	F01N3	G01M15	G01N27	F01N11	F02B77	F01N11	F02B77	G01M15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Provided is an internal combustion engine (1) malfunction diagnosis 
apparatus 

capable of diagnosising the deterioration of an internal combustion 
engine (1) with a high 

accuracy and capable of diagnosising deterioration of a fluctuation 
factor detection 

section of the engine (1) with a high accuracy in irrespective of the 
engine speed. 
According to one embodiment of the present invention, there is provided a 
malfunction diagnosis apparatus for an internal combustion engine comprises: a crank 

angle detection sensor (25) for detecting a crank angle of the 
internal combustion engine (1); a 

fluctuation factor measurement means (3) for measuring a state of a 
fluctuation factor of the 

internal combustion engine; an angular-based data sampling 
section (14A,14B) for sampling data of 

an output signal from the fluctuation factor measurement means (3) 
at a predetermined 

rotation angle of a crank shaft in accordance with a crank angle 
signal from the crank 

angle detection sensor (25); a malfunction judgement section (17) for 
judging a malfunction of the 

internal combustion engine (1) on the basis of data sampled by the 
angular-based data 

sampling section (14A,14B); a time-based data sampling section (21) for 
sampling an output signal from 

the fluctuation factor measurement means (3) at every lapse of a 
predetermined constant 

time; and a fluctuation factor measurement means deterioration 
judgement section (28) for 

judging deterioration of the fluctuation factor measurement means (3) 
on the basis of data 

sampled by the time-based data sampling section (21). 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HITACHI CAR ENG CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
HITACHI LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
HITACHI CAR ENGINEERING CO., LTD.
</APPLICANT-NAME>
<APPLICANT-NAME>
HITACHI, LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ISHII TOSHIO
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWANO KAZUYA
</INVENTOR-NAME>
<INVENTOR-NAME>
MUKAIHIRA TAKASHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NUMATA AKIHITO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAKU YUTAKA
</INVENTOR-NAME>
<INVENTOR-NAME>
ISHII, TOSHIO
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWANO, KAZUYA
</INVENTOR-NAME>
<INVENTOR-NAME>
MUKAIHIRA, TAKASHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NUMATA, AKIHITO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAKU, YUTAKA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a malfunction diagnosis apparatus for an internal
combustion engine which diagnoses, for example, the deterioration of a catalyst. One
example of such a device purifies the exhaust gas of the internal combustion engine,
using, a catalytic converter and an air-fuel ratio feedback control unit.According to one such system, a catalytic converter is installed in an exhaust
manifold in order to remove HC, NOx, and CO contained in the exhaust gas, and an air-fuel
ratio feedback control unit is provided with an O2 sensor (oxygen sensor) which is
installed at the upstream side of the catalytic converter and detects an air-fuel ratio. An
amount of fuel injection supplied to the internal combustion engine is controlled so that
the air-fuel ratio will be a predetermined value (stoichiometric air-fuel ratio), because
when the air-fuel ratio at the upstream side of the catalytic converter is at the
stoichiometric air-fuel ratio, the catalytic converter is functioning effectively.In an ordinary three-way catalyst system, when the performance of the catalytic
converter itself degrades, the conversion efficiency of the injured component is reduced,
even if the air-fuel ratio is accurately controlled by the aforementioned air-fuel ratio
feedback control unit. Accordingly, it is desirable to determine the state of deterioration
of the catalytic converter, and to warn about this when deterioration has occurred.One apparatus for making that detemination is the "Catalyst Deterioration
Determination Device for Internal Combustion Engine" disclosed in U.S. Patent No.
5,088,281, incorporated herein by reference. In this apparatus, oxygen sensors (in this
case, binary sensors) are arranged at the upstream and downstream sides of the catalytic
converter in order to measure the time between the instant when the output value of
the upstream oxygen sensor has inverted and the instant when the output value of the
downstream sensor inverts. The state of deterioration of the catalyst is determined
based on the size of the measured time difference. Specifically, if the time difference is 
small, the catalyst is determined to be in a deteriorated state. A problem
win such a catalyst deterioration determination apparatus in that the time
difference fluctuates according to the engine speed, regardless of the degree
of deterioration of the catalytic converter. Therefore, the accuracy of
determination of the catalytic converter deterioration is low. Further,
despite the fact that the catalytic converter has
</DESCRIPTION>
<CLAIMS>
A malfunction diagnosis apparatus for an internal combustion engine
comprising:


a fluctuation factor state measurement sensor (3,4);
an angular-based data sampler (14A, 14B) for sampling data of an output
signal (S3, S4) from said fluctuation factor state measurement sensor (3,4)

at a rate dependent on engine speed; and
malfunction judgement means (11) for judging a malfunction of a function
of said internal combustion engine;
characterized in that
 said apparatus further comprises:

a time-based data sampler (20, 21) for sampling an output signal from said
fluctuation factor state measurement sensor (3, 4) at every lapse of a

predetermined constant time; and
means for determining a malfunction monitoring zone (100) constituted by
predetermined conditions; and wherein
said malfunction judgement means (11) is responsive to said angular-based
data sampler (14A, 14B) and said time-based data sampler (20, 21) and

wherein said malfunction judgement means (11) judges a malfunction of a
function of said internal combustion engine when said malfunction

monitoring zone (100) is determined.
A malfunction diagnosis apparatus according to claim 1 characterized in
that said malfunction judgement means (11) judges a malfunction of a 

function of said internal combustion engine on the basis of data from at
least one sampler which is selected from said angular based data sampler

and said time-based data sampler in accordance with a malfunction to be
diagnosed, when said malfunction monitoring zone (100) is determined.
A malfunction diagnosis apparatus according to claim 1 or claim 2, further
comprising a fluctuation factor state measurement sensor deterioration

judgement means (28) for judging deterioration of said fluctuation factor
state measurement sensor (3, 4) on the basis of data sampled by said time-based

data sampler (20, 21).
A malfunction diagnosis apparatus according to claim 1 or claim 2, further
comprising a catalyst deterioration judgement means for judging

deterioration of a catalyst of said internal combustion engine on the basis
of data sampled by said angular-based data sampler (14A, 14B).
A malfunction diagnosis apparatus according to any preceding claim,
characterized in that said fluctuation factor state measurement sensor (3, 4)

comprises:

a pre-catalyst air-fuel ratio sensor (3) arranged at an upstream side of a
catalyst (2) of said internal combustion engine to detect an air-fuel ratio

of exhaust gas of said internal combustion engine at an upstream side of
said catalyst (2); and
a post catalyst air-fuel ratio sensor (4) arranged at a down stream side of
said catalyst (2) to detect an air-fuel ratio of exhaust gas at a downstream

side of said catalyst (2).
A malfunction diagnosis apparatus according to claim 5, further comprising 
a noise removal means (12A, 13A) for removing noise components from

the output signal of said pre-catalyst air-fuel ratio sensor (3).
A malfunction diagnosis apparatus according to any preceding claim, further
comprising:


an engine speed sensor (6) for determining a rotational speed of said
internal combustion engine, and
an intake air flow rate sensor (5) for detecting an intake air flow rate of
said internal combustion engine,
wherein a catalyst monitoring zone judgement section (15) judges that the
conditions of said catalyst monitoring zone are satisfied when:
the rotational speed of said internal combustion engine is higher than or
equal to a predetermined rotational speed value, and
a catalyst temperature estimated from the rotational speed and intake air
flow rate of said internal combustion engine is higher than or equal to a

predetermined temperature.
A malfunction diagnosis apparatus according to any preceding claim,
characterized in that said fluctuation factor state measurement sensor (3, 4)

comprises:

a pre-catalyst air-fuel ratio sensor (3) arranged at an upstream side of a
catalyst (2) of said internal combustion engine to detect an air-fuel ratio

of exhaust gas of said internal combustion engine at an upstream side of
said catalyst (2); and
a post catalyst air-fuel ratio sensor (4) arranged at a down stream side of
said catalyst (2) to detect an air-fuel ratio of exhaust gas at a downstream

side of said catalyst (2);
and that a catalytic converter deterioration judgement section (27) being 
part of said deterioration judgement section (11) includes:
a correlation function computation section (18) for calculating cross-correlation
functions of the output signals of said pre- and post-catalyst air-fuel

ratio sensors (3, 4) and auto-correlation functions of the output signals
of said pre-catalyst air-fuel ratio sensor (3), wherein said output signals are

obtained from said angular-based data sampler (14A, 14B);
a sequential deterioration index computation section (16A) for calculating
a sequential deterioration index which is proportional to a ratio of a value

of said cross-correlation functions and a value of said auto-correlation
functions;
a final deterioration index computation section (16B) for calculating an
average of a predetermined number of sequential deterioration indexes, and

for calculating a value on the basis of the calculated average value as a
final deterioration index;
a comparison section (16C) for comparing said final deterioration index
with a predetermined reference deterioration index; and
a judgement section (17) for judging deterioration of said catalyst (2) on
the basis of an output from said comparison section (16C).
A malfunction diagnosis apparatus according to any preceding claim,
characterized in that said angular-based sampler (14A, 14B) samples data

no more than once per engine revolution and only at the same engine
revolution angle for each sampling event.
A malfunction diagnosis apparatus according to any preceding claim,
characterized in that said every lapse of said predetermined constant time

is a constant time interval. 
A malfunction diagnosis apparatus according to any preceding claim.
characterized in that said angular-based data sampler (14A, 14B) comprises

means for sampling upon a rotation of an engine crank shaft through a
constant rotation angle.
A malfunction diagnosis apparatus for an internal combustion engine
comprising:


a fluctuation factor state measurement sensor (3,4);
an angular-based data sampler (14A, 14B) for sampling data of an output
signal (S3, S4) from said fluctuation factor state measurement sensor (3,4)

at a rate dependent on engine speed; and
malfunction judgement means (11) for judging a malfunction of a function
of said internal combustion engine;

characterized by

a time-based data sampler (20, 21) which samples an output signal from
said fluctuation factor state measurement sensor (3, 4) at every lapse of a

predetermined constant time; and
said malfunction judgement means (11) judging a malfunction of a function
of said internal combustion engine on the basis of said data sampled by

said angular-based data sampler (14A, 14B), and judging a malfunction of
said fluctuation factor state measurement sensor (3, 4) on the basis of said

time-based data sampler (20, 21).
A process for diagnosing the deterioration of a function of an internal
combustion engine comprising:


sampling data of an output signal (S3, S4) of a fluctuation factor state
measurement sensor (3, 4) on an angular basis at a rate dependent on

engine speed;
judging a malfunction of a function of said internal combustion engine,

characterized by

sampling data of an output signal (S3, S4) from said fluctuation factor
state measurement sensor (3, 4) at every lapse of a predetermined constant

time;
determining a malfunction monitoring zone (100) when predetermined
conditions of said monitoring zone (100) are satisfied; and
judging a malfunction of a function of said internal combustion engine
when said malfunction monitoring zone is determined on the basis of data

from said angular-based data sampler and said time-based data sampler.
</CLAIMS>
</TEXT>
</DOC>
