<DOC>
<DOCNO>EP-0654751</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method of analyzing data defining an image
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T700	G06T760	G06T700	G06K920	G06K920	G06T760	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	G06T	G06K	G06K	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T7	G06T7	G06T7	G06K9	G06K9	G06T7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Input image data define an input image (10) that shows a row/column representation 
(12), such as a table; a matrix; an array; a calendar; a two-dimensional connection diagram 

such as a programmable logic array (PLA) diagram; a puzzle or game diagram such as a 
crossword puzzle, a chess or checkers diagram, a go game diagram, or ticktacktoe. The input 

image data are used to obtain row data (20) and column data (22). The row data (20) indicate 
parts of the input image within a row of the row/column representation (12). The column data 

(22) indicate parts of the input image within a column of the row/column representation. The 
row data and column data are used to obtain content data indicating information represented 

by the row/column representation for the combination of the row and the column. The 
content data (24) can be used to obtain output image data defining an output image that 

includes a table or other representation of the information represented by the row/column 
representation (12) for each row/column combination. The input image can show a sketch of a 

row/column representation and the content data can be used to obtain output image data 
defining an output image that includes a precisely formed row/column representation similar 

to the sketch. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
XEROX CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
XEROX CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MAHONEY JAMES
</INVENTOR-NAME>
<INVENTOR-NAME>
MAHONEY, JAMES
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method of analyzing data defining an image and, more
particularly, to techniques for analyzing an image showing a graphical representation. Takeda,
et al., US-A 5, 228, 100, describe techniques that recognize document structure.JP-A-05 012 489 discloses table recognizing device which can recognize a table structure in
graphic data read from printed matter or a document regardless of the type of lines used. An
extraction part is provided to extract horizontal and vertical black picture elements having a
length longer than a fixed length. A ruled line extraction part is provided to extract ruled lines by
linking the horizontal and vertical black picture element runs. A table structure extraction part is
provided to retrieve the rectangle provided by the extracted ruled lines and to extract it as cell of
the table."Multi-media RISSC Informatics: Retrieving Information with Simple Structural Components" by
Rus, D. et al (ACM Conference on Information and Knowledge Management (CIKM), pages
283-294, November 5, 1993, ACM Press) deals with the segmentation of documents. The goal
is to partition the document which is given as a pixel area, into regions that capture its layout.
The problem can be separated into to parts: determining where the regions are and classifying
them according to their layout structure. According to this document, an example of layout
structures are tables. This document is also directed to detecting tables. The corresponding
method operates on a block of text which constitutes a 2-dimensional area. The algorithm
creates a white space density graph by calculating the percentage of black spaces in each
column of block. A column that serves as a separator in perfect tables consists of 100% black
spaces. Considering slight irregularities, a percentage of less than 100% is considered to be
sufficient. If there are local maxima in the white space density graph which are higher than the
required percentage of black spaces, they are candidates for column separators in a possible
table. Then, each candidate column is analyzed for lexical structure. If there is lexical structure
in each column, the block of text is considered to be a table.It is the object of this invention to provide a flexible method, a machine and an article of manufacture
for automatically analyzing a variety of row/column representations.This object is achieved by a method according to claim 1, a machine according to claim 4 and
an article of manufacture according to claim 5.Preferred
</DESCRIPTION>
<CLAIMS>
A method including:

obtaining input image data defining an input image (10) that shows a row/column
representation (12) with rows and columns;
characterised by
 the steps of:

obtaining a table boundary data image (272) by selecting a connected component
that has the largest bounding box by labelling the pixels in each connected

component with the connected components bounding box area and keeping a
pixel ON if its label is equal to the maximum bounding bo
x area;
using the table boundary data image (272) to obtain horizontal data and vertical
data; the horizontal data indicating horizontal lines in the input image; the vertical

data indicating vertical lines in the input image; and
using the horizontal data and the input image data to obtain row data (20) as well
as using the vertical data and the input image data to obtain column data (22); the

row data (20) indicating parts of the input image between horizontal lines and the
column data (22) indicating parts of the input image between vertical lines, the

row/column representation representing information for a combination of the mth
row and the nth column; and
using the row data (20) and the column data (22) to obtain content data (24; 286)
indicating information represented by the row/column representation (12) for the

combination of the row and the column.
A method as claimed in claim 1, in which the input image includes pixels; the act
of using the horizontal data to obtain the row data (20) and using the vertical data

to obtain the column data (22) comprising:

using the horizontal data to obtain a row data image indicating a color value for
each pixel in the input image; the row data image indicating, for each pixel in a

part of the input image that is between horizontal lines, a color value that uniquely
identifies a row between horizontal lines; and
using the vertical data to obtain a column data image indicating a color value for
each pixel in the input image; the column data image indicating, for each pixel in

a part of the input image that is between vertical lines, a color value that uniquely
identifies a column between vertical lines.
A method as claimed in one of claims 1 or 2, in which the content data (24)
include a list of sublists, each sublist including a list of combination identifiers,

each combination identifier identifying a combination of one of the columns of the
row/column representation with a row of the row/column representation (12), the

combination identifiers together identifying combinations of all of the columns of
the row/column representation with the row.
A method as claimed in one of claims 1 to 3, the method further comprising:

providing data defining images as output via image output circuitry (90); the input
image showing a sketch of a row/column representation (12);
using the content data to obtain output image data defining an output image that
includes a row/column representation similar to the sketch; and
providing the output image data to the image output circuitry.
A machine including:

image input circuitry (70) for obtaining data defining images as input;
a processor (66) connected for receiving data defining images from the image
input circuitry (70) and connected for accessing data stored in a memory; 
the data stored in the memory comprising instruction data indicating image
processing instructions the processor can execute; the processor, in executing

the image processing instructions:

receiving input image data from the image input circuitry, the input image data
defining an input image that shows a row/column representation;
characterised by
 executing the instructions of:

obtaining a table boundary data image (272) by selecting a connected component
that has the largest bounding box by labelling the pixels in each connected

component with the connected components bounding box area and keeping a
pixel ON if its label is equal to the maximum bounding box area;
using the table boundary data image (272) to obtain horizontal data and vertical
data; the horizontal data indicating horizontal lines in the input image; the vertical

data indicating vertical lines in the input image; and
using the horizontal data the input image data and to obtain row data (20) as well
as using the vertical data and the input image data to obtain column data (22); the

row data (20) indicating parts of the input image between horizontal lines and the
column data (22) indicating parts of the input image between vertical lines; the

row-column representation representing information for a combination of the row
and the column; and
using the row data (20) and the column data (22) to obtain content data (24; 286)
indicating information represented by the row/column representation (12) for the

combination of the row and the column.
An article of manufacture for use in a machine that includes:

image input circuitry (70) for obtaining data defining images as input; a storage
medium access device (64) for accessing a medium (62) that stores data; and 
a processor (66) connected for receiving data defining images from the image
input circuitry (70); the processor further being connected for receiving data from

the storage medium access device;
the article comprising:

a storage medium that can be accessed by the storage medium access device
when the article is used in the system; and
data stored by the storage medium so that the storage medium access device
can provide the stored data to the processor when the article is used in the

system; the stored data comprising instruction data indicating instructions the
processor can execute; the processor, in executing the instructions:


receiving input image data from the image input circuitry, the input image data
defining an input image that shows a row/column representation;
characterised by
 executing the instructions of:

obtaining a table boundary data image (272) by selecting a connected component
that has the largest bounding box by labelling the pixels in each connected

component with the connected components bounding box area and keeping a
pixel ON if its label is equal to the maximum bounding box area;
using the table boundary data image (272) to obtain horizontal data and vertical
data; the horizontal data indicating horizontal lines in the input image; the vertical

data indicating vertical lines in the input image;
using the horizontal data and the input image data to obtain row data (20) as well
as using the vertical data and the input image data to obtain the column data (22);

the row data (20) indicating parts of the input image between horizontal lines and
the column data (22) indicating parts of the input image between vertical lines; the

row-column representation representing information for a combination of the row
and the column; and 
using the row data (20) and the column data (22) to obtain content data (24; 286)
indicating information represented by the row/column representation (12) for the

combination of the row and the column.
</CLAIMS>
</TEXT>
</DOC>
