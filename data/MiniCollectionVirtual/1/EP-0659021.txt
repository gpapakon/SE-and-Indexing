<DOC>
<DOCNO>EP-0659021</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Detection of global translations between images
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N736	G06T720	H04N514	H04N726	H04N726	H04N736	G06T720	H04N514	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	G06T	H04N	H04N	H04N	H04N	G06T	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N7	G06T7	H04N5	H04N7	H04N7	H04N7	G06T7	H04N5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Described herein is a method to detect global 
displacements between pairs of images to sub-pixel 

accuracy using a Fourier domain correlation based on 
partial normalisation of the product of the magnitudes 

and the phase difference between the pairs of images. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
EASTMAN KODAK CO
</APPLICANT-NAME>
<APPLICANT-NAME>
KODAK LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
EASTMAN KODAK COMPANY
</APPLICANT-NAME>
<APPLICANT-NAME>
KODAK LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
LOVERIDGE JENNIFER CLARE
</INVENTOR-NAME>
<INVENTOR-NAME>
LOVERIDGE, JENNIFER, CLARE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to the
detection of global translations between images and is
more particularly concerned with a digital processing
method for such detection to sub-pixel accuracy between
images which are related either temporally or
spatially.Images may, for example, comprise part or all
of a time-varying sequence, or the colour separations
of a single image. Typical applications for the method
of the present invention include the automatic
detection and correction, to high accuracy, of spatial
unsteadiness occurring in a time-varying sequence of
images which have originated from motion picture film,
the automatic alignment of pairs of images of the same
subject taken at different times, and the automatic
registration of colour separations of a single image.There are two classes of algorithms by which
spatial translation can be measured, the first relating
to the use of non-image information, for example, the
position of sprocket holes or the frame edge or the use
of fiducial marks, and the second depending on the use
of the information content within the image. The
second class of algorithms can be referred to as
'motion estimation' algorithms. The present invention
belongs to this second class.Motion estimation algorithms have the
advantage of versatility in this particular
application. They can be implemented on any image set
independent of its source or history.Motion estimation algorithms may be broadly
divided into three types:- These are described in "A Hardware Motion
Compensator for a Videoconferencing Codec", I Parke and
D G Morrison, and "Motion-compensated Field Rate
Conversion for HDTV Display", G M X Fernando, both from
IEEE Colloquium "Motion Compensated Image Processing",
Digest 1987/86, and "The Development of an HDTV to PAL
Standards Converter", T Ohmura, IBC86 Conference
Proceedings, pages 221 to 224.In this method, the matching is implemented
in the spatial domain, based on either maximum cross-correlation
or minimum mean square error. The method
is amenable to efficient hardware implementation by the
application of hierarchical searching techniques.These are described in "Motion Estimation for
Frame-rate Conversion", E A Krause, MIT PhD Thesis,
ATRP-T-70 (1987).The method used here is based on the
assumption that movement occurs along paths of constant
luminance. Thus, if luminance, L, is a function of
spatial position, (x,y) and time, t , it is required
that:-
dLdt(x(t),y(t),t) = 0Expanding this, and neglecting higher order
terms yields:
∂L∂xdxdt + ∂L∂ydydt + ∂L∂t =
</DESCRIPTION>
<CLAIMS>
A method of detecting global translations
between two images comprising the steps of:-


a) generating at least one displacement
vector using normalised phase correlation techniques

indicative of the translation between the two images to
pixel accuracy using the equation:-


▵Φ(
u
,
v
) = 
F
(
u,v
).
G
(
u,v
)*
|
F
(
u,v
).
G
(
u,v
)*|
n

   where;

F(u,v) and G(u,v) are two dimensional
Fourier Transforms at frequencies 
u
, 
v
 of blocks f,g in
corresponding positions in the two images,
n is a normalization factor,
b) performing an inverse Fourier transform on
▵Φ(u,v) to generate correlation surfaces,
c) storing the correlation surfaces
obtained in step b);
d) detecting significant peaks in the
correlation surfaces, and assigning a vector

representing the displacement position of each of the
detected peaks;
e) selecting a single vector from the
assigned vectors which most accurately represents the

global translation between the two images; and
f) interpolating the stored correlation
surface from which the single vector was selected,

using spatial interpolation, to determine a single
vector (x+δx,y+δy) which corresponds to the subpixel

displacement between frames, characterized by: 0 
<
 n 
<
 1,
whereby a partially normalized phase correlation is performed.
A method according to claim 1, wherein
step e) includes applying a threshold to the at least

one displacement vector to provide an indication of
suitable vector(s).
A method according to claim 1 or 2,
wherein step e) includes selecting the displacement

vector which occurs most frequently from the at least
one generated displacement vector to select the single

vector.
A method according to any one of the
preceding claims, wherein 0.5 
<
 
n
 
<
 0.6.
</CLAIMS>
</TEXT>
</DOC>
