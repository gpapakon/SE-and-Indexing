<DOC>
<DOCNO>EP-0644660</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Variable length coder
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M742	H03M742	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H03M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M7	H03M7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A variable length coder for converting fixed bit length data 
to variable bit length data has

 
   a codetable for storing codewords, said codewords means for 

defining the bitsequence and length of said bitsequence;
 

   a bitmap for indicating the presence of said codewords in 
said codewords in said codetable, said bitmap addressed by one 

or more bits from the fixed bit length data;
 

   an addresser for converting one or more bits from the fixed 
bit length data to a codetable address, said codetable address 

used to index said codetable. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC IND CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC INDUSTRIAL CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BRENT WILSON WILLIAM
</INVENTOR-NAME>
<INVENTOR-NAME>
BRENT, WILSON WILLIAM
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to a variable length coder (also known as "Huffman coder"
or "entropy coder") for use in digital audio/video coders and the like.In many digital video coders a lossy coding algorithm based on the discrete
cosine transform (DCT) precedes a lossless encoder based on variable length
coding (VLC).The transform coefficients are run-levelled and entropy coded, in which the most
common run-level combinations are given the shortest codes and the less
common combinations longer codes. A run-level represents a group of 1 or
more transform coefficients as a number of 0 coefficients (run) followed by a
single coefficient value (level). One example of run-level combination to codes is
disclosed in Tables 1 to 4. For example, H.261 (see "Recommendation H.261 - Video Codec for Audio-visual
Services at px64 kbits/s" by International Telegraph and
Telephone Consultative Committee, Study Group XV, CCITT
Subgroup XV Document, Report R 37, August 1990) and MPEG-1 (see
"CD 11172 - Coding of Moving Pictures and Associated Audio for
Digital Storage Media at up to about 1.5 Mbps" by international
Organization for Standardization, ISO MPEG Document, ISO-IEC/JTC1/SC2/WG8,
1992) describe audio/video codecs which require
variable length coders. Emerging standard HDTV codecs will also
require variable length coders.The implementation of a variable length coder has typically
been accomplished by the use of a look-up table (LUT) to
translate the fixed length data to variable length data. The
LUT is usually implemented using memory (for example RAM or
PROM), or logic (for example PLA). Lei and Sun (see "An Entropy
Coding System for Digital HDTV Applications", Shaw-Min Lei &
Ming-Ting Sun, IEEE Transactions on Circuits and Systems for
Video Technology, Vol.1, March 1991) implemented a LUT using a
PLA. The PLA containes the codeword bitsequence and the length
of the bitsequence. The input to the PLA is the fixed length
data from a run-leveller, and the output is the codeword
bitsequence and the length of the bitsequence. Vogel (see
"Method and Apparatus for Bit Rate Reduction", Peter Vogel,
United States Patent Number 4,901,075, Feb. 13, 1990) described 
an implementation which used a PROM to implement a LUT. The run-level fixed length
data was applied directly to the address bus of the PROM, and the representation of the
variable length bitsequence is output on the data bus. However, there are several
problems which this invention solves. Due to the rapidly changing digital AN coding
technology, and also due to
</DESCRIPTION>
<CLAIMS>
A variable length coder for converting an input fixed bit length data to a variable
bit length codeword, said variable length coder comprising:


a codetable (12) for storing said variable length codewords, said variable length
codewords are stored in said codetable (12) in an encoded form having a

portion representing a length of a bit sequence code and a portion representing
said bit sequence code,
characterized by
a binary memory (4) for indicating whether said codetable (12) contains a
variable length codeword for said input fixed bit length data by outputting a

binary value,
an addresser (5) for converting the input fixed bit length data to a codetable
address, said codetable address being used to index said stored variable length

codewords of said codetable (12),
an encoded codeword translator (34) for translating said encoded codeword
which is further encoded by reducing a number of zeros at the beginning of said

variable length codeword into a variable length bit sequence and a length of said
variable length bit sequence.
A variable length coder according to claim 1,
characterized in that

said binary memory (4) comprises: 

sub-bitmaps (16,17) each indicating only portions of all possible fixed bit length
data,
a comparator (18) for determining whether the input fixed bit length data is
stored in one of the sub-bitmaps (16,17) and
a valid logic (19) to indicate whether a variable bit length codeword is contained
in said codetable (12) depending on the output of said sub-bitmaps (16,17) and

said comparator (18).
A variable length coder according to any of the preceding claims
characterized in that

said addresser (5) comprises:

a basetable (6) for storing base addresses (9), said base addresses (9) are
used to index the location of a contiguous group of one or more variable bit

length codewords in said codetable (12), and
an adder (7) for adding an offset (10) to said base address (9), the result (11)
determining the location of a variable bit length codewords in said codetable

(12),

wherein said basetable (6) is addressed by one or more bits of the input fixed bit
length data and the offset is formed by the remaining bits of the input fixed bit

length data.
</CLAIMS>
</TEXT>
</DOC>
