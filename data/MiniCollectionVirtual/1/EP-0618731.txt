<DOC>
<DOCNO>EP-0618731</DOCNO> 
<TEXT>
<INVENTION-TITLE>
High efficiency encoding of picture signals
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N746	G06T900	H04N750	G06T900	H04N750	H04N726	H04N746	H04N726	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	G06T	H04N	G06T	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N7	G06T9	H04N7	G06T9	H04N7	H04N7	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Picture signals are encoded so that one of a frame-based 
orthogonal transformation or a field-based orthogonal 

transformation is selected as a function of frame-based 
orthogonal-transformation coefficients and field-based orthogonal 

transformation coefficients. The coefficients representing the 
smallest quantity of data are selected and encoded for 

transmission. Alternatively, a picture signal is encoded so that 
one of intra-frame coding, forward inter-picture prediction, 

backward inter-picture prediction and bi-directional inter-picture 
prediction, as well as either a frame-based or field-based 

orthogonal transformation, are selected as a function of 
the respective orthogonal transformation coefficients. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SONY CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SONY CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OBIKANE NOBUHISA
</INVENTOR-NAME>
<INVENTOR-NAME>
TAHARA KATSUMI
</INVENTOR-NAME>
<INVENTOR-NAME>
OBIKANE, NOBUHISA
</INVENTOR-NAME>
<INVENTOR-NAME>
TAHARA, KATSUMI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to apparatus and methods
for encoding picture signals, and, more particularly, to encoding
of picture signals using predictive encoding and orthogonal
transformations.In a teleconferencing system or a video telephone
system, for example, moving picture signals are compressed and
encoded by taking advantage of intra-frame and inter-frame
correlation so that they can be more efficiently transmitted over
a communication channel to a remote location.Intra-frame correlation can be utilized by an
orthogonal transformation, such as a discrete cosine
transformation (DCT).Inter-frame correlation can be utilized by predictive
encoding between successive pictures. As used herein, a picture
generally refers to an image represented by a frame of video
information. When the fields of a frame are coded in a non-interlaced
manner, that is, separately, each field may be
referred to as a picture.As shown in Fig. 1A, for example, frame pictures PC1,
PC2 and PC3 are generated at time points t1, t2 and t3. As shown
by shading in Fig. 1B, the difference between the frame pictures
PC1 and PC2 is obtained as difference picture data PC12, and the 
difference between the frame pictures PC2 and PC3 is obtained as
difference picture data PC23. Since there is a fairly small
change between signals of temporally neighboring frames,
transmission of only the difference picture data utilizes the
transmission channel more efficiently than transmission of the
original pictures. That is, using the difference picture data as
encoded picture signals, referred to as predictive encoding,
reduces the amount of data to be transmitted.However, if only the difference signals are
transmitted, the original picture cannot be restored. It is
advantageous to occasionally transmit a picture which is not
predictively encoded as a reference for difference picture data,
and because it is sometimes more efficient than transmitting the
picture as a predictively encoded picture.Pictures which are encoded utilizing only intra-frame
correlation and not inter-frame correlation, are referred to
herein as intra-pictures or I-pictures.Pictures which are encoded with predictive encoding
relative to one previously encoded picture are referred to herein
as predictive pictures or P-pictures. The previously encoded
picture may be an I-picture or P-picture, and temporally
precedes the P-picture.Pictures which are encoded with predictive encoding
relative to at most two pictures, that is, relative to only a
temporally succeeding picture or
</DESCRIPTION>
<CLAIMS>
A method of encoding picture signals comprising the
steps of:


arranging picture signal data into frame-formatted
blocks in which odd field data alternates with even field

data;
orthogonally transforming (200, 303, 305, 307, 309)
said frame-formatted blocks to form frame-based coefficient

data;
arranging said picture signal data into field-formatted
blocks, each comprising either said odd field

data or said even field data;
orthogonally transforming (201, 304, 306, 308, 310)
said field-formatted blocks to form field-based coefficient

data;
determining (255, 311-314) the sum of the absolute
values of the coefficients of at least portions of said

field formatted blocks and of said frame formatted blocks
or the sum of the squares of the values of the coefficients

of at least portions of said field formatted blocks and of
said frame formatted blocks;
selecting (255, 318, 319) the one of the said field
and frame formatted blocks having the smaller quantity of

coefficient data in dependence upon a comparison of the
said sums calculated for the field formatted blocks and the

frame-formatted blocks; and
encoding (57-59) said selected data for transmission;
A method according to claim 1, further comprising the
step of quantizing (57) said selected data.
A method according to claim 1 or claim 2, wherein said
picture signal data is arranged on a macro-block by macro-block

basis into said frame-formatted blocks and into said
field-formatted blocks, and wherein said selected data is

selected on a macro-block by macro-block basis. 
Apparatus for encoding picture signals comprising:

means for arranging picture signal data into frame-formatted
blocks in which odd field data alternates with

even field data;
means for orthogonally transforming (200, 303, 305,
307, 309) said frame-formatted blocks to form frame-based

coefficient data;
means for arranging said picture signal data into
field-formatted blocks, each comprising either said odd

field data or said even field data;
means for orthogonally transforming (201, 304, 306,
308, 310) said field-formatted blocks to form field-based

coefficient data;
means for determining (255, 311-314) the sum of the
absolute values of the coefficients of at least portions of

said field formatted blocks and of said frame formatted
blocks or the sum of the squares of the values of the

coefficients of at least portions of said field formatted
blocks and of said frame formatted blocks;
means for selecting (255, 318, 319) the one of the
said field and frame formatted blocks having the smaller

quantity of coefficient data in dependence upon a
comparison of the said sums calculated for the field

formatted blocks and the frame-formatted blocks; and
means for encoding (57-59) said selected data for
transmission.
An apparatus according to claim 4, further comprising
means for quantizing (57) said selected data.
An apparatus according to claim 4 or claim 5, wherein
said picture signal data is arranged on a macro-block by

macro-block basis into said frame-formatted blocks and into
said field-formatted blocks, and wherein said selected data

is selected on a macro-block by macro-block basis.
A method according to claim 1, 2 or 3, wherein: 

the said step of orthogonally transforming (200) said
frame-formatted blocks forms arrays of frame-based

coefficients, each respective array corresponding to one of
said frame-formatted blocks;
the said step of determining (255) combines the
respective magnitudes of at least a portion of each array

of frame-based coefficients to form a frame-based sum;
the said step of orthogonally transforming (201) said
field-formatted blocks forms arrays of field-based

coefficients, each respective array corresponding to one
said field-formatted blocks;
the said step of determining (255) combines the
respective magnitudes of at least a portion of each array

of field-based coefficients to form a field-based sum;
and the said step of selecting selects the one of said
arrays of frame-based coefficients and said arrays of

field-based coefficients having the smaller quantity of
coefficient data in dependence upon a comparison of said

frame-based sum and said field-based sum.
A method according to claim 1, 2, 3 or 7, wherein said
step of orthogonally transforming (200) said frame-formatted

blocks comprises discrete cosine transforming
said frame-formatted blocks, and wherein said step of

orthogonally transforming (201) said field-formatted blocks
comprises discrete cosine transforming said field-formatted

blocks.
A method according to claim 7 or claim 8, wherein said
picture signal data include luminance data and colour

difference data, and wherein each of said frame-formatted
blocks and each of said field-formatted blocks represents

either said luminance data or said colour difference data
and said field-formatted blocks which represent said colour

difference data comprise odd field data separated from even
field data. 
A method according to any one of claims 7 to 9,
wherein said portion of each array of frame-based

coefficients and said portion of each array of field-based
coefficients comprise high frequency coefficients.
A method according to any one of claims 7 to 10
wherein said frame-based coefficients are selected when

said frame-based sum has a value less than a predetermined
threshold value.
A method according to any one of claims 7 to 10
wherein said frame-based coefficients are selected when

said frame-based sum is of lesser value than said field-based
sum, and said field-based coefficients are selected

when said frame-based sum is of greater value than said
field-based sum.
A method according to any one of claims 7 to 10
wherein said frame-based coefficients are selected when:


Sum,
frame
 
<
 Sum,
field
 * β + α,

wherein

Sum,
frame
 = said frame-based sum,
Sum,
field
 = said field-based sum, and
β, α = predetermined values;

   and wherein said field-based coefficients are selected
when:


Sum,
frame
 ≥ Sum,
field
 * β + α.
Apparatus according to claim 4, 5, or 6, wherein:

the said means for orthogonally transforming said-frame
formatted blocks forms arrays of frame-based

coefficients, each respective array corresponding to one of
said frame-formatted blocks;
the said determining means combine the respective
magnitudes of at least a portion (255) of each array of

frame-based coefficients to form a frame-based sum; 
the said means for orthogonally transforming said
field-formatted blocks forms arrays of field-based

coefficients, each respective array corresponding to one
said field-formatted block;
the said determining means combines the respective
magnitudes of at least a portion of each array of field-based

coefficients to form a field-based sum; and
the said selecting means (255) selects from said
arrays of frame-based coefficients and said arrays of

field-based coefficients, the one of said arrays of frame-based
coefficients and field based coefficients having the

smaller quantity of coefficient data in dependence upon a
comparison of said frame-based sum and said field based

sum.
An apparatus according to claim 4, 5, 6 or 14, wherein
said means for orthogonally transforming (200) said frame-formatted

blocks comprises discrete cosine transforming
said frame-formatted blocks, and wherein said means for

orthogonally transforming (201) said field-formatted blocks
comprises discrete cosine transforming said field-formatted

blocks.
An apparatus according to claim 14 or 15, wherein said
picture signal data include luminance data and colour

difference data, and wherein each of said frame-formatted
blocks and each of said field-formatted blocks represents

either said luminance data or said colour difference data

and said field-formatted blocks which represent said colour
difference data comprise odd field data separated from even

field data.
An apparatus according to claim 14, 15 or 16, wherein
said portion of each array of frame-based coefficients and

said portion of each array of field-based coefficients
comprise high frequency coefficients. 
An apparatus according to any one of claims 14 to 17,
wherein said frame-based coefficients are selected when

said frame-based sum has a value less than a predetermined
threshold value.
An apparatus according to any one of claims 14 to 17
wherein said frame-based coefficients are selected when

said frame-based sum is of lesser value than said field-based
sum; and said field-based coefficients are selected

when said frame-based sum is of greater value than said
field-based sum.
An apparatus according to any one of claims 14 to 17
wherein said frame-based coefficients are selected when:


Sum,
frame
 
<
 Sum,
field
 * β + α,

wherein:

Sum,
frame
 = said frame-based sum,
Sum,
field
 = said field-based sum, and
β, α = predetermined values;

   and wherein said field-based coefficients are selected
when:


Sum,
frame
 ≥ Sum,
field
 * β + α.
A method according to any one of claims 1 to 3 and 7
to 9, wherein:


picture signal data is arranged into intra-coded
frame-formatted blocks and into inter-coded frame-formatted

blocks in which odd field data alternates with even field
data;
said intra-coded frame-formatted blocks and said
inter-coded frame-formatted blocks are orthogonally

transformed (303, 305, 307, 309) to respectively form
intra-coded frame-based coefficient data and inter-coded

frame-based coefficient data;
picture signal data is arranged into intra-coded
field-formatted blocks and into inter-coded field-formatted

blocks, each comprising either said odd field data or said 
even field data;
said intra-coded field-formatted blocks and said
inter-coded field-formatted blocks are orthogonally

transformed to respectively form intra-coded field-based
coefficient data and inter-coded, field-based coefficient

data;
the said step of determining determines:-

a1) the sum (the intra-coded field-based sum) of the
absolute values of the coefficients of at least

portions of said intra-coded field-formatted
blocks and the sum (the intra-coded frame-based

sum) of the absolute values of the coefficients
at least portions of said intra-coded frame-formatted

blocks (311) or
a2) the sum (the intra-coded field-based sum) of the
squares of the values of the coefficients of at

least portions of said intra-coded field-formatted
blocks and the sum (the intra-coded

frame-based sum) of the squares of the values of
the coefficients of at least portions of said

intra-coded frame-formatted blocks (311); and
b1) the sum (the inter-coded field-based sum) of the
absolute values of the coefficients of at least

portions of said inter-coded field-formatted
blocks and the sum (the inter-coded frame-based

sum) of the absolute values of the coefficients
of at least portions of said inter-coded frame-formatted

blocks (312, 313, 314) or
b2) the sum (the inter-coded field-based sum) of the
squares of the values of the coefficients of at

least portions of said inter-coded field-formatted
blocks and the sum (the inter-coded

frame-based sum) of the squares of the values of
the coefficients of at least portions of said 

inter-coded frame formatted blocks (312, 313,
314); and

the said step of selecting (318, 319) selects
the one of the intra-coded field formatted

blocks, intra-coded frame coded blocks, inter-coded
field formatted blocks and inter-coded

frame formatted blocks having the smallest
quantity of coefficient data based upon a

comparison of the said determined sums.
A method according to claim 21 wherein said step of
selecting comprises:


selecting (311) the one of said intra-coded frame-based
coefficient data and said intra-coded field-based

coefficient data having the smaller quantity of coefficient
data as selected intra-coded coefficient data;
selecting (312-314) the one of said inter-coded frame-based
coefficient data and said inter-coded field-based

coefficient data having the smaller quantity of coefficient
data as selected inter-coded coefficient data; and
selecting (318, 319) from said selected intra-coded
coefficient data and said selected inter-coded coefficient

data the one having the smaller quantity of coefficient
data.
A method according to claim 22, wherein said intra-coded
frame-based coefficient data is selected as said

selected intra-coded coefficient data when said intra-coded
frame-based sum is of lesser value than a first

predetermined threshold value, and wherein said inter-coded
frame-based coefficient data is selected as said selected

inter-coded coefficient data when said inter-coded frame-based
sum is of lesser value than a second predetermined

threshold value.
A method according to claim 22, wherein said intra-coded
frame-based coefficient data is selected as said 

selected intra-coded coefficient data when said intra-coded
frame-based sum is of lesser value than said intra-coded

field-based sum, and

wherein said intra-coded field-based coefficient data
is selected as said selected intra-coded coefficient data

when said intra-coded frame-based sum is of greater value
than said intra-coded field-based sum; and
wherein said inter-coded frame-based coefficient data
is selected as said selected inter-coded coefficient data

when said inter-coded frame-based sum is of lesser value
than said inter-coded field-based sum, and wherein said

inter-coded field-based coefficient data is selected when
said inter-coded frame-based sum is of greater value than

said inter-coded field-based sum.
A method according to claim 22, wherein said intra-coded
frame-based coefficient data is selected when:


Sum
intra,frame
 
<
 Sum,
intra,field
 * β + α,

wherein:

Sum
intra,frame
 = said intra-coded frame-based sum,
Sum
intra,field
 = said intra-coded field-based sum,
and
β, α = predetermined values;

   and wherein said intra-coded field-based coefficient
data is selected as said selected intra-coded coefficient

data when:

Sum
intra,frame
 ≥ Sum
intra,field
 * β + α.
A method according to claim 22, wherein said inter-coded
frame-based coefficient data is selected as said

selected inter-coded coefficient data when:

Sum
inter,frame
 
<
 Sum
inter,field
 * β + α,

wherein:

Sum
inter,frame
 = said inter-coded frame-based sum,
Sum
inter,field
 = said inter-coded field-based sum,
and
β, α = predetermined values;
 
   and wherein said inter-coded field-based coefficient

data is selected as said selected inter-coded coefficient
data when:


Sum
inter,frame
 ≥ Sum
inter,field
 * β + α.
A method according to any one of claims 21 to 26
wherein the said determined sums are sums of the absolute

values or squares of values of AC coefficients.
A method according to claim 27 wherein the said AC
coefficients are high frequency coefficients.
Apparatus according to any one of claims 4 to 6 and 15
to 20 wherein the means for arranging said picture signal

data into frame-formatted blocks arranges the data into
intra-coded frame-formatted blocks and into inter-coded

frame-formatted blocks in which the odd field data
alternates with even field data;


the means (303, 305, 307, 309) for orthogonally
transforming frame-formatted blocks transforms the said

intra-coded frame-formatted blocks and said inter-coded
frame-formatted blocks to respectively form intra-coded

frame-based coefficient data and inter-coded frame-based
coefficient data;
the means for arranging picture signal data into
field-formatted blocks arranges the data into intra-coded

field-formatted blocks and into inter-coded field-formatted
blocks, each comprising either said odd field data or said

even field data;
the means (304, 306, 308, 310) for orthogonally
transforming field formatted blocks transforms said intra-coded

field-formatted blocks and said inter-coded field-formatted
blocks to respectively form intra-coded field-based

coefficient data and inter-coded field-based
coefficient data;
the determining means (311-314) determines:-

a1) the sum of the absolute values of the 
coefficients of at least portions of said intra-coded

field-formatted blocks and of at least
portions of said intra-coded frame-formatted

blocks (311) or
a2) the sum of the squares of the values of the
coefficients of at least portions of said intra-coded

field-formatted blocks and of at least
portions of said intra-coded frame-formatted

blocks (311); and
b1) the sum of the absolute values of the
coefficients of at least portions of said inter-coded

field-formatted blocks and of at least
portions of said inter-coded frame-formatted

blocks (312, 313, 314) or
b2) the sum of the squares of the values of the
coefficients of at least portions of said inter-coded

field-formatted blocks and of at least
portions of said inter-coded frame formatted

blocks (312, 313, 314); and

the selecting means (318, 319) selects the one
of the intra-coded field formatted blocks,

intra-coded frame coded blocks, inter-coded
field formatted blocks and intra-coded field

formatted blocks having the smallest quantity of
coefficient data based upon a comparison of the

said determined sums.
</CLAIMS>
</TEXT>
</DOC>
