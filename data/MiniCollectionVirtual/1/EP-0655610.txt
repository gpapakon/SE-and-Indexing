<DOC>
<DOCNO>EP-0655610</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Dynamic fluid level and bubble inspection for quality and process control
</INVENTION-TITLE>
<CLASSIFICATIONS>G01F2300	G01F2300	G01F23284	G01F23292	G01N924	G01N924	G01N2185	G01N2185	G01N2188	G01N2190	G01N3302	G01N3314	G06T100	G06T100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01F	G01F	G01F	G01F	G01N	G01N	G01N	G01N	G01N	G01N	G01N	G01N	G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01F23	G01F23	G01F23	G01F23	G01N9	G01N9	G01N21	G01N21	G01N21	G01N21	G01N33	G01N33	G06T1	G06T1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Fast image acquisition and image process control are used to advantage to measure dynamic and 
transient phenomena. This technique distinguishes fluid from bubbles by taking an image of a 

container containing fluid and modifying the gray levels of the image. Unmodified image 
processing can be performed without the disadvantage of large time consumption. The 

technique is used for detecting fluid levels and bubble, by counting image pixels dedicated to 
bubbles or to fluid along vertical or horizontal lines within the image. The rate of change of 

liquid level and the amount of bubbles with time indicate leakage in containers while they are in 
a dynamic state. The inspection of transient phenomena during a dynamic state gives an 

indication of the final quality and quantity of a product inside a container. It also provides 
feedback for the determination of fill nozzle operation, with the advantage of easy calibration 

and adjustment for the right amount of bubbles within the container. It also provides an 
indication of mechanical or thermal failures and feedback to indicate any unit which deviates 

from preset parameters. The system is highly beneficial in the beer and soft drink industry 
where the taste of the product is highly influenced by the amount of bubbles within the 

container. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SCHWARTZ NIRA
</APPLICANT-NAME>
<APPLICANT-NAME>
SCHWARTZ, NIRA, DR.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
Generally, the field of the invention relates to quality and process control, particularly to the 
inspection of fluid levels in containers as well as bubbles (gas) in the fluid. Accordingly one object of the invention is to provide an improved way to predict final fluid level 
and the amount of dissolved gasses in containers while they are moving on a production line. 
Another object is to be able to perform the foregoing without having to squeeze the bottles. 
Therefore this technique can be used to inspect glass containers as well. Another object is to indicate the quality of the fluid within the container and if the cap is 
properly sealed. Still another object of the invention is to predict the liquid viscosity as a 
function of the rate bubbles are dissolved. Other objects and advantages are to provide a correlation between the fill nozzle on a filling 
carousel and the inspected container for easy nozzle adjustment for the right amount of fluid and 
bubbles inside a container, thereby to provide an automatic alarm if one of the nozzles on the 
carousel is off calibration. Accordingly one object of the present invention is to inspect fluid -filled containers at areas 
other than near the filling station, including areas ahead of the filling station.  The invention generally comprises 
a method for inspecting containers filled with a liquid containing bubbles, while said liquid 
and said bubbles are in a dynamic state and are moving on a production line, with the use of a 
sensor and a processing unit having a memory, comprising: 
(a) moving a series of containers along a production line past a filling station and an inspection 
station, (b) filling said series of containers with a liquid and a gas at said filling station, said liquid in 
said containers thereby containing bubbles which are suspended in said liquid, said 
liquid and said suspended bubbles being in a dynamic state as a result of said filling, (c) illuminating said containers with light at said inspection station so that resultant light comes 
from said containers, (d) sensing said resultant light coming from said containers with said sensor at said inspection 
station and converting said resultant light to an electrical signal, (e) said containers being illuminated and sensed when said liquid and said suspended bubbles 
are still in said dynamic state as a result of said filling, (f) creating, from said electrical signal, a product image comprising a multiplicity of pixels with: 
(1) said pixels having a plurality of intensity
</DESCRIPTION>
<CLAIMS>
A method for inspecting containers filled with a 
liquid containing bubbles, while said liquid and said 

bubbles are in a dynamic state and are moving on a production 
line, with the use of a sensor and a processing unit 

having a memory, comprising: 

(a) moving a series of containers along a production 
line past a filling station and an inspection 

station, 
(b) filling said series of containers with a liquid and 
a gas at said filling station, said liquid in said 

containers thereby containing bubbles which are 
suspended in said liquid, said liquid and said 

suspended bubbles being in a dynamic state as a 
result of said filling, 
(c) illuminating said containers with light at said inspection 
station so that resultant light comes from 

said containers, 
(d) sensing said resultant light coming from said 
containers with said sensor at said inspection 

station and converting said resultant light to an 
electrical signal, 
(e) said containers being illuminated and sensed when 
said liquid and said suspended bubbles are still in 

said dynamic state as a result of said filling, 
(f) creating, from said electrical signal, a product 
image comprising a multiplicity of pixels with: 


(1) said pixels having a plurality of intensity 
levels expressed as a corresponding plurality 

of respective gray levels, 
(2) a first plurality of said multiplicity of 
pixels representing said liquid and having gray 

levels substantially on one side of a predetermined 
threshold level, and 
(3) a second plurality of said multiplicity of 
pixels representing said bubbles and having 

gray levels substantially on the other side of 
said predetermined threshold level, 
(g) modifying said product image to produce a modified 
product image so as to distinguish liquid from 

bubbles by assigning a predetermined single liquid 
gray level value to all pixels on said one side of 

said predetermined threshold level, and assigning a 
predetermined different and single bubble gray 

level value to all pixels on said other side of 
said predetermined threshold level, 
(h) counting the number of pixels having said liquid 
gray level value and saving the resultant liquid 

count in memory, 
(i) counting the number of pixels having said bubble 
gray level value and saving the resultant bubble 

pixel count in memory, and 
(j) analyzing said resultant liquid pixel count and 
said resultant bubble pixel count for liquid height 

and bubbles. 
The method claimed in claim 1, further including 
analyzing said resultant liquid and bubble counts by comparing 

said resultant counts with those of an acceptable 
container, for example, to determine if said container 

leaks, and/or to verify the quantity of bubbles inside said 
product for quality control, and/or for controlling fill 

nozzle operation, and/or for controlling fill level height. 
The method claimed in claim 1 or 2, wherein said 
counting the number of pixels having said liquid gray level 

value is taken along a vertical line of said liquid, said 
counting the number of pixels having said bubble gray level 

value is also taken along a vertical line of said liquid, 
 

and wherein said analyzing said resultant liquid count and 
resultant said bubble count is performed by subtracting 

said resultant bubble count from said resultant liquid 
count. 
A system for inspecting containers filled with a 
liquid containing bubbles, while said liquid and said 

bubbles are in a dynamic state and are moving on a production 
line, with the use of a sensor and a processing unit 

having a memory, comprising: 

(a) a production line comprising a filling station and 
an inspection station, 
(b) moving means for moving a series of containers 
along said production line past said filling station 

and said inspection station, 
(c) filling means at said filling station for filling 
said containers with a liquid and a gas so that 

said liquid in said containers will contain suspended 
bubbles, said liquid and said suspended 

bubbles being in a dynamic state as a result of 
said filling, 
(d) illuminating means at said inspection station for 
illuminating said containers with light so that 

resultant light comes from each of said containers, 
(e) sensing and converting means at said inspection 
station for (a) sensing said resultant light coming 

from said one of said containers, said sensing and 
converting means including said sensor, and (b) 

converting said resultant light to an electrical 
signal, 
(f) said illuminating means illuminating said 
containers with light, and said sensing and converting 

means sensing said resultant light coming 
from said containers, when said liquid and said 

 
suspended bubbles are still in said dynamic state 

as a result of said filling, 
(g) image means for creating, from said electrical 
signal, a product image comprising a multiplicity 

of pixels, said image means being arranged to cause 
said 

pixels to have a plurality of intensity levels 
expressed as a corresponding plurality of respective 

gray levels, with a first plurality of said 
multiplicity of pixels representing said liquid and 

having gray levels substantially on one side of a 
predetermined threshold level, and a second plurality 

of said multiplicity of pixels representing 
said bubbles and having gray levels substantially 

on the other side of said predetermined threshold 
level, 
(h) modifying means for modifying said product image to 
produce a modified product image so as to distinguish 

liquid from bubbles by assigning a predetermined 
single liquid gray level value to all pixels 

on said one side of said predetermined threshold 
level, and assigning a predetermined different and 

single bubble gray level value to all pixels on 
said other side of said predetermined threshold 

level, 
(i) liquid pixel counting means for counting the number 
of pixels having said liquid gray level value and 

saving the resultant liquid pixel count in memory, 
(j) bubble pixel counting means for counting the number 
of pixels having said bubble gray level value and 

saving the resultant bubble pixel count in memory, 
and 
(k) analyzing means for analyzing said resultant liquid 
pixel count and said resultant bubble pixel count 

for liquid height and bubbles. 
The system claimed in claim 5, further including 
means for analyzing said liquid and bubble counts by comparing 

said liquid and bubble counts with those of an 
acceptable bottle, for example, to determine if said container 

leaks, and/or to verify the quantity of bubbles 
inside said product for quality control, and/or for controlling 

fill nozzle operation, and/or for controlling fill 
level height. 
The system claimed in claim 5 or 6, wherein said 
liquid pixel counting means is arranged to count the pixels 

along a vertical line of said liquid and said bubble pixel 
counting means is also taken along a vertical line of said 

liquid, and wherein said analyzing means is arranged to 
subtract said resultant bubble pixel count from said resultant 

liquid pixel count. 
The system claimed in claim 4, 5 or 6, wherein 
said liquid pixel counting means is arranged to take several 

liquid counts at successive times and average the 
counts, and wherein said bubble pixel counting means is 

arranged to take several bubble counts at successive times 
and average the resultant count. 
A system for inspecting containers filled with 
liquid containing bubbles, while said liquid and said 

bubbles are in a dynamic state and are moving on a 
production line, with the use of an action station and an 

inspection station, comprising: 

(a) an action station means for operating on a plurality 
of containers so that said containers contain a 

liquid and a gas with said liquid being in a 
dynamic state, and said gas being suspended in said 

 
liquid in the form of bubbles which also are in 

said dynamic state, 
(b) an inspection station means for creating an image 
of said containers filled with said liquid and said 

bubbles in said dynamic state with the use of 
a light source and a sensor, 
(c) said inspection station means being arranged to 
create an image comprising a multitude of pixels 

having a plurality of gray levels representing said 
fluid and a multitude of other pixels with a plurality 

of gray levels representing said bubbles, 
(d) said inspection station means having a memory and a 
processor for obtaining intensity values of said 

pixels for obtaining gray level values of said 
pixel
s, for mathematical calculations, and for 
classifying some of said pixels as fluid pixels and 

other of said pixels as bubble pixels and saving 
the classification in said memory, 
(e) counting means for performing a first count of said 
pixels representing fluid and a second count of 

said pixels representing bubbles, 
(f) analyzing means for analyzing said first count and 
said second count for quality and process control, 

and 
(g) correlating means responsive to said analyzing 
means for indicating any malfunction of said action 

station means for quality and process control. 
The system claimed in claim 8, further including 
means for correlating said malfunction of said action 

station means with an inspected container by the use of a 
sensor, and/or by the use of said processor. 
The system claimed in claim 8 or 9, wherein said 
action station means is a pasteurization machine. 
The system as claimed in claim 8, 9 or 10, further 
including means for comparing said resultant liquid and 

bubble counts with those of an acceptable container, for 
example, for controlling operation of said action station 

means, and/or to determine if said container leaks. 
The system claimed in any of claims 4 to 11, 
wherein said container contains a liquid selected from 

beer, soft drinks, water, or liquid medicines. 
The system claimed in any of claims 8 to 12, wherein 
said counting means is arranged to take a count along a 

vertical line of said liquid, and wherein said analyzing 
means is arranged subtract said bubble count from said 

liquid count. 
The system claimed in any of claims 8 to 13, 
wherein (a) said counting means is arranged to count the 

number of pixels having said liquid gray level values at 
several successive times to obtain several liquid counts, 

and further including averaging said several liquid counts 
to obtain an average liquid count, said average liquid 

count constituting said liquid count, and (b) said counting 
means is also arranged to count the number of pixels having 

said bubble gray level value at several successive times to 
obtain several bubble counts, and further including averaging 

said several bubble counts to obtain an average bubble 
count, said average bubble count constituting said bubble 

count. 
A system for monitoring quality and process control 
of a production line by inspecting containers filled with 

liquid, while said liquid is in a dynamic state and said 
containers are moving on a production line, with the use of 

an action station and an inspection station, comprising: 

(a) an action station means for operating on said 
plurality of containers containing a liquid causing 

 
said liquid to being in a dynamic state as a result 

of said operation, 
(b) an inspection station means for creating an image 
of said containers filled with said fluid and said 

bubbles in said a dynamic state with the use of a 
light source and a sensor, 
(c) said inspection station means being arranged to 
create an image comprising a multitude of pixels 

having a plurality of gray levels representing said 
fluid, 
(d) said inspection station means having a memory and a 
processor for obtaining intensity values of said 

pixels for obtaining gray level values of said 
pixels, for mathematical calculations, and for 

classifying said pixels as fluid pixels or as 
bubble pixels and saving said classification in 

said memory, 
(e) counting means for performing a first count of said 
pixels representing fluid and second count of any 

pixels representing bubbles, 
(f) analyzing means for analyzing said first count and 
said second count for quality and process control, 

and 
(g) correlating means responsive to said analyzing 
means for indicating any malfunction of said action 

station means for quality and process control. 
The system claimed in claim 15, wherein said inspecting 
means is also arranged to detect unwanted bubbles 

in said fluid. 
The system claimed in claim 15 or 16, wherein said 
second count equals zero. 
The system claimed in claim 15, 16 or 17, wherein 
(a) said first count is performed at several successive 

times to obtain an average liquid count, said average 
 

liquid count constituting said first count, and (b) said 
counting means performs said second count at several successive 

times to obtain several second counts, and further 
including averaging said several second counts to obtain an 

average bubble count, said average bubble count constituting 
said second count. 
A method for monitoring quality and process control 
of production line by inspecting containers filled with 

liquid containing bubbles, while said liquid and said 
bubbles are in a dynamic state and are moving on a production 

line, with the use of an action station and an inspection 
station, comprising: 


(a) operating on a plurality of containers at an action 
station so that said containers contain a liquid 

and a gas with said liquid in a dynamic state, and 
said gas is suspended in said liquid in the form of 

bubbles which also are in said dynamic state, 
(b) creating with an inspection station an image of 
said containers filled with said liquid and said 

bubbles in said dynamic state with the use of a 
light source and a sensor, 
(c) said image comprising a multitude of pixels 
having a plurality of gray levels representing said 

fluid, and a multitude of other pixels with a 
plurality of gray levels representing said bubbles, 
(d) obtaining intensities of pixels at said inspection 
station using a processor to obtain gray level 

values of said pixels for mathematical calculations, 
and for classifying some of said pixels as 

fluid pixels and others of said pixels as bubbles, 
(e) saving the classification of said pixels in a 
memory, 
(f) counting said pixels which represent liquid to 
provide a first count of liquid pixels and counting 

said pixels which represent bubbles to provide a 
second count of pixels representing bubbles, 
(g) analyzing said first count and said second count 
for quality and process control, and 
(h) correlating the analysis of said first and second 
counts with said action station to indicate any 

malfunction of said action station for quality and 
process control. 
The method claimed in claim 19, further including 
correlating any malfunction of said action station with an 

inspected container by the use of a sensor. 
The method claimed in claim 19 or 20, wherein said 
action station is a pasteurization machine. 
The method claimed in claim 19, 20 or 21, further 
including analyzing said first and second counts by 

comparing said first and second counts with those of an 
acceptable container, for example, to determine if said 

container leaks, and/or to verify the quantity of liquid 
and bubbles inside said product for quality and process 

control, and/or for controlling operation of said action 
station, and/or for controlling liquid fill level height. 
The method claimed in any of claims 1 to 3 or 19 to 

22, wherein said container contains a liquid selected from 
beer, soft drinks, water or liquid medicines. 
The method claimed in any of claims 19 to 22, 
wherein said counting takes a count along a vertical line 

of said liquid, and wherein said analyzing subtracts said 
second count from said first count. 
The method claimed in any of claims 1 to 3 or 19 to 
24, wherein (a) said counting counts the number of pixels 

having said liquid gray level values at several successive 
times to obtain several liquid counts, and further 

including averaging said several liquid counts to obtain an 
average liquid count, said average liquid count constituting 

said liquid count, and (b) said counting counts the 
number of pixels having said bubble gray level values at 

several successive times to obtain several counts, and 
further including averaging said several bubble counts to 

obtain an average bubble count, said average bubble count 
constituting said bubble count. 
A method for monitoring quality and process control 
of a production line by inspecting liquid in a dynamic 

state and moving on a production line, with the use of an 
action station and an inspection station, comprising: 


(a) operating on a plurality of containers at an action 
station so that said containers contain liquid in a 

dynamic state, 
(b) creating, with said inspection station images of 
said containers filled with said liquid in said 

dynamic state with the use of a light source and a 
sensor, 
(c) said image comprising a multitude of pixels 
having a plurality of gray levels representing said 

liquid, 
(d) obtaining intensities of said pixels at said inspection 
station using a processor to obtain gray 

level values of said pixels for mathematical calculations, 
and for classification of said pixels as 

fluid pixels or bubble pixels, 
(e) saving the classification of said pixels in a 
memory, 
(f) counting said pixels which represent liquid to 
provide a first count of liquid pixels and counting 

any pixels which represent bubbles to provide a 
second count of any pixels representing bubbles, 
(g) analyzing said first count and said second count 
for quality and process control, and 
(h) correlating the analysis of said first and second 
counts to said action station to indicate malfunction 

of said action station for quality and process 
control. 
The method claimed in claim 26, wherein said analyzing 
is performed to detect unwanted bubbles in said 

fluid. 
The method claimed in claim 26 or 27, wherein said 
liquid contains no bubbles so that said second count equals 

zero. 
The method claimed in claim 26, 27 or 28, wherein 
(a) said counting performs said first count at several 

successive times to obtain several first counts, and 
further including averaging said several first counts to 

obtain an average liquid count, said average liquid count 
constituting said first count, and (b) said second count is 

performed at several successive times to obtain several 
second counts, and further including averaging said several 

second counts to obtain an average bubble count, said 
average bubble count constituting said second count. 
A method for monitoring quality and process control 
of a production line by inspecting liquid in a dynamic 

state and moving on a production line, with the use of an 
action station and an inspection station, comprising: 
(a) operating on a plurality of containers at an action 
station so that said containers contain liquid in 

a dynamic state, 
(b) creating, with said inspection station an image of 
said containers filled with said liquid in said 

dynamic state with the use of a light source and a 
sensor, 
(c) said image comprising a multitude of pixels having 
a plurality of gray levels representing said liquid, 
(d) obtaining the intensities of pixels at said inspection 
station using a processor to obtain the gray 

level values of said pixels for mathematical calculations, 
and for classifying said pixels as fluid 

pixels or as bubble pixels, 
(e) saving the classification of said pixels in a 
memory, 
(f) counting said pixels representing liquid to provide 
a fluid count, 
(g) analyzing said fluid count for quality and process 
control, and 
(h) correlating the analysis of said fluid count to 
indicate any malfunction at said action station. 
</CLAIMS>
</TEXT>
</DOC>
