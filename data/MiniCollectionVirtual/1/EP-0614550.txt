<DOC>
<DOCNO>EP-0614550</DOCNO> 
<TEXT>
<INVENTION-TITLE>
SELF-PROGRAMMING MICROCONTROLLER WITH STORED INSTRUCTION TO COMMAND PROGRAM FROM EXTERNAL MEMORY AND METHOD
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F9445	G06F924	G06F924	G06F9445	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F9	G06F9	G06F9	G06F9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A microcontroller (10) fabricated on a semiconductor chip is adapted, when operating, to execute programs (17) and instructions and, in response, to generate control signals to selectively control external apparatus. A clock (15) generates timing signals to control the timing of the microcontroller execution and operation. An on-chip program memory (17) has space available for storing a program to be executed by the microcontroller in sequential steps in successive address locations of the program memory. An instruction stored in unerasable memory on the chip initiates self-programming of the program memory with the program to be executed by the microcontroller by enabling a pointer timed by the clock to alternately read addresses containing steps of the program to be executed from off-chip memories and to write same into successive addresses of the on-chip program memory by incrementing the latter addresses with each step to be written therein.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MICROCHIP TECH INC
</APPLICANT-NAME>
<APPLICANT-NAME>
MICROCHIP TECHNOLOGY INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CHEN CHAO-WU
</INVENTOR-NAME>
<INVENTOR-NAME>
ITALIANO GREG
</INVENTOR-NAME>
<INVENTOR-NAME>
MITRA SUMIT
</INVENTOR-NAME>
<INVENTOR-NAME>
ROSENHAGEN KURT
</INVENTOR-NAME>
<INVENTOR-NAME>
CHEN, CHAO-WU
</INVENTOR-NAME>
<INVENTOR-NAME>
ITALIANO, GREG
</INVENTOR-NAME>
<INVENTOR-NAME>
MITRA, SUMIT
</INVENTOR-NAME>
<INVENTOR-NAME>
ROSENHAGEN, KURT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates generally to semiconductor
microcontrollers, and more particularly to a self-programming
microcontroller and method for providing auto-programming
of a microcontroller.Microprocessors have evolved into complex
instruments and machines which require sophisticated, fast
real-time control capability. Instead of using large
microprocessors of 16 or 32 bit capability along with
interrupt handler chips, programmable timer chips, ROM and
RAM chips, the field has gone to a single chip
microcontroller in which all peripherals are embedded on the
same chip. Operation of the chip in an expanded mode allows
gaining the versatility of all on-chip features.
Microcontrollers are used in a wide diversity of present-day
applications, with new applications found almost daily. In
hand-held instruments such as tiny pocket-sized pagers, the
microcontroller is responsive to received characters to
interpret them, produce a beep to notify the user of an
incoming message (or not if the user prefers an inaudible
mode), and poduces multiple mesages among the several last
of those received on a suitable display, typically an LCD.
The microcontroller can also recall from its internal memory
any or all of the messages received in a given period of
time. The chip is also used in other instrumentation such
as meters and testers, capable of carrying out thousands of
tests, each in a millisecond or less.Other applications include keyboard controllers for
personal computers, in which the microcontroller serves to
offload many tasks formerly handled by the processor. The
chip continuously performs a series of diagnostic procedures,
and notifies the processor if it detects a problem. Among
other personal computer applications, microcontrollers are
used in modems for command interpretation and data
transmission, in printer buffers for high speed dumping of 
data in preparation for driving the printer at the
considerably lower speed at which the printer operates or for
color plotters, in color copiers, electronic typewriters,
cable television terminal equipment, lawn sprinkling
controllers, credit card phone equipment, automotive
applications such as engine control modules, antilock braking
systems, automobile suspension control for desired desination
of ride softness or rigidity depending on user preference,
and a host of other applications used daily by industrial and
consumer customers.A real time microcontroller is a microcomputer
adapted to provide rapid solutions to signal processing
algorithms and other
</DESCRIPTION>
<CLAIMS>
A microcontroller (10) fabricated on a semiconductor chip for executing
programs and instructions after start-up of operation and adapted to

program itself with a program and to generate control signals as a result
of the execution of programs and instructions for selectively controlling

an external controllable system,
and including


(1) clock means (15) for supplying a clock frequency on start-up of
operation of the microcontroller, said clock frequency having a

stability appropriate for a desired application,
(2) program memory means (17) for storing a program, and
(3) programming means (17) for programming said program memory
means with a program to be executed by the microcontroller,

characterized in that

the programming means comprises:

(i) on-chip read-only memory (Boot ROM) for storing an auto-program
instruction for programming the program memory

means, said auto-program instruction being a common instruction
(TABLWT) to allow self programming to take place

exclusively internally to the microcontroller whilst said
microcontroller is operatively connected for selectively

controlling said external controllable system, and
(ii) means for retrieving from a programmed memory (110, 111) at
the clock frequency a program and delivering it into

predetermined address locations in the program memory means
(17) whilst allowing the microcontroller to execute instructions

from said program memory means,

and that the microcontroller further comprises means (FPMM0, FPMM1)
for enabling the selection of a secure operation mode such that an

attempted external read of said program memory means would generate
encrypted data.
A microcontroller according to claim 1, wherein said program memory
means (17) is an erasable programmable read only memory.
A device-implemented method of self-programming a microcontroller
device fabricated on a semiconductor chip arranged to execute a program

after start-up of operation of the microcontroller and to generate control
signals as a result of execution by the microcontroller of the program for

selectively controlling an external controllable system, the method
comprising the steps of:


providing a clock frequency on start-up of operation of the
microcontroller of a stability appropriate for a desired application; and
programming a program memory (17) with the program to be executed
by the microcontroller, including the steps of:


(i) reading an auto-programming instruction stored in unerasable
read-only memory (Boot ROM), said auto-programming

instruction being a common instruction to allow self
programming to take place exclusively internally to the

microcontroller whilst said microcontroller is operatively
connected for selectively controlling said external controllable

system,
(ii) retrieving a stored program from a programmed memory at the
clock frequency and delivering the stored program into pre-determined

address locations in the program memory whilst
allowing the microcontroller to execute instructions from said

program memory, and
(iii) setting as a configuration mode a secure operation mode such that
an attempted external read of said program in said program

memory would generate encrypted data.
</CLAIMS>
</TEXT>
</DOC>
