<DOC>
<DOCNO>EP-0645881</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Demodulation of FM audio carrier
</INVENTION-TITLE>
<CLASSIFICATIONS>H03D302	H03D324	H03L708	H03L7093	H03D300	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03D	H03D	H03L	H03L	H03D	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03D3	H03D3	H03L7	H03L7	H03D3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method of demodulating an FM carrier wave and an FM 
demodulation circuit are described which use a phase locked 

loop. The phase locked loop is tuned to a selected carrier 
wave frequency including the step of selecting a setting of 

the variable gain circuit in the phase locked loop to select a 
desired loop gain. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SGS THOMSON MICROELECTRONICS
</APPLICANT-NAME>
<APPLICANT-NAME>
STMICROELECTRONICS LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HORSFALL WAYNE LESLIE
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIPTON GARY
</INVENTOR-NAME>
<INVENTOR-NAME>
HORSFALL, WAYNE LESLIE
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIPTON, GARY
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to apparatus for and methods of
demodulation of an FM sound carrier.Known demodulation systems for such FM sound carriers normally
translate the frequency of the selected carrier to a known
frequency and the signal is then processed by a single high Q
narrow band pass filter. The single carrier frequency is then
FM demodulated. Each of the carrier frequencies in the
composite signal must be shifted to the same known frequency
when it is required to tune onto that selected carrier
frequency. To handle stereo signals two such filters are
required and as the band pass filter used will have a selected
bandwidth, it is necessary to use a plurality of filters to
allow for the variation in modulation which may be permitted
for different carrier frequencies. The use of such frequency
translation to use a common filter presents more problems in
providing an economic solution on integrated circuit chips.Phase locked loops have been used for FM demodulation but have
presented problems where a plurality of carrier waves of close
frequency have been present. Such phase locked loop circuits
have presented problems of stability due to variable gain with
process variations particularly on an integrated circuit
implementation and they have also been sensitive to variations
in the input signal amplitude.US Patent No. 3,976,943 discloses demodulation circuitry
including a demodulator loop. The demodulator loop has a
variable gain control capability. A gain control voltage,
dependent upon variations of amplitude of the input signal, is
generated and applied to control the gain within the loop. US
Patent No. 4,595,886 discloses a circuit for adjusting the AC
loop gain and DC prepositioning in a phase locked loop. Signals
from a PROM digitally adjust the AC gain in the phase locked
loop. The PROM stores digital values to adjust the
prepositioning level. It is an object of the present invention to provide an improved
apparatus and method for FM sound carrier demodulation using a
phase locked loop.The invention provides a method of demodulating an FM carrier
wave to generate a demodulated signal by use of a phase locked
loop circuit, in which an FM input signal including said carrier
wave is supplied to a first input (+) of a phase detector, the
output of the phase detector being filtered by a loop filter and
used to generate a signal for use in controlling a voltage
controlled oscillator having an output connected to a second
input (-) of said phase detector, which method comprises tuning
the phase
</DESCRIPTION>
<CLAIMS>
A method of demodulating an FM carrier wave to generate a
demodulated signal by use of a phase locked loop circuit (14),

in which an FM input signal (11) including said carrier wave is
supplied to a first input (+) of a phase detector (1
5), the
output (16) of the phase detector (15) being filtered by a loop

filter (17) and used to generate a signal for use in controlling
a voltage controlled oscillator (20) having an output connected

to a second input (-) of said phase detector (15), which method
comprises selecting a desired gain for the phase locked loop (14) by operating a

variable gain circuit (40), which receives the filtered output of the
phase detector (15), to alter the

amount by which the frequency of the output of the voltage
controlled oscillator changes in relation to a given filtered output of

the phase detector (15), the variable gain setting being selected
to select a required bandwidth for demodulation and wherein the

filtered output of the phase detector represents said demodulated
signal.
A method according to claim 1 in which the setting of the
variable gain circuit (40) is selected to compensate for gain

variations in the phase locked loop (14) due to process variation
in manufacture of the circuit.
A method according to claim 1 or claim 2 wherein a default
power up frequency is generated by the voltage controlled

oscillator (20) in response to a control voltage supplied from
a signal translation circuit (28,41) with respect to tuning

voltage.
A method according to any one of claims 1 to 3 including
testing the slope of the voltage controlled oscillator (20) by

measuring the variation of frequency output with the change of 
voltage input and determining the gain of the variable gain

circuit (40) in accordance with the slope detected.
A method according to claim 4 in which the variation in
frequency output of the voltage controlled oscillator (20) with

change of voltage input is supplied to a microcontroller (61)
which is used to control switching of resistance elements to vary

the gain of the variable gain circuit (40).
A method according to any one of the preceding claims in
which the variable gain circuit (40) is programmed to select one

of a plurality of variable gain stages.
A method according to any one of the preceding claims in
which the variable gain circuit (40) is programmed by selecting

one of a plurality of switchable resistance (47,49,56,52)
elements connected to an amplifier (51).
A method according to any one of the preceding claims in
which the FM carrier wave forms part of an input including a

plurality of carrier waves of different bandwidths.
A method according to any one of the preceding claims in
which the modulation of the FM carrier wave comprises an audio

signal.
A phase locked loop circuit (14) for demodulating an FM
carrier wave to generate a demodulated signal which circuit

comprises a phase detector (15), having a first input (+) for
receiving said FM carrier wave, a filter (17) for filtering an

output of the phase detector, and a voltage controlled oscillator
(20) responsive to the filtered output of the phase detector (15)

and arranged to provide a second input (-) to the phase detector
(15) for comparison with said FM carrier wave, said circuit (14)

including a variable gain circuit (40) operable to select a
desired gain for the phase locked loop (14), wherein said

filtered output of the phase detector (15) is varied by said 
variable gain circuit (40) to alter the amount by which the

frequency of the output of the voltage controlled oscillator (20)
changes in relation to a given filtered output of the phase

detector (15) thereby selecting a bandwidth for demodulation by
the circuit, and wherein the filtered output of the phase

detector (15) represents said demodulated signal.
A phase locked loop circuit (14) according to claim 10 in
which said variable gain circuit (40) comprises a variable

amplifier circuit coupled between the phase detector (15) and the
voltage controlled oscillator (20).
A phase locked loop circuit (14) according to claim 10 or
claim 11 in which the variable gain circuit (40) includes a

plurality of switched resistors (47,49,52,56) switchable to
select a desired gain.
A phase locked loop circuit (14) according to claim 12 in
which a plurality of resistor selections are provided, each

selection corresponding to a different one of a variety of
required bandwidths.
A phase locked loop circuit (14) according to any of claims
10 to 13 including a signal translation circuit (41) connected

between the variable gain circuit (40) and the voltage controlled
oscillator (20).
A phase locked loop according to claim 14 wherein said
signal translation circuit (41) has in input for receiving a set

up voltage for setting up a default frequency in the phase locked
loop (14).
An FM demodulator for audio signals, which demodulator
includes a phase locked loop circuit (14) according to any one

of claims 10 to 15.
A method according to any one of the preceding claims 1 to 
9 further comprising supplying the FM input signal to a gain

control circuit, prior to supplying said FM input signal to the
phase detector (15) of the phase locked loop, providing a first

output (22) of the phase locked loop, using said first output to
generate a tuned gain control signal depending on the amplitude

of the carrier wave to which the phase locked loop is tuned,
using said tuned gain control signal to control said gain control

circuit (12) and providing a second output (18) of the phase
locked loop representing the demodulated audio signal.
A method according to claim 17 in which said FM input signal
comprises a plurality of carrier waves of different frequencies,

said method including forming an untuned gain control signal in
dependence on the amplitude of all carrier waves in the input

signal and sing said untuned gain control signal to control the
gain control circuit (12) prior to locking of the phase locked

loop (14) onto the selected carrier frequency and using said
tuned gain control signal to control the gain control circuit

(12) after said locking.
A demodulating circuit for generating an audio signal from
an FM carrier wave, which circuit comprises a gain control

circuit (12) for receiving an FM signal, a phase locked loop
circuit (14) coupled to the gain control circuit for locking onto

a selected carrier wave frequency, said phase locked loop (14)
being as claimed in any one of claims 10 to 13 and including an

amplitude detector (33) for detecting amplitude variation in said
selected carrier wave and providing a tuned gain control signal,

said amplitude detector (33) being coupled to said gain control
circuitry (12) to control the gain of said gain control circuit

(12) when the phase locked loop (14) is locked onto the selected
carrier wave.
A demodulating circuit according to claim 19 including
further amplitude detecting circuitry (25) coupled to receive a

signal dependent on the amplitude of the FM input signal and
generate an untuned gain control signal dependent upon all 

carrier waves in the FM input signal, said amplitude detecting
circuit (25) being connected to supply the untuned gain control

signal to the gain control circuit (12).
</CLAIMS>
</TEXT>
</DOC>
