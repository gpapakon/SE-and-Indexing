<DOC>
<DOCNO>EP-0617347</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Data logging apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>H04Q900	G05B2302	G05B2302	G05B1905	H04Q900	G05B19048	G05B1905	G05B19048	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04Q	G05B	G05B	G05B	H04Q	G05B	G05B	G05B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04Q9	G05B23	G05B23	G05B19	H04Q9	G05B19	G05B19	G05B19	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The data logging apparatus according to the 
present invention has one or more units of programmable 

logic controller 1-20,1-24 connected to each other 
through communication and a controller 1-15 for FA 

which can read data stored in said programmable logic 
controller or a communication line and write data 

therein, and in the data logging apparatus a 
programmable logic controller connected to the 

controller 1-15 for FA is used as an administrative 
programmable logic controller 1-20, and the 

administrative programmable logic controller 1-20 
develops data stored therein or in other programmable 

logic controller 1-24 on the memory 1-4 and sends the 
data to the controller 1-15 for FA. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MITSUBISHI ELECTRIC CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
MITSUBISHI DENKI KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
TAKASE TOSHIYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKASE, TOSHIYUKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a data logging 
apparatus which logs data including those stored in a 
programmable logic controller or those on a 
communication line. The European Patent Application EP-A-0 539 880 discloses a 
programmable controller comprising control means which 
operate a machine on the basis of a control program stored 
therein. Data on the operation result is exchanged with 
computer means, which also generates data for the control 
program. A communications buffer is provided between the 
control means and the computer means which act as an 
operation controller. The UK patent application GB-A-21 53 171 discloses a data 
logging apparatus arranged to be an autonomous data 
acquisition unit. The unit acts as an interface between a 
plurality of sensors monitoring a process and a host 
computer for controlling the process. The data acquisition 
unit comprises means for digital conversion of the sensor 
signals as well as means for storing and processing the 
signal data. Upon command, the processed data from the 
sensors is read to the host computer. The European Patent Application EP-A-0 427 502 discloses a 
series of programmable controllers adapted to communicate 
with one another via a master PLC. The master PLC selects 
and addresses a particular slave PLC to which a message is 
to be transmitted. All communication from the slave PLCs is 
controlled by the master PLC. The United States Patent US-A-4,992,926 discloses a 
communication between programmable logic controllers 
connected to a network. To achieve transfer of data between 
the PLCs a memory in each of the controllers has at least 
two ports directly accessible by the other controllers and 
certain registers of the controllers are identical. Fig. 58 is a block diagram illustrating 
general configuration of a conventional type of data 
logging apparatus, and in this figure, designated at 
the reference numeral 1-24 is a programmable logic 
controller (called PLC hereinafter), at 1-1 a memory 
incorporated in the PLC, at 1-15 a controller for FA 
(called FAC hereinafter), at 1-30 a data 
collecting/storing means for reading data stored in the 
memory 1-1 incorporated in the PLC 1-24, at 1-6 an 
auxiliary memory, and at 1-7 a memory. At first, a description is given for a logging 
processing sequence in FAC 1-15 with reference to a 
flow chart shown in Fig. 59. The FAC 1-15 collects 
data from the memory 1-1 in each PLC 1-24 with the 
data collecting/accumulating means 1-30 (S 1-110). Then 
the collected data is stored in the
</DESCRIPTION>
<CLAIMS>
A data logging apparatus for use in control of a 
facility or machine, comprising one or more 

programmable logic controller(s) (1 - 24) connected to 
communicate with each other and a factory automation 

controller (1 - 15) connected to said programmable 
logic controller(s) (1 - 24) through communication 

means, which are adapted to read data out from and 
write data into said programmable logic controller(s) 

(1 - 24), 

wherein said communication means comprise an 
administrative programmable logic controller (1 - 20), 

adapted to store own data and data from said 
controller(s) in a memory (1 - 4) therein and adapted 

to send said data to the factory automation (FA) 
controller (1 - 15), and 
wherein logging setting means for setting trigger 
commands (4 - 1) and processing commands (4 - 2) are 

provided in said FA controller (1 - 15), said logging 
setting means being adapted to set said commands in a 

ladder format. 
A data logging apparatus according to Claim 1, wherein 
program data preparing means (2 - 1) are provided in 

said FA controller (1 - 15) for preparing data for a 
data logging program (2 - 2) running in said 

administrative programmable logic controller (1 - 20) 
and a data logging program (2 - 2) running in said FA 

controller (1 - 15), wherein data collected by the 
administrative programmable logic controller (1 - 20) 

by said logging programs (2 - 2) is successively 
processed by said FA controller (1 - 15) according to  

 
the data prepared by said program data preparing means 

(2 - 1). 
A data logging apparatus according to Claim 2, wherein 
transfer means are provided for down-loading the data 

logging program (2 - 2) for running in said 
administrative programmable logic controller (3 - 9) 

from said FA controller (3 - 5) to said administrative 
programmable logic controller (3 - 9) or up-loading 

said data logging program (2 - 2) from said 
administrative programmable logic controller (3 - 9) 

to the FA controller (3 - 5). 
A data logging apparatus according to Claim 2, wherein 
analyzing means (6 - 1) are provided in said FA 

controller for reading out a current program excluding 
the data logging program from said administrative 

programmable logic controller (1 - 20) and for 
analyzing the device currently being used under the 

data logging program (2 - 2) in said administrative 
programmable logic controller (1 -20), the logging 

program (2 - 2) previously prepared by said program 
data preparing means (2 - 1). 
A data logging apparatus according to Claim 2, wherein 
a program area (7 - 4) and a device area (7 - 5) each 

dedicated to device logging are provided in said 
programmable logic controller(s) (1 - 24), the data 

logging program (2 - 2) provided to run in said 
program area (7 - 4), and a program executing means (7 

- 1) is provided to operate in the device area (7 - 5) 
dedicated to data logging. 
A data logging apparatus according to Claim 2, wherein 
said FA controller comprises computing means (8 - 10)  

 
for setting magnification/offset values for scale 

conversion in table section setting means (8 - 7) and 
executing scale conversion on said collected data. 
A data logging apparatus according to Claim 2, wherein 
the programmable logic controller(s) comprise adding 

means (9 - 5) for adding data concerning the date and 
time to accumulated log data, and a time setting means 

(9 - 1) for setting time in the programmable logic 
controller (PLC) to that in the FA controller (FAC). 
A data logging apparatus according to Claim 2, 
comprising a block accumulating means (10 - 3) for 

successively accumulating the accumulated data as a 
plurality of blocks and a communicating means (10 - 4) 

for indicating whether there is accumulated data 
present or not. 
A data logging apparatus according to Claim 2, wherein 
display/print format setting means (11 - 4) are 

provided in the FA controller for setting a format to 
display the accumulated data on display means or to 

print the data on printing means, and a displaying/ 
printing means (11 - 5) is provided for displaying or 

printing the accumulated data according to the set 
display/print format. 
A data logging apparatus according to Claim 9, wherein 
a collecting means (8 - 9) and a computing means (8-10) 

are provided in a given task of the FAC memory, a 
multitask function (12 - 4) is provided in the 

controller (FAC), accumulated data (8 - 7) for the FA 
controller is stored in a shared memory (12 - 3) and a 

displaying/printing means (11 - 3) is provided in 
another task of the FAC memory.  

 
A data logging apparatus according to Claim 2, wherein 
the FA controller comprises communicating means (13-4) 

for transmitting and receiving accumulated data to 
or from another FA controller connected thereto 

through communication. 
</CLAIMS>
</TEXT>
</DOC>
