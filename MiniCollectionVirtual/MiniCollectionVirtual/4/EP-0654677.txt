<DOC>
<DOCNO>EP-0654677</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and device for processing a signal.
</INVENTION-TITLE>
<CLASSIFICATIONS>G01S100	G01S100	G01S104	H04B110	H04B110	H04B1707	H04B1707	H04B7005	H04B7005	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01S	G01S	G01S	H04B	H04B	H04B	H04B	H04B	H04B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01S1	G01S1	G01S1	H04B1	H04B1	H04B1	H04B1	H04B7	H04B7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method and device for processing a signal are described, 
wherein an estimate of a multipath-induced contribution to a 

demodulated navigation signal is calculated and subtracted 
from said demodulated navigation signal to obtain an estimated 

line of sight contribution to said demodulated navigation 
signal, and a propagation time τ₀ is calculated from the thus 

calculated line of sight contribution to said demodulated 
navigation signal, such that a very accurate propagation time 

τ₀ of said navigation signal can be calculated. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NOVATEL COMMUNICATIONS LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
NOVATEL COMMUNICATIONS LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
VAN HEE RICHARD D J
</INVENTOR-NAME>
<INVENTOR-NAME>
VAN HEE, RICHARD D. J.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method and device for 
processing a signal, for use in communication systems or 
satellite navigation systems, for instance. More particularly, 
the present invention relates to a method and device for 
processing a signal wherein any errors caused by multipath are 
eliminated or at least reduced. In one particular embodiment, 
the present invention relates to a navigation system. In principle, communication from a transmitter to a 
receiver involves the transmission, by the transmitter, of a 
carrier wave signal which is coded by an information signal, 
such as by AM or FM, and the reception, by the receiver, of 
the coded signal. In the receiver, the received signal is 
decoded for obtaining the information therein. The propagation 
time of the signal, i.e. the time which passes between the 
moment of transmission and the moment of reception, depends 
upon the distance between the transmitter and the receiver, 
and upon the propagation speed of the carrier wave signal, as 
is well known. In practice, the carrier wave signal reaches the receiver 
not only directly, i.e. via the line of sight, but also via 
one or more reflections from objects such as buildings, 
mountains, clouds, atmospheric layers, etc. Since the 
propagation path via reflection is always longer than the line 
of sight, the propagation time of the signal via reflection is 
always longer than the propagation time of the signal via the  
 
line of sight, i.e. a reflected signal always has a certain 
delay with respect to the direct signal. The receiver can not 
distinguish between the direct signal and a reflected signal, 
and the combination of the direct signal as received by the 
receiver and the reflected signals as received by the receiver 
is processed as if it were an undistorted signal; however, 
said combination obviously contains an error with respect to 
the signal as transmitted. This problem is commonly known as 
"multipath". Multipath can also be caused by diffraction. Communication of the above-described kind is commonly 
used for many applications, and in most applications it is a 
general desire to reduce the errors caused by multipath. 
However, one application where reducing such errors is 
extremely important is navigation, such as satellite 
navigation, and the present invention will be described with 
reference to a navigation system, although it is explicitly 
noted that the invention is not restricted to such use. In the context of the present application, navigation is 
based
</DESCRIPTION>
<CLAIMS>
In a signal transmission system containing a transmitter 
and a receiver, a method for processing a signal within said 

receiver, comprising the following steps: 
receiving a signal; 

demodulating the received signal; 
obtaining samples Rx(τ) of the demodulated received signal at 

a plurality of times τ; 
calculating an estimate of a multipath-induced contribution to 

said demodulated received signal, subtracting said estimated 
multipath-induced contribution from said demodulated received 

signal to obtain an estimated line of sight contribution to 
said demodulated received signal, and calculating a 

propagation time τ₀ for said signal propagating between said 
transmitter and said receiver, said propagation time τ₀ is 

calculated from the thus calculated line of sight contribution 
to said demodulated received signal. 
In a signal transmission system containing a transmitter 
and a receiver, a method for processing a signal within said 

receiver, comprising the following steps: 
receiving a signal; 

demodulating the received signal; 
providing a reference signal; 

performing a correlation operation on the received signal with 
said reference signal in order to obtain a correlation 

function; 
obtaining samples Rx(τ) of the correlation function at a 

plurality of times τ; 
calculating an estimate of a multipath-induced contribution to 

said correlation function; 
subtracting said estimated multipath-induced contribution from 

said correlation function to obtain an estimated line of sight 
contribution to said correlation function; and

 
calculating a propagation time τ₀ for said signal propagating 

between said transmitter and said receiver, said propagation 
time τ₀ is calculated from the thus calculated line or sight 

contribution to said correlation function. 
Method according to claim 2, wherein said estimate 
calculating step further comprises the step of calculating 

parameters âi, τandi and ϑandi as follows: 
 

wherein 
 

wherein R(τ) is the reference correlation function; 
wherein âi, τandi and ϑandi are estimated values for ai, τi and ϑi, 

respectively. 
Method according to claim 2, wherein said estimate 
calculating step further comprises the step of calculating 

parameters âi, τandi and ϑandi as follows: 
ϑ₀ = arg (Rx(τ₀))  

wherein 
 

wherein R(τ) is the reference correlation function; 
wherein âi, τandi and ϑandi are estimated values for ai, τi and ϑi, 

respectively. 
Method according to claim 3, wherein a reference 
correlation function is measured in the absence of noise and 

multipath, using a signal simulator, and wherein the shape of 
the measured reference correlation function is stored in a 

memory of the receiver, for instance in the form of a table or 
a function representing said shape. 
Method according to claim 2, wherein said estimate 
calculating step further comprises performing the following 

steps: 

a) calculating parameters τand₀, â₀, ϑand₀ as optimum values for 
the largest peak in Rx(τ); 
b) subtracting the contribution of said calculated 
parameters τand₀, â₀, ϑand₀ from Rx(τ) to yield R₁(τ), according to 

the formula R₁(τ) = Rx(τ) - â₀·R(τ-τand₀)·exp(jϑand₀); 
c) calculating parameters τand₁, â₁, ϑand₁ as optimum values for 
the largest peak in R₁(τ); 
d) subtracting the contribution of said calculated 
parameters τand₁, â₁, ϑand₁ from Rx(τ) to yield a new approximation 

of R₀(τ) according to the formula 
R₀(τ) = Rx(τ) - â₁ · R(τ-τ₁) · exp(jϑ₁); 
e) calculating new parameters τand₀, â₀, ϑand₀ as optimum values 
for the largest peak in the new approximation R₀(τ) as 

calculated in step (d); and 
f) repeating the steps (b), (c), (d), (e) until a suitable 
stop criterion is fulfilled. 
Method according to claim 6, wherein the steps (b), (c), 
(d), (e) are repeated for a predetermined number of times. 
Method according to claim 6, wherein the steps (b), (c), 
(d), (e) are repeated until at least one of the parameters τand₀, 

â₀, ϑand₀ and τand₁, â₁, ϑand₁ have converged according to predetermined 
convergence criteria. 
Method according to claim 6, wherein, in order to 
calculate an estimated contribution for a third signal, the 

following steps are performed: 

g) subtracting the contribution of the calculated parameters 
τand₀, â₀, ϑand₀ and 

τand₁, â₁, ϑand₁ from Rx(τ) to 
yield R₂(τ), according 

to the formula 
R₂(τ) = Rx(τ) - â₀ · R(τ-τ₀) 

· exp(jϑ₀) - â₁ · R(τ-τ₁) 
· exp(jϑ₁); 
h) calculating parameters τand₂, â₂, ϑand₂ as optimum values for 
the largest peak in R₂(τ); 
i) calculating new parameters τand₀, â₀, ϑand₀ as optimum values 
for the largest peak in 

R₀(τ) = Rx(τ) - â₁ · R(τ-τ₁) 
· exp(jϑ₁) - â₂ · R(τ-τ₂) 

· exp(jϑ₂); 
j) calculating new parameters τand₁, â₁, ϑand₁ as optimum values 
for the largest peak in 

R₁(τ) = Rx(τ) - â₀ · R(τ-τ₀) 
· exp(jϑ₀) - â₂ · R(τ-τ₂) 

· exp(jϑ₂),  
using the parameters τand₀, â₀, ϑand₀ as calculated in step (i); 
k) calculating new parameters τand₂, â₂, ϑand₂ as optimum values 
for the largest peak in 

R₂(τ) = Rx(τ) - â₀ · R(τ-τ₀) 
· exp(jϑ₀) - â₁ · R(τ-τ₁) 

· exp(jϑ₁),  
using the parameters τand₀, â₀, ϑand₀ as calculated in step (i) and 

the parameters τand₁, â₁, ϑand₁ as calculated in step (j); and 
l) repeating steps (i), (j), (k), until a stop criterion is 
fulfilled. 
Method according to claim 2, wherein a phase ϑand of a peak 
is estimated from one sample Ri(τmax) of said peak, taken 

preferably but not necessarily at or close to a top of the 
peak, according to: 

 
if Re(Ri(τmax))
>
0 
 

if Re(Ri(τmax))
<
0ϑ = π/2  
if Re(Ri(τmax))=0 and Im(Ri(τmax))
>
0 
ϑ = -π/2  

if Re(Ri(τmax))=0 and Im(Ri(τmax))
<
0 
Method according to claim 2, further comprising the step 
of calculating a function f(τx) in advance, wherein the 

inverse function f⁻¹ is calculated and stored in a memory of 
the receiver. 
Method according to claim 11, wherein the function f(τx) 
is defined as 

f(τx) = R(τ₀ - τx + 12Δτ) - 
R(τ₀ - τx - 12Δτ)|R(τ₀ - 

τx + 
12Δτ)| + |R(τ₀ - τx - 12Δτ)|
Method according to claim 11, wherein the function f is 

defined as 
f = R(τc + 12Δτ)R(τc - 12Δτ)
Method according to claim 11, wherein the function f is 
defined as 

f(τx) = 
R(τ₀-τx-32Δτ)-3R(τ₀-τx-12Δτ)+3R(τ₀-τx+12Δτ)- 

R(τ₀-τx+32Δτ)N 
wherein N is a normalisation parameter. 
Method according to claim 11, wherein the function f is 
defined as 

f(τx) = 
R(τ₀-τx-2Δτ)-2R(τ₀-τx-Δτ)+2R(τ₀-τx+Δτ)-R(τ₀-τx+2Δτ)N 

wherein N is a normalisation parameter. 
Method according to claim 14, wherein N is equal to the 
sum of several absolute measured values, for instance, 

N = |R(τ₀)| or N = |R(τ₀-12Δτ)| + |R(τ₀+12Δτ)|. 
Method according to claim 2, wherein said samples Rx(τ) 
are obtained simultaneously. 
Device for processing a signal, comprising: 
a digital signal processor; 

a generator for generating a signal having frequency ω, which 
signal can be expressed as exp(-jωt), the generator being 

controlled by said digital signal processor; 
first multiplier having a first input coupled to receive a 

navigation signal and a second input coupled to an output of 
the generator; 

a plurality of N second multipliers, each of said second 
multipliers having a first input coupled to an output of the 

first multiplier; 
a plurality of N integrator means, each having an input 

coupled to an output of an associated second multiplier, and 
an output coupled to an input of the digital signal processor;

 
a local reference signal generator coupled to a control output 

of the digital signal processor and having at least one output 
for providing a local reference signal; 

a plurality of N-1 delay means, each of said delay means 
having an input and an output, each output being connected to 

a second input of an associated second multiplier; 
wherein the input of a first one of said plurality of delay 

means is coupled to the output of the local reference signal 
generator and to the second input of a first one of said 

plurality of second multipliers, and wherein the input of 
another delay means is coupled to the output of a previous 

delay means. 
</CLAIMS>
</TEXT>
</DOC>
