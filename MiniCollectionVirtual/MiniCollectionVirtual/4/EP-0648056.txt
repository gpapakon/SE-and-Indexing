<DOC>
<DOCNO>EP-0648056</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Audio/video synchronization in a digital transmission system
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N7081	H04N704	H04N500	H04N708	H04N712	H04N544	H04N7081	H04N726	H04N752	H04N560	H04N726	H04N544	H04N504	H04N756	H04N708	H04N712	H04N704	H04N762	H04N7045	H04N500	H04N504	H04N752	H04N560	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N7	H04N7	H04N5	H04N7	H04N7	H04N5	H04N7	H04N7	H04N7	H04N5	H04N7	H04N5	H04N5	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	H04N5	H04N5	H04N7	H04N5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A receiver (FIGURE 2) for decoding associated 
compressed video and audio information components transmitted 

in mutually exclusive "frames" of data with respective time 
stamps PTS
vid
 and PTS
aud
 respectively, includes a controller (216) 
which is responsive t
o the respective received time stamps to 
provide coarse synchronization by delaying or skipping respective 

frames of one or the other of the components to approximately 
time align the two components. Fine synchronization is provided 

by adjusting the processing or clock frequency (215) of the audio 
signal processor (212) independent of the video processor(214). 

The control for the frequency adjustment is related to the 
difference between audio and video time stamps. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
THOMSON CONSUMER ELECTRONICS
</APPLICANT-NAME>
<APPLICANT-NAME>
THOMSON CONSUMER ELECTRONICS, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DEISS MICHAEL SCOTT
</INVENTOR-NAME>
<INVENTOR-NAME>
LANKFORD DOUGLAS EDWARD
</INVENTOR-NAME>
<INVENTOR-NAME>
DEISS, MICHAEL SCOTT
</INVENTOR-NAME>
<INVENTOR-NAME>
LANKFORD, DOUGLAS EDWARD
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a method and apparatus for
synchronizing the audio and video component signals at an
audio/video signal decompression apparatusAudio and video (A/V) transmission and reception
requires that the audio and video components be properly
synchronized. EIA standards RS-250-B limit the time differential
between associated audio and video signals to 25 ms. lead or 40
ms. lag time. Film standards limit the time differential of
associated audio and video to ±1/2 frame, which corresponds to
20.8 ms. An acceptable goal for source to viewer A/V
synchronization is therefore a time differential of ±20 ms.Digital communication systems typically
time-multiplex associated signal components over a single
channel. Such multiplexing is common among A/V transmission
systems proposed and implemented for cable, fiber, terrestrial
and satellite applications. The time multiplexing of the signal
components may destroy their natural time relationships between
the transmission and display of the information. Therefore, time
critical components of the transmitted component signals may be
associated with a time reference before being multiplexed. This is
referred to as "stamping" the information, and timing samples are
referred to as time stamps. The receiver may then output the
respective components in time relative to their respective time
stamps. However to accomplish this the receiver must maintain a
very precise local time reference, which is synchronous to the
encoder time reference.One reason that the receiver must be tightly coupled
to the time base of the transmitter is to insure that the output of
real time data matches that of the input to the receiver. If the
receiver provides (displays) the data too rapidly, buffers in the
receiver may underflow resulting in an interruption of the output
signal. If the receiver outputs the data too slowly , the buffers
may overflow (assuming finite rate buffers) resulting in a loss of
data.In one proposed system the receiver is synchronized
to the transmitter by supplemental time stamps (system clock
references, SCR) associated with predetermined packets of 
transmitted information. The timing of the capture of the time
stamps, SCR, bear no relation to presentation time stamps (PTS)
which are related to the video data, other than by virtue of being
derived from the same counter. The SCR codes are generated by
sampling a modulo 2N counter (N ≥ 32) which counts a
substantially constant frequency crystal clock at the transmitter.
The receiver incorporates a phase
</DESCRIPTION>
<CLAIMS>
Apparatus for providing synchronized, reproduced audio
and video signals from recovered compressed audio and video

signal, which audio and video signals include respective time
stamps PTSaud and PTSvid determined at predetermined

intervals and related to an encoder system clock, said apparatus
comprising:


a source (200) of said recovered compressed audio and
video signals, and a source (208, 37) of reference frequency;
a counter (36) responsive to said reference frequency
for providing a sequence of values modulo N where N is an

integer;
a video decompression apparatus (214) responsive to said recovered
compressed video signal for providing a decompressed video signal

and said time stamp PTSvid;
an audio decompression apparatus (212) responsive to said recovered
compressed audio signal for providing a decompressed audio signal

and said time stamp PTSaud;
means (222, 217) for capturing values LVS of said
sequence at predetermined times related to the provision of said

time stamps PTSvid and for generating the difference Δ
V-PTS
 of
said values LVS and corresponding time stamps PTSvid; and (220,

218) for capturing values LAS of said sequence at
predetermined times related to the provision of said time stamps

PTSaud and generating the difference Δ
A-PTS
 of said values LAS
and corresponding time stamps PTSaud; and
means (219, 216, 215) responsive to said differences
Δ
V-PTS
 and Δ
A-PTS
 for synchronizing the decompressed audio and
video signals.
The apparatus set forth in claim 1 wherein
said means for synchronizing the decompressed audio and video

signals includes means (216, 212) for skipping/repeating
predetermined intervals of decompressed audio signal responsive

to the difference the between values Δ
V-PTS
 and Δ
A-PTS
 exceeding
a predetermined value.
The apparatus set forth in claim 1 wherein
said means for synchronizing the decompressed audio and video

signals includes means (216,214) for skipping/repeating
predetermined intervals of decompressed video signal responsive

to the difference the between values Δ
V-PTS
 and Δ
A-PTS
 exceeding
a predetermined value.
The apparatus set forth in claim 1 wherein
said decompression apparatus (212) responsive to said recovered

compressed audio signal provides decompressed audio signal at a
rate determined by a processing (215) clock signal and said means

for synchronizing the decompressed audio and video signals
further includes means (216) responsive to the differences

(Δ
V-PTS)
-(Δ
A-PTS)
, for variably adjusting the rate of said
processing clock signal. 
Apparatus for providing synchronized, reproduced audio
and video signals from recovered compressed audio and video

signal, which audio and video signals include respective time
stamps PTSaud and PTSvid determined at predetermined

intervals and related to an encoder system clock, said apparatus
comprising:


a source (200) of said recovered compressed audio and
video signals, and a source (208) of a local clock signal;
a video decompression apparatus (214) responsive to said recovered
compressed video signal for providing a decompressed video signal

and said time stamp PTSvid;
an audio decompression apparatus (212) responsive to said recovered
compressed audio signal for providing a decompressed audio signal

and said time stamp PTSaud;
means (217, 218, 220, 222) for determining, in cycles of said
local clock signal, the time T between occurrences of

corresponding time stamps PTSaud and PTSvid;
means (219) for calculating the difference between values of
corresponding time stamps PTSaud and PTSvid and comparing

such difference with said time T to generate an A/V
synchronization error signal; and
means (215, 216)responsive to said A/V synchronization
error signal for synchronizing the decompressed audio and video

signals.
The apparatus set forth in claim 5 wherein
said means for determining the time T comprises means including

a counter for counting cycles of said local clock signal and
providing a value representing said time T which is equal to the

number of cycles of said clock signal occurring between the
occurrences of said corresponding time stamps PTSaud and

PTSvid.
The apparatus set forth in claim 6 wherein
said means including a counter comprises:


a counter responsive to said local clock signal for providing a
sequence of count values modulo N where N is an integer; and
means responsive to an occurrence of said time stamps
PTSaud for capturing a first count value and responsive to the

occurrence of a corresponding time stamp PTSvid for capturing a
second count value;
a subtractor for determining the difference between said
first and second count values.
The apparatus set forth in claim 5 wherein
said recovered compressed audio and video signal includes system

clock references (SCR's), and said apparatus further includes
means responsive to said system clock references for generating

said local clock signal synchronous with said encoder system clock.
The apparatus set forth in claim 5 wherein
said respective decompression apparatus provides decompressed

video signals in predetermined intervals and decompressed audio
signals in further predetermined intervals, and said means for

synchronizing includes an apparatus responsive to said A/V
synchronization error signal for skipping or repeating ones of said

predetermined intervals of said decompressed audio signals. 
The apparatus set forth in claim 9 wherein
said decompression apparatus for providing decompressed audio

signal includes a source of a processing clock signal for operating
said decompression apparatus and said means for synchronizing

includes a further apparatus responsive to said A/V
synchronization error signal for varying the frequency of said

processing clock signal.
The apparatus set forth in claim 10 wherein
said apparatus for varying the frequency of said processing clock

signal includes a binary rate multiplier.
The apparatus set forth in claim 7 wherein
said respective decompression apparatus provides decompressed

video signals in predetermined intervals and decompressed audio
signals in furth
er predetermined intervals, and said means for
synchronizing includes an apparatus responsive to said A/V

synchronization error signal for skipping or repeating ones of said
predetermined intervals of said decompressed audio signals.
The apparatus set forth in claim 12 wherein
said decompression apparatus for providing decompressed audio

signals includes a source of a processing clock signal for operating
said decompression apparatus and said means for synchronizing

includes a further apparatus responsive to said A/V
synchronization error signal for varying the frequency of said

processing clock signal. 
Apparatus for providing synchronized, reproduced
audio and video signals from recovered compressed audio and

video signals, which audio and video signals include respective
time stamps PTSaud and PTSvid determined at predetermined

intervals and related to an encoder system clock, said apparatus
comprising respective decompression apparatuses for

decompressing said compressed audio and video signals and
producing said time stamps PTSaud and PTSvid; and means

responsive to the occurrence of said time stamps PTSaud and
PTSvid for measuring the time between an occurrence of a PTSaud

and the next occurring PTSvid and adjusting the decompression
rate of at least one of said decompression apparatuses such that the

time between an occurrence of a PTSaud and the next occurring
PTSvid substantially equals the difference in values of said

PTSaud and the next occurring PTSvid.
</CLAIMS>
</TEXT>
</DOC>
