<DOC>
<DOCNO>EP-0626627</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Self-tuning deadtime process controller
</INVENTION-TITLE>
<CLASSIFICATIONS>G05B1302	G05B1302	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G05B	G05B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G05B13	G05B13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A self-tuning deadtime controller for adaptively adjusting one or several controller 
parameters during process control activities. The controller tunes, for example, the controller 

deadtime and the proportional band to optimize deadtime controller performance. The high 
performance of a deadtime controller is maintained even though the controller is incorrectly 

pretuned or if the process is subject to loads which change its characteristics. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
FOXBORO CO
</APPLICANT-NAME>
<APPLICANT-NAME>
THE FOXBORO COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SHINSKEY FRANCIS G
</INVENTOR-NAME>
<INVENTOR-NAME>
SHINSKEY, FRANCIS G.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates generally to process control and, more particularly, to an
improved apparatus for tuning process control equipment according to the characteristics of
the process itself."Process control" refers to the control of the operational parameters of a process by
monitoring one or more of its characteristics over time. It is used to ensure that the quality
and efficiency of a process do not vary substantially during a single run or over the course of
several runs. Process control has application in both the manufacturing and service sectors.
It has particular importance in the process control loop affecting product quality and the
protection of personnel. A process control unit, or "controller", typically operates by monitoring and
comparing a process characteristic, the controlled variable, with a desired setpoint level to
determine whether the process is operating within acceptable bounds. As the controlled
variable begins to deviate from the setpoint, the controller manipulates one of the process
input signals, the manipulated variable, to bring the process back to the desired level of
activity.Among the controllers developed by the art to minimize deviations in the controlled
variable are the so-called proportional-integral-derivative (PID) controllers. These
controllers generate the manipulated variable signal as a predetermined mathematical
function of the controlled variable signal.The output of a PID controller can be expressed by the mathematical relation:
In this equation, m represents the controller-generated manipulated variable, which is
input to the process itself to "manipulate" the process towards its desired setpoint range. The
difference between the controlled variable c and the setpoint r is the error e. The variable P
refers to the proportional band, usually expressed in percent, which establishes the range
whereby a process deviation can occur without saturation. The time-rate derivative
component, dc/dt, operates on the controlled variable with a time constant D. It is afterwards
integrated by positively feeding back the controller output through a lag with a time constant
I.The serial action of the derivative component and feedback integration characterizes a
PID controller. Quick process changes are, it is said, predicted by such controllers through
the derivative time-rate component, dc/dt, inducing initial and large controller actions even
though the actual deviation is small.Another controller developed by the art is the proportional-integral (PI) controller. It
i
</DESCRIPTION>
<CLAIMS>
A deadtime process controller (10) of the type having a
process control section that responds to a controlled variable

signal (c) representative of a first characteristic of a process, and that
generates a manipulated variable signal (m) for application to said process

to manipulate said first characteristic toward a preselected value (r),

wherein said process control includes means for storing one or
more control parameters and for generating said manipulated signal as a

function of said one or more control parameters and said controlled
variable signal, and comprising
self-tuning means (16) responsive to any of said one or more control
parameters, said controlled variable signal and said manipulated

variable signal, characterized in that said self-tuning means monitors at least one of

(i) a recovery time of a deviation error signal (e) associated
with said controlled variable signal
(ii) a waveform period of said manipulated variable signal (m),
and
(iii) a decay ratio of said manipulated variable signal (m)

and iteratively modifies and stores in said process control section
at least one of said control parameters to minimise an integrated

absolute error between said controlled variable signal and a setpoint
for step load process changes introduced by said manipulated variable

signal. 
The deadtime controller (10) of claim 1, in which a waveform period of the manipulated variable signal is monitored, for use with a multi-order and lag-dominant
process, wherein said process control section generates said manipulated variable signal (m) as a

function of a deadtime parameter τ
d
 representative of the controller deadtime and an
integration parameter 
I
 representative of the controller integration time,
wherein said self-tuning means (16) futher comprises:


(i) period measurement means (38) for determining the periodicity τ
o
 of the time
waveform of said manipulated variable signal (m),
(ii) first determination means for responding to said periodicity τ
o
 being less than 1.7
* τ
d
 and for generating a modified controller deadtime τ
d
 having a value of τ
o
/1.7,
and
(iii) a second determination means for responding to said periodicity τ
o
 being greater
than 2 * τ
d
 and for generating a modified controller deadtime τ
d
 having a value of to
τ
o
/C, where C equals 3 
- I
/τ
d
, with an upper limit of 2.5.
The deadtime controller (10) of claim 1, in which a waveform period and a decay ratio of the manipulated variable signal are monitored for use with a first-order process with
high frequency cycling in the time waveform of said manipulated variable signal, wherein 

said process control section (16) generates said manipulated variable signal (m) as a function of a
deadtime parameter τ
d
 representative of the controller deadtime, wherein
said self-tuning means (16) further comprises:


(i) period measurement means (38) for determining the period τ
o
 of said time waveform of
said manipulated variable signal (m),
(ii) first determination means for responding to said period τ
o
 being less than said
controller deadtime τ
d
, and
(iii) decay ratio means for determining whether the decay ratio δ between two
successive wave amplitudes in said time waveform of said manipulated variable

signal (m) is greater than one,

wherein said self-tuning means (16) initiates a first activity when τ
o
 is less than τ
d
 and when δ is
greater than one, said first activity decreasing said controller deadtime τ
d
 as a function of
increasing decay ratio.
The deadtime controller (10) of claim 3 wherein said self-tuning means (16) initiates a
second activity in response to said first activity when δ is greater than one, said second

activity increases said controller deadtime τ
d
 as a function of increasing decay ratio.
The deadtime controller (10) of claim 1 in which a decay ratio of the manipulated variable is monitored, for use with non-self-regulating and
lag-dominant processes, wherein said process control section (16) generates said manipulated

variable signal (m) as a function of a proportional band parameter 
P
 representative of the
controller proportional band percentage, wherein said self-tuning means (16)

further comprises:

(i) storage means for selecting and storing a target decay ratio δ
tgt
, and
(ii) decay ratio means for determining the decay ratio δ of said

manipulated variable signal and determining whether δ is between .3
and .6,

wherein said self-tuning means (16) generates a modified proportional band parameter 
P
 having a
value of 
P
 (1+δ)/(1 + δ
tgt
) when δ is outside the range .3 and .6.
The deadtime controller (10) of claim 1 for use with a process which is predominantly
deadtime, wherein said process control section (16) generates said manipulated variable signal (m) as a 

function of a proportional band parameter 
P
 representative of the controller proportional band
percentage, wherein said self-tuning means (16) further comprises:


(i) overshoot determination means for determining the overshoot Ω of the deviation
error signal waveform by measuring the amplitude of a first peak, 
e
1
, of said
waveform, and measuring a second peak, 
e
2
, of said waveform, and calculating the
overshoot Ω by setting Ω equal to -
e
2
 /
e
1
, said deviation error signal (e) representing the
difference between said controlled variable signal and said preselected value,

wherein said self-tuning means generates a modified proportional band parameter 
P
 having a
value of 
P
 (1 + Ω).
The deadtime controller (10) of claim 1, wherein said process control section (16) generates
said manipulated variable signal (m) as a function of a proportional band parameter 
P

representative of the controller proportional band percentage, wherein said
self-tuning means (16) further comprises:


(i) storage means for selecting and storing a target overshoot Ω
tgt
, and
(ii) overshoot determination means for determining the overshoot Ω of the deviation
error signal waveform by measuring the amplitude of a first peak, 
e
1
, of said
waveform, and measuring a second peak, 
e
2
, of said waveform, and calculating the
overshoot Ω by setting Ω equal to -
e
2
 / 
e
1
, said deviation error signal (e) representing the
difference between said controlled variable signal and said preselected value,

wherein said self-tuning means generates a modified proportional band parameter 
P
 having a
value of 
P
 (1 + Ω - Ω
tgt
).
The deadtime controller (10) of claim 1, in which a recovery time of a deviation error signal is monitored, wherein said process control section (16) generates
said manipulated variable signal as a function of a deadtime parameter τ
d
 and a proportional
parameter 
P
 representative of a controller proportional band percentage,
wherein said self-tuning means (16) further comprises:


(i) storage means for selecting and storing a target recovery time

tgt
, and primary and secondary time constants τ
1
 and τ
2
, and
(ii) recovery determination means for determining the recovery time  of the deviation
error signal (e) waveform by measuring the amplitude of a first peak, 
e
1
, of said
waveform, and measuring after an elapsed time τ
d
 a second value of said waveform, 

e
t
 , and calculating the recovery  by setting  equal to 1/(1 - 
e
t
/(0.6
e
1
)), said
deviation error signal (e) representing the difference between said controlled variable

signal (c) and said preselected value,

wherein said self-tuning means (16) generates a modified proportional band parameter 
P

having a value of 
P
/(1 + 
k
2
 ( - 
tgt
)
1.5
), where 
k
2
 = 0.5(1 + τ
2
/τ
d
)(1-
T
) and

T =
 τ
d
/(τ
d
 +τ
1
+ τ
2
)
.
The deadtime controller (10) of claim 1, wherein either:

A) said process control section (16) generates
said manipulated variable signal (m) as a function of a proportional band parameter 
P

representative of the controller proportional band percentage, and wherein said
self-tuning means (16) further comprises:


(i) overshoot determination means for determining the overshoot Ω of the deviation
error signal (e) waveform by measuring the amplitude of a first peak, 
e
1
, of said
waveform, and measuring the second peak, 
e
2
, of said waveform, and calculating the
overshoot Ω by setting Ω equal to -
e
2
 / 
e
1
, said deviation error signal (e) representing the
difference between said controlled variable signal and said preselected value,

wherein said self-tuning means (16) generates a modified proportional band parameter 
P
 having a
value of 
P/
(1 + 6Ω), or
B) wherein said self-tuning means (16) monitors a recovery time of a deviation error signal and
further comprises:


(i) overshoot determination means for determining the overshoot Ω of the deviation
error signal (e) by measuring the amplitude of a first peak, 
e
1
, of said waveform, and
measuring a second peak, 
e
2
, of said waveform and calculating the overshoot Ω by
setting Ω to 
-e
2
/e
1
,
 said deviation error signal (e) representing the difference between
said controlled variable signal (c) and said preselected value,
(ii) recovery determination means for determining the recovery time  of said
deviation error signal (e) waveform, said recovery time measured as the time between

when said controlled variable signal (c) reaches a peak deviation from said preselected
value of said process due to a load disturbance insert to said process, and when said

controlled variable signal (c) is expected to return to said preselected value, and 
(iii) storage means for selecting and storing a target recovery value 
tgt
 and a target
overshoot value Ω
tgt
, said target recovery and said target overshoot values
representing desired operational target values to achieve a minimum integrated

absolute error in the step-load response of said deviation error signal (e),

said self-tuning section (16) comparing  and Ω with respective target values 
tgt
 and Ω
tgt
,
said self-tuning means (16) modifying at least one of said control parameters on the basis of said

comparisons ; in which case, optionally,

   said self-tuning means further
comprises:


(i) overshoot-recovery rule selection means for storing a two-dimensional matrix of
measurable values of Ω and , said measurable values corresponding to one or more

tuning rules to adjust one or more of said controller parameters,

wherein said self-tuning section (16) measures Ω and  selects the corresponding tuning rule to
adaptively adjust said controller parameters. ; or

   said process control section (16) generates
said manipulated variable signal as a function of a controller deadtime parameter τ
d
, an
integral time parameter 
I
, and a derivative time parameter 
D,
 and wherein said
self-tuning means (16) further comprises pretuning means for selectively modifying each of said

controller parameters prior to control of said process ; in which case, optionally,

   wherein said self-tuning
means (16) further comprises:


(i) 
I
-ratio means for storing the 
I
-ratio, 
I
/τ
d
, prior to the control of said process and for

automatically adjusting said 
I
 parameter during process control activities to maintain
said 
I
-ratio, and
(ii) 
D
-ratio means for storing the 
D
-ratio, 
D
/τ
d
, prior to the control of said process and
for automatically adjusting said 
D
 parameter during process control activities to
maintain said 
D
-ratio.
A method for tuning a deadtime process controller, said controller of the type which
responds to a controlled variable signal representative of a first characteristic of a process,

and that generates a manipulated variable signal for application to said process to manipulate 
said first characteristic towards a preselected value, said manipulated variable signal

generated as a function of one or more control parameters stored within said controller and as
a function of said controlled variable signal, and characterized by the step of 

monitoring at least one of

(i) a recovery time of a deviation error (e) signal associated
with said controlled variable signal,
(ii) a waveform period of said manipulated variable signal (m),
and
(iii) a decay ratio of said manipulated variable signal (m),

and iteratively modifying at least one of said control parameters during
process control activities to minimize an integrated absolute error

between said controlled variable signal and a setpoint for step load
process changes introduced by said manipulated variable signal and,

thereby, to control said process according to 
the behaviour of said manipulated variable signal and said controlled variable signal, and optionally, either:


A) wherein said deadtime controller is of the type that
generates said manipulated variable signal as a function of a deadtime parameter τ
d

representative of the controller deadtime, and comprising the further steps of:

A. measuring the periodicity τ
o
 of the manipulated variable signal output waveform,
B. determining whether said periodicity is less than 1.7 * τ
d
, and
C. modifying said controller deadtime τ
d
 to
 τ
o
/1.7 if τ
o
 is less than 1.7 τ
d
 ; or
B) wherein said deadtime controller is of the type that
generates said manipulated variable signal as a function of a deadtime parameter τ
d

representative of the controller deadtime, and comprising the further steps of:

A. measuring the periodicity τ
o
 of the manipulated variable signal output waveform,
B. determining whether said periodicity is more than 2.0 * τ
d
, and
C. modifying said controller deadtime τ
d
 to τ
o
/C if τ
o
 exceeds 2.0 * τ
d
, where C
equals 3 - 
I
/τ
d
 with an upper limit of 2.5 ; or
C) comprising the further steps of:

A. analyzing the successive wave amplitudes in the time waveform of said
manipulated variable signal to determine a decay ratio, and
B. modifying at least one of said parameters according to said decay ratio.; or
D) comprising the further steps of:

A. analyzing the deviation error signal during process control disturbances to
determine an overshoot value, said deviation error signal representing the difference between

said controlled variable signal and said preselected value, and 
B. modifying at least one of said parameters according to said overshoot value.; or
E) comprising the further steps of:

A. analyzing the deviation error signal during process control activities to determine
the recovery time, said deviation error signal representing the difference between said

controlled variable signal and said preselected value, and
B. modifying at least one of said parameters according to said recovery time; or
F) wherein said deadtime controller is of the type that
generates said manipulated variable signal as a function of a deadtime parameter τ
d
,
and comprising the steps of:


A. determining whether the oscillations in said manipulated variable signal are
expanding or contracting,
B. modifying said the parameter τ
d
 in first direction if said oscillations are
expanding,
C. determining the decay ratio of the time waveform of said manipulated variable
signal by analyzing and measuring the peak wave amplitudes of said time waveform, and
D. modifying said parameter τ
d
 in a direction opposite to said first direction if said
oscillations are expanding.
</CLAIMS>
</TEXT>
</DOC>
