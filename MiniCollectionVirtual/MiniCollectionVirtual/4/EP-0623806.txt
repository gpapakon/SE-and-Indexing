<DOC>
<DOCNO>EP-0623806</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for calibrating a vehicle compass system
</INVENTION-TITLE>
<CLASSIFICATIONS>G01C1730	G01C1700	G01C1738	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01C	G01C	G01C	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01C17	G01C17	G01C17	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A vehicle compass system comprises magnetic sensing means 
including a magnetic sensing device having first and second 

sensing coils positioned within the vehicle and adapted for 
producing first and second output signals (VDFAS, VDLAS) that 

vary in accordance with changes in the directional heading of 
the vehicle, a control circuit including a microcomputer for 

producing first and second compensation signals (NFC, NLC) that 
are supplied to said first and second sensing coils, respectively, 

to compensate for the remnant magnetic fields associated 
with the vehicle and for processing said first and second output 

signals (VDFAS, VDLAS) from said magnetic sensing means and 
determining therefrom the heading direction of the vehicle and 

producing display output signals that are supplied to a display 
means adapted to display the heading direction (VHEAD) of the 

vehicle. The improvement comprises memory means for storing 
predetermined values (VFCAL, VLCAL) corresponding to the desired 

values for said first and second output signals (VDFAS, VDLAS) 
when the vehicle is positioned in a single predetermined location 

and orientation as well as initiation means for initiating a 
calibration process when the vehicle is in said predetermined 

location and orientation. Said microcomputer is programmed to 
be responsive to said initiation means for calibrating the 

compass system by reading said desired values (VFCAL, VLCAL) 
from said memory means and generating appropriate compensation 

signals (NFC, NLC) for both of said first and second sensing 
coils to cause the actual output signals (VDFAS, VDLAS) from 

said magnetic sensing means to bear a predetermined relationship 
to said desired values (VFCAL, VLCAL), and storing the values 

of said appropriate compensation signals (NFC, NLC). 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
LECTRON PRODUCTS
</APPLICANT-NAME>
<APPLICANT-NAME>
LECTRON PRODUCTS, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MICHAELS PAUL A
</INVENTOR-NAME>
<INVENTOR-NAME>
SPITZ ROBERT F
</INVENTOR-NAME>
<INVENTOR-NAME>
SUPINSKY JOSEPH F
</INVENTOR-NAME>
<INVENTOR-NAME>
MICHAELS, PAUL A.
</INVENTOR-NAME>
<INVENTOR-NAME>
SPITZ, ROBERT F.
</INVENTOR-NAME>
<INVENTOR-NAME>
SUPINSKY, JOSEPH F.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a vehicle compass
system comprising magnetic sensing means including a magnetic
sensing device having first and second sensing coils
positioned within the vehicle and adapted for producing first
and second output signals to vary in accordance with changes
in the directional heading of the vehicle, the control
circuit including a microcomputer for processing said first
and second output signals from said magnetic sensing means
and determining therefrom the heading direction of the
vehicle and producing display output signals that are
supplied to a display means adapted to display the heading
direction of the vehicle.The invention further relates to a method of calibrating
a vehicle compass system comprising a magnetic sensing device
having first and second sensing coils positioned within the
vehicle and adapted for producing output signals that vary in
accordance with changes in the directional heading of the
vehicle, a control circuit including signal processing means
for processing the output signals from the sensing coils and
producing corresponding actual sensor signals, memory means
and a microcomputer for determining from said actual sensor
signal the heading direction of the vehicle and producing
display output signals that are supplied to a display means
adapted to display the heading direction of the vehicle.Such a vehicle compass system and such a method of calibrating
a vehicle compass system are known from US-A-4,546,551. The present invention relates generally to a vehicle compass and, in particular, to an improved
method and apparatus for calibrating a vehicle compass.Digital compasses for vehicles typically employ a magnetic sensor, such as a flux-gate
sensor, that comprises two orthogonally disposed sensing coils. The sensor is mounted in
the vehicle so that one of the sensing coils is oriented along the longitudinal axis of the
vehicle and the other sensing coil is oriented transversely or laterally relative to the vehicle's
axis. The heading direction of the vehicle is determined by analyzing the sensor's response
from the two orthogonally disposed sensing coils and computing the resulting radius vector.It has long been recognized that vehicles exhibit their own unique remanent magnetic
fields which distort the output of a magnetic sensor. In addition, the metal body structure of
a vehicle also distorts the earth's magnetic field in the vicinity of the compass sensor.
Accordingly, in order to obtain a true indication of vehicle direction, it is necessary
</DESCRIPTION>
<CLAIMS>
A vehicle compass system comprising magnetic sensing
means including a magnetic sensing device (14) having first

and second sensing coils (14F, 14L) positioned within the vehicle
and adapted for producing first and second output signals (VDFAS,

VDLAS) that vary in accordance with changes in the directional
heading (VHEAD) of the vehicle, a control circuit including

a microcomputer (12) for processing said first and second output
signals (VDFAS, VDLAS) from said magnetic sensing means and

determining therefrom the heading direction (VHEAD) of the
vehicle and producing display output signals (50) that are

supplied to a display means adapted to display the heading
direction (VHEAD) of the vehicle, characterized by:

   memory means (60) for storing predetermined values (VFCAL,
VLCAL) corresponding to the desired values for said first and

second output signals (VDFAS, VDLAS) when the vehicle is
positioned in a single predetermined location and orientation;

initiation means for initiating a calibration process when the
vehicle is in said predetermined location and orientation; and

wherein said microcomputer (12) is programmed to be responsive
to said initiation means for calibrating the compass system

by reading said desired values (VFCAL, VLCAL) from said memory

means (60), determining the differences between said desired
values (VFCAL, VLCAL) and said first and second output signals

(VDFAS, VDLAS) from said magnetic sensor means when the vehicle
is positioned in said predetermined location and orientation,

and using said differences to correct said display output
signals (50). 
The vehicle compass system of claim 1, characterized
in that said computer is programmed to produce appropriate

compensation signals (NFC, NLC) for both of said first and second
sensing coils (14F, 14L) to cause the actual output signals

(VDFAS, VDLAS) from said magnetic sensing means to bear a
predetermined relationship to said desired values (VFCAL, VLVAL),

and to store the values of said appropriate compensation signals
(NFC, NLC).
The vehicle compass system of claim 1 or claim 2,
characterized in that said initiation means comprises manually

actuable switch means associated with said display means for
producing a calibration signal that is supplied to said microcomputer

(12).
The vehicle compass system of claim 3, characterized
in that said desired values (VFCAL, VLCAL) for said first and

second output signals (VDFAS, VDLAS) stored in said memory means
(60) correspond to the vehicle heading (VHEAD) at a predetermined

relatively magnetically stable location in the assembly plant
where the vehicle is assembled.
The vehicle compass system of claim 1 or claim 2,
characterized in that said initiation means is responsive to

the occurrence of a uniquely definable event which happens during
the final assembly of the vehicle at a defined location on the

assembly line where the vehicle is assembled.
The vehicle compass system of claim 5, characterized
in that said uniquely definable event comprises the initial

start-up of the vehicle engine and engagement of the vehicle
transmission, and said initiation means includes means for

detecting an operating condition related to the speed of the
vehicle. 
The vehicle compass system of claim 5, characterized
in that said desired values (VFCAL, VLCAL) for said first and

second output signals (VDFAS, VDLAS) stored in said memory means
(60) correspond to the vehicle heading (VHEAD) at said defined

location on the assembly line.
The vehicle compass system of claim 2, characterized
in that said microcomputer (12) is further programmed to store

in said memory means (60) the values of said appropriate
compensation signals (NFC, NLC).
The vehicle compass system of claim 1, characterized
in that said microcomputer (12) is further programmed to store

said differences in said memory means (60).
The vehicle compass system of claim 2, characterized
in that said computer is further programmed to determine the

actual gain factor (KNVFQ, KNVLQ) of the signal processing
circuitry used to process the output signals (VDFAS, VDLAS)

from the sensing coils (14L, 14F), adjust the value of the
desired sensor signal value (VFCAL, VLCAL) in accordance with

the difference between the actual gain factor (KNVFQ, KNVLQ)
and a predetermined desired gain factor, and then generate said

appropriate compensation signal (NFC, NLC).
The vehicle compass system of claim 10, characterized
in that said microcomputer (12) is programmed to determine said

actual gain factor (KNVFQ, KNVLQ) by making a predetermined
change in the value of said compensation signal (NFC, NLC) and

determining the magnitude of the resulting change in the value
of said one actual sensor signal (VDFAS, VDLAS) caused thereby. 
A method of calibrating a vehicle compass system
comprising a magnetic sensing device (14) having first and second

sensing coils (14F, 14L) positioned within the vehicle and
adapted for producing output signals (VDFAS, VDLAS) that vary

in accordance with changes in the directional heading (VHEAD)
of the vehicle, a control circuit including signal processing

means for processing the output signals (VDFAS, VDLAS) from
the sensing coils (14F, 14L) and producing corresponding actual

sensor signals, memory means (60) and a microcomputer (12) for
determining from said actual sensor signals (VDFAS, VDLAS) the

heading direction (VHEAD) of the vehicle and producing display
output signals (50) that are supplied to a display means adapted

to display the heading direction (VHEAD) of the vehicle;
characterized by the steps of:


selecting a relatively magnetically stable location along
the final portion of the assembly line where the vehicle is

assembled;
storing in said memory means (60) predetermined values
(VFCAL, VLCAL) corresponding to the desired values (VFCAL, VLCAL)

for said actual sensor signals (VDFAS, VDLAS) when the vehicle
is located at said selected location; and
initiating a calibration process when the vehicle reaches
said selected location, said calibration process comprising

the further step of obtaining the actual sensor signals (VDFAS,
VDLAS) for both of said first and second sensing coils (14F,

14L), comparing said actual sensor signals (VDFAS, VDLAS) to
said desired values (VFCAL, VLCAL), and correcting said display

output signals (50) in accordance with the differences between
said actual sensor signals (VDFAS, VDLAS) and said desired values

(VFCAL, VLCAL).
The method of claim 12, characterized in that said
microcomputer (12) produces first and second compensation signals

(NFC, NLC) that are supplied to said first and second sensing
coils (14F, 14L) respectively to compensate for the remnant

magnetic fields associated with the vehicle, and that said
calibration process comprises the further step of adjusting

the values of both of said compensation signals (NFC, NLC) until
said actual sensor signals (VDFAS, VDLAS) bear a determinable

relationship to said desired values (VFCAL, VLCAL).
The method of claim 13, characterized in that said
signal processing means has associated therewith an actual gain

factor (KNVFQ, KNVLQ), and that said adjusting step includes
the step of determining said actual gain factor (KNVFQ, KNVLQ)

of said signal processing means, adjusting said desired values
(VFCAL, VLCAL) in accordance with the difference between said

actual gain factor (KNVFQ, KNVLQ) and a predetermined gain
factor, and generating appropriate compensation signals (NLC,

NFC) for both of said first and second sensing coils (14F, 14L)
to cause said actual sensor signals (VDFAS, VDLAS) to correspond

to said adjusted desired values (VFCAL, VLCAL).
The method of claim 12, characterized in that said
signal processing means has associated therewith an actual gain

factor (KNVFQ, KNVLQ), and that said correcting step includes
the steps of determining said actual gain factor (KNVFQ, KNVLQ)

of said signal processing means, adjusting said desired values
(VFCAL, VLCAL) in accordance with the differences between said

actual gain factor (KNVFQ, KNVLQ) and a predetermined gain
factor, and correcting said display output signals (50) in

accordance with the differences between said actual sensor
signals (VDFAS, VDLAS) and said adjusted desired values (VFCAL,

VLCAL). 
The method of claim 14, characterized in that said
step of determining said actual gain factor (KNVFQ, KNVLQ)

includes the step of making a predetermined change in the values
of said compensation signals (NLC, NFC), and determining the

magnitude of the resulting changes of the values of said actual
sensor signals (VDFAS, VDLAS) caused thereby.
The method of claim 12 or claim 13, characterized
in that said initiating step comprises detecting the occurrence

of a uniquely definable event which happens during the final
assembly of the vehicle and automatically initiating said

calibration process in response thereto.
The method of claim 17, characterized in that said
uniquely definable event comprises the initial start-up of the

vehicle engine.
</CLAIMS>
</TEXT>
</DOC>
