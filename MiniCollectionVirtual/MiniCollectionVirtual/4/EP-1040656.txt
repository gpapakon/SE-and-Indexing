<DOC>
<DOCNO>EP-1040656</DOCNO> 
<TEXT>
<INVENTION-TITLE>
APPARATUS AND METHOD FOR LOCATING A COMMERCIAL DISPOSED WITHIN A VIDEO DATA STREAM
</INVENTION-TITLE>
<CLASSIFICATIONS>H04H6059	G11B2710	G11B2728	G11B2728	H04N5782	H04N5782	H04N591	G11B2710	H04N576	H04N1700	H04N1700	H04N576	H04N514	H04H100	H04N514	H04N591	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04H	G11B	G11B	G11B	H04N	H04N	H04N	G11B	H04N	H04N	H04N	H04N	H04N	H04H	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04H60	G11B27	G11B27	G11B27	H04N5	H04N5	H04N5	G11B27	H04N5	H04N17	H04N17	H04N5	H04N5	H04H1	H04N5	H04N5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A commercial detection apparatus includes a frame grab thread which acquires frames from an input data stream to be analyzed by a cut detector thread and a filter thread. A commercial detection thread determines whether a commercial has occurred from data created by the cut detector thread and the filter thread stored in a memory. A factor used by the commercial detection thread is whether a black frame has occurred. The input data stream is divided into a plurality of regions and then a maximum and minimum value for a section of these regions is determined and compared to one another. If the maximum and minimum values are close enough, and the maximum value is below a threshold, then the frame is deemed to be black. The commercial detection thread also looks at the average cut frame distance, cut rate, changes in the average cut frame distance, the absence of a logo, a commercial signature detection, brand name detection, a series of black frames preceding a high cut rate, similar frames located within a specified period of time before a frame being analyzed and character detection. During playback, the detected commercials are either skipped or substituted with alternate content.
</ABSTRACT>
<APPLICANTS>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
This invention relates to the field of video recording and playback systems. Specifically, this invention relates to a method and apparatus for locating a commercial within a video data stream.Television programs are commonly recorded through the use of a Video Cassette Recorder ("VCR"). Recordation allows a user to either view a program at a later time or to simultaneously watch a program and retain a copy of it to view at a later time. When a VCR is used to create a copy of the program to be viewed at a later time, many users are not interested in the content of commercials or promotions that are interposed within the television program. Such a user generally skips through these commercials manually.A device designed to perform skipping autonomically, such as U.S. Patent 5,151,788 to Blum, cues the VCR to stop recording upon the occurrence of a "black frame". A black frame is usually found immediately before and after a commercial segment. Such a device also discerns a change in "activity" of the images that are displayed on the screen. An activity is the rate of change in the luminance level between two different sets of frames. Commercials are generally filled with "activity". When a low amount of activity is detected, the commercial is deemed to have ended. A resumption in recording follows.Unfortunately, an "activity" is not well defined and, therefore, it is difficult to determine exactly when an activity begins or ends. Any black screen will stop the VCR from recording. As long as there is subsequent "activity", the device will assume the presence of a commercial. Consequently, a black screen followed by an action sequence in a program can be misjudged and skipped as a commercial. Alternatively, a slow-paced commercial might be misjudged and recorded as a program.Another technique for identifying a black frame such as disclosed in U.S. Patent 4.314.285 by Bonner et al., senses a drop in the voltage level of the input signal below a threshold. Yet another technique, such as disclosed in U.S. Patent 5,333,091 by Iggulden et al., is to record the entire program including any commercials. A notation is made whenever a black frame is broadcast. After recordation, a processor determines whether the time period in between black frames was a commercial or a program. This is accomplished by a simple formula. If the time period is less than 5 minutes, it's deemed to be a commercial. During playback, the device fast-forwards the tape past the areas determined to be commercials. Since the device must
</DESCRIPTION>
<CLAIMS>
A home information appliance for detecting at least a portion of a commercial within a video data stream divided into a plurality of frames, comprising means for executing the steps of:

- determining a first value representing either the respective number of frames or the respective time between a first frame with a cut and a previous frame with a cut;
- determining a second value representing the number of cuts between said previous and first frames; and
- identifying the occurrence of a portion of a commercial based on an average cut frame distance, said average cut frame distance being calculated as the quotient of the two values.
A home information appliance as claimed in claim 1, further comprising means for executing the steps of:

- calculating a quotient which includes the first value as a numerator and the second value as a denominator; and
- comparing said quotient to a cut frame distance threshold, and

wherein identifying the occurrence of a portion of a commercial based on said first and second values comprises identifying the occurrence of the portion of the commercial based upon said step of comparing.
A home information appliance as claimed in claim 1 or 2, further comprising means for executing the step of:

- determining a change of the second value relative to the first value, and wherein identifying the occurrence of a portion of a commercial based on said first and second values comprises identifying the occurrence of the portion of the commercial based on said change.
A method for identifying commercials within a video data stream divided into a plurality of frames, comprising the steps of:
- determining a first value representing either the respective number of frames or the respective time between a first frame with a cut and a previous frame with a cut;
- determining a second value representing the number of cuts between said previous and first frames; and
- identifying the occurrence of a portion of a commercial based on an average cut frame distance, said average cut frame distance being calculated as the quotient of the two values.
A method as claimed in claim 4, further comprising the steps of:

- calculating a quotient which includes the first value as a numerator and the second value as a denominator; and
- comparing said quotient to a cut frame distance threshold, and wherein identifying the occurrence of a portion of a commercial based on said first and second values comprises identifying the occurrence of the portion of the commercial based upon said step of comparing.
A method as claimed in claim 4 or 5, further comprising the step of:

- determining a change of the second value relative to the first value, and wherein identifying the occurrence of a portion of a commercial based on said first and second values comprises identifying the occurrence of the portion of the commercial based on said change.
</CLAIMS>
</TEXT>
</DOC>
