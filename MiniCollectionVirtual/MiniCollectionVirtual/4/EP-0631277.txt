<DOC>
<DOCNO>EP-0631277</DOCNO> 
<TEXT>
<INVENTION-TITLE>
ID-less data sector format and data controller for disk drive.
</INVENTION-TITLE>
<CLASSIFICATIONS>G11B2010	G11B2010	G11B2012	G11B2012	G11B2110	G11B2110	G11B2710	G11B2710	G11B2730	G11B2730	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	G11B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G11B20	G11B20	G11B20	G11B20	G11B21	G11B21	G11B27	G11B27	G11B27	G11B27	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A disk drive achieves increased data storage capacity and circuit 
simplification by eliminating data identification fields at the beginning of each 

data block location defined in concentric data storage tracks of a rotating 
storage disk. A transducer head for writing and reading data blocks is 

positioned over selected tracks by a positioning mechanism. A head position 
servo control loop uses a plurality of equally spaced apart servo sectors which 

interrupt the data blocks in user data segments between adjacent servo sectors. 
The data blocks are located by dividing the user data segment into a 

predetermined number of data value location count increments, determining a 
count value corresponding to the beginning of the data block location, detecting 

a starting location of the user data segment in relation to an adjacent preceding 
servo sector, counting the data value location increments, comparing the data 

value location increments with the count value to determine an equivalence, 
and thereupon enabling a data transfer gate for transferring a data record to or 

from the data block location. Methods and apparatus for locating and bypassing 
servo sectors which split a data block into parts without loss of data block 

position are also disclosed. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
QUANTUM CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
QUANTUM CORP
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
AKIN WILLIAM R JR
</INVENTOR-NAME>
<INVENTOR-NAME>
CRUZ AURELIO J
</INVENTOR-NAME>
<INVENTOR-NAME>
RAAB MICHAEL L
</INVENTOR-NAME>
<INVENTOR-NAME>
RICHMOND SCOTTE
</INVENTOR-NAME>
<INVENTOR-NAME>
AKIN WILLIAM R JR
</INVENTOR-NAME>
<INVENTOR-NAME>
CRUZ AURELIO J
</INVENTOR-NAME>
<INVENTOR-NAME>
RAAB MICHAEL L
</INVENTOR-NAME>
<INVENTOR-NAME>
RICHMOND SCOTTE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present application is a continuation-in-part of U.S. Patent 
Application Serial No. 08/081,436, filed on June 22, 1993, now abandoned. This invention relates to a disk drive data storage format and a 
method and apparatus for locating data records. More particularly, the present 
invention relates to a disk drive data storage format in which user data record 
fields are split into segments by embedded servo sectors and wherein 
identification fields have been eliminated from the data record fields, in order to 
increase the data storage space available on the recording surface of the disk, 
and to methods and apparatus for tracking locations of the data record fields 
without identification fields. User data records are conventionally recorded as fixed-length 
blocks or "sectors" within data record fields defined in concentric data tracks 
formed on storage surfaces of rotating magnetic data storage disks. Rotating 
disks may be of a flexible plastic substrate. Such disks are known as "floppy" 
disks. Rotating data storage disks may also be formed on a rigid substrate of 
metal alloy or glass, for example. Such disks are known as "hard disks". Hard 
disks may be removable; most frequently, hard disks are fixed within a head 
and disk assembly in an enclosed, contamination-free environment. Typically, disk drives include a data transducer which is positioned 
over the data surface by a head positioning mechanism, known as an 
"actuator". The actuator may be powered by a detent or step motor which 
defines stable incremental rotational positions. Step motors are frequently 
employed in floppy disks. For hard disks, the actuator typically is powered by a 
moving voice coil which is within a head position servo control loop. The servo 
control loop obtains position information relative to present head position and 
other operating parameters, controls repositioning the head from one track to 
another during track seeking operations, and also controls maintaining head 
position at a selected track centerline during track following operations. Rotary 
voice coil actuators are presently preferred in small form factor Winchester hard 
disk drives.  While there are a number of ways to provide head position 
information to the servo control loop, one technique which is growing in 
popularity is to provide a series of embedded servo sectors which are placed 
between user data segments circumferentially about the data storage surface. 
The servo sectors radiate outward from a central axis of the disk in a
</DESCRIPTION>
<CLAIMS>
1. In a disk drive architecture including a rotating data storage 
disk, a positionable transducer for reading data from and writing data to a 

storage surface of the disk, the transducer being positioned by a head 
positioner servo loop, the storage surface including a multiplicity of servo 

sectors prerecorded with head positioning information read by the head for the 
servo loop for locating desired ones of an available multiplicity of concentric 

data tracks, each track having a series of data blocks at least some of which 
being split into segments by ones of the servo sectors in accordance with a 

predetermined pattern, and wherein the data tracks are recorded at a different 
data rate than said head positioning information and do not include data 

identification fields, apparatus for determining a location of a particular data 
block comprising: 

   a data segment counter means for counting a predetermined 
number of count increments including a data track segment lying between two 

adjacent servo sectors, 
   block location circuit means for determining a block location 

starting count value within the data track segment corresponding to a beginning 
of the particular data block, 

   comparison means for comparing the count of the data segment 
counter means with the starting count value of the block location circuit means 

to detect the beginning of the particular data block, 
   data transfer control means in a signal path between the data 

transducer head and a buffer memory for controlling transfer of user information 
in the particular data block between the buffer memory and the desired data 

block location in response to detection of the beginning thereof. 
2. The disk drive architecture set forth in claim 1 wherein the 
block location circuit means includes the buffer memory and block values in 

accordance with the predetermined pattern are recorded in the buffer memory, 
and the block location circuit means includes block format retrieval means for 

retrieving a block format from a known location of the buffer memory for the 
particular data block. 
3. The disk drive architecture set forth in claim 1 wherein the 
block location circuit means includes format calculator means for calculating the 

block location starting count value corresponding to the beginning of the 
particular data block. 
4. The disk drive architecture set forth in claim 1 further 
comprising data block counter means for counting data value increments 

defining a length of the particular data block. 
5. The disk drive architecture set forth in claim 2 further 
comprising servo sector decoding means for detecting an occurrence of each 

servo sector, and for decoding at least some of the head positioning information 
read by the head, the servo sector decoding means providing control values 

including a once-per-revolution index signal and a servo sector wedge control 
signal to the data transfer control means. 
6. The disk drive architecture set forth in claim 5 further 
comprising servo sector decoding means for detecting an occurrence of each 

servo sector, and for decoding a servo sector number within the head 
positioning information read by the head, the servo sector decoding means for 

providing the servo sector number to a comparison circuit for comparing the 
servo sector number read from the servo sector with a servo sector number 

counter for counting each servo sector in response to the servo sector wedge 
control signal, the servo sector number counter being reset by the once-per-revolution 

index signal. 
7. The disk drive architecture set forth in claim 5 wherein a said 
servo sector interrupts the desired data block and further wherein the data 

transfer control means responds to the servo sector wedge control signal for 
stopping the data block counter means from counting data value increments 

during said servo sector. 
8. The disk drive architecture set forth in claim 7 wherein the 
data segment counter means comprises a servo sector counter within the head 

positioner servo loop for counting increments at a data transfer rate associated 
with said head positioning information, and further comprising a prewedge 

register means for holding a prewedge increment value reached by the servo 
sector counter before arrival at the next servo sector, and comparison means for 

comparing each count increment of the servo sector counter with the prewedge 
increment value and signalling an equivalence to the data transfer control 

means. 
9. The disk drive architecture set forth in claim 1 wherein the 
data transfer control means includes a format counter clocked at a data transfer 

rate associated with the particular block and reset means for resetting the format 
counter when it reaches a count marking the end of the particular data block. 
10. The disk drive architecture set forth in claim 9 wherein the 
count marking the end of the particular block is a fixed count length for all data 

blocks. 
11. The disk drive architecture set forth in claim 9 wherein the 
count marking the end of the particular block is a variable count, and further 

comprising determining means for determining the variable count on a block by 
block basis. 
12. The disk drive architecture set forth in claim 9 further 

including embedded programmed microcontroller means having direct access 
to the format counter to read the count thereof in order to locate a data value 

position within the particular data block. 
13. The disk drive architecture set forth in claim 4 wherein each 
data block includes a data address mark field at the beginning thereof, and 

further comprising data address mark detector means for detecting the data 
address mark and for thereupon resetting the data block counter means. 
14. The disk drive architecture set forth in claim 9 wherein each 
data block includes a data address mark field at the beginning thereof, and 

wherein the reset means includes data address mark detector means for 
detecting the data address mark and for thereupon resetting the format counter. 
15. In a disk drive architecture including a rotating data storage 
disk, a positionable transducer for reading data from and writing data to a 

storage surface of the disk, the transducer being positioned by a head 
positioner servo loop, the storage surface including a multiplicity of servo 

sectors prerecorded with head positioning information read by the head for the 
servo loop for locating desired ones of a multiplicity of concentric data tracks, 

each track having a series of data blocks at least some of which being split into 
segments by ones of the servo sectors in accordance with a predetermined 

pattern, the servo loop including a servo sector decoder means for decoding the 
head positioning information in the servo sectors and for marking in time the 

location of each servo sector, and wherein the data tracks are recorded at a 
data rate different than a rate of said head positioning information and do not 

include data identification fields, apparatus for determining a location of each 
data block comprising: 

   an internal counter means responsive to the servo decoder means 
for counting a predetermined number of count increments including a data track 

segment lying between two adjacent servo sectors,
 

   block location circuit means for determining a block location 
starting count value within a segment corresponding to a beginning of a desired 

data block location, 
   comparison means for comparing the count of the data segment 

counter means with the starting count value of the block location circuit means 
to detect the beginning of the desired data block location, 

   data transfer control means in a signal path between the data 
transducer head and a buffer memory for controlling transfer of a data block 

between the buffer memory and the desired data block location in response to 
detection of the beginning thereof. 
16. The disk drive architecture set forth in claim 15 wherein the 
head positioning information in the servo sectors includes a servo address 

mark, wherein the servo sector decoder means detects the servo address mark 
and puts out a servo address mark found signal to restart the data segment 

counter means. 
17. The disk drive architecture set forth in claim 16 wherein the 
data segment counter means includes automatic reset means for automatically 

resetting the data segment counter means to a predetermined value when a 
predetermined maximum count is reached therein in lieu of reception of the 

servo address mark found signal. 
18. The disk drive architecture set forth in claim 15 wherein the 
block location circuit means includes the buffer memory and block values in 

accordance with the predetermined pattern are recorded in the buffer memory, 
and the block location circuit means includes block format retrieval means for 

retrieving a block format from a known location of the buffer memory for the 
desired block location. 
19. The disk drive architecture set forth in claim 15 wherein the 
block location circuit means includes format calculator means for calculating the 

block location starting count value corresponding to the beginning of the 
desired data block. 
20. The disk drive architecture set forth in claim 15 further 
comprising data block counter means for counting data value increments 

defining a length of the desired data block location. 
21. The disk drive architecture set forth in claim 15 wherein the 
intemal counter means comprises a data format counter which counts the user 

data segment at a rate related to data transfer rate of the data block. 
22 The disk drive architecture set forth in claim 15 wherein the 
internal counter means comprises a servo sector counter which counts a servo 

sector to servo sector interval at a rate related to a data transfer rate of the head 
positioning information. 
23. A disk drive architecture including a rotating data storage disk, 
a positionable transducer for reading data from and writing data to a storage 

surface of the disk, the transducer being positioned by a head positioner servo 
loop, the storage surface including a multiplicity of servo sectors prerecorded 

with head positioning information read by the head for the servo loop for 
locating desired ones of an available multiplicity of concentric data tracks, each 

track having a series of data blocks at least some of which being split into 
segments by ones of the servo sectors in accordance with a predetermined 

pattern, and wherein the data tracks are recorded at a different data rate than 
said head positioning information and do not include data identification fields, 

embedded programmed microcontroller means for controlling the head position 
servo loop and data transfer to and from the storage surface, and buffer memory 

means for temporarily holding data blocks and information related to data block 
format, the architecture further including circuitry for determining a location of a 

particular data block comprising: 
   a data segment counter means for counting a predetermined 

number of count increments including a data track segment lying between two 
adjacent servo sectors, 

   block location circuit means responsive to data block format stored 
within the buffer memory means, for determining a block location starting count 

value within the data track segment corresponding to a beginning of the 
particular data block, 

   comparison means for comparing the count of the data segment 
counter means with the starting count value of the block location circuit means 

to detect the beginning of the particular data block, 
   data transfer control means in a signal path between the data 

transducer head and a buffer memory for controlling transfer of user information 
in the particular data block between the buffer memory and the desired data 

block location in response to detection of the beginning thereof. 
24. A disk drive architecture including a rotating data storage disk, 
a positionable transducer for reading data from and writing data to a storage 

surface of the disk, the transducer being positioned by a head positioner servo 
 

loop, the storage surface including a multiplicity of servo sectors prerecorded 
with head positioning information read by the head for the servo loop for 

locating desired ones of an available multiplicity of concentric data tracks, each 
track having a series of data blocks at least some of which being split into 

segments by ones of the servo sectors in accordance with a predetermined 
pattern, and wherein the data tracks are recorded in zones at data rates related 

to storage disk radius and do not include data identification fields, embedded 
programmed microcontroller means for controlling the head position se
rvo loop 
and data transfer to and from the storage surface, and buffer memory means for 

temporarily holding data blocks and information related to data block format, the 
architecture further including circuitry for determining a location of a particular 

data block comprising: 
   a servo sector counter means within the head positioner servo 

loop for counting a predetermined number of count increments including a data 
track segment lying between two adjacent servo sectors, the servo sector 

counter means being reset upon detection of a servo address mark within the 
head positioning information, 

   block location circuit means for determining a block location 
starting count value within the data track segment corresponding to a beginning 

of the particular data block, 
   comparison means for comparing the count of the data segment 

counter means with the starting count value of the block location circuit means 
to detect the beginning of the particular data block, 

   data transfer control means including a format counter means in a 
signal path between the data transducer head and a buffer memory for 

controlling transfer of user information in the particular data block between the 
buffer memory and the desired data block location in response to detection of 

the beginning thereof, the data transfer control means further including: 
      a prewedge register means for holding a prewedge value 

provided by said microcontroller means related to a particular zone including a 
track containing the particular data block and marking a location just before a 

next servo sector, 
      prewedge comparison means for comparing each count 

increment of the servo sector counter means with the prewedge value and for 
signalling an equivalence,

 
      memory value register means for holding a format value 

stored in the bufer memory, 
      memory value comparison means for comparing the format 

value with at least a portion of a count reached by the format counter means 
and for signalling an equivalence, 

      logic means enabled by the equivalence between the 
prewedge value and the servo sector count increment to pass a control signal 

represented by said equivalence between the format value and the count 
portion of the format counter means for stopping the format counter means at a 

predetermined number of data storage locations before arrival of the next servo 
sector, 

      count register means for holding the count reached by the 
format counter upon cessation in response to the control signal, 

      count restoration means for restoring the count to the format 
counter and for restarting the format counter after the next servo sector has 

passed by, and 
      count reset means for resetting the format counter when a 

maximum count is reached marking the end of the particular data block. 
</CLAIMS>
</TEXT>
</DOC>
