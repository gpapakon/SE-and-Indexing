<DOC>
<DOCNO>EP-0639016</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Multi-nodal data processing system.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L2906	H04L2906	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L29	H04L29	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A multi-nodal data processing system in which each node has a
local memory for storing message send vectors, one for each

other node in the system. When a node has a message to send,
it places the message in the message send vector

corresponding to the destination node of that message. When
a node is ready to receive messages, it reads messages from

the message send vectors corresponding to this node in the
other nodes. Each message send vector has a head pointer and

a tail pointer for defining the head and tail of a queue of
messages. Each tail pointer is held locally, in the same

node as the message send vector to which it relates, while
the head pointer is held in the destination node of that

message send vector.

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
INT COMPUTERS LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL COMPUTERS LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BENKUAL JACK
</INVENTOR-NAME>
<INVENTOR-NAME>
BRUMM ALLEN HAROLD
</INVENTOR-NAME>
<INVENTOR-NAME>
COLLOFF IAN GREGORY
</INVENTOR-NAME>
<INVENTOR-NAME>
BENKUAL, JACK
</INVENTOR-NAME>
<INVENTOR-NAME>
BRUMM, ALLEN HAROLD
</INVENTOR-NAME>
<INVENTOR-NAME>
COLLOFF, IAN GREGORY
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to multi-nodal data processing 
systems. More specifically the invention is concerned with 
providing a mechanism for communicating messages between the 
nodes of such a system. One way of communicating messages between nodes is for the 
sending node to transmit the messages to the receiving node 
over an inter-node network. A problem with this, however, is 
that the receiving node may become overloaded with messages 
received from other nodes, and as a result messages may be 
lost. An object of the present invention is to provide an improved 
message passing mechanism that does not suffer from this 
problem. According to the invention there is provided a data 
processing system comprising a plurality of data processing 
nodes, wherein each node comprises: 
(a) local memory means for storing a plurality of message 
send vectors, one for each other node in the system, (b) message send means for placing messages in said message 
send vectors, each message being placed in the message  
 
send vector corresponding to the destination node of 
that message, and (c) message receive means for reading messages from the 
message send vectors corresponding to this node in the 
other nodes. Figure 1 is a block diagram of a multi-nodal data processing 
system including a message passing mechanism in accordance 
with the invention. Figure 2 is a schematic block diagram showing data structures 
used by the message passing mechanism. Figure 3 is a flow chart showing the operation of the message 
passing mechanism in one node when it requires to pass a 
message to another node. Figure 4 is a flow chart showing the operation of the message 
passing mechanism in one node when it is ready to receive a 
message from another node. One embodiment of the invention will now be described by way 
of example with reference to the accompanying drawings. Referring to Figure 1, the system comprises a plurality of 
data processing nodes 10. Each node includes one or more 
data processing elements 11, and one or more local memory 
modules 12, and a cache memory (not shown). The nodes are interconnected by an inter-node network 13, 
which allows each node to perform remote read operations on  
 
the local memories of the other nodes. The nodes are also 
all connected to an input/output (I/O) network 14, which 
allows the nodes to access a number of disk controllers 15 
and communications controllers 16. Referring now to Figure 2, the local memory 12 in each node 
contains a number of message send vectors 20, held
</DESCRIPTION>
<CLAIMS>
A data processing system comprising a plurality of data 
processing nodes, wherein each node comprises: 


(a) local memory means for storing a plurality of message 
send vectors, one for each other node in the system, 
(b) message send means for placing messages in said message 
send vectors, each message being placed in the message 

send vector corresponding to the destination node of 
that message, and 
(c) message receive means for reading messages from the 
message send vectors corresponding to this node in the 

other nodes. 
A system according to claim 1 wherein each of said 
message send vectors has a head pointer and a tail 

pointer for defining the head and tail of a queue of 
messages, and wherein each said tail pointer is held 

locally, in the same node as the message send vector to 
which it relates, and the head pointer is held in the 

destination node of that message send vector. 
A system according to claim 2 wherein said message 
receive means in each node comprises means for comparing 

the head and tail pointers of a message send vector and 
for reading a message from the location of that vector 

pointed to by the head pointer only if the head and tail 
pointers are unequal. 
A method of operating a data processing system 
comprising a plurality of data processing nodes, the 

method comprising the steps: 

(a) in a local memory in each node, storing a plurality of 
message send vectors, one for each other node in the 

system, 
(b) when a node has a message to send, placing said message 
in said corresponding to the destination node of that 

message, and 
(c) when a node is ready to receive a message, causing the 

node to read messages from the message send vectors 
corresponding to this node in the other nodes. 
</CLAIMS>
</TEXT>
</DOC>
