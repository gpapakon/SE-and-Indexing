<DOC>
<DOCNO>EP-0654746</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Form identification and processing system
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1724	G06F300	G06F1724	G06F300	G06T700	G06K920	G06K920	G06T700	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06T	G06K	G06K	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F17	G06F3	G06F17	G06F3	G06T7	G06K9	G06K9	G06T7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method and an apparatus for identifying 
completed forms includes scanning a plurality of 

different blank forms, and creating hierarchical 
profiles of each scanned blank form. Each 

hierarchical form profile is stored in a dictionary. 
Once the form dictionary is created, a completed 

form is scanned. A hierarchical profile of the 
completed form is created, and the hierarchical 

profile of the completed form is compared with 
stored hierarchical form profiles. In accordance 

with the result of comparison, one of the stored 
hierarchical form profiles is identified as 

corresponding to the completed form hierarchical 
profile. Based on the identity of the corresponding 

hierarchical form profile, the completed form can be 
routed for further processing. A further aspect of 

the invention makes it possible to extract data from 
predesignated fields which may be unique to that 

particular form within a completed form based on the 
form's identity. Furthermore, by using the form 

dictionary, it is possible to identify a completed 
form, extract data from the completed form, store 

the data with the form's identity, and display the 
completed form by drawing the identified form using 

the vectorized data from the form dictionary and 
superimposing the extracted data from the completed 

form into respective data fields. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
LUTHER WILLIS J
</INVENTOR-NAME>
<INVENTOR-NAME>
WANG SHIN-YWAN
</INVENTOR-NAME>
<INVENTOR-NAME>
LUTHER, WILLIS J.
</INVENTOR-NAME>
<INVENTOR-NAME>
WANG, SHIN-YWAN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to retrieval
and to processing of data from completed printed
forms. In particular, the present invention relates
to a method and apparatus which uses feature
extraction techniques to identify features in the
completed forms and which, based on the features
identified in the form, locates desired data,
extracts the desired data, stores the desired data
in memory and, if necessary, displays the extracted
data to an operator for post-processing.Data entry and retrieval systems, such as
a Document Image Management System, are widely used
to enter data from completed printed document forms.
Generally, such systems are designed to process data
from various types of completed forms, such as 
credit forms, insurance forms, survey forms,
hospital forms, etc. In order to process many
different types of forms, system operators manually
sort through the forms and separate the forms into
batches of similar forms. Once the various types of
forms have been sorted and separated into similar
batches, a batch of the same type of completed form
is distributed to a data entry operator for manual
input of data from the completed form into a central
processing system. During the data entry process,
the operator reviews a completed form, determines
the data which is to be manually keyed-in, and
manually keys-in data from each completed form into
the central processing system.In order to save time, a more
sophisticated manner of paperless sorting has
sometimes been adopted. Using paperless sorting, a
completed form is digitally scanned and a digital
image of the form is stored. Once the digital image
of the completed form is stored in memory, it can be
identified by either data entry operators or by an
automatic sorting process which first locates a
coded "indicia field" such as a bar code field on
the printed form and subjects the indicia field to
suitable processing. Once the completed form is
recognized, the form is automatically sorted and
routed to the appropriate data entry operator
workstation for further processing as described
above.Despite the advantages of paperless
sorting, both the manual system and the paperless
sorting system suffer from disadvantages in that
both systems consume a great amount of time to sort
and to manually enter data from the completed form.
In addition, companies which utilize automatic
sorting practices by scanning all completed forms
utilize large amounts of mass storage. These 
companies are therefore limited by the amount of
mass storage available for
</DESCRIPTION>
<CLAIMS>
A method of using a form dictionary of hierarchical
profiles of blank forms, each of said hierarchical form

profiles define features of a corresponding blank form, the
method comprising the step of:


creating a hierarchical profile corresponding to a
scanned completed form (S902; S1202; S1502);
the method being 
characterized by
 the steps of:

comparing the hierarchical profiles of different blank
forms to each other to determine invariant elements

therebetween (S509);
discarding the invariant elements;
storing remaining elements of each hierarchical
profiles in the form dictionary (S511);
comparing the hierarchical profile corresponding to
the completed form with the hierarchical form profiles in

the form dictionary (S903; S1204; S1503); and
identifying, in accordance with the comparing step,
one of the hierarchical form profiles in the form

dictionary as corresponding to the hierarchical profile of
the completed form (S904, S906; S1205, S1207; S1508,

S1507).
A method according to claim 1, further comprising the
step of extracting portions of the hierarchical profile

corresponding to the completed form which differ from the
identified hierarchical form profile in the form dictionary

(S1209).
A method according to claim 2, further comprising the
step of routing the extracted portions for processing in

accordance with the identity of the corresponding
hierarchical form profile.
A method according to claim 2, further comprising the
step of storing predetermine data from the extracted

portions in accordance with the identity of the
corresponding hierarchical form profile (S1509).
A method according to claim 2, further comprising the
step of causing selected data from the extracted portions

to be displayed in accordance with the identity of the
identified hierarchical form profile.
A method according to claim 2, further comprising the
step of character recognizing selected data from the 

extracted portions in accordance with the identity of the
corresponding hierarchical form profile.
A method according to claim 2, further comprising the
step of causing portions of the completed form which are

dissimilar to corresponding portions of the identified
hierarchical form profile to be displayed using the

extracted portions of the hierarchical profile of the
completed form.
A method according to claim 2, wherein in said
extracting step the portions and respective field header

information are extracted for the portions,

   and further comprising the step of causing the
extracted portions to be displayed with the respective

field header information.
A method according to claim 1, further comprising the
step of routing the completed form for processing in

accordance with the identity of the identified hierarchical
form profile.
A method according to claim 1, further comprising the 
steps of:


extracting completed portions of the completed form
and respective header information which differ from the

blank form corresponding to the identified hierarchical
form profile (S1208); and
causing the extracted completed portions and
respective header information to be displayed.
A method according to claim 1, further comprising the
step of:


creating a hierarchical profile of a scanned first
blank form;
creating a hierarchical profile for each of a
plurality of exemplary scanned completed forms of the first

blank form (S505);
comparing each completed form hierarchical profile
with each other completed form hierarchical profile to

determine invariant elements between each completed from
hierarchical profile (S506);
extracting the invariant element (S506);
correlating the blank form hierarchical profile with
the extracted invariant elements (S508);
creating a first enhanced blank form hierarchical 
profile based on the correlating step; and
storing the first enhanced blank form hierarchical
profile in the form dictionary (S511).
A method according to claim 11, further comprising the
steps of:


creating a hierarchical profile of a second scanned
blank form (S509);
creating a hierarchical profile for each of a
plurality of scanned exemplary completed forms of the

second blank form;
comparing each completed form hierarchical profile
with each other completed form hierarchical profile to

determine invariant elements between each completed form
hierarchical profile;
extracting the invariant element between the
hierarchical profiles of each exemplary completed form of

the second blank form (S506);
correlating the second blank form hierarchical profile
with the extracted invariant elements between the

hierarchical profiles of each exemplary completed form of
the second blank form;
creating a second enhanced blank form hierarchical 
profile based on the correlating step; and
storing the second enhanced blank form hierarchical
profile in the form dictionary (S511).
A method according to claim 12, further comprising the
step of disambiguating (S510), wherein the step of

disambiguating comprises the steps of:

comparing the first enhanced blank form hierarchical
profile and the second enhanced blank form hierarchical

profile to determine invariant elements between the first
enhanced blank form hierarchical profile and the second

enhanced blank form hierarchical profile;
discarding the invariant elements from the first
enhanced blank form hierarchical profile and the second

blank form hierarchical profile to produce disambiguated
hierarchical profiles of the first and second blank forms;

and
storing disambiguated hierarchical profiles of the
first and second blank forms in the form dictionary (S511).
A method according to claim 1, further comprising the
step of extracting data from the completed form based on an

identification result of the identifying step. 
A method according to claim 14, further comprising the
step of causing the extracted data superimposed on the

blank form corresponding to the identified hierarchical
form profile to be displayed, wherein the corresponding

blank form is drawn in accordance with the hierarchical
form profile of the corresponding blank form, and wherein

the extracted data is superimposed into appropriate
locations of the corresponding blank form (S1510).
A computer program product for a computer, comprising
software code portions for performing the steps of any one

of claims 1 to 15 when said product is run on the computer.
A computer program product according to claim 16,
wherein said computer program product comprises a computer-readable

medium on which said software code portions are
stored.
A computer program product according to claim 16,
wherein said computer program product is directly loadable

into the internal memory of the computer.
An apparatus for using a form dictionary of 
hierarchical profiles of blank forms, each of said

hierarchical form profiles define features of a
corresponding blank form, they apparatus comprising:


means for creating a hierarchical profile (41; 50; 60)
corresponding to a scanned completed form (40);
the apparatus being 
characterized by
:

means for comparing (42; 51; 61) the hierarchical
profiles of different blank forms to each other to

determine invariant elements therebetween (S509);
means for discarding the invariant elements;
means for storing remaining elements of each
hierarchical profiles in the form dictionary (20);
means for comparing the hierarchical profile
corresponding to the completed form with the hierarchical

form profiles in the form dictionary; and
means for identifying, in accordance with the result
produced by the means for comparing one of the hierarchical

form profiles in the form dictionary (20) as corresponding
to the hierarchical profile of the completed form.
An apparatus according to claim 19, further comprising
means for extracting portions of the hierarchical profile

corresponding to the completed form which differ from the 
identified hierarchical form profile in the form dictionary

(20).
An apparatus according to claim 20, further comprising
means for routing (45) the extracted portions for

processing in accordance with the identity of the
corresponding hierarchical form profile.
An apparatus according to claim 20, further comprising
means for storing predetermine data from the extracted

portions in accordance with the identity of the
corresponding hierarchical form profile.
An apparatus according to claim 20, further comprising
means for causing selected data from the extracted portions

to be displayed in accordance with the identity of the
identified hierarchical form profile to be displayed.
An apparatus according to claim 20, further comprising
means for character recognizing selected data from the

extracted portions in accordance with the identity of the
corresponding hierarchical form profile. 
An apparatus according to claim 20, further comprising
means for causing portions of the completed form which are

dissimilar to corresponding portions of the identified
hierarchical form profile to be displayed using the

extracted portions of the hierarchical profile of the
completed form.
An apparatus according to claim 20, wherein said means
for extracting is arranged to extract the portions and

respective field header information are extracted for the
portions,

and further comprising means for causing the extracted
portions with the respective field header information to be

displayed.
An apparatus according to claim 19, further comprising
means for routing (45) the completed form for processing in

accordance with the identity of the identified hierarchical
form profile.
An apparatus according to claim 19, further
comprising:


means for extracting (54; 62) completed portions of 
the completed form and respective header information which

differ from the blank form corresponding to the identified
hierarchical form profile; and
means for causing the extracted completed portions and
respective header information to be displayed.
An apparatus according to claim 19, further
comprising:


means for creating a hierarchical profile of a first
scanned blank form;
means for creating a hierarchical profile for each of
a plurality of scanned exemplary completed forms;
means for comparing each completed form hierarchical
profile with each other completed form hierarchical profile

to determine invariant elements between each completed from
hierarchical profile;
means for extracting the invariant element;
means for correlating the blank form hierarchical
profile with the extracted invariant elements;
means for creating a first enhanced blank form

hierarchical profile based on the correlating step; and
means for storing the first enhanced blank form
hierarchical profile in the form dictionary (S511).
An apparatus according to claim 29, further
comprising:


creating a hierarchical profile of a scanned second
blank form;
creating a hierarchical profile for each of a
plurality of scanned exemplary completed forms of the

second blank form;
means for comparing each completed form hierarchical
profile with each other completed form hierarchical profile

to determine invariant elements between each completed form
hierarchical profile;
means for extracting the invariant element between the
hierarchical profiles of each exemplary completed form of

the second blank form;
means for correlating the second blank form
hierarchical profile with the extracted invariant elements

between the hierarchical profiles of each exemplary
completed form of the second blank form;
means for creating a second enhanced blank form
hierarchical profile based on the correlating step; and
means for storing the second enhanced blank form
hierarchical profile in the form dictionary.
An apparatus according to claim 30, further comprising
means for disambiguating, wherein the means for

disambiguating comprises:

means for comparing the first enhanced blank form
hierarchical profile and the second enhanced blank form

hierarchical profile to determine invariant elements
between the first enhanced blank form hierarchical profile

and the second enhanced blank form hierarchical profile;
means for discarding the invariant elements from the
first enhanced blank form hierarchical profile and the

second blank form hierarchical profile to produce
disambiguated hierarchical profiles of the first and second

blank forms; and
means for storing disambiguated hierarchical profiles
of the first and second blank forms in the form dictionary.
An apparatus according to claim 19, further comprising
means for extracting data from the completed form based on

an identification result of the identifying step.
An apparatus according to claim 32, further comprising
means for causing the extracted data superimposed on the

blank form corresponding to the identified hierarchical 
form profile to be displayed, wherein the corresponding

blank form is drawn in accordance with the hierarchical
form profile of the corresponding blank form, and wherein

the extracted data is superimposed into appropriate
locations of the corresponding blank form.
</CLAIMS>
</TEXT>
</DOC>
