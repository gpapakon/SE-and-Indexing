<DOC>
<DOCNO>EP-0994596</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Digital data bi-directional communication method and apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L116	H04L118	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L1	H04L1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Apparatus and a method of bi-directional communication of digital
data between a plurality of remote users and a base station using a shared

communication channel and a time-division protocol in which the
communication time is divided into a plurality of time slots is provided. The

method includes transmitting packets of data according to a TDMA (Time
Division Multiple Access) protocol in which each user is allocated a dedicated

time slot in the shared communication channel; and transmitting other packets
of data according to a time-division ALOHA protocol in which each user is

allocated a time slot in the shared communication channel on an "as needed"
basis, competing with other users for access to the shared communication

channel, and subsequently re-transmits those packets of data where no
acknowledgement is received until an acknowledgement is received.


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
TADIRAN SPECTRALINK LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
TADIRAN SPECTRALINK LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HALAVY MOSHE
</INVENTOR-NAME>
<INVENTOR-NAME>
MALCAI GAD
</INVENTOR-NAME>
<INVENTOR-NAME>
YADGAR YICHAK
</INVENTOR-NAME>
<INVENTOR-NAME>
HALAVY, MOSHE
</INVENTOR-NAME>
<INVENTOR-NAME>
MALCAI, GAD
</INVENTOR-NAME>
<INVENTOR-NAME>
YADGAR, YICHAK
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present relates to a method and apparatus of bi-directional
communication of digital data between a plurality of remote users and a base
station using a shared communication channel. The invention is particularly
useful in a fuel dispensing system wherein the remote users are nozzle devices
attached to nozzles of fuel dispensers at a gasoline station in an
automatic-charge refueling system; and the invention is therefore described
below with respect to this application.Automatic-charge refueling systems are known which include a
vehicle unit attached to each vehicle for automatically identifying the vehicle,
and a nozzle device attachable to each fuel dispensing nozzle for providing
bi-directional communication between the vehicle unit and a base station site
controller at the gasoline station. The systems now used, however, include a
cable connection from each nozzle device to the site controller. Such systems,
therefore, require many cables to be laid upon the initial installation of the
system, as well as upon any subsequent expansion or change in the
installation. The laying of such cables is a cumbersome and expensive
process, frequently requiring the authorization and approval of competent
authorities. An object of the present invention is to provide a novel method and
apparatus for the bi-directional communication of digital data using a shared
communication channel. Another object of the invention is to provide such a
method and apparatus which are particularly useful in an automatic-charge
refueling system utilizing a wireless communication channel, but which may
also be used in other systems, particularly other point-of-sale systems to effect
communication between a plurality of users and a base station at a local area
or site via a wireless communication channel.According to one aspect of the present invention, there is provided a
method of bi-directional communication of digital data between a plurality of
remote users and a base station using a shared communication channel and a
time-division protocol in which the communication time is divided into a plurality
of time slots, comprising: transmitting packets of data according to a TDMA
(Time Division Multiple Access) protocol in which each user is allocated a
dedicated time slot in the shared communication channel; and transmitting
other packets of data according to a time-division ALOHA protocol in which
each user is allocated a time slot in the shared communication channel on an
"as needed" basis, competing with other users for access
</DESCRIPTION>
<CLAIMS>
A method of bi-directional communication of digital data between a
plurality of remote users and a base station using a shared communication

channel and a time-division protocol in which the communication time is
divided into a plurality of time slots, comprising:


transmitting packets of data according to a TDMA (Time Division
Multiple Access) protocol in which each user is allocated a dedicated

time slot in the shared communication channel;
and transmitting other packets of data according to a
time-division ALOHA protocol in which each user is allocated a time

slot in the shared communication channel on an "as needed" basis,
competing with other users for access to the shared communication

channel, and subsequently re-transmits those packets of data where
no acknowledgement is received until an acknowledgement is

received.
The method according to claim 1, wherein said data packets
transmitted according to a TDMA protocol are of relatively uniform lengths

among the users, and said data packets transmitted according to a time
division ALOHA protocol are of relatively non-uniform lengths among the

users.
The method according to either of claims 1 or 2, wherein said data
packets transmitted according to a time-division ALOHA protocol are

transmitted according to a slotted ALOHA protocol in which each transmission
is at the beginning of a time slot in the shared communication channel.
The method according to any one of claims 1 - 3, wherein the data
transmissions are in frames each including a plurality of time slots for

transmitting data, and at least one sync slot for synchronizing the

transmission between the user and the base station.
The method according to claim 4, wherein said shared communication
channel is a wireless channel, and the data transmissions are according to a

frequency-hopping system, each of said frames further including a control slot
for specifying the frequencies of the following frames.
The method according to claim 5, wherein each frame is divided into a
plurality of miniframes, each miniframe including:


an uplink data slot for use by a user to transmit data to the base
station;
a downlink data slot for use by the base station to transmit data
to a user;
and an ACK slot for acknowledging receipt of an uplink
transmission during the preceding miniframe.
The method according to claim 6,
   wherein said uplink and downlink data slots are allocated to the

user on an "as needed" basis according to the slotted ALOHA
time-division protocol, for transmitting variable length data packets;

   and wherein each miniframe further includes a Slow uplink data
slot and a Slow downlink data slot allocated to the users on a

"dedicated" basis according to the TDMA protocol for transmitting
fixed-length data packets.
The method according to claim 7, wherein each miniframe further
includes two uplink data slots allocated to the users according to the slotted

ALOHA time division protocol.
The method according to any one of claims 1 - 8, wherein each user
is a remote point-of-sales device including a transmitter for transmitting data

from the point-of-sales to the base station, and a receiver for receiving data at
that point-of-sales from said base station.
The method according to claim 9, wherein said remote point-of-sale
device is a nozzle unit attached to a nozzle of a fuel dispenser and adapted to

be coupled to a vehicle unit for transmitting to the base station, from the vehicle
unit, data including the identification of the vehicle.
The method according to claim 10, wherein said nozzle unit is
normally held in a holder in a sleep mode and is activated to an operational

mode by a wake-up signal produced by physically removing the nozzle from its
holder, said nozzle unit, when activated to an operation mode, first

synchronizing itself with the base station and with the vehicle unit, before
transmitting data to, or receiving data from, said base station.
The method according to claim 11, wherein said wake-up signal is
also produced automatically at predetermined time intervals.
A method of bi-directional communication between a plurality of
nozzle units each attached to the nozzle of a fuel dispenser, and a plurality of

vehicle units each attached to a vehicle to be refueled, and a base station,
comprising:


providing bi-directional communication between the plurality of nozzle
units, the plurality of vehicle units, and said base station via a shared wireless

communication channel operated according to a time-division protocol in
which the communication time is divided into a plurality of time slots;
normally maintaining each nozzle unit in a sleep mode until
activated to an operational mode by a wake-up signal produced by

physically removing the nozzle from its holder;
and when activated to the operational mode, first synchronizing
said nozzle unit, with the base station and with the vehicle unit to

which it is coupled, and then transmitting data from the vehicle unit to
the base station, and from the base station to the vehicle unit via said

shared wireless communication channel and nozzle units.
The method according to claim 13, wherein said wake-up signal is
also produced automatically at predetermined time intervals.
The method according to either of claims 13 or 14, wherein the
time-division protocol is according to any of claims 1 - 8.
Apparatus for bi-directional communication of digital data, comprising:

a plurality of remote user devices each including a transmitter, a
receiver, and a processor;
and a base station including a transmitter, receiver and
processor;
said processors controlling their respective transmitters and
receivers to use a shared communication channel and a time-division

protocol in which the communication time is divided into a plurality of
time slots, in which:
packets of data are transmitted according to a TDMA (Time
Division Multiple Access) protocol in which each user device is

allocated a dedicated time slot in the shared communication channel;
and
other packets of data are transmitted according to a
time-division ALOHA protocol in which each user is allocated a time

slot in the shared communication channel on an "as needed" basis,
competing with other user devices for access to the shared

communication channel, and subsequently re-transmits those packets
of data where no acknowledgement is received until an

acknowledgement is received.
The apparatus according to claim 16, wherein said data packets
transmitted according to a TDMA protocol are of relatively uniform lengths

among the users, and said data packets transmitted according to a time
division ALOHA protocol are of relatively non-uniform lengths among the

users.
The apparatus according to either of claims 16 or 17, wherein said
data packets transmitted according to a time-division ALOHA protocol are

transmitted according to a slotted ALOHA protocol in which each transmission
is at the beginning of a time slot in the shared communication channel.
The apparatus according to any one of claims 16 - 18, wherein the
data transmissions are in frames each including a plurality of time slots for

transmitting data, and at least one sync slot for synchronizing the transmission
between the user and the base station.
The apparatus according to claim 19, wherein said shared
communication channel is a wireless channel, and the data transmissions are

according to a frequency-hopping system, each of said frames further including
a control slot for specifying the frequencies of the following frames.
The apparatus according to claim 20, wherein each frame is divided
into a plurality of miniframes, each miniframe including:


an uplink data slot for use by a user to transmit data to the base
station;
a downlink data slot for use by the base station to transmit data
to a user;
and an ACK slot for acknowledging receipt of an uplink
transmission during the preceding miniframe.
The apparatus according to claim 21,
   wherein said uplink and downhink data slots are allocated to the

user on an "as needed" basis according to the slotted ALOHA
time-division protocol, for transmitting variable length data packets;

   and wherein each miniframe further includes a Slow uplink data
slot and a Slow downlink data slot allocated to the users on a

"dedicated" basis according to the TDMA protocol for transmitting
fixed-length data packets.
The apparatus according to claim 22, wherein each miniframe further

includes two uplink data slots allocated to the users according to the slotted
ALOHA time division protocol.
The apparatus according to any one of claims 16 - 23, wherein each
user is a remote point-of-sales device including a transmitter for transmitting

data from the point-of-sales to the base station, and a receiver for receiving
data at that point-of-sales from said base station.
The apparatus according to claim 24, wherein said remote
point-of-sale device is a nozzle unit attached to a nozzle of a fuel dispenser and

adapted to be coupled to a vehicle unit for transmitting to the base station, from
the vehicle unit, data including the identification of the vehicle.
The apparatus according to claim 25, wherein said nozzle unit is
normally held in a holder in a sleep mode and is activated to an operational

mode by a wake-up signal produced by physically removing the nozzle from its
holder; said nozzle unit, when activated to an operational mode, first

synchronizing itself with the base station and with the vehicle unit, before
transmitting data to, or receiving data from, said base station.
The apparatus according to claim 26, wherein said wake-up signal is
also produced automatically at predetermined time intervals.
Apparatus for producing bi-directional communication between a
plurality of nozzle units each attached to the nozzle of a fuel dispenser, a

plurality of vehicle units each attached to a vehicle to be refueled, and a site
controller, comprising:


a base station having bi-directional wire communication with
said site controller, and bi-directional communication with the plurality

of nozzle units via a shared wireless communication channel
operated according to a time-division protocol in which the

communication time is divided into a plurality of time slots;
said nozzle units and base station including processors programmed:
normally to maintain each nozzle unit in a sleep mode until
activated to an operational mode by a wake-up signal produced by

physically removing the nozzle from its holder;
and when activated to the operational mode, first to synchronize
said nozzle unit, with the base station and with the vehicle unit to

which it is coupled, and then to transmit data from the vehicle unit to
the base station, and from the base station to the vehicle unit via said

shared wireless communication channel and nozzle units.
The apparatus according to claim 28, wherein said processor of the
base station further includes a timer which also produces said wake-up signal

automatically at predetermined time intervals.
The apparatus according to either of claims 28 or 29, wherein the
time-division protocol is according to any of claims 16 - 23.
</CLAIMS>
</TEXT>
</DOC>
