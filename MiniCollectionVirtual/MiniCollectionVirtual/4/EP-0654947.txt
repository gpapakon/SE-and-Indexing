<DOC>
<DOCNO>EP-0654947</DOCNO> 
<TEXT>
<INVENTION-TITLE>
ENCODER AND ENCODING METHOD
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N750	H04N726	H04N752	H04N754	H04N752	H04N726	H04N750	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Characteristics of a digital video signal are 
detected by first characteristics detection means, 

and characteristics of a digital audio signal are detected 
by second characteristics detection means. 

The outputs from the first and second characteristics 
detection means are combined by synthesizing 

means, and allocated data quantities for compression 
coding of the digital video signal and the digital 

audio signal are controlled on the basis of the 
output from this synthesizing means. In this way, 

degradation of the video signal and the audio signal 
associated with the video signal during reproduction 

is eliminated, and compression encoding 
can be made more efficiently. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SONY CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SONY CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KONDO TETSUJIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
KONDO, TETSUJIRO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to encoding apparatus and encoding methods for
encoding digital video and sound signals.Hitherto, various systems of efficiently compression-encoding video signals
or speech signals to transmit encoded signals have been proposed. In these
conventional compression encoding systems, with respect to respective signals of
video signals and speech signals, compression encoding processing is carried out on
the basis of respective masking effects so that signal degradation does not become
conspicuous.Compression encoding systems as mentioned above are in conformity with
respective sensitivity characteristics (masking characteristics) of the hearing sense and
the visual sense of the human being. In all the systems, compression processing is
independently carried out with reproduced picture and reproduced sound being
individually considered to be evaluated.For example, when only picture is evaluated in the state where sound is
interrupted, since it is important to allow conspicuous degradation such as jerkiness
or block distortion, etc. of picture to be as minimum as possible, compression 
encoding processing is carried out laying stress upon that point.However, in entertainments such as video or video software,
etc., pictures and sounds are simultaneously reproduced, and
these reproduced pictures and sounds synthetically give stimulus
to the human being. For this reason, in the case where, e.g.,
sound related to picture simultaneously exists, there are many
instances where severe degradation of picture like jerkiness of
picture mentioned above is practically masked and is not felt.
Particularly, at the portion in which interest (attention) of the
human being is mainly paid upon sound (the portion where
stimulation level (activity) of sound is high), attention on
picture is distracted, resulting in high possibility that severe
degradation as described above of picture might not be felt in
most cases.Phenomenon as mentioned above similarly applies to sound.
In the case where level (degree) of stimulation (activity) from
picture is high, e.g., the case where, e.g., picture is moving,
etc., there are many instances where sound is masked, so its
degradation is not felt.As described above, the sensitivity of the visual and
auditory senses of the human being (masking characteristic) in
the case where pictures and sounds respectively independently
exist and that in the case where pictures and sounds exist in a
manner relative to each other like cinema, etc. are greatly
different. Accordingly,
</DESCRIPTION>
<CLAIMS>
An encoding apparatus for encoding a digital video signal and a digital sound
signal related thereto to transmit encoded signals, the apparatus comprising:


first characteristic detecting means (20) for detecting a first characteristic of the
digital video signal;
second characteristic detecting means (30) for detecting a second characteristic
of the digital sound signal; and
control means (41-44, 15V, 15A, 12V, 12A) for controlling allocated
information quantities of encoding of the digital video signal and the digital sound

signal in accordance with the first and second characteristics, the control means (41-44,
15V, 15A, 12V, 12A) including synthesizing means (41-44) for synthesizing

outputs of the first and second characteristic detecting means (20, 30);

   characterised in that the first characteristic indicates stimulation of the visual
sense by the video signal and the second characteristic indicates stimulation of the

sense of hearing by the sound signal and in that the allocated information quantity of
each of the digital video signal and the digital sound signal is controlled (41-44, 15V,

15A, 12V, 12A) on the basis of an output of the synthesizing means.
An encoding apparatus as set forth in claim 1, wherein the synthesizing means
(41-44) is operative to multiply the outputs of the first and second characteristic

detecting means (20, 30) by respective predetermined coefficients (α, β) before
synthesizing them.
An encoding apparatus as set forth in claim 1 or claim 2, wherein the first and
second characteristic detecting means (20, 30) are operative to detect activities of the

video signal and the sound signal, respectively.
An encoding apparatus as set forth in claim 3, wherein the activity is detected
by detecting change of each signal in a spatial and/or temporal direction.
An encoding apparatus as set forth in any one of the preceding claims, 
wherein a buffer memory (13V, 13A) is provided for temporarily storing the encoded

signals for output as output signals, and the control means (41-44, 15V, 15A, 12V,
12A) is operative to control the allocated information quantities of encoding of the

digital video signal and the digital sound signal in accordance with a quantity of
information stored in the buffer memory (13V, 13A) and the output of the

synthesizing means (41-44).
An encoding apparatus as set forth in any one of the preceding claims, wherein
the first characteristic detecting means (20) comprises a frame memory (21) for frame-delaying

the digital video signal, a line memory (23) for line-delaying the digital video
signal, a sample memory (25) for sample-delaying the digital video signal, first

difference calculating means (22) for calculating a difference between the frame-delayed
digital video signal from the frame memory (21) and the input digital video

signal, second difference calculating means (24) for calculating a difference between
the line-delayed digital video signal from the line memory (23) and the input digital

video signal, and third difference calculating means (26) for determining a difference
between the sample-delayed digital video signal from the sample memory (25) and the

input digital video signal.
An encoding apparatus as set forth in claim 6, wherein the first characteristic
detecting means includes non-linear synthesizing means (27) for non-linearly

synthesizing outputs of the first, second and third difference calculating means (22, 24,
26).
An encoding apparatus as set forth in any one of the preceding claims, wherein
the second characteristic detecting means (30) comprises amplitude information

generating means (31) for generating amplitude information of the input digital sound
signal, energy detecting means (32) for detecting energy on the basis of amplitude

value information from the amplitude information generating means (31), and
convolution operation means (33) for implementing a convolution operation on an

output of the energy detecting means (32). 
An encoding apparatus as set forth in claim 1, wherein each of the first and
second characteristic detecting means (20, 30) comprises great change quantity

detecting means (501) for detecting a great change of signal, first comparing means
(503) for comparing an output of the great change quantity detecting means with a

predetermined threshold value, very small change detecting means (506) for detecting
a very small change of signal, second comparing means (508) for comparing an output

of the very small change quantity detecting means with a predetermined threshold
value, and judging means (504) for judging from outputs of the first and second

comparison means whether or not activity exists.
An encoding apparatus according to claim 1, wherein said control means (41-44,
15V, 15A, 12V, 12A) is operative to control the allocated information quantities

such that:

an information quantity for the digital video signal is more than an information
quantity for the digital sound signal if the stimulation of the visual sense by the video

signal is stronger than the stimulation of the sense of hearing by the sound signal; and
an information quantity for the digital video signal is less than an information
quantity for the digital sound signal if the sti
mulation of the sense of hearing by the
sound signal is stronger than the stimulation of the visual sense by the video signal.
An encoding method for encoding a digital video signal and a digital sound
signal related thereto to transmit encoded signals, the method comprising:


detecting (20) a first characteristic of the digital video signal;
detecting (30) a second characteristic of the digital sound signal; and
controlling (41-44, 15V, 15A, 12V, 12A) allocated information quantities of
encoding of the digital video signal and the digital sound signal in accordance with the

first and second characteristics, the controlling step (41-44, 15V, 15A, 12V, 12A)
including synthesizing (41-44) the first and second characteristics;

   characterised in that the first characteristic indicates stimulation of the visual
sense by the video signal and the second characteristic indicates stimulation of the

sense of hearing by the sound signal and in that the allocated information quantity of
each of the digital video signal and the digital sound signal is controlled (41-44, 15V, 

15A, 12V, 12A) on the basis of an output of the synthesizing step (41-44).
An encoding method as set forth in claim 11, wherein the synthesizing (41-44)
comprises multiplying the first and second characteristics by respective predetermined

coefficients (α, β) before synthesizing them.
An encoding method as set forth in claim 11 or claim 12, wherein the first and
second characteristic detecting steps (20, 30) comprise detecting activities of the video

signal and the sound signal, respectively.
An encoding method as set forth in claim 13, wherein the activity is detected
by detecting change of each signal in a spatial and/or temporal direction.
An encoding method as set forth in any one of claims 11 to 14, including
temporarily storing (13V, 13A) encoded signals for output as output signals, and

wherein the controlling step (41-44, 15V, 15A, 12V, 12A) comprises controlling the
allocated information quantities of encoding of the digital video signal and the digital

sound signal in accordance with a quantity of information so stored (13V, 13A) and
the output of the synthesizing step (41-44).
An encoding method as set forth in any one of claims 11 to 15, wherein the
first characteristic detecting step (20) comprises frame-delaying (21) the digital video

signal, line-delaying (23) the digital video signal, sample-delaying (25) the digital
video signal, calculating (22) a difference between the frame-delayed digital video

signal and the input digital video signal, calculating (24) a difference between the line-delayed
digital video signal and the input digital video signal, and calculating (26) a

difference between the sample-delayed digital video signal and the input digital video
signal.
An encoding method as set forth in claim 16, wherein the first characteristic
detecting step includes non-linearly synthesizing (27) the calculated differences (22,

24, 26). 
An encoding method as set forth in any one of claims 11 to 17, wherein the
second characteristic detecting step (30) comprises generating (31) amplitude

information of the input digital sound signal, detecting (32) energy on the basis of
generated amplitude value information and convolving (33) the detected energy.
An encoding method as set forth in claim 11, wherein each of the first and
second characteristic detecting steps (20, 30) comprises detecting (501) a great change

of signal, comparing (503) a result of the great change quantity detection with a
predetermined threshold value, detecting (506) a very small change of signal,

comparing (508) a result of the very small change quantity detection with a
predetermined threshold value, and judging (504) from results of the comparisons

whether or not activity exists.
An encoding method according to claim 11, wherein said controlling step (41-44,
15V, 15A, 12V, 12A) comprises controlling the allocated information quantities

such that:

an information quantity for the digital video signal is more than an information
quantity for the digital sound signal if the stimulation of the visual sense by the video

signal is stronger than the stimulation of the sense of hearing by the sound signal; and
an information quantity for the digital video signal is less than an information
quantity for the digital sound signal if the stimulation of the sense of hearing by the

sound signal is stronger than the stimulation of the visual sense by the video signal.
</CLAIMS>
</TEXT>
</DOC>
