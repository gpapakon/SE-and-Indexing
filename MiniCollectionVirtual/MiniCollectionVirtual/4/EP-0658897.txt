<DOC>
<DOCNO>EP-0658897</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Digital data recording and reproducing apparatus.
</INVENTION-TITLE>
<CLASSIFICATIONS>G11B2018	G11B2018	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G11B	G11B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G11B20	G11B20	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Input digital data are formatted into a data block composed of a 
predetermined amount of data, subjected to error correction encoding 

process, and recorded on a predetermined number of continuous tracks of a 
recording medium. In the error correction encoding process, the data block 

is subjected to an inter-track error correction encoding, an outer error 
correction encoding and an inner error correction encoding. In the inter-track 

error correction encoding, each information elelment to be coded is 
produced by symbols collected from the data which are to be recorded on 

different tracks of the continuous tracks. The error correction encoded 
data in the data block are distributed to a first predetermined recording 

area of each track of the contiouous tracks, and parity code words produced 
by the inter-track error correction encoding are distributed to a second 

predetermined recording area of each track of the continuous tracks. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC IND CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC INDUSTRIAL CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HAMAI SINJI
</INVENTOR-NAME>
<INVENTOR-NAME>
IKETANI AKIRA
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUMI CHIYOKO
</INVENTOR-NAME>
<INVENTOR-NAME>
HAMAI, SINJI
</INVENTOR-NAME>
<INVENTOR-NAME>
IKETANI, AKIRA
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUMI, CHIYOKO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a recording and reproducing apparatus 
for recording and reproducing digital data. A digital VCR (video cassette recorder) for digitizing and compressing 
pictures and sounds, and recording helically in a magnetic tape is already put 
in practical use at the present. In the digital VCR, track error correction 
is done by double error correction in a track. To record digital data by 
using the digital VCR, it is necessary to keep a sufficiently low error rate. 
In pictures, an error can be concealed, the error will not propagate, but in 
computer data, by contrast, errors are not allowable in most cases. Besides, 
in recording of video signals compressed in a technique for causing error 
propagations widely, it is required to keep a low error rate. In the 
existing recording apparatus, however, an error rate is too high for 
recording computer data or video signals causing error propagations. Another  
 
problem was that the correction capacity for burst error for correcting error 
in the track was low. Other apparatus is known to record digital data by using DAT (digital 
audio tape) which is audio recording apparatus for consumer use such as DDS. 
In this apparatus, in addition to the double error correction in the track, 
error correction coding is also carried out between tracks. A codeword for 
inter-track error correction coding used in DDS is composed of a symbol of a 
same address among plural tracks. Generally, the code of high error 
correction capacity has a long codeword length, and by employing this method, 
its correction unit becomes longer along with the correction capacity. In 
a case of recording and reproducing apparatus using the digital VCR, the 
capacity per track is large, and to increase the correction unit, capacity of 
a memory of correction circuit or the like must be increased, and such 
increase of circuit scale causes a problem. In the digital VCR, data to be recorded comprises video data, audio data, 
and auxiliary data for controlling the video data and the audio data. These 
data are recorded on a magnetic tape by the double error correction coding, and 
in this case since the auxiliary data records the information about the 
recorded data, it is desired to record the auxiliary data in the same position 
as the digital VCR also in the digital data recording and reproducing  
 
apparatus. Furthermore, there is a track for recording only parity. At this time, 
data of trick play or the like cannot be continuously disposed at a specific 
posit
</DESCRIPTION>
<CLAIMS>
A digital data recording method for recording input data composed 
of a sequence of data words each being composed of a plurality of symbols 

onto a plurality of continuos tracks on a recording medium, canprising the 
steps of: 

   forming from the sequence of data words of the input data a data block 
which is composed of a plurality of data groups each being composed of 

a plurality of data words; 
   performing an inter-track error correction coding by forming a plurality 

of first information elements each being composed of a plurality of 
symbols collected from a plurality of data words selected from different 

data groups among said plurality of data groups and subjecting each of the 
first information elements to an error correction encoding to obtain a 

plurality of first parity code words for the plurality of first information 
elements; 

   performing an outer error correction coding for each of the plurality of 
 

data groups by forming a plurality of second information elements each 
being composed of a plurality of symbols collected from the plurality of data 

words and the plurality of first parity code words in each of the plurality 
of data groups and subjecting the plurality of second information elements 

to an error correction coding to obtain a plurality of second parity code 
words; 

   performing an innner error correction coding by subjecting each of the 
plurality of data words, each of the plurality of first parity code words 

and each of the plurality of second parity code words to an error correction 
coding to obtain a plurality of third parity code words; and 

   recording the data block and the plurality of first through third parity 
code words on a predetermined number of continuous tracks on the recording 

medium such that each data group of the plurality of data groups is recorded 
in a first predetermined recording area of a corresponding one track of the 

predetermined number of continuous tracks and that the plurality of first 
parity code words are distributed to a second predetermined recording area of 

each of the predetermined number of continuous tracks. 
A method according to claim 1, wherein each of the data words and 
the first and second parity code words with an associated third parity code 

word is added with a sync pattern and and a sync block number to form a sync 
 

block, and the data words and the parity code words are recorded on the tracks 
in the form of sync blocks each having the sync pattern and the sync block 

number. 
A method according to claim 1, wherein each of symbols forming each 
of the first information element is derived from a data word which is different 

from data words from which the remaining symbols of said each first information 
element is derived. 
A method according to claim 1, wherein, supposing that symbols in 
each of the data words are provided with sequential symbol numbers within the 

data words, each of symbols forming each of the first information element has 
a different symbol number from the remaining symbols in said each first information 

element. 
A method according to claim 1, wherein symbols forming each of the 
first information element are collected from data words which are to be 

recorded at positions which are substantially uniformly dispersed within an 
area on the recording medium in which the predtermined number of continuous 

tracks are formed. 
A digital data recording apparatus for recording input data composed 
of a sequence of data words each being composed of a plurality of symbols 

onto a plurality of continuos tracks on a recording medium, comprising:
 

   a data formatting means for forming from the sequence of data words of 
the input data a data block which is composed of a plurality of data groups 

each being composed of a plurality of data words; 
   a first error correction coding means for performing an inter-track 

error correction coding by forming a plurality of first information elements 
each being composed of a plurality of symbols collected from a plurality of 

data words selected from different data groups among said plurality of data 
groups and subjecting each of the first information elem
ents to an error 
correction encoding to obtain a plurality of first parity code words for the 

plurality of first information elements; 
   a second error correction coding means for performing an outer error 

correction coding for each of the plurality of data groups by forming a 
plurality of second information elements each being composed of a plurality 

of symbols collected from the plurality of data words and the plurality of 
first parity code words in each of the plurality of data word units and 

subjecting the plurality of second information elements to an error correction 
coding to obtain a plurality of second parity code words; 

   a third error correction coding means for performing an innner error 
correction coding by subjecting each of the plurality of data words in the 

data block, each of the plurality of first parity code words and each of the 
 

plurality of second parity code words to an error correction coding to obtain 
a plurality of third parity code words; and 

   recording means for adding a sync pattern and a sync block number 
to each of the data words, the first parity code words and the second parity 

code words with the associated third parity code words to form data sync 
blocks corresponding to the data words, first parity sync blocks corresponding 

to the first parity code words and second parity sync blocks corresponding to 
the second parity code words, and for recording the data word sync blocks, 

first parity sync blocks and second parity sync blocks derived from the data 
block on a predetermined number of continuous tracks on the recording medium 

such that the data word sync blocks in each data word unit of the plurality 
of data word units are recorded in a first predetermined recording area of 

a corresponding one track of the predetermined number of continuous tracks 
and that the first parity sync blocks are distributed to a second predetermined 

recording area of each of the predetermined number of continuous 
tracks. 
An apparatus according to claim 6, wherein each of symbols forming 
each of the first information element is derived from a data word which is 

different from data words from which the remaining symbols of said each first 
information element is derived. 
An apparatus according to claim 6, wherein, supposing that symbols in 
each of the data words are provided with sequential symbol numbers within the 

data words, each of symbols forming each of the first information element has 
a different symbol number from the remaining symbols in said each first information 

element. 
An apparatus according to claim 1, wherein symbols forming each of 
the first information element are collected from data words which are to be 

recorded at positions which are substantially uniformly dispersed within an 
area on the recording medium in which the predtermined number of continuous 

tracks are formed. 
A digital data recording and reproducing apparatus for recording 
input data composed of a sequence of data words each being composed of a 

plurality of symbols onto a plurality of continuos tracks on a recording 
medium and for reproducing the recorded data from the recording medium, 

comprising: 
   a data formatting means for forming from the sequence of data words of 

the input data a data block which is composed of a plurality of data groups 
each being composed of a plurality of data words; 

   a first memory for storing therein all the data words in the data block; 
   a first error correction coding means for performing a first error 

 
correction coding for the data words stored in the memory to obtain a 

plurality of first parity code words and for storing the plurality of first 
parity code words into the memory; 

   a second error correction coding means for performing a second error 
correction coding for the data words and the first parity code words stored 

in the memory to obtain a plurality of second parity code words and for 
storing the plurality of second parity code words into the memory; 

   a third error correction coding means for performing a third error 
correction coding for each of the data words, the first parity code words 

and the second parity code words stored in the memory to obtain a plurality 
of third parity code words and for outputting the data words and the first 

through third parity code words derived from the data block; 
   recording means for recording the data words and the first through 

third parity code words outputted from the third error correction coding 
means on a predetermined number of continuous tracks on the recording medium 

such that the data words are distributed to a first predetermined recording 
area of each track of the predetermined number of continuous tracks and that 

the first parity code words are distributed to a second predetermined recording 
area of each track of the predetermined number of continuous tracks; 

   reproducing means for reproducing from the recording medium the recorded 
 

data words and first through third parity code words of each data block; 
   a second memory for recording therein the reproduced data words and 

first through third parity code words; 
   a first error correction decoding means for error correction decoding 

each the data words and the first and second parity code words stored in the 
second memory by using the third parity code words stored in the second 

memory and for storing the the decoded data words and the decoded first and 
second parity code words into the second memory; 

   a second error correction decoding means for error correction decoding 
the data words and the first parity code words stored in the second memory 

by using the second parity code words stored in the memory and for storing 
the decoded data words and the decoded first parity code words into the second 

memory; 
   a third error correction decoding means for error correction decoding 

the data words stored in the second memory by using the first parity code 
words stored in the second memory to obtain a decoded data block composed of 

finally decoded data words; and 
   deformatting means for deformatting the decoded data block into a 

sequence of decoded data words. 
An apparatus according to claim 10, wherein the first error correction 
 

coding means performs an inter-track error correction coding by forming 
a plurality of first information elements each being composed of a plurality 

of symbols collected from a plurality of data words selected from different 
data groups among said plurality of data groups and subjecting each of the 

first information elements to an error correction encoding to obtain the 
plurality of first parity code words for the plurality of first information 

elements. 
An apparatus according to claim 10, wherein the recording means 
records the third parity code words for the data words at a beginning of each 

of the predetermined number of continuous tracks, and subsequently records 
the third parity code words for the first parity code words and the third 

parity code words for the second parity code words in this order. 
An apparatus according to claim 10, wherein the formatting means 
forms the data block from M1 x N1 X L symbols of the input data, where each 

of M1, N1 and L is a natural number, the first error correction coding means 
performs the first error correction coding by means of a (M1+M2, M1) code, 

where M2 is a natural number, the second error correction coding means 
performs the second error correction coding by means of a (M1+M2+M3, M1+M2) 

code, where M3 is a natural number, the third error correction coding means 
performs the third error correction coding by means of a (N1+N2, N1) code, 

 
where N2 is a natural number, the first error correct
ion decoding means 
performs an error correction decoding by means of a (N1+N2, N1) code, the 

second error correction decoding means performs an error correction decoding 
by means of a (M1+M2+M3, M1+M2) code, and the third error correction coding 

means performs an error correction coding by means of a (M1+M2, M1) code. 
An apparatus according to claim 13, wherein the recording means 
records (M1+M2+M3) said third parity code words sequentially on one track. 
An apparatus according to claim 13, wherein the predtermined number 
of continuous tracks are numbered sequentially in the order to be recorded 

from 0 to (L-1), where L is a natural number, the third parity code words to 
be recorded on each track are numbered in the order to be recorded from 0 to 

(M1+M2+M3-1), elements of the third parity code words are numberd in the 
order to be recorded from 0 to (N1+N2-1), the first parity code words are 

numbered from 0 to s=(N1 X L - 1), and elements of the first parity code 
words are numbered from 0 to (M1+M2-1), and wherein, when a t-th element of 

an s-th first parity code word is to be recorded in an r-th element of a 
q-th third parity code word on a p-th track, the first error correction coding 

means produces a first parity code word such that p becomes a remainder of 
a calculation of dividing by L a sum of a value obtained by multiplying t by 

an integer constant d and a value obtained by dividing s by N1, that q is equal 
 

to t and that r becomes a remainder of a calculation of dividing by N1 a 
sum of t and s. 
An apparatus according to claim 15, satisfying the following conditions: 
   M1=129, M2=9, M3=11, N1=77, N2=8, L=10 or 12; and 

   d=3 or 7 when L=10, and d=5 or 7 when L=12. 
An apparatus according to claim 13, satisfying the following conditions: 
   M2=9, M3=11, N1=77, N2=8, L=10 or 12. 
A digital data recording and reproducing apparatus for recording 
input data composed of a sequence of data words each being composed of a 

plurality of symbols onto a plurality of continuos tracks on a recording 
medium and for reproducing the recorded data from the recording medium, 

comprising: 
   a data formatting means for forming from the sequence of data words of 

the input data a first data block which is composed of a first plurality of 
data words and a second data block which is composed of a second plurality 

of data words; 
   a first memory for storing therein all the data words in the first and 

second data blocks;
 

   a first error correction coding means for performing a first error 
correction coding for the data words in the first data block stored in the 

first memory to obtain a plurality of first parity code words and for storing 
the plurality of first parity code words into the first memory; 

   a second error correction coding means for performing a second error 
correction coding for the data words in the first and second data blocks 

and the first parity code words stored in the first memory to obtain a 
plurality of second parity code words and for storing the plurality of second 

parity code words into the first memory; 
   a third error correction coding means for performing a third error 

correction coding for each of the data words in the first and second data 
blocks, the first parity code words and the second parity code words stored 

in the first memory to obtain a plurality of third parity code words and for 
outputting the data words in the first and second data blocks and the first 

through third parity code words; 
   recording means for recording the data words and the first through 

third parity code words outputted from the third error correction coding 
means on a predetermined number of continuous tracks on the recording medium 

such that the data words in the first and second data blocks are distributed 
to a first predetermined recording area of each track of the predetermined 

 
number of continuous tracks and that the first parity code words are distributed 

to a second predetermined recording area of each track of the predetermined 
number of continuous tracks; 

   reproducing means for reproducing from the recording medium the recorded 
data words and first through third parity code words; 

   a second memory for recording therein the reproduced data words and 
first through third parity code words; 

   a first error correction decoding means for error correction decoding 
each the data words in the first and second data blocks and the first and 

second parity code words stored in the second memory by using the third 
parity code words stored in the second memory and for storing the the decoded 

data words and the decoded first and second parity code words into the second 
memory; 

   a second error correction decoding means for error correction decoding 
the data words in the first and second data blocks and the first parity code 

words stored in the second memory by using the second parity code words 
stored in the memory and for storing the decoded data words and the decoded 

first parity code words into the second memory; 
   a third error correction decoding means for error correction decoding 

the data words in the first data block stored in the second memory by using 
 

the first parity code words stored in the second memory to obtain a decoded 
first data block and a decoded second data block; and 

   deformatting means for deformatting the decoded first and second data 
blocks into a sequence of decoded data words. 
An apparatus according to claim 18, wherein the first error correction 
coding means performs an inter-track error correction coding by forming 

a plurality of first information elements each being composed of a plurality 
of symbols collected from a plurality of data words which are to be distributed 

to at least two of the predetermined number of continuous tracks and 
subjecting each of the first information elements to an error correction 

encoding to obtain the plurality of first parity code words. 
An apparatus according to claim 10, wherein the recording means 
records the third parity code words for a part of the data words in the 

second data block at a beginning area of each of the predetermined number of 
continuous tracks, and subsequently records the third parity codes for the 

data words in the first data block, the third parity codes for the remaining 
data words in the second data block, the third parity code words for the 

first parity code words and the third parity code words for the second parity 
code words in this order. 
An apparatus according to claim 18, wherein the formatting means 
 

forms the first data block from M1 x N1 X L symbols of the input data and the 
second data block from C1 X N1 X L symbols, where each of M1, N1, L and C1 is 

a natural number, the first error correction coding means performs the first 
error correction coding by means of a (M1+M2, M1) code, where M2 is a natural 

number, the second error correction coding means performs the second error 
correction coding by means of a (M1+C1+M2+M3, M1+C1+M2) code, where M3 is a 

natural number, the third error correction coding means performs the third 
error correction coding by means of a (N1+N2, N1) code, where N2 is a natural 

number, the first error correction decoding means performs an error correction 
decoding by means of a (N1+N2, N1) code,the second error correction decoding 

means performs an error correction decoding by means of a (M1+C1+M2+M3, M1+C1+M2) code, and the third error correction coding means performs an error 
correction coding by means of a (M1+M2, M1) code. 
An apparatus according to claim 21, wherein the recording means 
records (M
1+C1+M2+M3) said third parity code words sequentially on one track. 
An apparatus according to claim 21, wherein the predtermined number 
of continuous tracks are numbered sequentially in the order to be recorded 

from 0 to (L-1), where L is a natural number, the third parity code words to 
be recorded on each track are numbered in the order to be recorded from 0 to 

(M1+C1+M2+M3-1), elements of the third parity code words are numberd in the 
 

order to be recorded from 0 to (N1+N2-1), the first parity code words are 
numbered from 0 to s=(N1 X L - 1), and elements of the first parity code 

words are numbered from 0 to (M1+M2-1), and wherein, when a t-th element of 
an s-th first parity code word is to be recorded in an r-th element of a 

q-th third parity code word on a p-th track, the first error correction coding 
means produces a first parity code word such that p becomes a remainder of 

a calculation of dividing by L a sum of a value obtained by multiplying t by 
an integer constant d and a value obtained by dividing s by N1, that q is a 

sum of t and d and that r becomes a remainder of a calculation of dividing 
by N1 a sum of t and s. 
A digital data recording and reproducing apparatus for recording 
input data composed of a sequence of data words each being composed of a 

plurality of symbols onto a plurality of continuos tracks on a recording 
medium and for reproducing the recorded data from the recording medium, 

comprising: 
   a data formatting means for forming from the sequence of data words of 

the input data a first data block which is composed of a first plurality of 
data words and a second data block which is composed of a second plurality 

of data words; 
   a first memory for storing therein all the data words in the first and 

 
second data blocks; 

   a first error correction coding means for performing a first error 
correction coding for the data words in the first and second data blocks 

stored in the first memory to obtain a plurality of first parity code words 
and for storing the plurality of first parity code words into the first 

memory; 
   a second error correction coding means for performing a second error 

correction coding for the data words in the first and second data blocks 
and the first parity code words stored in the first memory to obtain a 

plurality of second parity code words and for storing the plurality of second 
parity code words into the first memory; 

   a third error correction coding means for performing a third error 
correction coding for each of the data words in the first and second data 

blocks, the first parity code words and the second parity code words stored 
in the first memory to obtain a plurality of third parity code words and for 

outputting the data words in the first and second data blocks and the first 
through third parity code words; 

   recording means for recording the data words and the first through 
third parity code words outputted from the third error correction coding 

means on a predetermined number of continuous tracks on the recording medium 
 

such that the data words in the first and second data blocks are distributed 
to a first predetermined recording area of each track of the predetermined 

number of continuous tracks and that the first parity code words are distributed 
to a second predetermined recording area of each track of the predetermined 

number of continuous tracks; 
   reproducing means for reproducing from the recording medium the recorded 

data words and first through third parity code words; 
   a second memory for recording therein the reproduced data words and 

first through third parity code words; 
   a first error correction decoding means for error correction decoding 

each the data words in the first and second data blocks and the first and 
second parity code words stored in the second memory by using the third 

parity code words stored in the second memory and for storing the the decoded 
data words and the decoded first and second parity code words into the second 

memory; 
   a second error correction decoding means for error correction decoding 

the data words in the first and second data blocks and the first parity code 
words stored in the second memory by using the second parity code words 

stored in the memory and for storing the decoded data words and the decoded 
first parity code words into the second memory;

 
   a third error correction decoding means for error correction decoding 

the data words in the first and second data blocks stored in the second memory 
by using the first parity code words stored in the second memory to obtain a 

decoded first data block and a decoded second data block; and 
   deformatting means for deformatting the decoded first and second data 

blocks into a sequence of decoded data words. 
An apparatus according to claim 24, wherein the first error correction 
coding means performs an inter-track error correction coding by forming 

a plurality of first information elements each being composed of a plurality 
of symbols collected from a plurality of data words which are to be distributed 

to at least two of the predetermined number of continuous tracks and 
subjecting each of the first information elements to an error correction 

encoding to obtain the plurality of first parity code words. 
An apparatus according to claim 24, wherein the recording means 
records the third parity code words for a part of the data words in the 

second data block at a beginning area of each of the predetermined number of 
continuous tracks, and subsequently records the third parity codes for the 

data words in the first data block, the third parity codes for the remaining 
data words in the second data block, the third parity code words for the 

first parity code words and the third parity code words for the second parity 
 

code words in this order. 
An apparatus according to claim 24, wherein the formatting means 
forms the first data block from M1 x N1 X L symbols of the input data and the 

second data block from C1 X N1 X L symbols, where each of M1, N1, L and C1 is 
a natural number, the first error correction coding means performs the first 

error correction coding by means of a (M1+C1+M2, M1+C1) code, where M2 is a 
natural number, the second error correction coding means performs the second 

error correction coding by means of a (M1+C1+M2+M3, M1+C1+M2) code, where M3 
is a natural number, the third error correction coding means performs the 

third error correction coding by means of a (N1+N2, N1) code, where N2 is a 
natural number, the first error correction decoding means performs an error 

correction decoding by means of a (N1+N2, N1) code, the second error correction 
decoding means performs an error correction decoding by means of a (M1+C1+M2+M3, M1+C1+M2) code, and the third error correction coding means performs 

an error correction coding by means of a (M1+C1+M2, M1+C1) code. 
An apparatus according to claim 27, wherein the recording means 
records (M1+C1+M2+M3) said third parity code words sequentially on one track. 
An apparatus according to claim 27, wherein the predtermined number 
of continuous tracks are numbered sequentially in the order to be recorded 

from 0 to (L-1), where L is a natural number, the third parity code words to 
 

be recorded on each track are numbered in the order to be recorded from 0 to 
(M1+C1+M2+M3-1), elements of the third parity code words are numberd in the 

order to be recorded from 0 to (N1+N2-1), the first parity code words are 
numbered from 0 to s=(N1 X L - 1), and elements of the first parity code 

words are numbered from 0 to (M1+C1+M2-1), and wherein, when a t-th element 
of an s-th first parity code word is to be recorded in an r-th element of a 

q-th third parity code word on a p-th track, the first error correction coding 

means produces a first parity code word such that, if t is smaller than a sum 
of M1 and an integer constant e, p becomes a remainder of a calculation of 

dividing by L a sum of a value obtained by multiplying t by an integer 
constant d and a value obtained by dividing s by N1, q is equal to t and r 

becomes a remainder of a calculation of dividing by N1 a sum of t and s, and 
if t is equal to or larger than the sum of M1 and e, p becomes a remainder of 

a calculation of dividing by L a sum of a value obtained by multiplying a sum 
of t and M2 by d and a value obtained by dividing s by N1, q is equal to the 

sum of t and M2 and r becomes a remainder of a calculation of dividing the 
sum of t and M2 by N1. 
A digital data recording and reproducing apparatus for recording 
input data composed of a sequence of data words each being composed of a 

plurality of symbols onto a plurality of continuos tracks on a recording 
 

medium and for reproducing the recorded data from the recording medium, 
comprising: 

   a data formatting means for forming from the sequence of data words of 
the input data a first data block which is composed of a first plurality of 

data words, a second data block which is composed of a second plurality of 
data words and a third data block which is composed of a third plurality of 

data words; 
   a first memory for storing therein all the data words in the first, 

second and third data blocks; 
   a first error correction coding means for performing a first error 

correction coding for the data words in the first and second data blocks 
stored in the first memory to obtain a plurality of first parity code words 

and for storing the plurality of first parity code words into the first 
memory; 

   a second error correction coding means for performing a second error 
correction coding for the data words in the first and third data blocks 

and the first parity code words stored in the first memory to obtain a 
plurality of second parity code words and for storing the plurality of second 

parity code words into the first memory; 
   a third error correction coding means for performing a third error 

 
correction coding for the data words in the second data blocks stored in the 

first memory to obtain a plurality of third parity code words and for storing 
the plurality of third parity code words into the first memory; 

   a fourth error correction coding means for performing a fourth error 
correction coding for each of the data words in the first through third data 

blocks, the first parity code words, the second parity code words and the 
third parity code words stored in the first memory to obtain a plurality of 

fourth parity code words and for outputting the data words in the first 
through third data blocks and the first through fourth parity code words; 

   recording means for recording the data words and the first through 
fourth parity code words outputted from the fourth error correction coding 

means on a predetermined number of continuous tracks on the recording medium 
such that the data words in the first through third data blocks are distributed 

to a first predetermined recording area of each track of the predetermined 
number of continuous tracks and that the first parity code words are 

distributed to a second predetermined recording area of each track of the 
predetermined number of continuous tracks; 

   reproducing means for reproducing from the recording medium the recorded 
data words and first through fourth parity code words; 

   a second memory for recording therein the reproduced data words and 
 

first through fourth parity code words; 
   a first error correction decoding means for error correction decoding 

each the data words in the first, second and third data blocks and the first, 
second and third parity code words stored in the second memory by using the 

fourth parity code words stored in the second memory and for storing the 
decoded data words and the decoded first through third parity code words into 

the second memory; 
   a second error correction decoding means for error correction decoding 

the data words in the first and third data blocks and the first parity code 
words stored in the second memory by using the second parity code words 

stored in the memory and for storing the decoded data words and the decoded 
first parity code words into the second memory; 

   a third error correction decoding means for error correction decoding 
the data words in the second data block stored in the second memory by using 

the third parity code words stored in the second memory and for storing the 
decoded data words into the second memory; 

   a fourth error correction decoding means for error correction decoding 
the data words in the first and second data blocks stored in the second memory 

by using the first parity code words stored in the second memory and for 
storing the decoded data words into the second memory; and

 
   deformatting means for deformatting the decoded first, second and third 

data blocks stored in the second memory into a sequence of decoded data words. 
An apparatus according to claim 30, wherein the first error correction 
coding means performs an inter-track error correction coding by forming 

a plurality of first information elements each being composed of a plurality 
of symbols collected from a plurality of data words which are to be distributed 

to at least two of the predetermined number of continuous tracks and 
subjecting each of the first information elements to an error correction 

encoding to obtain the plurality of first parity code words. 
An apparatus according to claim 30, wherein the recording means 
records the fourth parity code words for the data words in the second data 

block at a beginning area of each of the predetermined number of continuous 
tracks, and subsequently records the fourth parity codes for the third parity 

code words, the fourth parity code words for a part of the data words in the 
third data block, the fourth parity code words for the data words in the first 

data block, the fourth parity code words for the remaining data words in the 
third data block, the fourth parity code words for the first parity code words 

and the fourth parity code words for the second parity code words in this 
order. 
An apparatus according to claim 30, wherein the formatting means 
 

forms the first data block from M1 x N1 X L symbols of the input data, the 
second data block from D1 X N1 X L symbols and the third data block from 

C1 X N1 X L symbols, where each of M1, N1, L, D1 and C1 is a natural number, 
the first error correction coding means performs the first error correction 

coding by means of a (M1+D1+M2, M1+D1) code, where M2 is a natural number, 
the second error correction coding means performs the second error correction 

coding by means of a (M1+C1+M2+M3, M1+C1+M2) code, where M3 is a natural 
number, the third error correction coding means performs the third error correction 

coding by means of a (D1+D2, D1) code, where D2 is a natural number, 
the fourth error correction coding means performs the fourth error correction 

coding by means of a (N1+N2, N1) code, where N2 is a natural number, the 
first error correction decoding means performs an error correction decoding 

by means of a (N1+N2, N1) code, the second error correction decoding means 
performs an error correction decoding by means of a (M1+C1+M2+M3, M1+C1+M2) 

code, the third error correction decoding means performs an error correction 
decoding by means of a (D1+D2, D1) code, and the fourth error correction 

coding means performs an error correction coding by means of a (M1+D1+M2, M1+D1) code. 
An apparatus according to claim 33, wherein the recording means 
records (D1+D2+M1+C1
+M2+M3) said fourth parity code words sequentially on one 
 

track. 
An apparatus according to claim 33, wherein the predetermined number 
of continuous tracks are numbered sequentially in the order to be recorded 

from 0 to (L-1), where L is a natural number, the fourth parity code words to 
be recorded on each track are numbered in the order to be recorded from 0 to 

(D1+D2+M1+C1+M2+M3-1), elements of the fourth parity code words are numberd 
in the order to be recorded from 0 to (N1+N2-1), the first parity code words 

are numbered from 0 to s=(N1 X L - 1), and elements of the first parity code 
words are numbered from 0 to (D1+M1+M2-1), and wherein, when a t-th element 

of an s-th first parity code word is to be recorded in an r-th element of a 
q-th third parity code word on a p-th track, the first error correction coding 

means produces a first parity code word such that, if t is smaller than D1, 
p becomes a remainder of a calculation of dividing by L a sum of a value 

obtained by multiplying t by an integer constant d and a value obtained by 
dividing s by N1, q is equal to t and r becomes a remainder of a calculation 

of dividing by N1 a sum of q and s, and if t is equal to or larger than D1, 
p becomes a remainder of a calculation of dividing by L a sum of a value 

obtained by multiplying a sum of t and D2 by d and a value obtained by 
dividing s by N1, q is equal to the sum of t and D2 and r becomes a remainder 

of a calculation of dividing a sum of t, D2, e and s by N1. 
A digital data recording and reproducing apparatus for recording 
input data composed of a sequence of data words each being composed of a 

plurality of symbols onto a plurality of continuos tracks on a recording 
medium and for reproducing the recorded data from the recording medium, 

comprising: 
   a data formatting means for forming from the sequence of data words of 

the input data a first data block which is composed of a first plurality of 
data words, a second data block which is composed of a second plurality of 

data words and a third data block which is composed of a third plurality of 
data words; 

   a first memory for storing therein all the data words in the first, 
second and third data blocks; 

   a first error correction coding means for performing a first error 
correction coding for the data words in the first, second and third data 

blocks stored in the first memory to obtain a plurality of first parity code 
words and for storing the plurality of first parity code words into the first 

memory; 
   a second error correction coding means for performing a second error 

correction coding for the data words in the first and third data blocks 
and the first parity code words stored in the first memory to obtain a 

 
plurality of second parity code words and for storing the plurality of second 

parity code words into the first memory; 
   a third error correction coding means for performing a third error 

correction coding for the data words in the second data blocks stored in the 
first memory to obtain a plurality of third parity code words and for storing 

the plurality of third parity code words into the first memory; 
   a fourth error correction coding means for performing a fourth error 

correction coding for each of the data words in the first through third data 
blocks, the first parity code words, the second parity code words and the 

third parity code words stored in the first memory to obtain a plurality of 
fourth parity code words and for outputting the data words in the first 

through third data blocks and the first through fourth parity code words; 
   recording means for recording the data words and the first through 

fourth parity code words outputted from the fourth error correction coding 
means on a predetermined number of continuous tracks on the recording medium 

such that the data words in the first through third data blocks are distributed 
to a first predetermined recording area of each track of the predetermined 

number of continuous tracks and that the first parity code words are 
distributed to a second predetermined recording area of each track of the 

predetermined number of continuous tracks;
 

   reproducing means for reproducing from the recording medium the recorded 
data words and first through fourth parity code words; 

   a second memory for recording therein the reproduced data words and 
first through fourth parity code words; 

   a first error correction decoding means for error correction decoding 
each of the data words in the first, second and third data blocks and the 

first, second and third parity code words stored in the second memory by 
using the fourth parity code words stored in the second memory and for storing 

the decoded data words and the decoded first through third parity code words 
into the second memory; 

   a second error correction decoding means for error correction decoding 
the data words in the first and third data blocks and the first parity code 

words stored in the second memory by using the second parity code words 
stored in the memory and for storing the decoded data words and the decoded 

first parity code words into the second memory; 
   a third error correction decoding means for error correction decoding 

the data words in the second data block stored in the second memory by using 
the third parity code words stored in the second memory and for storing the 

decoded data words into the second memory; 
   a fourth error correction decoding means for error correction decoding 

 
the data words in the third data block stored in the second memory by using 

the first parity code words stored in the second memory and for storing the 
decoded data words into the second memory; and 

   deformatting means for deformatting the decoded first, second and third 
data blocks stored in the second memory into a sequence of decoded data words. 
An apparatus according to claim 36, wherein the first error correction 
coding means performs an inter-track error correction coding by forming 

a plurality of first information elements each being composed of a plurality 
of symbols collected from a plurality of data words which are to be distributed 

to at least two of the predetermined number of continuous tracks and 
subjecting each of the first information elements to an error correction 

encoding to obtain the plurality of first parity code words. 
An apparatus according to claim 36, wherein the recording means 
records the fourth parity code words for the data words in the second data 

block at a beginning area of each of the predetermined number of continuous 
tracks, and subsequently records the fourth parity codes for the third parity 

code words, the fourth parity code words for a part of the data words in the 
third data block, the fourth parity code words for the data words in the first 

data block, the fourth parity code words for the remaining data words in the 
third data block, the fourth parity code words for the first parity code words 

 
and the fourth parity code words for the second parity code words in this 

order. 
An apparatus according to claim 36, wherein the formatting means 
forms the first data block from M1 x N1 X L symbols of the input data, the 

second data block from D1 X N1 X L symbols and the third data block from 
C1 X N1 X L symbols, where each of M1, N1, L, D1 and C1 is a natural number, 

the first error correction coding means performs the first error correction 
coding by means of a (C1+M1+D1+M2, C1+M1+D1) code, where M2 is a natural 

number, the second error correction coding means performs the second error 
correction coding by means of a (M1+C1+M2+M3, M1+C1+M2) code, where M3 is a 

natural number, the third error correction coding means performs the third 
error correction coding by means of a (D1+D2, D1) code, where D2 is a natural 

number, the fourth error correction coding means performs the fourth error 
correction coding by means of a (N1+N2, N1) code, where N2 is a natural 

number, the first error correction decoding means performs an error correction 
decoding by means of a (N1+N2, N1) code, the second error correction decoding 

means performs an error correction decoding by means of a (M1+C1+M2+M3, 
M1+C1+M2) code, the third error correction decoding means performs an error 

correction 
decoding by means of a (D1+D2, D1) code, and the fourth error correction 

coding means performs an error correction coding by means of a (C1+M1+D1+M2, 
 

C1+M1+D1) code. 
An apparatus according to claim 39, wherein the recording means 
records (D1+D2+M1+C1+M2+M3) said fourth parity code words sequentially on one 

track. 
An apparatus according to claim 39, wherein the predetermined number 
of continuous tracks are numbered sequentially in the order to be recorded 

from 0 to (L-1), where L is a natural number, the fourth parity code words to 
be recorded on each track are numbered in the order to be recorded from 0 to 

(D1+D2+M1+C1+M2+M3-1), elements of the fourth parity code words are numberd 
in the order to be recorded from 0 to (N1+N2-1), the first parity code words 

are numbered from 0 to s=(N1 X L - 1), and elements of the first parity code 
words are numbered from 0 to (D1+M1+M2-1), and wherein, when a t-th element 

of an s-th first parity code word is to be recorded in an r-th element of a 
q-th third parity code word on a p-th track, the first error correction coding 

means produces a first parity code word such that, (1) if t is smaller than 
D1, p becomes a remainder of a calculation of dividing by L a sum of a value 

obtained by multiplying t by an integer constant d and a value obtained by 
dividing s by N1, q is equal to t and r becomes a remainder of a calculation 

of dividing by N1 a sum of q and s, (2) if t is equal to or larger than D1 and 
is smaller than a sum of D1, M1 and an integer constant e, p becomes a remainder 

 
of a calculation of dividing by L a sum of a value obtained by multiplying 

a sum of t and D2 by d and a value obtained by dividing s by N1, q is equal to 
the sum of t and D2 and r becomes a remainder of a calculation of dividing a 

sum of t, D2 and s by N1, and (3) if t is equal to or larger than M2, p 
becomes a remainder of a calculation of dividing by L a sum of a value 

obtained by multiplying a sum of t, D2 and M2 by d and a value obtained by 
dividing s by N1, q is equal to the sum of t, D2 and M2 and r becomes a 

remainder of a calculation of dividing a sum of t, D2, M2 and s by N1. 
</CLAIMS>
</TEXT>
</DOC>
