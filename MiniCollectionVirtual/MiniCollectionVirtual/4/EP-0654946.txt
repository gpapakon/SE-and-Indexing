<DOC>
<DOCNO>EP-0654946</DOCNO> 
<TEXT>
<INVENTION-TITLE>
APPARATUS FOR DETERMINING MOTION VECTOR.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T720	G06T720	H04N514	H04N514	H04N726	H04N726	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T7	G06T7	H04N5	H04N5	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An apparatus for determining a motion 
vector in predicting the motion of an interlaced 

time-varying image made up of a set 
of image blocks each comprising a plurality of 

pixels. When this apparatus calculates prediction 
errors in five motion vectors; one from the 

current frame to the reference frame; one from 
an odd-numbered field of the current frame to 

an odd-numbered field of the reference frame; 
one from an odd-numbered field of the current 

frame to an even-numbered field of the reference 
field; one from an even-numbered field 

of the current frame to an odd-numbered field 
of the reference field; and the last one from 

an even-numbered field of the current frame 
to the even-numbered field of the reference 

frame, the output result of an accumulator for 
calculating the motion vector for field is used 

as it is, and at the same time, the motion vectors 
for frame are calculated. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SONY CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SONY CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
YASUDA KAZUNORI
</INVENTOR-NAME>
<INVENTOR-NAME>
YONEMITSU JUN
</INVENTOR-NAME>
<INVENTOR-NAME>
YASUDA, KAZUNORI
</INVENTOR-NAME>
<INVENTOR-NAME>
YONEMITSU, JUN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a motion vector detecting 
apparatus adapted for detecting motion vectors in motion 
prediction of an interlaced moving picture comprised of sets of 
picture blocks consisting of a plurality of pixels. Hitherto, in carrying out motion prediction of an interlaced 
moving picture comprised of sets of groups of pixels (generally 
called picture blocks or macro blocks) consisting of a plurality 
of pixel data, in the case where, e.g., moving pictures of two 
frames of a frame picture serving as a current picture (current 
frame picture) A and a frame picture serving as a reference 
picture (reference frame picture) B are used to calculate motion 
vector MVAB from the current frame picture A to the reference 
frame picture B, there is a method of accumulating or 
cumulatively calculating, by the number of pixels within 
corresponding picture block, absolute values (or square values, 
etc.) of differences between respective correspondence pictures 
of picture blocks of the both frame pictures to obtain predictive 
error value E (x, y) to select an optimum (ordinarily, minimum 
error) candidate vector from a plurality of candidate vectors 
mv(x,y) corresponding to respective picture blocks within a 
search range given in advance to employ it as the motion vector  
 
MVAB. Namely, in the case of determining motion vectors of an 
interlaced picture by using such a motion vector detecting 
system, there is adopted a system in which data of both pictures 
of current frame picture A and reference frame picture B are 
merely inputted to a circuit for calculating motion vectors to 
obtain, at this circuit, error quantity outputs corresponding to 
respective candidate vectors of candidate vector groups 
(candidate vector groups corresponding to respective picture 
blocks within the search area) which are considered as candidate 
to employ a candidate vector corresponding to the error quantity 
output which is minimum among them as motion vector MVAB of that 
picture (picture block). Meanwhile, in the so-called MPEG2, adaptive switching 
between motion compensated prediction of the frame base and 
motion compensated prediction of the field base is allowed. In 
the case of carrying out such adaptive switching, in macro block 
of P picture, for example, the following five motion predictive 
error calculations are required. Namely, when it is assumed that odd field of current frame 
picture A is current odd field ao, even field thereof is current 
even field ae, odd field of reference frame
</DESCRIPTION>
<CLAIMS>
A motion vector detecting apparatus for detecting a motion 
vector between a current picture consisting of a first field and 

a second field and a reference picture consisting of a first 
field and a second field, 

   the apparatus comprising: 
   first predictive error detecting means for determining 

evaluation values of predictive errors with respect to respective 
plural candidate motion vectors between the first field of the 

current picture and the first field of the reference picture; 
   second predictive error detecting means for determining 

evaluation values of predictive errors with respect to respective 
plural candidate motion vectors between the second field of the 

current picture and the second field of the reference picture; 
   third predictive error detecting means for determining 

evaluation values of predictive errors with respect to respective 
plural candidate motion vectors between the first field of the 

current picture and the second field of the reference picture; 
   fourth predictive error detecting means for determining 

evaluation values of predictive errors with respect to respective 
plural candidate motion vectors between the second field of the 

current picture and the first field of the reference picture; and 
   judging means for determining an interframe motion vector 

between the current picture and the reference picture on the 
basis of detected results by the first, second, third and fourth 

predictive error detecting means. 
A motion vector detecting apparatus as set forth in claim 
 

1, comprising: 
   second judging means for judging a motion vector between the 

first field of the current picture and the first field of the 
reference picture on the basis of a detected result by the first 

predictive error detecting means; 
   third judging means for judging a motion vector between the 

second field of the current picture and the second field of the 
reference picture on the basis of a detected result by the second 

predictive error detecting means; 
   fourth judging means for judging a motion vector between the 

first field of the current picture and the second field of the 
reference picture on the basis of a detected result of the third 

predictive error detecting means; and 
   fifth judging means for judging a motion vector between the 

second field of the current picture and the first field of the 
reference picture on the basis of a detected result of the fourth 

predictive error detecting means. 
A motion vector detecting apparatus for detecting a motion 
vector between a current picture consisting of a first field and 

a second field and a reference picture consisting of a first 
field and a second field, 

   the apparatus comprising: 
   first accumulating means for determining (calculating) 

accumulated values of evaluation values of differences between 
respective pixels of the first field of the current picture and 

respective pixels of the first field of the reference picture 
every predetermined picture ranges corresponding to respective 

 
plural candidate motion vectors between the first field of the 

current picture and the first field of the reference picture; 
   second accumulating means for determining accumulated values 

of evaluation values of differences between respective pixels of 
the second field of the current picture and respective pixels of 

the second field of the reference picture every predetermined 
picture ranges corresponding to respective plural candidate 

motion vectors between the second field of the current picture 
and the second field of the reference picture; 

   third accumulating means for determining accumulated values 
of evaluation values of differences between respective pixels of 

the first field of the current picture and respective pixels of 
the second field of the reference picture every predetermined 

picture ranges corresponding to respective plural candidate 
motion vectors between the first field of the current picture and 

the second field of the reference picture; 
   fourth accumulating means for determining accumulated values 

of evaluation values of differences between respective pixels of 
the second field of the current picture and respective pixels of 

the first field of the reference picture every predetermined 
picture ranges corresponding to respective plural candidate 

motion vectors between the second field of the current picture 
and the first field of the reference picture; 

   first adding means for adding accumulated results of the 
first and second accumulating means; 

   second adding means for adding accumulated results of the 
third and fourth accumulating means; and 

   selector means for selecting an added result which is judged 
 

to be minimum from added results of the first and second adding 
means to take out, as a motion vector between frames, a candidate 

motion vector corresponding to the selected added result from 
plural candidate motion vectors between frames. 
A motion vector detecting apparatus as set forth in claim 
3, comprising: 

   second selector means for selecting an accumulated result 
which is judged to be minimum from accumulated results of the 

first accumulating means to take out, as a motion vector between 
the first field of the current picture and the first field of the 

reference picture, a candidate vector corresponding to the 
selected accumulated result from plural candidate motion vectors 

between the first field of the current picture and the first 
field of the reference picture; 

   third selector means for selecting an accumulated result 
which is judged to be minimum from accumulated results of the 

second accumulating means to take out, as a motion vector between 
the second field of the current picture and the second field of 

the reference picture, a candidate vector corresponding to the 
selected accumulated result from plural candidate motion vectors 

between the second field of the current picture and the second 
field of the reference picture; 

   fourth selector means for selecting an accumulated result 
which is judged to be minimum from accumulated results of the 

third accumulating means to take out, as a motion vector between 
the first field of the current picture and the second field of 

the reference picture, a candidate vector corresponding to the 
 

selected accumulated result from plural candidate motion vectors 
between the first field of the current picture and the second 

field of the reference picture; and 
   fifth selector means for selecting an accumulated result 

which is judged to be minimum from accumulated results of the 
fourth accumulating means to take out, as a motion vector between 

the second field of the current picture and the first field of 
the reference picture, a candidate vector corresponding to the 

selected accumulated result from plural candidate motion vectors 
between the second field of the current picture and the first 

field of the reference picture. 
A motion vector detecting method of detecting a motion 
vector between a current picture consisting of a first field and 

a second field and a reference picture consisting of a first 
field and a second field, 

   the method comprising the steps of: 
   determining evaluation values of first predictive errors 

with respect to respective plural candidate motion vectors 
between the first field of the current picture and the first 

field of the reference picture; 
   determining evaluation values of second predictive errors 

with respect to respective plural candidate motion vectors 
between the second field of the current picture and the second 

field of the reference picture; 
   determining evaluation values of third predictive errors 

with respect to respective plural candidate motion vectors 
between the first field of the current picture and the second 

 
field of the reference picture; 

   determining evaluation values of fourth predictive errors 
with respect to respective plural candidate motion vectors 

between the second field of the current picture and the first 
field of the reference picture; and 

   determining an interframe motion vector between the current 
picture and the reference picture on the basis of evaluation 

values of the first, second, third and fourth predictive errors. 
A motion vector detecting method as set forth in claim 5, 
the method comprising the steps of: 

   determining a motion vector between the first field of the 
current picture and the first field of the reference picture on 

the basis of evaluation values of the first predictive errors; 
   determining a motion vector between the second field of the 

current picture and the second field of the reference picture on 
the basis of evaluation values of the second predictive errors; 

   determining a motion vector between the first field of the 
current picture and the second field of the reference picture on 

the basis of evaluation values of the third predictive errors; 
and 

   determining a motion vector between the second field of the 
current picture and the first field of the reference picture on 

the basis of evaluation values of the fourth predictive errors. 
A motion vector detecting method of detecting a motion 
vector between a current picture consisting of a first field and 

a second field and a reference picture consisting of a first 
 

field and a second field, 
   the method comprising the steps of: 

   determining first accumulated values of evaluation values 
of differences between respective pixels of the first field of 

the current picture and respective pixels of the first field of 
the reference picture every predetermined picture ranges 

corresponding to respective plural candidate motion vectors 
between the first field of the current picture and the first 

field of the reference picture; 
   determining second accumulated values of evaluation values 

of differences between respective pixels of the second field of 
the current picture and respective pixels of the second field of 

the reference picture every predetermined picture ranges 
corresponding to respective plural candidate motion vectors 

between the second field of the current picture and the second 
field of the reference picture; 

   determining third accumulated values of evaluation values 

of differences between respective pixels of the first field of 
the current picture and respective pixels of the second field of 

the reference picture every predetermined picture ranges 
corresponding to respective plural candidate motion vectors 

between the first field of the current picture and the second 
field of the reference picture; 

   determining fourth accumulated values of evaluation values 
of differences between respective pixels of the second field of 

the current picture and respective pixels of the first field of 
the reference picture every predetermined picture ranges 

corresponding to respective plural candidate motion vectors 
 

between the second field of the current picture and the first 
field of the reference picture; 

   adding the first and second accumulated values to generate 
a first added result; 

   adding the third and fourth accumulated values to generate 
a second added result; and 

   selecting an added result which is to judged be minimum from 
the first and second added results to take out, as a motion 

vector between frames, a candidate motion vector corresponding 
to the selected added result from plural motion vectors between 

frames. 
A motion vector detecting method as set forth in claim 7, 
the method comprising the steps of: 

   selecting an accumulated value which is judged to be minimum 
from the first accumulated values to take out, as a motion vector 

between the first field of the current picture and the first 
field of the reference picture, a candidate vector corresponding 

to the selected accumulated value from plural candidate motion 
vectors between the first field of the current picture and the 

first field of the reference picture; 
   selecting an accumulated value which is judged to be minimum 

from the second accumulated values to take out, as a motion 
vector between the second field of the current picture and the 

second field of the reference picture, a candidate vector 
corresponding to the selected accumulated value from plural 

candidate motion vectors between the second field of the current 
picture and the second field of the reference picture;

 
   selecting an accumulated value which is judged to be minimum 

from the third accumulated values to take out, as a motion vector 
between the first field of the current picture and the second 

field of the reference picture, a candidate vector corresponding 
to the selected accumulated value from plural candidate motion 

vectors between the first field of the current picture and the 
second field of the reference picture; and 

   selecting an accumulated value which is judged to be minimum 
from the fourth accumulated values to take out, as a motion 

vector between the second field of the current picture and the 
first field of the reference picture, a candidate vector 

corresponding to the selected accumulated value from plural 
candidate motion vectors between the second field of the current 

picture and the first field of the reference picture. 
</CLAIMS>
</TEXT>
</DOC>
