<DOC>
<DOCNO>EP-0620956</DOCNO> 
<TEXT>
<INVENTION-TITLE>
APPARATUS FOR REDUCING THE RISK OF UNDESIRABLE PARAMETERDRIFT OF AN ADAPTIVE FILTER USED FOR ECHO CANCELLATION
</INVENTION-TITLE>
<CLASSIFICATIONS>H03H1500	H03H2100	H03H1700	H03H1500	H03H1700	H04B323	H03H2100	H04B323	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03H	H03H	H03H	H03H	H03H	H04B	H03H	H04B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03H15	H03H21	H03H17	H03H15	H03H17	H04B3	H03H21	H04B3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Apparatus for reducing the risk of undesirable drifting of the parameters, so-called bursting, of an adaptive echo filter (15), which is coupled between a receiving branch (17) and a transmitting branch (16) included in a four-wire loop. A difference signal (E) which contains no echo from the receiving branch is generated in the transmitting branch in a known manner. The apparatus includes an adaptive filter (25) which is coupled between the transmitting branch and the receiving branch and which functions to generate a compensation signal from the difference signal (E) when transmitting narrowband signals from a near-end. The compensating signal is subtracted from a signal which appears in the receiving branch (17) and the filter is updated in a manner to minimize the correlation between the difference signal (E) and the input signal (X') of the echo filter. A relatively small filter (25) is sufficient to essentially eliminate this correlation when transmitting signals which, at maximum, consist of some few single sinusoidal tones.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ERICSSON TELEFON AB L M
</APPLICANT-NAME>
<APPLICANT-NAME>
TELEFONAKTIEBOLAGET L M ERICSSON
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ANDRE TORE MIKAEL
</INVENTOR-NAME>
<INVENTOR-NAME>
ANDRE, TORE, MIKAEL
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to apparatus for reducing the
risk of undesirable drifting of the parameters of an adaptive
filter which is used for echo cancellation and which is coupled
between a receiving branch and a transmitting branch of a four-wire
loop in a telephony system, and the filter being connected
closer to a near-end than to a far-end of the system, the
connection to the far-end being constituted by a long distance
connection, wherein a difference signal is formed in the transmitting
branch by subtracting a compensation signal generated
in the filter from a signal which is delivered to the transmitting
branch via a two/four-wire hybrid at said near-end.In telephony systems in which adaptive echo cancellation is
effected with the aid of an adaptive filter at a two/four-wire
hybrid in a four-wire loop, so-called bursting may occur under
certain operating conditions. This phenomenon occurs because
the four-wire loop includes a feedback from the output of the
adaptive filter to its input, via the far-end of the loop when
damping is low at the far-end. When transmitting narrowband
signals from the near-end of the loop, a correlation is
therefore found between the filter input signal and the
difference signal formed on the output side of the filter, even
when the settings of the filter parameters are good, i.e. even
when the filter has converged. This correlation can cause the
filter parameters to drift in a manner which will result in the
self-oscillation of the four-wire loop. When bursting occurs,
the loop will self-oscillate over short periods of time, while
effectively cancelling echoes over longer intermediate periods.
The risk of self-oscillation is particularly manifest when
transmitting periodic signals, such as sinusoidal tones, since 
a tone is strongly correlated with itself, even after a delay.
Tones are transmitted, for instance, from modems, facsimile
apparatus and in conjunction with DTMF-signalling (Dual Tone
Multi Frequency).The bursting phenomenon and a method of reducing the risk of
bursting are found described in:
W.A. Sethares, C.R. Johnson, Jr., C.E. Rohrs: "Bursting in
Adaptive Hybrids"; IEEE Transactions on Communications, Vol.
37, No. 8, Aug. 1989, pp. 791-799; andZ. Ding, C.R. Johnson, Jr., W.A. Sethares: "FREQUENCY-DEPENDENT
BURSTING IN ADAPTIVE ECHO CANCELLATION AND ITS PREVENTION USING
DOUBLE-TALK DETECTORS", International Journal of Adaptive
Control and Signal Processing, Vol. 4, pp. 219-236.The proposed method for reducing the risk of bursting uses a
so-called
</DESCRIPTION>
<CLAIMS>
Apparatus for reducing the risk of undesirable drifting of
the parameters of an adaptive filter (15) which is used for

echo cancellation and which is coupled between a receiving
branch (17) and a transmitting branch (16) of a four-wire loop

in a telephony system, and the filter being connected closer to
a near-end than to a far-end of the system, the connection to

the far-end being constituted by a long distance connection
(20, 21), a difference signal (E) being formed in the transmitting

branch by subtracting (18) a compensation signal generated
in the filter from a signal which is delivered to the

transmitting branch via a two/four-wire hybrid (13), at said
near-end 
characterized in that
 the apparatus
includes an adaptive filter (25) which is coupled between the

transmitting branch (16) and the receiving branch (17) and
which is intended to generate a second compensation signal from

said difference signal (E), and which is connected closer to
the near-end than to the far-end and on the same side of said

long distance connection as the adaptive filter (15) which is
used for echo cancellation; means (26) for producing a second

difference signal (X') in the receiving branch, by subtracting
the second compensation signal from a signal which is received

from a far-end via said long distance connection; and means
(27) for updating the parameters of this latter filter (25) in

a manner to minimize the correlation between the difference
signal (E) in the transmitting branch and the second difference

signal (X'); and 
in that
 this latter filter (25) is of an order
which is sufficient to ensure that said correlation will be

essentially non-existent when a signal delivered to the
transmitting branch from a near-end consists at maximum of a

few single sinusoidal tones.
Apparatus according to Claim 1, 
characterized
in that
 the filter (25) which is intended to generate a second
compensation signal is a fourth order filter, whereby said

correlation will be essentially non-existent when a signal 
delivered to the transmitting branch from a near-end consists

at maximum of two sinusoidal tones.
Apparatus according to any one of Claims 1-2, 
characterized
in that
 said apparatus further includes means
(29) for detecting signalling from a near-end subscriber; and

means (30) for generating control signals which function to
control the updating speeds of said two adaptive filters (15,

25) in a manner such that the filter (15) used for echo
cancellation will be updated more slowly than the filter (25)

which is intended to generate a second compensation signal when
signalling from a near-end subscriber is detected, and vice

versa.
</CLAIMS>
</TEXT>
</DOC>
