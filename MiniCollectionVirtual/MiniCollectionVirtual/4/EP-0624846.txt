<DOC>
<DOCNO>EP-0624846</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Bus control apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1342	G06F1342	G06F1340	G06F1312	G06F1312	G06F1340	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F13	G06F13	G06F13	G06F13	G06F13	G06F13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A bus control apparatus is provided which can 
control the access timing between a central processing unit 

and a peripheral equipment without increasing the size and 
the cost of the entire system. The access timing between 

the central processing unit and the peripheral equipment is 
controlled in accordance with an operation timing of the 

peripheral equipment described in a timing table. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SONY COMP ENTERTAINMENT INC
</APPLICANT-NAME>
<APPLICANT-NAME>
SONY COMPUTER ENTERTAINMENT INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ISHIBASHI TOSHIYA
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMAMOTO YASUYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
ISHIBASHI, TOSHIYA
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMAMOTO, YASUYUKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a bus control apparatus 
suitable for use with, for example, a computer. A conventional computer, may include a peripheral 
equipment such as, for example, an interface board which 
operates at a lower speed than the bus accessing speed of a 
CPU (central processing unit) of the computer. To resolve 
the mis-match of bus accessing speeds, the speed of the bus 
accessing by the CPU may be decreased in accordance with the 
bus accessing timing of the peripheral equipment; however, 
the processing speed of the entire apparatus is reduced as a 
result. Therefore, a so-called wait controller or a like 
apparatus may be provided in order to adjust the timing at 
which a read signal or a write signal developed from the CPU 
is to be supplied to the peripheral equipment. Further, a conventional computer, may include 
peripheral equipment having a bus width different from that 
of the CPU, in particular, where, for example, the 
peripheral equipment uses a bus width of 8 bits while the 
CPU uses a bus width of 32 bits. In that case hardware 
apparatus for exclusive use for packing and unpacking data 
may be provided and data of 32 bits outputted from the CPU 
are divided (unpacked) into four groups of data of 8 bits to 
be supplied to the peripheral equipment whereas data of 8 
bits outputted from the peripheral equipment are read-in in 
groups of four, to produce (pack) data of 32 bits to be 
supplied to the CPU. By the way, such a wait controller as described 
above must be designed for each design of peripheral 
equipment to be connected to the computer. This makes the 
controller expensive. Further, some peripheral equipment continue to 
output data for a while even after reading of data of the 
CPU from the peripheral equipment comes to an end, that is,  
 
have long floating times. Further, some other peripheral 
equipment are required to hold data on a data bus for a 
while even after outputting of a data write signal from the 
CPU to write data into the peripheral apparatus comes to an 
end, that is, have a long hold time. With such peripheral equipment that has a long 
floating time or a long hold time, operation timings cannot 
be adjusted only by means of such a wait controller as 
described above and some special hardware contrivance is 
required for the peripheral equipment. This has impact on the size and cost of the 
apparatus. Further, the hardware apparatus for packing and 
unpacking data described above requires, similarly to a wait 
controller, individual designing
</DESCRIPTION>
<CLAIMS>
A bus control apparatus (4) for interconnecting a main bus (9) and a sub bus (10), 
the main bus (9) being connected to at least a central processing unit (1) and the sub 

bus (10) being connected to at least one peripheral device (7,8), the apparatus (4) 
comprising: 


means (16) for controlling operation of the bus control apparatus (4); and 
a data buffer (11) that is operable during a CPU read operation to store read 
data transmitted from said at least one peripheral device (7,8) to said apparatus (4) 

over said sub bus (10), and that is operable during a CPU write operation to store 
write data received by said apparatus (4) over said main bus (9) and intended for 

transmission to said at least one peripheral device (7,8) via said sub bus (1), said 
CPU read operation being initiated by said CPU (1) each time some data is to be read 

from said at least one peripheral device (7,8), said CPU write operation being 
initiated by said CPU (1) each time some data is to be written to said at least one 

peripheral device (7,8), 
 
   wherein said means (16) for controlling is operable upon storage of said read 

data in said data buffer (11) to send an indication to said CPU that said read 
operation is complete, such that said CPU (1) may be dedicated to other processing at 

a point in time immediately following storage of said read data in said buffer (11), 
and said means (16) for controlling is operable upon storage of said write data in said 

data buffer (11) to send to said CPU an indication that said write operation is 
complete, such that said CPU (I) may be dedicated to other processing at a point in 

time immediately following storage of said write data in said buffer (11). 
A bus control apparatus (4) according to claim 1, further comprising means (13) 
for storing one or more operational characteristics of said at least one peripheral 

device (7,8), and wherein said means (16) for controlling is arranged to control an 
access timing between said central processing unit (1) and said peripheral device 

(7,8) in accordance with the operation timing of said peripheral device (7,8) stored in  
 

said storage means (13). 
A bus control apparatus (4) according to claim 2, further comprising means for 
editing said operational timings stored in said means for storing when one or more of 

said peripheral devices is varied, or when an additional peripheral device is coupled 
to said sub bus. 
A bus control apparatus (4) according to claims 2 or 3, wherein said operational 
timings include a hold time. 
A bus control apparatus (4) according to any one of claims 2 to 4, wherein said 
operational timings include a recovery time. 
A bus control apparatus (4) according to any one of the preceding claims, 
wherein said main bus (9) has a bus width greater than the bus width of said sub bus 

(10). 
A bus control apparatus (4) according to claim 6, wherein the bus width of said 
main bus (9) is equal to an integral number of times the bus width of said sub bus 

(10). 
A bus control method for interconnecting a main bus (9) and a sub bus (10), 
the main bus (9) being coupled to at least a central processing unit (11) and the sub 

bus (10) being coupled to at least one peripheral device (7,8), the method comprising: 

when a CPU read operation is being performed, storing in an intermediate 
data buffer (11) read data that is transmitted from said at least one peripheral device 

(7,8) to said apparatus over said sub bus, and when a CPU write operation is being 
performed, storing in said intermediate data buffer (11) write data that is received by 

said apparatus (4) over said main bus (9) and intended for transmission to said at 
least one peripheral device (7,8) via said sub bus (10), said CPU read operation being  

 
initiated by said CPU (1) each time some data is to be read from said at least one 

peripheral device (7,8), and said CPU write operation being initiated by said CPU (1) 
each time some data is to be written to said at least one peripheral device (7,8); 
 
   wherein an indication that said read operation is complete is sent to said CPU 

(1) upon storage of said read data in said intermediate data buffer (11), such that said 
CPU (I) may be dedicated to other processing at a point in time immediately 

following storage of said read data in said buffer (11), and an indication that said 
write operation is complete is sent to said CPU (1) upon storage of said write data in 

said intermediate data buffer (11), such that said CPU (1) may be dedicated to other 
processing at a point in time immediately following storage of said write data in said 

buffer (11). 
A method according to claim 8, further comprising storing one or more 
operational timings of said at least one peripheral device (7,8) and controlling an 

access timing between said central processing unit (1) and said peripheral device 
(7,8) in accordance with the stored operation timing of said peripheral device (7,8). 
A method according to claim 9, further comprising editing said stored 
operational timings when one or more of said peripheral devices is varied, or when 

an additional peripheral device (7,8) is coupled to said sub bus (11). 
A method according to claim 9 or 10, wherein said operational timings 
include a hold time. 
A method according to any one of claim 9 to 11, wherein said operational 
timings include a recovery time. 
The method according to any one of claims 8 to 12, wherein the bus width of 
said main bus (9) is greater than the bus width of said sub bus (10).  

 
The method according to claim 13, wherein the bus width of said main bus 
(9) is equal to an integral number of times the bus width of said sub bus (10). 
</CLAIMS>
</TEXT>
</DOC>
