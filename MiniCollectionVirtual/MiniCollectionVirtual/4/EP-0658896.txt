<DOC>
<DOCNO>EP-0658896</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Apparatus and methods for improving data detection reliability.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1108	G06F1108	G11B2010	G11B2010	G11B2014	G11B2014	G11B2018	G11B2018	H03M714	H03M714	H03M1300	H03M1300	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G11B	G11B	G11B	G11B	G11B	G11B	H03M	H03M	H03M	H03M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F11	G06F11	G11B20	G11B20	G11B20	G11B20	G11B20	G11B20	H03M7	H03M7	H03M13	H03M13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
To improve data detection reliability in a coded maximum 
likelihood signal processing channel, two counters count the number 

of times actual values of linear functions of digital sample values 
corresponding to one and another preselected data patterns are 

within m units above and m units below, respectively, a preselected 
decision boundary used to determine whether detected data 

corresponding to a coded sequence of runlength limited code is a 
"1" or a "0". A difference count has a magnitude and sign denoting 

difference between counts in the two counters. After N occurrences 
of each preselected data pattern irrespective of how far from the 

boundary, the boundary is adjusted upwardly or downwardly, provided 
the difference count at least equals +S or at most -S, 

respectively. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
PATEL ARVIND MOTIBHAI
</INVENTOR-NAME>
<INVENTOR-NAME>
RUTLEDGE ROBERT ANTHONY
</INVENTOR-NAME>
<INVENTOR-NAME>
SO BUM SUCK
</INVENTOR-NAME>
<INVENTOR-NAME>
PATEL, ARVIND MOTIBHAI
</INVENTOR-NAME>
<INVENTOR-NAME>
RUTLEDGE, ROBERT ANTHONY
</INVENTOR-NAME>
<INVENTOR-NAME>
SO, BUM SUCK
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to apparatus and methods for improving 
data detection reliability in a coded signal processing channel by 
determining and setting optimal values for threshold constants 
constituting decision boundaries for interpreting sample values 
representative of coded binary data. The following commonly-assigned prior art references are 
considered to be the most pertinent to the present invention: 
1. U.S. Patent 4,945,538, granted July 31, 1990, entitled "Method 
and Apparatus for Processing Sample Values in a Coded Signal 
Processing Channel." 2. Allowed copending application U.S. Serial No. 07/920,027, 
filed July 27, 1992, entitled "High Data Rate Decoding Method 
for Coded Signal Processing Channel." 3. Allowed copending application U.S. Serial No. 07/526,878, 
filed May 22, 1990, entitled "Eight-Sample Look-Ahead for 
Coded Signal Processing Channels." 4. A. Patel, "A New Digital Signal Processing Channel For Data 
Storage Products," IEEE Trans. on Magnetics, Vol. 27, pp. 
4579-4584, published November, 1991. Each of the References 1-3 discloses a (1,7) ML decoder which 
uses a differing number of look-ahead digital sample values f 
derived from an analog read signal to execute several decisions for 
implementing a maximum likelihood (ML) decision. An ML decision 
involves comparing each of several linear functions H of the sample 
values y to the value of a threshold constant constituting a ML  
 
decision boundary related to that linear function. The linear 
functions and decision boundaries 
are chosen to minimize the overall mean square error in a ML 
sequence detection process using five, six, or eight look-ahead 
sample values of the read signal, as taught in References 1, 2, and 
3, respectively. Each Reference 1-3 discloses equations by which the decoder 
can compute nominal theoretical values of a set of boundary 
threshold constants from information about the shape of the analog 
pulse that is read back from the analog pulse transmitted over the 
(1,7) ML channel. These references describe how to calculate and set at nominal 
theoretical values the test boundary threshold constants of 
look-ahead algorithms in order to accommodate variations in pulse 
shape when the pulse shapes are described in a simple form by six 
variables; i.e., when the read response to the positive and 
negative magnetic transitions are the pulses with the sample values 
...., 0, α₁, β₁, γ₁, 0, .... and ...., 0, α₂, β₂, γ₂, 0, .... 
respectively. They also state that the thresholds may be optimized
</DESCRIPTION>
<CLAIMS>
A method for improving data detection reliability in a coded 
signal processing channel in which digital electrical signals 

representing digital sample values are generated from analog 
signals read by a transducer from digital data recorded on a data 

storage medium, comprising the steps of: 
   providing a plurality of threshold constants whose values 

define decision boundaries for use in determining whether detected 
data corresponding to a coded sequence of a runlength limited (RLL) 

code is a "1" or a "0"; 
   collecting actual values of one of a plurality of linear 

functions of the digital sample values of the analog data 
corresponding to multiple occurrences of two preselected data 

patterns that are determined to be closest above and closest below, 
respectively, a preselected decision boundary for forming 

corresponding clusters of such actual values above and below the 
decision boundary; 

   determining a focal point for each cluster; and 
   establishing the threshold constant for said preselected 

decision boundary at a value substantially midway between said 
focal points. 
The method of claim 1, wherein the threshold constant is 
established only if the number of actual values in both of said 

clusters exceeds a preselected number. 
A method for improving data detection reliability in a coded 
signal processing channel in which digital electrical signals 

representing digital sample values are generated from analog 
signals read by a transducer from digital data recorded on a data 

 
storage medium, comprising the steps of: 

   providing a plurality of threshold constants whose values 
define decision boundaries for use in determining whether detected 

data corresponding to a coded sequence of a runlength limited (RLL) 
code is a "1" or a "0"; 

   determining potential error events in the detected data by 
counting in two separate counters numbers of times actual values 

of one of a plurality of linear functions of the digital sample 
values corresponding to one preselected data pattern are within m₁ 

units above and of the digital sample values corresponding to 
another preselected data pattern are within m₂ units below, 

respectively, a preselected one of said boundaries; 
   accumulating a difference count having a magnitude and sign 

denoting difference between counts in said separate counters; and 
   responsive to a predesignated event, adjusting the preselected 

decision boundary upwardly if the difference count at least equals 
+S₁ or downwardly if the difference count is not greater than -S₂. 
The method of claim 3, wherein said one preselected data 
pattern and another preselected data pattern are those closest 

above and closest below, respectively, said preselected boundary. 
The method of claim 3, including the steps of: 
   establishing initial values for the threshold constants; 

   setting the threshold constants at said initial values; and 
then 

   optimizing the threshold constants by executing the counting 
and adjusting steps. 
The method of claim 3, including the step of providing as the 
recorded data a stream of known digital data having a length and 

diversity that assures it is statistically reliable. 
The method of claim 3, including executing the adjusting step 
during a read operation. 
The method of claim 3, including executing the adjusting step 
during a time out between successive read operations. 
The method of claim 3, including the steps of: 
   calculating an error margin distance representing the 

difference between actual values of said one linear function of the 
digital sample values and a corresponding one of the threshold 

constants; and 
   using said error margin distance corresponding to the 

preselected data patterns for determining whether each actual value 
is within m₁ units above or m₂ units below the preselected boundary. 
The method of claim 3, wherein 
m₁=m₂  

. 
The method of claim 3, wherein said predesignated event is the 
counting of a total of at least N₁ one preselected data patterns 

and at least N₂ another preselected data patterns, irrespective of 
distance from the preselected boundary. 
The method of claim 11, wherein 
N₁=N₂  

. 
The method of claim 11, wherein S₁
<
N₁ and S₂
<
N₂. 
Apparatus for improving data detection reliability in a coded 
signal processing channel in which digital electrical signals 

representing digital sample values are generated from analog 
 

signals read by a transducer from digital data recorded on a data 
storage medium, comprising: 

   means (308) for storing a plurality of threshold constants 
whose values define decision boundaries for use in determining 

whether detected data corresponding to a coded sequence of a 
runlength limited (RLL) code is a "1" or a "0"; 

   means for determining potential error events in the detected 
data (d), comprising two separate counters (MA, MB) for counting 

numbers of times actual values of one of a plurality of linear 
functions of the digital sample values corresponding to one 

preselected data pattern are within m₁ units above and of the 
digital sample values corresponding to another preselected data 

pattern are within m₂ units below, respectively, a preselected one 
of said boundaries; 

   a difference counter (C) for accumulating a count having a 
magnitude and sign denoting difference between counts in said 

separate counters; and 
   circuitry (Table 8) responsive to the count in one of said 

separate counters exceeding a preselected number N₁ and in the 
other separate counter exceeding a preselected number N₂ a 

predesignated control event for adjusting the preselected decision 
boundary upwardly if the count in the difference counter at least 

equals +S₁ or downwardly if the latter count is not greater than 
-S₂. 
The apparatus of claim 14, wherein said one preselected data 
pattern and another preselected data pattern are those closest 

above and closest below, respectively, said preselected boundary. 
The apparatus of claim 14, including means (380) for providing 
as the recorded data a stream of known digital data having a length 

 
and diversity that assures it is statistically reliable. 
The apparatus of claim 14, including two total counters (TA, 
TB) for counting, and initiating said predesignated control event 

upon occurrence of, both N₁ one preselected data patterns and N₂ 
another preselected data patterns, respectively, irrespective of 

how far from the preselected boundary. 
The apparatus of claim 14, including: 
   means (324) for calculating an error margin distance 

representing the difference between actual values of said one 
linear function of the digital sample values and a corresponding 

one of the threshold constants; 
   means (356, 358) for comparing said error margin distance with 

+m₁ and -m₂ for determining whether each actual value is within m₁ 
units above or m₂ units below the preselected boundary; and 

   means (351, 360, 362) for gating said separate counters for 
counting only when said one and said another preselected data 

patterns occur, respectively. 
The apparatus of claim 14 wherein 
m₁=m₂  

. 
The apparatus of claim 14 wherein 
N₁=N₂  

. 
The apparatus of claim 14 wherein 
S₁=S₂  

. 
Apparatus for improving data detection reliability in a coded 
signal processing channel in which digital electrical signals 

representing digital sample values are generated from analog 
signals read by a transducer from digital data recorded on a data 

storage medium, comprising: 
   means (308) for storing a plurality of threshold constants 

 
whose values define decision boundaries for use in determining 

whether detected data corresponding to a coded sequence of a 
runlength limited (RLL) code is a "1" or a "0"; 

   means (including 397, Wabove, Wbelow, 360, 362) for determining 
potential error events in the detected data; 

   means (including 399, 398, 395, 396) operative during 
generation of a sequence of digital sample values of the analog 

signals corresponding to known recorded data for intentionally 
moving a selected one of the decision boundaries upward m₁ units 

and then downward m₂ units from an initial value; 
   two separate counters (MA, MB) operative while the selected 

boundary is moved upward and then downward for counting numbers of 
times a preselected above data pattern is detected as a related 

below data pattern and the said related below data pattern is 
detected as the said above data pattern, respectively; 

   a difference counter (C) for accumulating a count having a 
magnitude and sign denoting difference between counts in said 

separate counters; and 
   circuitry (Table 8) responsive to a predesignated control 

event for adjusting the selected decision boundary upwardly if the 
count in the difference counter at least equals +S₁ or downwardly 

if the latter count is not greater than -S₂. 
Apparatus for improving data detection reliability in a coded 
signal processing channel in which digital electrical signals 

representing digital sample values are generated from analog 
signals read by a transducer from digital data recorded on a data 

storage medium, comprising: 
   means (308) for storing a plurality of threshold constants 

 
whose values define decision boundaries for use in determining 

whether detected data corresponding to a coded sequence of a 
runlength limited (RLL) code is a "1" or a "0"; 

   circuitry for determining potential error events in the 
detected data by generating, for a selected state, first and second 

outputs (Wabove, Wbelow) corresponding to one preselected data pattern 
and another preselected related data pattern, respectively, above 

and below a preselected one of said decision boundaries; 
   first and second counters (TA, TB) for respectively counting 

up to preselected numbers N₁ and N₂ total occurrences of said one 
and another preselected data patterns above and below said 

preselected one boundary, respectively; 
   means (351, Wabove, Wbelow, 356, Dabove, 358, Dbelow) establishing 

error margin distances m₁ units above and m₂ units below, 
respectively, said preselected one boundary; 

   third and fourth counters (MA, MB) for counting numbers of 
times actual values of a linear function of digital sample values 

corresponding to said one and another preselected data patterns are 
respectively within m₁ units and m₂ units, respectively, of said 

preselected boundary; 
   a difference counter (C) for accumulating a count having a 

magnitude and sign denoting difference between counts in said third 
and fourth counters; and 

   circuit means, conditioned by said first and second counters 
counting to N₁ and N₂, respectively, for adjusting the preselected 

one boundary one unit up or one unit down provided the count in the 
difference counter has reached number +S₁ or -S₂, respectively, 

where S₁
<
N₁ and S₂
<
N₂. 
The apparatus of claim 23, said circuit means being responsive 
 

to the counts in said first and second counters reaching N₁ and N₂, 
respectively, before the count in the difference counter reaches 

+S₁ or -S₂ to terminate boundary adjustment, for thereby defining 
preselected error margins for said data patterns above and below 

said preselected boundary. 
The apparatus of claim 23, including means for resetting all 
of said counters whenever the boundary is adjusted. 
The apparatus of claim 23, including circuitry responsive to 
the count in either said third or fourth counter exceeding a 

preselected number Q less than N₁ or N₂ to produce a signal (U) 
indicating performance of the channel is unacceptable. 
The apparatus of claim 23, including means providing a signal 
(E) for enabling each of said counters during reading of data from 

the storage medium to permit initiation of a boundary adjustment. 
The apparatus of claim 23, comprising: 
   means providing a plurality of sets of preselected data 

patterns for which the actual values of the functions of digital 
sample values are to be measured against related decision 

boundaries; and 
   means including a multiplexor (MUX) for selecting one set of 

the data patterns at a time for measurement and boundary 
adjustment. 
</CLAIMS>
</TEXT>
</DOC>
