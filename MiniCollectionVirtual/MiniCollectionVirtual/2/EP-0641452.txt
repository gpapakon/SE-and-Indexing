<DOC>
<DOCNO>EP-0641452</DOCNO> 
<TEXT>
<INVENTION-TITLE>
WALL FILTER USING CIRCULAR CONVOLUTION FOR A COLOR FLOW IMAGING SYSTEM.
</INVENTION-TITLE>
<CLASSIFICATIONS>A61B806	A61B806	G01S752	G01S752	G01S7539	G01S7539	G01S1500	G01S1589	G06T100	G06T100	G06T500	G06T500	G06T520	G06T520	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>A61B	A61B	G01S	G01S	G01S	G01S	G01S	G01S	G06T	G06T	G06T	G06T	G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>A61B8	A61B8	G01S7	G01S7	G01S7	G01S7	G01S15	G01S15	G06T1	G06T1	G06T5	G06T5	G06T5	G06T5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An ultrasonic imaging system includes a receiver which demodulates the echo signals received by a transducer array and dynamically focuses the baseband echo signals, and a color flow processor which includes an adaptive wall filter in the form of a circular convolution filter that enables a narrow band of wall signals to be removed without loss of data samples. The mean frequency of the resulting filtered baseband echo signals is used to indicate the velocity of flowing reflectors and to control color of the displayed image.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
GEN ELECTRIC
</APPLICANT-NAME>
<APPLICANT-NAME>
GENERAL ELECTRIC COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
THOMAS LEWIS JONES III
</INVENTOR-NAME>
<INVENTOR-NAME>
THOMAS, LEWIS, JONES, III
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
 WALL FILTER USING CIRCULAR CONVOLUTION FOR A COLOR FLOW IMAGING SYSTEMBackground of h InventionThis invention relates imaging by use or vibratory energy such as acoustical energy and, in particular, to production of color flow images based on the Doppler shift of ultrasonic signals.There are a number of modes in which vibratory energy, such as ultrasound can be used to produce images of objects. The ultrasound transmitter may be placed on one side of the object and the sound transmitted through the object to the ultrasound receiver placed on the other side ("transmission mode") . With transmission mode methods, an image may be produced in which the brightness of each pixel is a function of amplitude of the ultrasound that reaches the receiver ("attenuation" mode), or the brightness of each pixel is a function of the time required for the sound to reach the receiver ("time-of-flight" or "speed of sound" mode) . In the alternative, the receiver may be positioned on the same side of the object as the transmitter and an image may be produced in which brightness of each pixel is a function of amplitude of the ultrasound reflected from the object back to the receiver ("reflection", "backscatter" or "echo" mode) . The present invention relates to a backscatter method for producing ultrasound images.There are a number of well known backscatter methods for acquiring ultrasound data. In the so- called "A-scart" method, an ultrasound pulse is directed into the object by the transducer and the amplitude of the reflected sound is recorded over a period of time. The echo signal amplitude is proportional to the scattering strength of the 

reflectors in the object and the time delay is proportional to the range of the reflectors from the transducer. In the so-called "B-scan" method, the transducer transmits a series of ultrasonic pulses as it is scanned across the object along a single axis of motion. The resulting echo signals are recorded as with the A-scan method and their amplitude is used to modulate the brightness of pixels on a display at the time delay. With the B-scan method, enough data are acquired from which an image of the reflectors can be reconstructed.In the so-called C-scan method, the transducer is scanned across a plane above the object and only the echoes reflecting from the focal depth of the transducer are recorded. The sweep of the electron beam of a CRT display is synchronized to the scanning of the transducer so that the x and y coordinates of the transducer correspond to the x and y
</DESCRIPTION>
<CLAIMS>
 Claims What is claimed is:
1. In an ultrasonic imaging system which includes a receiver for demodulating an ultrasonic echo signal received from an ultrasonic transducer to produce a set of baseband echo signal samples, and further includes a display system, a color flow processor comprising: a mixer for shifting frequency of the set of baseband echo signal samples produced by said receiver such that wall signal components in said set of baseband echo signal samples are at essentially
D.C; a circular convolution filter for filtering out signal components in the set of shifted baseband echo signal samples from said mixer which have a frequency near D.C; an autocorrelation estimator for indicating the mean frequency of the set of filtered, shifted baseband echo signal samples provided by the circular convolution filter; and chrominance control means responsive to the autocorrelation estimator for controlling color of a display on said display system.
2. The apparatus of claim 1 wherein the circular convolution filter includes memory means for storing the set of shifted baseband echo signal samples, and a convolution circuit for repeatedly receiving the shifted baseband echo signal samples sequentially from said memory means so as to produce an equal number of filtered, shifted baseband echo signal samples. 


66
- 33 -
3. The apparatus of claim 2 including a lookÂ¬ up table for providing the convolution circuit with a kernel having filter coefficients equal in number to the number of samples in said set of shifted baseband echo signal samples.
4. The apparatus of claim 1 in which the circular convolution filter includes memory means for storing the set of shifted baseband echo signal samples, means responsive to said memory means for calculating the average value of said set of shifted baseband echo signal samples, and means for producing the filtered shifted baseband echo signal samples by subtracting the calculated average value from respective ones of the shifted baseband echo signal samples.
5. The apparatus of claim 1 wherein said circular convolution filter has a stop band centered at D.C.
6. The apparatus of claim 1 including an additional autocorrelation estimator responsive to the set of received baseband echo signal samples for providing to said mixer an output signal representing the mean value of the frequency of the set of baseband echo signal samples produced by said receiver.
7. The apparatus of claim 3 including means coupled to said look-up table for providing the variance of the set of baseband echo signal samples produced by said receiver to said look-up table.
8. The apparatus of claim 4 wherein said means for calculating the average value of said set of shifted baseband echo signal samples comprises 


accumulator means coupled to said memory means for summing the values of each frequency shifted sample stored in said memory means, and divider means coupled to said accumulator means for dividing the sum in said accumulator means by the number of samples in said set.
9. A color flow processor for use in an ultrasonic imaging system wherein a received ultrasonic echo signal is converted to a set of baseband echo signal samples, said color flow processor comprising: mixer means for shifting frequency of the set of baseband echo signal samples such that wall signal components therein are at essentially D.C; means for filtering out signal components in the set of shifted baseband echo signal samples from said mixer means which have a frequency near D.C; an autocorrelation estimator for indicating the mean frequency of the set of filtered, shifted baseband echo signal samples provided by the filtering means; display means for generating images in which a line is produced in response to each separate echo signal, respectively; and chrominance control means responsive to the autocorrelation estimator for controlling color of said images presented on said display means.
10. The color flow processor of claim 9 wherein the filtering means comprises a circular convolution filter.
11. The color flow processor of claim 10 wherein the circular convolution filter includes 


memory means for storing the set of shifted baseband echo signal samples, and a convolution circuit for repeatedly receiving the shifted baseband echo signals sequentially so as to produce an equal number of filtered, shifted baseband echo signal samples.
12. The color flow processor of claim 11 including a look-up table for providing the convolution circuit with a kernel having filter coefficients equal in number to the number of samples in said set of shifted baseband echo signal samples.
13. The color flow processor of claim 10 in which the circular convolution filter includes memory means for storing the set of shifted baseband echo signal samples, means for calculating the average value of said set of shifted baseband echo signal samples, and means for producing the filtered shifted baseband echo signal samples by subtracting the calculated average value from respective ones of the shifted baseband echo signal samples.
14. The color flow processor of claim 10 wherein said circular convolution filter has a stop band centered at D. C.
15. The color flow processor of claim 9 including an additional autocorrelation estimator responsive to the set of received baseband echo signal samples for providing to said mixer means an output signal representing the mean value of the frequency of the set of baseband echo signal samples
16. The color flow processor of claim 12 including means coupled to said look-up table for providing the variance of the set of baseband echo 


6
- 36 -
signal samples produced by said receiver to said look- up table.
17. The color flow processor of claim 13 wherein said means for calculating the average value of said set of shifted baseband echo signal samples comprises accumulator means coupled to said memory means for summing the values of each frequency shifted sample stored in said memory means, and divider means coupled to said accumulator means for dividing the sum in said accumulator means by the number of samples in said set.
18. A method of operating a color, flow processor in an ultrasonic imaging system which includes a receiver for demodulating an ultrasonic echo signal received from an ultrasonic transducer to produce a set of baseband echo signal samples and a display system, comprising the steps of: shifting frequency of the set of baseband echo signal samples produced by said receiver such that wall signal components in said set of baseband echo signal samples are at essentially D.C; filtering out signal components in the set of shifted baseband echo signal samples which have a frequency near D.C; determining the mean frequency of the set of filtered, shifted, baseband echo signals; and controlling color of a display on said display system in accordance with said mean frequency.
19. The method of claim 18 wherein the step of filtering out signal components comprises storing the set of shifted baseband echo signal samples, and producing a number of filtered, shifted baseband echo signal samples equal to the number of stored shifted 


baseband echo signal samples repeatedly provided sequentially from storage .
20. The method of claim 18 wherein the step of filtering out signal components comprises storing the set of shifted baseband echo signal samples , determining the average value of the stored set of shifted baseband echo signal samples, and subtracting the average value of the stored set of shifted baseband echo signal samples from respective ones of the stored set of shifted baseband echo signal samples . 

</CLAIMS>
</TEXT>
</DOC>
