<DOC>
<DOCNO>EP-0651303</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Error detection for HVAC system
</INVENTION-TITLE>
<CLASSIFICATIONS>F24F1102	F24F1102	G05B19042	G05B1904	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>F24F	F24F	G05B	G05B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>F24F11	F24F11	G05B19	G05B19	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method for checking communications that a controller 
(56, 58, 60) receives from elements (20-54, 62-74) in an 

HVAC system, includes storing the communications and 
thereafter checking each stored communication against a 

range of permitted values for that particular 
communication. The thus checked communication is made 

available for use by the controller (56, 59, 60) only if 
it is within the range of permitted values. A count of 

times that a particular element (20-54, 62-74) does not 
comply with the check is maintained with a warning being 

generated in the event that the element continues to 
communicate unacceptable signal values. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CARRIER CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
CARRIER CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CHAN CHI-PING
</INVENTOR-NAME>
<INVENTOR-NAME>
FRIDAY ARTHUR FRANKLIN JR
</INVENTOR-NAME>
<INVENTOR-NAME>
CHAN, CHI-PING
</INVENTOR-NAME>
<INVENTOR-NAME>
FRIDAY, ARTHUR FRANKLIN, JR.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to the programmed control of
heating and cooling systems utilizing one or more
programmed microprocessors. In particular, this
invention relates to the manner in which the programmed
control in the microprocessors interfaces with various
elements in the heating and cooling systems.U.S. Patent Application No. 143,029 entitled,
"Configurative Control for HVAC Systems" filed on 29
October 1993 in the names of Arthur Friday, Jr., Chi-Pin
Chan and Brett Desmarais discloses a programmed
microprocessor control system having separate hardware
and software interfaces. The hardware interface defines
communication channels to the hardware elements of an
HVAC system that are to perform heating or cooling
functions. The software interface defines a number of
software variables present in a control program residing
in the microprocessor. Configuration data stored in
memory associated with the microprocessor maps at least
some of these software variables to the communication
channels defined by the hardware interface. Further
software utilizes the configuration data so as to allow
information to be transferred between the interfaces.The above transfer of information between the
interfaces does not take into account the possibility of
erroneous information coming from one of the hardware
elements to the hardware interface. In this regard, a
particular hardware element may not necessarily be
functioning properly or the communication link from the
element might be temporarily experiencing difficulty.
In either case it may not be advisable to further
transfer the communicated value from the hardware
interface to the software interface. It may also not be
advisable to continue operation in the event of a
serious problem having arisen at the hardware control 
element.It is an object of the invention to provide an HVAC
system with the capability of avoiding the transfer of
questionable values received from hardware elements of
the system to the programmed control portion of the
system.It is another object of the invention to provide an
HVAC system with the capability of reacting to any
detection of questionable values received from hardware
elements of the system.The above and other objects of the invention are
achieved by providing a control method in accordance
with claim 1. In accordance with claim 1, a programmed
microprocessor within an HVAC system reads and stores
values communicated from hardware elements in the HVAC
system. The thus read values are checked against
permissible ranges of values
</DESCRIPTION>
<CLAIMS>
A method for checking communications received by a
processor (82) of a control unit (56-60) from control

elements (20-54,62-74) of a heating or cooling system,
characterised by the steps of:


storing a communication presently received from a
control element (20-54,62-74) in a first storage

location set aside within a memory (83) associated with
the processor (82) for storing the communication from

the control element;
comparing the stored communication from the
particular control element (20-54,62-74) with a range of

values permitted for that particular control element
(20-54,62-74);
transferring the stored communication to a
different storage location when the stored communication

is within the range of permitted values for the control
element (20-54,62-74); and
using the communication within a control program
exectutable by the processor (82) for controlling the

heating or cooling system only when the communication
has been transferred from said first storage location to

said different storage location.
The method of claim 1, wherein said step of
comparing the stored communication with a range of

permitted values for the control element (20-54,62-74)
comprises the steps of:


accessing maximum and minimum values permitted for
the control element (20-54,62-74); and
comparing the received communication with the
maximum and minimum values permitted for the control

element (20-54,62-74).
The method of claim 1 or 2, further comprising the
steps of:


noting when the comparing step indicates that a 
stored value is not within the range of permitted values

for the control element (20-54,62-74); and
exiting from the method without triggering said
step of transferring the received and stored value.
The method of claim 1, 2 or 3, further comprising
the step of:

   counting the number of successive comparisons made
of received communications from the particular control

element (20-54,62-74) that indicate the received
communication is not within the range of permitted

values for that particular control element (20-54,62-74).
The method of claim 4, further comprising:

   generating a warning when the count of successive
comparisons made of stored communications for a

particular control element (20-54,62-74) reaches a
predetermined number.
The method of any preceding claim, wherein the
control program includes a plurality of control

variables that are related to the control elements (20-54,62-74)
of the heating or cooling system, and wherein

said step of transferring the stored communication to a
different storage location comprises the steps of:


identifying a control variable that is related to
the control element (20-54,62-74); and
transferring the communication to a storage
location associated with the identified control variable

for subsequent use by the control program when the
stored communication is within the range of permitted

values for the control element (20-54,62-74).
The method of claim 6, wherein said step of
comparing the stored communication from the particular

control element (20-54,62-74) with a range of values
permitted for the particular control element (20-54,62-74) 

comprises:

identifying a control variable that is related to
the control element (20-54,62-74);
accessing the maximum and minimum values permitted
for the control element (20-54,62-74) from storage

locations associated with the identification of the
control variable; and
comparing the received communication with the
accessed maximum and minimum values for the control

element.
The method of claim 6 or 7, wherein the plurality
of control variables are related to the control elements

(20-54,62-74) by configuration data stored for use by
the programmable processor (82), and wherein said step

of identifying a control variable that is related to the
control element (20-54,62-74) comprises the step of:

   accessing the configuration data to identify the
particular control variable that is related to the

control element (20-54,62-74).
The method of claim 6, 7 or 8, wherein the
programmable processor (82) receives communications from

the heating or cooling elements (20-54,62-74) via
identifiable communication channels, and wherein said

step of storing a communication presently received from
a control element (20-54,62-74) in a first storage

location comprises the steps of:

identifying the communication channel for the
control element (20-54,62-74); and
storing the communication in a storage location
associated with an identification of the communication

channel.
</CLAIMS>
</TEXT>
</DOC>
