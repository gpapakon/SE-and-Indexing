<DOC>
<DOCNO>EP-0629063</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Serial bus system
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L1240	G06F13372	H04L12407	H04L1240	H04L12413	G06F1336	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	G06F	H04L	H04L	H04L	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L12	G06F13	H04L12	H04L12	H04L12	G06F13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A multi-master serial bus system supporting, for example, up to 32 
masters, and usable in applications requiring high-speed 

communications within a shelf. A plurality of nodes (2, 3, 4, 5) are 
interconnected by a highway (1) over which data is transmitted 

between the nodes. Each node has access control means (6) 
which ensures only one node accesses the highway at a time by 

means of an arbitration scheme. Data transmission involves an 
arbitration phase and a transmission phase and the highway 

comprises three lines, two of which are shared and perform 
respective functions in the arbitration and transmission phases (Fig. 

1). 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NORTEL NETWORKS CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
NORTEL NETWORKS CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CAPALDO CARLO
</INVENTOR-NAME>
<INVENTOR-NAME>
GOODMAN DAVID MICHAEL
</INVENTOR-NAME>
<INVENTOR-NAME>
CAPALDO, CARLO
</INVENTOR-NAME>
<INVENTOR-NAME>
GOODMAN, DAVID MICHAEL
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a serial bus system and in particular to a multi-master
serial bus (MMSB) system for applications requiring high-speed
communications within a shelf.In a previously proposed MMSB system, two wires (clock and data) were
used and the bus access mechanism consisted of a "back-off and retry"
scheme. A card wishing to transmit on a bus carrying heavy traffic would
abort its attempts at transmission and wait a predetermined period before
attempting to gain access to the bus a second time. Some nodes were
thus forced to wait an unacceptably long time before establishing
communication. Furthermore the communications controllers employed
were only capable of supporting relatively slow transfer rates. In addition
there was a simple interface, between the communications controller and
the microprocessor based on each card, which was typically constituted by
a FIFO arrangement requiring frequent servicing by the processor.Specification No. EP-A-0,192,305 describes a multi-master serial bus
system incorporating an access and addressing procedure. A further
serial bus system incorporating a dual-count, round robin distributed
arbitration technique is described in specification No. EP-A-0,094,180.A further system is described in specification No. GB-A-2015217. In this
system, multiple stations competing for a serially reusable resource are
provided with a distributed priority resolution mechanism to overcome time
delay incurred by centralised resolution mechanisms. This system
performs data transfer in fixed cycle time segments and arbitrates for the
next access during data transfer in such a segment. The clock is
distributed to control both the data transfer segment and arbitration. The object of the present invention is to provide an improved serial bus
systemAccording to one aspect of the present invention there is provided a multi-master
serial bus system comprising a plurality of nodes, a communications
highway over which transmission of data between the nodes can be
effected, and access control means enabling only one node to access the
highway at a time, wherein transmission of data from one node to another
comprises an arbitration phase and a transmission phase, and wherein the
arbitration phase is divided into a plurality of slots, each node having an
associated slot number, characterised in that the highway comprises first,
second and third lines, the second and third lines being shared lines, that
the system includes means for carrying, during the arbitration phase, an
arbitration
</DESCRIPTION>
<CLAIMS>
A multi-master serial bus system comprising a plurality of nodes
(node 0, node 1 ...node 31), a communications highway (1) over which

transmission of data between the nodes can be effected, and access control
means (13) enabling only one node to access the highway at a time,

wherein transmission of data from one node to another comprises an
arbitration phase and a transmission phase, and wherein the arbitration

phase is divided into a plurality of slots, each node having an associated
slot number, characterised in that the highway comprises first, second and

third lines, the second and third lines being shared lines, that the system
includes means (14) for carrying, during the arbitration phase, an arbitration

clock signal on the first line, an arbitration signal on the second line and a
slot signal on the third line, and that the system includes means (14) for

carrying, during the transmission phase, a data clock signal on the second
line and, when one said node has won access to the highway, the data to

be transmitted from said node on the third line.
A bus system as claimed in claim 1, characterised in that the first,
second and third lines are duplicated for protection purposes.
A bus system as claimed in claim 2, characterised in that data is
transmitted over the highway in the form of HDLC (high -level data link

control) type messages.
A bus system as claimed in claim 3, characterised in that, at each
said node, said access control means includes a processing resource (10)

of the node, a communications controller (12), a memory (11, 11a) shared
between the processing resource and the communications controller, data

to be transmitted onto the highway being stored in the memory by the
processing resource and received data from the highway being stored in the

memory by the communications controller, a bus access controller (13) for
controlling access onto the highway and resolving access priority with other

nodes in an arbitration scheme, and highway drivers/receivers (14) directly
interfaced to the highway. 
A bus system as claimed in claim 4, characterised in that the
highway drivers/receivers are duplicated for protection purposes and are

connected to the highway by main and standby lines corresponding to said
first, second and third lines.
A bus system as claimed in claim 5, characterised in that the
arbitration clock signal is sourced from one node and is duplicated for

protection purposes by a standby clock signal sourced from another node.
A method of controlling data transmission in a multi-master serial
bus system comprising a plurality of nodes (node 0, node 1 ...node 31), a

communications highway (11) over which transmission of data between the
nodes can be effected, and access control means (13) enabling only one

node to access the highway at a time, wherein transmission of data from
one node to another comprises an arbitration phase and a transmission

phase, wherein the highway comprises first, second and third lines, the
second and third lines being shared lines three lines, characterised in that

the arbitration phase is divided into a plurality of slots, each node being
allocated an associated slot number, that, during the arbitration phase, the

first line carries an arbitration clock signal, the second line carries an
arbitration signal and the third line carries a slot signal, and that, during the

transmission phase, the second line carries a data clock signal and the third
line carries the data to be transmitted from a said node when that node has

won access to the highway.
A method as claimed in claim 7, characterised in that there are n
nodes and the arbitration phase is divided into 2n slots, which slots are

divided into two groups of n slots, each node having a said associated slot
number the group to which that node is allocated being determined by an

arbitration scheme providing fairness of access of the nodes to the highway.
A method as claimed in claim 8, characterised in that the nodes
are initially associated with the first group of n slots, that when a said node

associated with the first group of slots wins the arbitration phase it adds n to
its slot position and becomes associated with the second group of slots, that

when a said node associated with the second group of slots wins the
arbitration phase it remains associated with the second group of slots, and 

that when a said node is associated with the second group of slots and the
first n slot periods of the arbitration phase pass without a winner then the

said node subtracts n from its position and becomes re-associated with the
first group of slots.
A method as claimed in claim 7, 8 or 9, and characterised in that
when one said node has won access to the highway, that one said node

originates both the data clock signal for the transmission phase and the
data to be transmitted, the speed of transmission being independent of the

length of the highway.
</CLAIMS>
</TEXT>
</DOC>
