<DOC>
<DOCNO>EP-0637173</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Digital signal processor.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1576	G06F1580	G06F1710	G06F1710	H04N140	H04N140	H04N724	H04N724	H04N726	H04N726	H04N750	H04N750	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F15	G06F15	G06F17	G06F17	H04N1	H04N1	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A digital signal processor for processing various types 
of signals, such as an image signal and an audio signal, includes 

a basic signal processing part (14), a programmable 
logic part (31) and a bus (18) interconnecting these parts. 

Circuit configuration data is transferred to the programmable 
logic part (31) from an external memory (333) through a data 

input/output line and the bus (18) under control of the basic 

signal processing part (14). The circuit configuration data 
corresponds to the type of signal processing that is to be 

performed, and several different types of signal processing 
functions can be performed successively. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HITACHI LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
HITACHI LTD
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KIMURA JUNICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NEJIME YOSHITO
</INVENTOR-NAME>
<INVENTOR-NAME>
NOGUCHI KOUJI
</INVENTOR-NAME>
<INVENTOR-NAME>
KIMURA JUNICHI
</INVENTOR-NAME>
<INVENTOR-NAME>
NEJIME YOSHITO
</INVENTOR-NAME>
<INVENTOR-NAME>
NOGUCHI KOUJI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a digital signal 
processor, and particularly to a digital signal processor for 
executing digital signal processing such as analyzing, coding, 
and synthesizing various types of video and audio signals in a 
multimedia terminal. Since a digital signal processor (DSP) has a multiplier 
accumulator, filter processing, frequency conversion, and 
matrix operation can be easily performed by software. To 
process image signals, however, there are too many picture 
elements to be processed. For example, in the case of digital 
TV signal processing, it is necessary to process signals at a 
rate of 20M picture elements per second. Therefore, because 
the required high-speed processing rate cannot be achieved 
only by the software processing using the DSP, it is necessary 
to use an exclusive circuit in addition to the DSP. To reduce 
the circuit scale, as described in "A Video Digital Signal 
Processor with a Vector-Pipeline Architecture, 1992 IEEE 
International Solid-State Circuits Conference DIGEST OF 
TECHNICAL PAPERS, pp. 72-73 (1992.2) by TOYOKURA, et. al." 
exclusive circuits are built in the DSP. The configuration of 
the DSP disclosed in the above document will be briefly 
described below referring to Fig. 1.  Fig. 1 shows a conventional video digital signal 
processor (VDSP) for video CODEC systems that includes 
exclusive circuits. The VDSP 1 includes a basic signal 
processing part (core part) 14 having an arithmetic and logic 
unit (ALU), registers (REG), an accumulator (ACC) and other 
exclusive circuits, such as a DCT, spatial filter, etc. In the case of image processing, particularly of image 
compression, processing of "8 picture elements × 8 lines" in 
units of a block is basically performed. Main operations of 
blocks include the computation of the difference between 
picture elements in each block, discrete cosine transform 
(DCT) performed by using equations 1 and 2, and filter 
processing by equation 3. 
   To efficiently perform these processings, the VDSP 1 has 
8×8 (64 words) memories 6, 7, and 8, a DCT circuit 15, and a 
filter circuit 16 which can arbitrarily be changed by a switch 
circuit 13. For example, in the case of processing a block 
read from two external memories, respectively, and applying 
DCT to a differential signal, the VDSP 1 performs the 
following operations: 
1. Outputs the address of each block from addresses 21 and 
22; 2. Selects image data using signal lines 2 and 3 
corresponding to the respective addresses by selecting 
circuits
</DESCRIPTION>
<CLAIMS>
A digital signal processor for performing a plurality of 
functions of processing input signal data in a data processing 

system having memory means and providing processed output 
data, comprising: 

   a first processor part (14) and a second programmable 
logic part (31) connected for input and output of data with 

said system, said second part (31) having programmable logic 
that is selectively programmed by configuring said programmable 

logic with circuit configuration data of at least one of 
a plurality of predetermined logic programs that correspond 

with a respective one of said signal processing functions, 
and 

   an internal processor bus (18) for interconnecting the 
first and second parts (14, 31), 

   said first part (14) having control means receiving requests 
from said system for initiating said signal processing 

functions and in response controlling transfer of said circuit 
configuration data of said plurality of predetermined 

logic programs from said memory means (333) to the second 
part (31) so that said circuit configuration data of said 

predetermined logic programs is successively transferred from 
said memory means to said second part (31) each time a different 

one of said plurality of signal processing functions 
is requested to be executed, and said control means controlling 

inputting the input signal data to the second part (31) 
 

for executing said respective signal processing functions 
following configuring of said programmable logic with said 

circuit configuration data of said respective logic programs, 
and further controlling outputting said output data from said 

second part (31) to said system. 
The signal processor of claim 1, wherein said programmable 
logic includes a plurality of arithmetic cells (303) that 

perform signal processing including receiving said input signal 
data through input signal lines and outputting said output 

data through output signal lines, wherein said input and 
output lines are connected to buses arranged between the 

cells (303) and to said processor bus (18), and wherein said 
buses are interconnected through bus switches (SW) having 

switch connection states for setting the input/output state 
of each of said arithmetic cells (303). 
The signal processor of claim 2, wherein said second 
part (31) has an internal RAM (361) for storing switch connection 

data and wherein the switch connection state of said 
bus switches (SW) is controlled through a control line (362) 

supplying said switch connection data from said RAM (361) to 
said bus switches (SW). 
The signal processor of claim 2 or 3, wherein said 
arithmetic cells (303) include an arithmetic and logic circuit 

(350) that performs a data processing function in accordance 
 

with said circuit configuration data, said cell receiving 
one input signal of said input signal data at a time over 

said input signal lines respectively for processing said input 
data with said arithmetic and logic circuit. 
The signal processor of claim 4, wherein said arithmetic 
cells (303) further include a non-volatile memory (354) for 

storing configuration data of said data processing function 
performed by said arithmetic and logic circuit (350). 
The signal processor of any one of claims 2 to 5, 
wherein said arithmetic cells (303) include an arithmetic and 

logic circuit and an integrating circuit that perform a data 
processing function in accordance with said circuit configuration 

data, said cells (303) receiving two input signals of 
said input signal data at a time over said input signal 

lines, respectively, for processing said input data with said 
arithmetic and logic circuit and said integrating circuit. 
The signal processor of any preceding claim, further 
comprising an internal memory (41) connected to said second 

part (31) for storing interim processed data. 
The signal processor of any preceding claim, further 
comprising an internal memory (41-1, 41-2) connected to said 

second part (31) and said first part (14) through said pro-cessor 
 

bus (18) for storing control data transferred between 
said first and second parts. 
The signal processor of any preceding claim further comprising 
at least two separate internal memories (41-1, 41-2) 

connected, through respective selectors (61-1, 61-2) controlled 
by said control means, to said second part (31) and 

to said first part (14) through said processor bus (18) for 
pipeline processing, including pre-processing said input signal 

data with said first part (14) and one of said memories 
(41-1, 41-2), and post-processing the transferring of said 

input signal data to said second part (31) with the other of 
said memories. 
The signal processor of any preceding claim, further 
comprising a plurality of said second programmable logic 

parts (31-1...31-3) for separately processing said input signal 
data in parallel. 
The signal processor of claim 10, wherein said plurality 
of said second programmable logic parts (31-1...31-3) are 

logically divided banks of one programmable logic device. 
The signal processor of claim 10 or 11, further comprising 
at least one internal memory (41-1, 41-2) connected, 

through a respective selector (61-1, 61-2) controlled by said 
control means, to said second parts (31-1...31-3) and to said 

 
first part (14) through said processor bus (18), wherein said 

second parts are programmed with a same logic program in parallel 
using said memory. 
The signal processor of any preceding claim, further 
comprising buffers (81...83) intermediate the connection of 

said second part (31) for input and output with said system 
and said processor bus (18). 
The signal processor of claim 13, wherein said buffers 
(81...83) are FIFO buffers. 
The signal processor of any preceding claim, further 
comprising an internal fixed function signal processing circuit 

(91) connected to said bus (18) and said second part 
(31) for executing a predetermined signal processing function, 

wherein said control means controls transfer of data to 
said fixed function signal processing circuit (91). 
The signal processor of any preceding claim, further 
comprising a circuit configuration data transfer controller 

(330) connected to said memory means (333), said second part 
(31) and said control means (14) for controlling direct data 

transfer of said predetermined logic programs to said second 
part (31) in response to 
a request from said control means. 
The signal processor of claim 16, wherein said memory 
means (333) includes an external and/or internal ROM directly 

connected to said circuit configuration data transfer controller 
(330) for storing circuit configuration data for said 

programmable logic parts. 
The signal processor of any preceding claim, wherein 
said memory means (333) includes at least one image frame 

memory directly connected to said second part (31), and said 
second part performs video encoding as said one of said signal 

proceeding functions. 
The signal processor of any one of claims 10 to 18, further 
comprising a PL bus interconnecting said programmable 

logic parts (31-1...31-3) and an internal memory (41) connected 
to said PL bus and said processor bus (18) through selector 

means (61) for storing interim processed input signal 
data. 
The signal processor of any one of claims 10 to 19, 
wherein at least one of said programmable logic parts (31-1 

...31-3) separately processes said input signal data in accordance 
with one of said signal processing functions while 

said circuit configuration data transfer controller (330) simultaneously 
controls the programming of said programmable 

logic of another of said programmable logic parts (31-1... 
31-3) with another of said logic programs. 
The signal processor of any one of claims 10 to 20, 
wherein said memory means (333) includes at least one image 

frame memory directly connected to one of said programmable 
logic parts (31-1...31-3) which performs an address generating 

function for generating macro block addresses for image 
data stored in said frame memories, and wherein another of 

said programmable logic parts performs motion compensation 
processing and/or discrete transform processing of said macro 

blocks of image data identified by said generated address as 
said input signal data. 
The signal processor of any one of claims 10 to 21, 
wherein comprising at least one of said programmable logic 

parts (31-1...31-3) processes audio data as said input signal 
data for one of speech recognition and speech synthesis. 
The signal processor of any one of claims 16 to 22, 
wherein said memory means (333) stores a plurality of hardware 

subroutines that when executed program said programmable 
logic of a predetermined one of said programmable logic parts 

(31-1...31-3) with said circuit configuration data of a corresponding 
one of said logic programs. 
The signal processor of claim 23, wherein said hardware 
subroutines are called by an identification number, said circuit 

configuration controller includes a CPU and a file of 
 

said identification numbers, and said first part commands 
said circuit configuration controller to execute said hardware 

subroutines with said CPU using said identification numbers 
and, after completion of execution of a hardware subroutine, 

notifies said first part (14) of said completion so 
that said first part subsequently controls transfer of said 

input signal data to said corresponding programmable logic 
part. 
The signal processor of any one of claims 16 to 22, 
wherein said memory means stores a plurality of software sub-routines 

that are executed by said first part (14) or said 
circuit configuration controller (330) for performing one of 

said signal processing functions on said input signal data. 
</CLAIMS>
</TEXT>
</DOC>
