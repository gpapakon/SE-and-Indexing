<DOC>
<DOCNO>EP-0637882</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Automatic frequency control arrangement
</INVENTION-TITLE>
<CLASSIFICATIONS>H03J702	H04L27152	H04L2714	H03L706	H04B130	H03J702	H04B130	H03L706	H04L27144	H04L2714	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03J	H04L	H04L	H03L	H04B	H03J	H04B	H03L	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03J7	H04L27	H04L27	H03L7	H04B1	H03J7	H04B1	H03L7	H04L27	H04L27	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An automatic frequency control (AFC) arrangement for use in a symmetrically 
modulated, homodyne FSK receiver or transceiver forms a value representing the 

baseband frequency for each of demodulated data states "1" and "0" by measuring the 
frequency (54, 56; 80, 82) during the appropriate data state, stores it (58, 60; 84, 86) 

during the opposite data state, and subjects the two stored values to a subtraction 
process in a difference-forming means (64, 88), the output of which is then used to 

effect control of the frequency of the local oscillator (32). The AFC arrangement may 
be realised by analogue techniques, using one or more frequency-to-voltage converters 

and sample-and-hold units, or by digital techniques, using one or more counters and 
latches, or by software techniques. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MITEL SEMICONDUCTOR LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
MITEL SEMICONDUCTOR LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MAPLESTONE DAVID BERNARD
</INVENTOR-NAME>
<INVENTOR-NAME>
MAPLESTONE, DAVID BERNARD
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention concerns an automatic frequency control arrangement, and in
particular an automatic frequency control arrangement for use in a homodyne FSK
(frequency shift keying) receiver or transceiver.Communication systems are known which operate by modulating a carrier
according to the binary state of a data signal to be transmitted. In such systems, a
binary "1" causes the carrier frequency to be shifted by a certain amount in one
direction, while a binary "0" causes normally an equal shift in the opposite direction.
For this reason, the technique is known as "frequency shift keying" (FSK) and when
the shifts are the same in both directions, "symmetrical frequency shift keying".The local oscillator of a receiver in such an FSK system normally operates at
the same frequency as the transmitter carrier, with the result that the signal at the
output of the receiver mixer is at baseband IF frequency. This technique is known as
"direct conversion" or "homodyne conversion". In an ideal system, where the local
oscillator and transmitting oscillator frequencies are the same and the carrier is
modulated symmetrically, i.e. is modulated plus and minus, respectively, by equal
amounts for the two data states, the mixer output should always be at the same
frequency, the baseband frequency, regardless of whether a "1" or a "0" is being
received. There will, however, be a phase difference between the I and the Q channels
due to the opposing signs of the modulating frequencies for the two data states, and it
is this phase difference which is processed in the four-phase detector 44 to reconstitute
the transmitted data. In a practical system, however, there may well be a difference between the
carrier and local oscillator frequencies due to drifts in either or both of the oscillators.
This drift may be due to various factors such as temperature variations, ageing, etc.
When this occurs, the received IF frequency for a "1" state will be different from that
for a "0" state and as a result the four-phase detector may be unable reliably to extract
the transmitted data; indeed, when drift is excessive data may be totally lost.It is an aim of the invention to provide an automatic frequency control
arrangement which overcomes the above drawback.GB-A-2137836 discloses an FM demodulator having automatic frequency
control.According to a first aspect of the invention, there is provided an automatic
frequency control arrangement, for use in a homodyne frequency shift keying (FSK)
receiver, comprising: means for inputting a
</DESCRIPTION>
<CLAIMS>
An automatic frequency control arrangement, for use in a homodyne
frequency shift keying (FSK) receiver, comprising: means (51, 52) for inputting a

baseband signal from the receiver; and means (53, 55; 77, 78, 92) for inputting a data
signal from the receiver; 
characterised by
 means (54, 56; 80, 82) for forming first and
second values representative of the frequency of the baseband signal for a first data

state and for a second data state, respectively; means (58, 60, 64; 84, 86, 88) responsive
to the data signal inputting means (53, 55; 77, 78, 92) for forming the difference of the

first and second values to provide a difference signal, and means (66; 90) for applying
the difference signal to a local oscillator (32) in the homodyne FSK receiver to control

the frequency of the oscillator (32).
An automatic frequency control arrangement as claimed in claim 1,

characterised in that
 the means for forming first and second values representative of the
frequency of the baseband signal for a first data state and for a second data state

comprises first and second frequency-to-voltage converting means (54, 56), respectively,
and the difference-forming means comprises first and second sample-and-hold

means (58, 60) fed from the first and second frequency-to-voltage converting means
(54, 56), respectively, and a difference amplifier (64) having a first input fed from an

output of the first sample-and-hold means (58) and a second input fed from an output of
the second sample-and-hold means (60).
An automatic frequency control arrangement as claimed in claim 2,

characterised in that
 the means for inputting a baseband signal from the receiver
comprises a changeover switching means (52), the changeover switching means (52) 

having a common terminal (C), which serves to receive the baseband signal, and first
and second changeover terminals (1, 2) connected to respective inputs of the first and

second frequency-to-voltage converting means (54, 56).
An automatic frequency control arrangement as claimed in claim 3,

characterised in that
 the means for inputting a data signal (53, 55; 77, 78, 92) is
arranged, when the data signal is in its first state, to control the changeover switching

means (52) to provide the baseband signal to the first frequency-to-voltage converting
means (54), to control the first sample-and-hold means (58) to sample the first value,

and to control the second sample-and-hold means (60) to hold the second value.
An automatic frequency control arrangement as claimed in claim 1,

characterised in that
 the means for forming first and second values representative of the
frequency of the baseband signal for a first data state and for a second data state

comprises a frequency-to-voltage converting means, and the difference-forming means
comprises a changeover switching means, first and second sample-and-hold means (58,

60) and a difference amplifier (64), wherein an input of the frequency-to-voltage
converting means serves to receive the baseband signal, the changeover switching

means has a common terminal (C), which is connected to an output of the
frequency-to-voltage converting means, and first and second changeover terminals (1,

2), which are connected to respective signal inputs of the first and second
sample-and-hold means (58, 60), and the difference amplifier (64) has a first input fed

from an output of the first sample-and-hold means (58) and a second input fed from an
output of the second sample-and-hold means (60).
An automatic frequency control arrangement as claimed in claim 5,

characterised in that
 the means for inputting a data signal (53, 55; 77,78; 92) is 
arranged, when the data signal is in its first state, to control the changeover switching

means to connect the output of the frequency-to-voltage converting means to the input
of the first sample-and-hold means (58), to control the first sample-and-hold means (58)

to sample the first value, and to control the second sample-and-hold means (60) to hold
the second value.
An automatic frequency control arrangement as claimed in claim 1,

characterised in that
 the means for forming first and second values representative of the
frequency of the baseband signal for a first data state and for a second data state

comprises first and second counting means (80, 82), respectively, and the
difference-forming means comprises first and second latching means (84, 86) fed from

the first and second counting means (80, 82), respectively, and a digital subtracting
means (88) having a first input fed from an output of the first latching means (84) and a

second input fed from an output of the second latching means (86).
An automatic frequency control arrangement as claimed in claim 6,

characterised in that
 the first and second counting means have respective clocking
inputs (75, 76) which are arranged to receive the baseband signal, and the means for

inputting a data signal is arranged when the data signal changes from its second to its
first data state, to control the first counting means (80) to start counting, to control the

second counting means to stop counting, and to control the second latching means (86)

to latch in the contents of the second counting means (82), and, when the data signal
changes from its first to its second data state, to control the second counting means (82)

to start counting, to control the first counting means (80), to stop counting, and to
control the first latching means (84) to latch in the contents of the first counting means

(80). 
An automatic frequency control arrangement as claimed in claim 8,

characterised in that
 control of the first and second counting means (80, 82) and of the
first and second latching means (84, 86) is by way of first and second gating inputs and

first and second latch-command inputs respectively provided in the counting means and
the latching means.
An automatic frequency control arrangement as claimed in claim 9,

characterised in that
 the means for applying the difference signal to the local oscillator
comprises a digital-to-analogue converter (90) fed from the output of the digital

subtracting means (88).
A homodyne FSK receiver or transceiver, 
characterised by
 comprising
an automatic frequency control arrangement as claimed in any one of claims 1 to 10.
A method of controlling frequency in a homodyne FSK receiver,

characterised by
 the steps of: forming a value representative of the frequency of a
baseband signal for a first data state; forming a value representative of the frequency of

the baseband signal for a second data state; forming the difference of the two values to
provide a difference signal, and applying the difference signal to a local oscillator in the

receiver to control the frequency of the oscillator.
A method of controlling frequency in a homodyne FSK receiver as
claimed in claim 12, 
characterised by
 the steps of: converting the baseband frequency
representative of a first data state to a corresponding first voltage signal, while storing a

second voltage signal corresponding to the baseband frequency representative of a
preceding second data state; converting the baseband frequency representative of a

succeeding second data state to a corresponding second voltage signal, while storing the
first voltage signal corresponding to the baseband frequency representative of the first 

data state; forming the difference of the two stored voltages and applying the difference
signal to the local oscillator (32) in the receiver to control the frequency of the

oscillator (32).
A method of controlling frequency in a homodyne FSK receiver as
claimed in claim 13, 
characterised in that
 the baseband frequency is converted into first
and second analogue voltage signals.
A method of controlling frequency in a homodyne FSK receiver as
claimed in claim 13, 
characterised in that
 the baseband frequency is converted into first
and second digital voltage signals.
</CLAIMS>
</TEXT>
</DOC>
