<DOC>
<DOCNO>EP-0624982</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Apparatus and method for compressing video signals, and synchronising apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>H04B166	H04L1308	H04L700	H04J300	H04N724	H04N708	H04L700	H04L1308	H04B166	H04N708	H04L7033	H04L7033	H04N726	H04N7081	H04N7081	H04N752	H04N726	H04N750	H04L1256	H04N1104	H04J300	H04N750	G06T900	H04N762	G06T900	H04N1104	H04L1256	H04N724	H03L716	H03L7085	H03L708	H03L7181	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04B	H04L	H04L	H04J	H04N	H04N	H04L	H04L	H04B	H04N	H04L	H04L	H04N	H04N	H04N	H04N	H04N	H04N	H04L	H04N	H04J	H04N	G06T	H04N	G06T	H04N	H04L	H04N	H03L	H03L	H03L	H03L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04B1	H04L13	H04L7	H04J3	H04N7	H04N7	H04L7	H04L13	H04B1	H04N7	H04L7	H04L7	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	H04L12	H04N11	H04J3	H04N7	G06T9	H04N7	G06T9	H04N11	H04L12	H04N7	H03L7	H03L7	H03L7	H03L7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Apparatus for developing synchronization of an 
intermediate layer of signal such as the transport or multiplex 

layer of a multi-layered compressed video signal, includes at the 
encoding end of the system a modulo K counter (23) which is 

clocked responsive to a system clock (22), and the count valued is 
embedded (13) in the signal at the transport layer according to a 

predetermined schedule. At the receiving end of the system a 
similar counter is responsive to a controlled receiver clock signal 

(26) and the count value of this counter is sampled (18) at the 
arrival of the count values embedded in the transport layer. The 

differences of successive sampled count values of the receiver 
counter are compared with the differences of corresponding 

successive values of the embedded count values in the transport 
layer to provide a signal to control (27) the receiver clock signal. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
THOMSON CONSUMER ELECTRONICS
</APPLICANT-NAME>
<APPLICANT-NAME>
THOMSON CONSUMER ELECTRONICS, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DEISS MICHAEL SCOTT
</INVENTOR-NAME>
<INVENTOR-NAME>
DEISS, MICHAEL SCOTT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to an apparatus and a method for
compressing video signals, and an apparatus for synchronising
received compressed video signals.Compressed video signal generation and transmission systems
may operate on several levels of synchronization or
perhaps more properly called asynchronization. For example
the actual compression apparatus will be synchronized, at
least in part to the vertical frame rate of the source video
signal, and it may also be synchronized to the color subcarrier.
Once the video signal is compressed and formed into a
particular signal protocol, such as MPEG 1, it may be further
processed into transport packets for transmission. The
transport packets may be time division multiplexed with
packets from other video or data sources. The packetizing
and multiplexing may or may not be done in a mutually synchronous
fashion, which may or may not be synchronous with
the compression operation. The transport packets (whether
multiplexed or not) may thereafter be supplied to a modem
for transmission of the data. The modem may or may not operate
synchronously with the prior mentioned systems.At the receiver of a fully multiplexed transmitted compressed
signal, it is usually necessary that the various
subsystems operate synchronously with their inverse function
counterpart elements at the encoding end of the system. Synchronous
operation in this case, in general, may mean that
the respective subsystems operate extremely close to the
same frequencies as their counterpart subsystems. For example,
the decompressor should provide a video signal at the
same frame rate as provided by the video signal source at
the compressor, and synchronized with associated audio. Synchronization
of the video/audio decompression portion of the
system may be accomplished by inserting, at the encoder,
presentation time stamps within the compressed video/audio
signals, that indicate the relative times of production/reproduction 
of respective segments of signal. Such presentation
time references, PTR's, may be used to compare the timing
of associated audio and video signals for synchronization
purposes and for proper sequencing and continuity.The receiver modem must of course operate at the precise
frequency as the transmitting modem. Receiver modems typically
include phase locked loops responsive to the transmitted
carrier frequencies or eye patterns for generating synchronous
clock signals.Synchronization of the multiplexing and/or transport
packetizing apparatus tends to be somewhat more complicated
fo
</DESCRIPTION>
<CLAIMS>
Video signal compression apparatus comprising:

a source (10) of video signal;
a source (22) of a clock signal;
a counter (23) for counting said clock signal modulo N,
where N is an integer;
means (24) responsive to the time of occurrence of frames
of said video signal for capturing ones of count values

provided by said counter as Presentation Time references
(PTR);
means (11, 12) for compressing said video signal and formatting
compressed video data with said Presentation Time

references included in said compressed video signal;
a transport processor (13) coupled to receive formatted
compressed video data including said Presentation Time

references from said compression means, for segmenting
said compressed video data into transport packets including

payloads of said compressed video data and of said
Presentation Time references concatenated with transport

headers;
means (13, 25) responsive to the timing of transport
packets for periodically capturing further count values

provided by said counter as Program Clock References
(PCR); and

wherein said Program Clock References (PCR) are included
in the payload of ones of said transport packets as auxiliary

data (AUX2) exclusive of said compressed video
data; and
means (14, 15) for conditioning said transport packets
for transmission.
Method for the compression of a video signal, including
the steps:


counting modulo N a clock signal from a clock signal
source (22) in a counter (23), where N is an integer; 
capturing (24) ones of count values provided by said
counter as Presentation Time references (PTR), said capturing

being responsive to the time of occurrence of
frames of said video signal;
compressing (11, 12) said video signal and formatting
compressed video data with said Presentation Time references

included in said compressed video signal;
receiving in a transport processor (13) said formatted
compressed video data including said Presentation Time

references, for segmenting said compressed video data
into transport packets including payloads of said compressed

video data and of said Presentation Time references
concatenated with transport headers;
periodically capturing (13, 25) further count values provided
by said counter as Program Clock References (PCR),

said periodical capturing being responsive to the timing
of transport packets,

wherein said Program Clock References (PCR) are included
in the payload of ones of said transport packets as auxiliary

data (AUX2) exclusive of said compressed video
data; and
conditioning (14, 15) said transport packets for transmission.
The apparatus set forth in claim 1, wherein said transport
processor (13) forms transport packets of compressed

video data and auxiliary transport packets including said
Program Clock References (PCR), and includes means for

interspersing said auxiliary transport packets with
transport packets of compressed video data.
Apparatus for synchronizing at least a portion of a compressed
signal receiving system which processes transport

packets including compressed video and/or data signals
and first count values (PCR) periodically obtained from a

counter (23) arranged in an encoding system to count 
modulo N, pulses of an encoding system clock, where N is

an integer, said apparatus including:

a source (17) of said transport packets;
a locked loop for providing a receiver system clock signal,
said loop including:


a controlled oscillator (37) responsive to a first control
signal,
a receiver counter (36) arranged to count pulses of said
receiver system clock signal the same modulo N as the

counter (23) in the encoding system, and
a controller (39) for generating an error signal (E) representing

a difference between the frequency of said encoding
system clock and the frequency of said receiver

counter output;
means (31), responsive to each occurrence of a transport
packet which includes said first count value (PCR), for

providing a second control signal,
characterized
 in that said apparatus, for synchronizing
said receiver counter (36) with said encoding system

counter (23), includes:

means (34) for storing said received first count values
(PCR); and
means (35) responsive to said second control signal for
storing second count values (RCV) output by said receiver

counter (36),

wherein said controller (39) forms said error signal (E)
from a difference between a currently received first

count value (PCR
n
) and a previously received first count
value (PCR
n-1
), and a difference between a current second
count value (RCV
n
) and a previous second count value
(RCV
n-1
).
The apparatus set forth in claim 4, wherein said error
signal (E) is calculated proportional to:


E =f(|PCR
n
 - PCR
n-1
| - |RCV
n
 - RCV
n-1
|)

where PCR
n
 and PCR
n-1
 are said currently received first 
count value and said previously received first count

value, respectively, and where RCV
n
 and RCV
n-1
 are said
current second count value and said previous second count

value, respectively.
The apparatus set forth in claim 4 or 5, including means
for switching from an error signal (E) formed by said

differences of successive count values to an error signal
(LTE) formed by corresponding differences between current

count values (PCR
n
, RCV
n
) and first occurring count values
(PCR
0
, RCV
0
) at system startup.
</CLAIMS>
</TEXT>
</DOC>
