<DOC>
<DOCNO>EP-0621553</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Methods and apparatus for inferring orientation of lines of text.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K920	G06K920	G06K932	G06K932	G06K936	G06K936	G06T760	G06T760	H04M350	H04M353	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06K	G06K	G06K	G06K	G06K	G06T	G06T	H04M	H04M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K9	G06K9	G06K9	G06K9	G06K9	G06K9	G06T7	G06T7	H04M3	H04M3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The techniques for determining the orientation of lines in images disclosed herein 
take as their starting point an apparently universal typesetting convention: that 

symbols are generally closer to other symbols in the line to which they belong than 
they are to symbols in other lines. The techniques make a graph by connecting 

symbols in an image of a block of text with edges (lines) and then determine the 
predominant orientation of the shortest edges. Because the symbols in a line are 

closer to each other than to symbols in other lines, the predominant orientation of the 
shortest edges will be the same as the orientation of the lines. An advantageous 

mode of obtaining the shortest edges is to construct a Euclidean minimum spanning 
tree from the graph. A Euclidean minimum spanning tree of a graph contains all the 

nodes (symbols) of the original graph but connects the nodes with the shortest 
possible set of edges. The edges which predominate in the Euclidean minimum 

spanning tree are the shortest edges. Which edges predominate is determined by 
means of a histogram. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
AT 
&
 T CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
AT 
&
 T CORP
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ITTNER DAVID JACK
</INVENTOR-NAME>
<INVENTOR-NAME>
ITTNER DAVID JACK
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates generally to interpretation of images and specifically to 
determination of the orientation of lines of text. An important area of image interpretation is optical character recognition, 
in which images of symbols are automatically translated into binary codes 
representing the symbols. A major problem in optical character recognition is 
determining the proper orientation of the symbols. The problem can occur in 
three contexts: first, the user of the optical character recognition apparatus 
(OCR) can fail to properly align a page of text as he places it on the platen of 
the imaging component of the OCR. Second, the OCR may be employed to 
deal with texts written with their lines in different orientations. For instance, 
a page of English may be in landscape style, with the lines running in the long 
direction of the page, or may even have lines written vertically. Some writing 
systems require vertical lines; in others the lines may be written vertically or  
 
horizontally. Finally, a single page may have components in which the lines 
are oriented in different directions. In all of these situations, the OCR system 
cannot begin interpreting the symbols of the text until it has determined the 
orientation of the lines which contain them. Prior techniques for determining the orientation of lines have fallen into 
two classes: 
1. those which begin with a prior determination of the nominal orientation 
of the lines and attempt to correct only for alignment errors made by 
the users and 2. those which determine the orientation of the lines without prior assumptions. An example of the first type of technique may be found in U.S. Patent 
5,001,766, H.S. Baird, Apparatus and Method for Skew Control of Document 
Images, issued 3/19/1991. Examples of the second type of technique are 
found in L. O'Gorman, "The Document Spectrum for Page Layout Analysis," 
in: Int 'l Association for Pattern Recognition Workshop on Structural 
and Syntactic Pattern Recognition, 1992 and in Akihide Hashizume, et al., 
"A method of detecting the orientation of aligned components", in: Pattern 
Recognition Letters, April 1986. The first type of technique requires human intervention if the OCR system 
is dealing with documents having more than one kind of line orientation; 
prior-art versions of the second type of technique have not worked well in difficult 
cases. One such difficult case has been documents written with character 
sets having multiple connected components. Examples of such character sets  


</DESCRIPTION>
<CLAIMS>
A method of determining the orientation of a line of entities in an 
image characterized by the steps of: 

   connecting the entities with edges to make a graph; 
   computing a minimum spanning tree of the graph; and 

   determining the orientation of the line from a dominant orientation of 
the edges of the minimum spanning tree. 
The method set forth in claim 1 further characterized in that: 
   the step of connecting the entities comprises the steps of 

reducing the entities to points; and 
   connecting the points with the edges. 
The method set forth in claim 1 further characterized by the step of: 
   filtering very large and very small entities before making the graph. 
The method set forth in claim 1 further characterized in that: 
   the step of determining the orientation of the line determines whether 

the orientation is vertical, horizontal, or uncertain. 
The method set forth in claim 1, 2, 3, or 4 further characterized in that: 
   the step of connecting the entities includes the step of labelling the 

edges according to the distance in the image of the entities connected by the edges. 
The method set forth in claim 1, 2, 3, or 4 further characterized in that: 
   the step of determining the orientation of the line includes the steps of: 

   making a histogram which has bins for ranges of the orientations of the 
edges of the minimum spanning tree and specifies for each bin at least the number of 

the edges having orientations for that bin's range; and 
   determining the orientation of the line from the histogram. 
The method set forth in claim 6 further characterized in that: 
   the step of making the histogram includes the step of modifying the 

contribution of each edge to the bin for the edge's orientation according to the area 
of the entities connected by the edge. 
The method set forth in claim 6 further characterized in that:
 

the step of determining the orientation of the line includes the step of 
sharpening peaks and damping noise in the histogram. 
The method set forth in claim 8 further characterized in that: 
   the step of sharpening peaks and damping noise includes the step of 

defining the energy at histogram bin bi as (b as 
 

where h is the number of 
bins in the histogram. 
The method set forth in claim 9 further characterized in that: 
   the step of determining the orientation of the line further includes the 

step of determining that the orientation is uncertain unless there is an orientation for 
which the percentage of the total energy in the histogram is above a predetermined 

threshold. 
The method set forth in claim 1, 2, 3, or 4 further characterized in 
that: 

   the entities are characters of a script. 
The method set forth in claim 11 further characterized in that: 
   the characters have multiple connected components. 
The method set forth in claim 11 further characterized in that: 
   the steps of the method are practiced in a system which assigns each 

character a digital code. 
The method set forth in claim 13 further characterized in that: 
   the system further converts the digital codes representing the characters 

into speech. 
The method set forth in claim 11 further characterized in that: 
   the method does not require a predetermined orientation of the 

characters to the line. 
A method of determining the orientation of a line of symbols having 
multiple connected components, the method characterized by the steps of:

 
   joining the connected components with edges to make a graph; 

   determining the orientation of the edges; and 
   determining the orientation of the line of symbols from the orientation 

of the edges. 
Image analysis apparatus having means (813) for determining the 
orientation of a line of entities in the image, the means for determining the 

orientation of the line of entities characterized by: 
   means (817) for connecting the entities with edges to make a graph; 

   means (819) for computing a minimum spanning tree of the graph; and 
   means (821) for determining the orientation of the line from a dominant 

orientation of the edges of the minimum spanning tree. 
The apparatus set forth in claim 17 wherein the means for 
determining the orientation of a line of entities further characterized by: 

   means (815) for filtering very large and very small entities before 
making the graph. 
The apparatus set forth in claim 17 further characterized in that: 
   the means for determining the orientation of the line determines whether 

the orientation is vertical, horizontal, or uncertain. 
The apparatus set forth in claim 17, 18, or 19 further characterized in 
that: 

   the entities are characters (202) of a script. 
The apparatus set forth in claim 20 further characterized in that: 
   
the characters have multiple connected components. 
The apparatus set forth in claim 20 further characterized in that: 
   the apparatus is part of a system which assigns each character a digital 

code. 
The apparatus set forth in claim 22 further characterized in that:
 

   the system further converts the digital codes representing the characters 
into speech. 
The apparatus set forth in claim 20 further characterized in that: 
   the apparatus does not require a predetermined orientation of the 

characters to the line. 
</CLAIMS>
</TEXT>
</DOC>
