<DOC>
<DOCNO>EP-0657842</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Touch panel input device and method of generating input signals for an information processing device
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F3033	G06F3033	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F3	G06F3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A touch panel input device comprises a panel (1) having a surface scanned with a 
timed succession of surface waves directed along parallel paths across said surface in at least 

one predetermined first direction, receiving means (3-6, 21, 23) for receiving said surface 
waves after having crossed said surface and for converting the received waves into an electrical 

signal whose amplitude variation represents the energy absorption state along each of said 
parallel paths, and signal processing means (7-9) for detecting the position of a touch of said 

surface in a second direction substantially perpendicular to said first direction, based on said 
amplitude variation signal. The signal processing means includes means comparison means for 

deriving, as an attenuation waveform, the amplitude difference between a reference electric 
signal obtained from said receiving means (3-6, 21, 23) when the panel (1) is not touched and 

the electric signal obtained from said receiving means when the panel is touched, threshold 
means for comparing said attenuation waveform with a predetermined threshold level, intersection 

detection means for detecting intersections between said attenuation waveform and said 
threshold level, and means for calculating a point of time intermediate between said intersections 

as being representative of said position of a touch. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SEIKO EPSON CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SEIKO EPSON CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KABURAGI CHIHARU
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAHASHI EIZO
</INVENTOR-NAME>
<INVENTOR-NAME>
KABURAGI, CHIHARU
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAHASHI, EIZO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to touch panel input devices.An example of a prior art touch panel input device is an ultrasonic wave touch panel input
device, such as that disclosed in WO-A-9209058, JP-A-61-239322, US-A-4,700,176 and US-A-4,746,914,
which will be described with reference to Fig. 14.The device illustrated in Fig. 14 comprises a touch panel 1 and an associated circuitry used to
identify the coordinates of a touch position on the panel and to output signals representing
these coordinates as well as the touch pressure. The touch panel comprises a substrate having
a surface capable of propagating surface acoustic waves (SAW). Two pairs of input transducer
20 (22) and output transducer 21 (23) are mounted on the surface, at the positions shown in
the drawing. Reflector units 15 to 18 each comprising an array of reflective elements are
provided along the peripheral edges of the surface as shown.Touch position detection of this touch panel input device in the X direction of the orthogonal
X,Y coordinate system shown in Fig. 14 will be explained using the control block diagram
shown in Fig. 14. CPU 7 activates X/Y driver 2 which then electrically generates electrical
wave bursts. The wave bursts are alternately applied to the Y input transducer 21 and the X
input transducer 22. Since the following explanation concentrates on the detection in the X
direction, only the X input transducer 22 will be considered. The electrical vibrations are
converted into mechanical vibrations by the X input transducer 22, and SAWs are sent to the
reflector unit 17. The transmitted SAWs possess rectilinear propagation characteristics and
thus advance along a roughly linear path. An SAW reaching the first reflective element of
reflector unit 17 is partially reflected, while the remainder passes through the element. The
reflected wave component is deflected by 90°. In the same manner a respective wave component
is branched off and deflected at each of the second to last reflective elements of reflector
unit 17. The deflected wave components traverse the panel surface in the Y-direction thereby
reaching respective reflective elements of reflector unit 18 by which they are again deflected
by 90° to propagate in the X direction toward X output transducer 23. The individual wave
components reach output transducer 23 with time differences proportional to differences in
path length of their respective routes. Each SAW of the wave burst will be divided in this way
into a plurality of wave components and components of each wave will
</DESCRIPTION>
<CLAIMS>
A touch panel input device comprising:

a panel (1) having a surface capable of propagating surface acoustic waves, such that
a touch of the surface by a touch input device (12, 13) causes perturbation in the form of at

least a partial absorption of energy of a surface wave propagating through the region of the
touch,
surface acoustic wave scanning means (7, 2, 20, 22) for scanning said surface with a
timed succession of surface waves directed along parallel paths across said surface in at least

one predetermined first direction,
receiving means (3-6, 21, 23) for receiving said surface waves after having crossed
said surface and for converting the received waves into an electrical signal whose amplitude

variation represents the energy absorption state along each of said parallel paths,
signal processing means (7-9) for detecting the position of a touch of said surface in a
second direction substantially perpendicular to said first direction, based on said amplitude

variation signal,
the signal processing means (7-9) including comparison means (203) for deriving, as
an attenuation waveform, the amplitude difference between a reference electric signal obtained

from said receiving means (3-6, 21, 23) when the panel (1) is not touched and the electric
signal obtained from said receiving means when the panel is touched, and
threshold means for comparing said attenuation waveform with a predetermined
threshold level,

   characterized in that said signal processing means further includes:

intersection detection means responsive to said threshold means for detecting intersections
between said attenuation waveform and said threshold level, and
means responsive to said intersection detection means for calculating a point of time
intermediate between said intersections as being representative of said position of a touch.
The device of claim 1, wherein said receiving means comprises sampling means (6)
for sampling said electrical signal at equidistant sampling points to obtain a sequence of

samples each representing the energy absorption state at a respective one of said paths.
The device of claim 2 further comprising means (6) for converting each sample into
a digital value.
The device of any one of claims 1 to 3 further comprising:

linearization means (206, 208) for linearizing those parts of said attenuation
waveform intersecting said threshold level,
wherein said point of time is calculated based on the intersections between said
linearized attenuation waveform and said threshold level.
The device of claim 4 in combination with claim 2 or 3, wherein said comparison
means (203) is adapted to calculate, as said attenuation waveform, for each of said sampling 

points the difference between a reference sample obtained from said receiving means when the
panel (1) is not touched and the corresponding sample obtained from said receiving means

when the panel is touched, to obtain a sequence of attenuation values.
The device of claim 5, wherein said comparison means (203) is adapted to calculate
a sequence of normalized attenuation values by forming for each sampling point the difference

between the sample and the corresponding reference sample and dividing the difference
by the reference sample.
The device of claim 5 or 6, wherein said linearization means comprises

means (206) for comparing each of said attenuation values with said threshold level,
means (206) for finding at least two groups of three successive sampling points, each
group including a pair of successive sampling points of which the attenuation value at one

sampling point is smaller and that at the other is greater than said threshold level, and
means (208) for calculating, based on the attenuation values corresponding to each of
said groups of sampling points, respective approximation curve segments.
The device of claim 7, wherein the sampling point next to that one of said pair of
sampling points at which said attenuation value is nearer to the threshold level than that of the

other of the pair is selected as the third sampling point in a group.
The device of any one of claims 1 through 8, wherein the mid-point between said
intersections is detected as being representative of said position of a touch.
The device of any one of the preceding claims, further comprising

means (104) for detecting, based on the interval between two successive intersections
between said attenuation waveform and said threshold level the width, in said second

direction, of a touch of said surface, and
means (105) responsive to the detected width for distinguishing from each other a
plurality of touch input devices each having a different contact surface size and for putting out

respective operation mode signals.
The device of any one of the preceding claims wherein said touch
input device includes at least a touch pen (13) having a contact tip made of a porous member that carries a

clear or colored quick-drying liquid ink.
A method of generating an input signal for an electronic information processing
device by means of a touch panel input device having a panel (1) with a surface

capable of propagating surface acoustic waves, such that a touch of the surface by a touch
input device (12, 13) causes perturbation in the form of at least a partial absorption of energy of a

surface wave propagating through the region of the touch, surface acoustic wave scanning
means (7, 2, 20, 22) for scanning said surface with a timed succession of surface waves

directed along parallel paths across said surface in at least one predetermined first direction,
receiving means (3-6, 21, 23) for receiving said surface waves after having crossed said 

surface and for converting the received waves into an electrical signal whose amplitude variation
represents the energy absorption state along each of said parallel paths, and signal processing

means (7-9) for detecting the position of a touch of said surface in a second direction
substantially perpendicular to said first direction, based on said amplitude variation,

   the method comprising the steps of:

(a) obtaining said electric signal under the condition of no touch of said panel, and
storing the signal as reference signal,
(b) obtaining said electric signal under the condition of touch of said panel,
(c) generating an attenuation waveform representing the amplitude difference between
the signal obtained in step (b) and the signal stored in step (a), and
(d) comparing the attenuation waveform with a specified threshold level,

the method being characterized by the steps of:

(d') generating
a corrected attenuation waveform by linearizing the parts of said attenuation waveform

that are near said threshold level,
(e) finding two successive intersections of said corrected attenuation waveform with
said threshold level,
(f) calculating the interval between the start of the signal obtained in step (b) and a
point between said two intersections, and
(g) putting out as said input signal a position signal representing the result obtained in
step (f).
The method of claim 12, wherein

step (a) comprises sampling the electrical signal at equidistant sampling points to
obtain a sequence of reference samples each representing the energy absorption state along a

respective one of said parallel paths and storing the reference samples,
step (b) comprises sampling the electrical signal at the same sampling points as in
step (a) to obtain a sequence of samples each representing the energy absorption state along a

respective one of said parallel paths and storing the samples, and
step (c) comprises generating, as said attenuation waveform, for each of said sampling
points the difference between the samples obtained in steps (a) and (b).
The method of claim 13 wherein in steps (b) and (c) the samples are quantized
and stored as digital values.
The method of claim 13 or 14, wherein step (d) comprises

(d1) comparing each of the differences obtained in step (c) with said threshold level.
(d2) finding at least two groups of three successive sampling points, each group
including a pair of successive sampling points of which said difference at one sampling point is

smaller and that at the other is greater than said threshold level, and
(d3) performing said linearizing by calculating, based on the differences corresponding
to each of said groups of sampling points, respective approximation curve segments.
The method of claim 15 wherein step (d2) comprises taking as the third sampling
point in a group the one next to that one of said pair of sampling points at which said difference

is nearer to the threshold level than that of the other of the pair.
The method of any one of claims 12 to 16 wherein step (f) comprises determining
the interval between the start of the signal obtained in step (b) and the point corresponding to

the mid-point between said two intersections.
The method of any one of claims 13 to 17, wherein step (c) further comprises
dividing each of said differences by the respective reference sample.
The method of any one of claims 13 to 18, wherein the interval in step (f) is
determined in units of a fraction of the interval between two successive sampling points.
The method of any one of claims 12 to 19, wherein step (g) comprises putting
out as said input signal a position signal representing said interval between the start of the

signal obtained in step (b) and a point between said two intersections, and an operation mode
signal representing the interval between said two intersections.
</CLAIMS>
</TEXT>
</DOC>
