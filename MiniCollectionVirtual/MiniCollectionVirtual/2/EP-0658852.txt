<DOC>
<DOCNO>EP-0658852</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Computer system with derived local bus
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1576	G06F1338	G06F1338	G06F1578	G06F1342	G06F1342	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F15	G06F13	G06F13	G06F15	G06F13	G06F13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An integrated processor is provided that includes a CPU
core, a local bus coupled to the CPU core, and a variety of

peripheral such as a memory controller, a direct memory access
controller, and an interrupt controller coupled to the local bus.

A bus interface unit is further provided to interface between the
CPU local bus and a PCI standard multiplexed peripheral bus. The

CPU core, the memory controller, the direct memory access
controller, the interrupt controller, and the bus interface unit

are all incorporated on a common integrated circuit chip. A
local bus control unit is further provided that is capable of

generating a loading signal and an address strobe signal
synchronously with certain bus cycles that are executed on the

PCI bus. The local bus control unit allows external peripheral
devices that are compatible with the CPU local bus protocols to

be connected through the PCI bus. A latch is coupled to the
multiplexed address/data (A/D) lines of the PCI bus and includes

a set of output lines coupled to the address input lines of the
externally connected peripheral device. The external latch is

latched by the loading signal. The cycle definition signals of
the PCI bus are further latched within the external latch to

provide memory/IO and read/write signals to the external
peripheral device. The data lines of the peripheral device may be

connected directly to the multiplexed address/data lines of the
PCI bus.


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES INC
</APPLICANT-NAME>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
GEPHARDT DOUGLAS D
</INVENTOR-NAME>
<INVENTOR-NAME>
MUDGETT DAN S
</INVENTOR-NAME>
<INVENTOR-NAME>
GEPHARDT, DOUGLAS D.
</INVENTOR-NAME>
<INVENTOR-NAME>
MUDGETT, DAN S.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to integrated microprocessor systems 
and more particularly to the derivation of a local CPU style bus 
from a multiplexed peripheral bus. Figure 1 is a block diagram of a computer system 10 
including a microprocessor (CPU) 12, a CPU local bus 14 coupled 
to microprocessor 12, and a video controller 16 coupled to the 
CPU local bus 14. A bus interface unit 20 is further shown that 
provides an interface between the CPU local bus 14 and a 
multiplexed peripheral bus 22. A peripheral device 24 is coupled 
to the multiplexed peripheral bus 22, and in addition, a variety 
of other peripheral devices 26 may further be coupled to CPU 
local bus 14. Microprocessor 12 is illustrative of, for example, a model 
80486 microprocessor, and CPU local bus 14 is exemplary of an 
80486 local bus. The CPU local bus 14 includes a set of data 
lines D[31:0], a set of address lines A[31:0], and a set of 
control lines. Details regarding the various bus cycles and 
protocols of the 80486 CPU local bus 14 are described in a host 
of publications of the known prior art. Video controller 16 is provided with computer system 10 for 
controlling the display of various information on a monitor (not 
shown). A variety of specific video controllers exemplary of 
video controller 16 are currently available that connect to an 
80486 local bus. A variety of additional peripheral devices 26 may further be  
 
connected to CPU local bus 14. For example, a system memory 
controller as well as a direct memory access controller may be 
coupled to local bus 14. Bus interface 20 provides a standard interface between the 
CPU local bus 14 and the multiplexed peripheral bus 22. As such, 
bus interface 20 orchestrates the transfer of data, address, and 
control signals between the various buses. Multiplexed peripheral bus 22 is illustrative of, for 
example, a PCI standard configuration bus. Details regarding the 
PCI standard bus are provided within the publication entitled 
"PCI Local Bus Specification"; PCI Special Interest Group; 
Hillsboro, Oregon. The microprocessor 12, the video controller 16, the bus 
interface unit 20, and the other peripheral devices 26 have 
traditionally been fabricated on separate integrated circuit 
chips. A new trend in computing systems has developed, however, 
that involves the incorporation of a CPU core along with a 
variety of peripherals fabricated on a single integrated 
microprocessing chip. Such an integrated microprocessing chip 
typically includes a microprocessor core, a CPU
</DESCRIPTION>
<CLAIMS>
A computer system comprising: 

a peripheral bus including a plurality of multiplexed 
address/data lines; 
a latch having an input port coupled to said plurality 
of multiplexed address/data lines; 
an integrated processor including: 

a CPU core; 
a local bus coupled to said CPU core; 
a bus interface unit capable of interfacing data, 
address, and control signals between said 

local bus and said peripheral bus; and 
a local bus control unit coupled to said local bus 
and capable of generating a loading signal 

indicative of the presence of a valid address 
on said peripheral bus; and 
a peripheral device having a plurality of addressing 
lines coupled to an output port of
 said latch, and 
a plurality of data lines coupled to said 

plurality of multiplexed address/data lines of 
said peripheral bus. 
The computer system as recited in Claim 1 wherein said 
peripheral bus is a PCI standard configuration bus. 
The computer system as recited in Claim 1 wherein said 
latch further includes a plurality of input lines coupled to a 

multiplexed cycle definition/byte enable lines of said peripheral 
bus, and includes at least one output line coupled to a 

read/write line of said peripheral device.  
 
The computer system as recited in Claim 1 wherein said 
CPU core implements an 80486 instruction set. 
The computer system as recited in Claim 3 wherein said 
multiplexed cycle definition/byte enable lines of said peripheral 

bus are further connected to a plurality of byte enable input 
lines of said peripheral device. 
The computer system as recited in Claim 1 wherein said 
loading signal is asserted during an address phase of said 

peripheral bus and wherein said loading signal is deasserted 
during a data phase of said peripheral bus. 
The computer system as recited in Claim 1 wherein said 
peripheral device is a video controller. 
The computer system as recited in Claim 1 wherein said 
local bus control unit is further capable of asserting an address 

strobe signal. 
The computer system as recited in Claim 1 wherein said 
loading signal is provided to a clock input line of said latch. 
The computer system as recited in Claim 8 wherein said 
address strobe signal is provided to an address strobe input line 

of said peripheral device. 
The computer system as recited in Claim 8 wherein said 
address strobe signal is asserted when a valid data signal is 

driven on said peripheral bus. 
A method for driving a CPU local style bus externally 
from an integrated microprocessor, wherein said integrated 

processor includes a CPU core, a local bus coupled to said CPU 
core, and a bus interface unit for interfacing data, address, and  

 
control signals between said local bus and an external 

multiplexed peripheral bus, said method comprising the steps of: 

driving a plurality of multiplexed address/data lines 
of said peripheral bus with a valid address 

signal; 
asserting a loading signal when said peripheral bus is 
driven with said valid address signal; 
latching said valid address signal in response to said 
loading signal; 
driving said plurality of multiplexed address/data 
lines with valid data; 
providing said valid address signal and said valid data 
simultaneously to a peripheral device. 
The method as recited in Claim 12 comprising the 
further steps of: 


driving a cycle definition signal on a set of control 
lines of said peripheral bus while driving said 

valid address signal on said plurality of 
multiplexed address/data lines; and 
latching said cycle definition signal in response to 
said loading signal. 
The method as recited in Claim 13 comprising the 
further steps of driving a byte enable signal on said set of 

control lines while driving said valid data on said plurality of 
multiplexed address/data lines. 
The computer system as recited in claim 1 wherein said 
peripheral bus is 

a PCI standard configuration bus and  
 

said CPU core implements an 80486 instruction 
set. 
The computer system-as recited in Claim 15 wherein said 
latch further includes a plurality of input lines coupled to a 

multiplexed cycle definition/byte enable lines of said peripheral 
bus, and includes at least one output line coupled to a 

read/write line of said peripheral device. 
The computer system as recited in Claim 16 wherein said 
multiplexed cycle definition/byte enable lines of said PCI 

standard configuration peripheral bus are further connected to a 
plurality of byte enable input lines of said peripheral device. 
The computer system as recited in Claim 15 wherein said 
loading signal is asserted during an address phase of said PCI 

standard configuration peripheral bus and wherein said loading 
signal is deasserted during a data phase of said peripheral bus.  

 
The computer system as recited in Claim 18 wherein said 
local bus control unit is further capable of asserting an address 

strobe signal. 
The computer system as recited in Claim 19 wherein said 
loading signal is provided to an enable input line of said latch. 
</CLAIMS>
</TEXT>
</DOC>
