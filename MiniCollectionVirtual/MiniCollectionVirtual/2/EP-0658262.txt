<DOC>
<DOCNO>EP-0658262</DOCNO> 
<TEXT>
<INVENTION-TITLE>
METHOD AND DEVICE FOR AUTOMATIC EVALUATION OF CEREAL GRAINS AND OTHER GRANULAR PRODUCTS
</INVENTION-TITLE>
<CLASSIFICATIONS>B07C5342	G01N2185	B02B700	G01J346	G01N3302	G01N1500	B02B700	G01N1500	G06F1518	B07C5342	G06N300	G01N1502	G01J346	G01N2185	G06N300	G06F1518	G06T100	G01N1502	G01N3302	G06T100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>B07C	G01N	B02B	G01J	G01N	G01N	B02B	G01N	G06F	B07C	G06N	G01N	G01J	G01N	G06N	G06F	G06T	G01N	G01N	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>B07C5	G01N21	B02B7	G01J3	G01N33	G01N15	B02B7	G01N15	G06F15	B07C5	G06N3	G01N15	G01J3	G01N21	G06N3	G06F15	G06T1	G01N15	G01N33	G06T1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In automatic evaluation of cereal kernels or like granular products handled in bulk, the kernels are conveyed on a vibrating belt conveyor (15). Owing to the vibrations, the kernels are spread and settle in grooves (14) in the belt so as to be oriented in essentially the same direction. A video camera (40) produces digital images of all the kernels on the belt. The kernels are identified in the images, and for each kernel input signals are produced to a neural network based on the picture element values for the picture elements representing the kernel. Then the neural network determines to which of a plurality of predetermined classes each kernel belongs.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
AGROVISION AB
</APPLICANT-NAME>
<APPLICANT-NAME>
AGROVISION AB
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
EGELBERG PETER
</INVENTOR-NAME>
<INVENTOR-NAME>
OESTE RICKARD
</INVENTOR-NAME>
<INVENTOR-NAME>
PETERSON CARSTEN
</INVENTOR-NAME>
<INVENTOR-NAME>
SJOESTEDT LENNART
</INVENTOR-NAME>
<INVENTOR-NAME>
SOEDERLUND PATRIK
</INVENTOR-NAME>
<INVENTOR-NAME>
EGELBERG, PETER
</INVENTOR-NAME>
<INVENTOR-NAME>
OESTE, RICKARD
</INVENTOR-NAME>
<INVENTOR-NAME>
PETERSON, CARSTEN
</INVENTOR-NAME>
<INVENTOR-NAME>
SJOESTEDT, LENNART
</INVENTOR-NAME>
<INVENTOR-NAME>
SOEDERLUND, PATRIK
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method and a
device for automatic evaluation of cereal kernels or
grains and similar granular products, e.g. beans, rice
and seeds, which are handled in bulk.Each shipment of cereals may contain a certain amount
of kernels of some other kind of cereal than the desired
one, for example rye and wild oats in shipments of wheat,
and of kernels which per se are of the desired kind but
which are of unsatisfactory quality, for example broken-off
kernels, kernels chewed by animals, green kernels and
burnt kernels. Also stones and other objects are to be
found among the kernels.Since the payment for cereal kernels is based on
purity and quality, it is important that these parameters
can be evaluated correctly. Today, the evaluation is carried
out manually by visual inspection of samples from
cereal shipments, and weighing of the different amounts of
kernels of incorrect kinds and of kernels of the correct
kind but of unsatisfactory quality. It is instead desirable
to be able to make this evaluation automatically.When exporting and importing cereals, there is a need
of being able to quickly characterise the cereals for
purity, homogeneity and evenness in colour. Today there is
no equipment for effecting this automatically.In the handling of cereals in, among other countries,
the USA, Canada and Australia, staff is available to evaluate
the composition of the supplied cereals to determine
the suitable future use (pasta products, bread, feed
etc.). Since this evaluation can be made by experienced
staff only, it would be a great advantage if, instead, it
could be effected automatically.In the handling of cereals it is also important that
the size of the kernels can be evaluated. This is now carried
out by letting the kernels pass a number of sieves 
having a gradually diminishing width of mesh. It is desirable
that the size evaluation can be carried out in a more
rational manner.Scientific literature comprises examples of experiments
being made to evaluate cereals by means of computerised
image analysis. An article by Sapirstein et al.
in Cereal Science No. 6, 1987, p. 3, describes an experiment
of classifying wheat, rye, barley and oat kernels by
means of different contour parameters. By analysing a statistically
calculated combination of length/width, width,
moment and length of circumference, an image analysing
program could identify kernels with an accuracy of more
than 97%.An article by Zayas et al. in Cereal Chemistry 66(3),
1989, p. 233, describes an image analysing system
</DESCRIPTION>
<CLAIMS>
Method for automatic evaluation of cereal kernels
or like granular products which are handled in bulk, comprising

the steps of spreading the kernels and producing
digital images of said kernels, wherein each image contains

a plurality of kernels, 
characterised
in that
 each kernel occurs in one image only, and that it
comprises the steps of


locating said kernels in the digital images by
locating coherent areas of picture elements having an

intensity or colour exceeding a predetermined value,
determining the extent of each coherent area perpendicularly
to the longitudinal axis of said area,
dividing said area at each minimum in the extent
having at least a determined size and spaced from the

ends of said area in the longitudinal direction, each
such partitioned-off part being processed as if representing

a kernel,
producing a set of input signals to a neural network
(42) for each kernel by means of picture element values

for a plurality of the picture elements representing the
kernel, and
determining with the neural network (42) to which of
a plurality of classes each kernel belongs.
Method as claimed in claim 1, 
characterised
in that
 said kernels are oriented essentially
in a predetermined direction before the digital

images of said kernels are produced.
Method as claimed in claim 1 or 2, 
characterised
in that
 the production of input signals to
the neural network (42) comprises weighted addition of

picture element values for a plurality of the picture
elements representing said kernel.
Method as claimed in claim 3, 
characterised
in that
 the weighted addition of said
picture element values is carried out componentwise for 

each picture element component in a plurality of the picture
elements representing said kernel.
Method as claimed in any one of claims 1-4,

characterised in that
 the picture elements
of the digital image are represented by the components

red intensity, green intensity and blue intensity (RGB
representation), and that said picture element components

are converted into a hue component, a saturation component
and an intensity component (HSI representation).
Method as claimed in claim 5, 
characterised
in that
 the size and/or shape and/or
colour of each kernel is/are determined by means of the

components of the RGB representation in the digital
image.
Method as claimed in any one of claims 1-6,

characterised in that
 the weight of each
kernel is determined on the basis of the size of the area

of picture elements representing the kernel.
Method as claimed in any one of claims 1-6,

characterised in that
 after said classification,
at least kernels classified into a first class are

separated, whereupon separated kernels are weighed separately
and non-separated kernels are weighed separately

as well.
Device for automatic evaluation of cereal kernels
or like granular products handled in bulk, comprising a

camera (40) for producing digital images of said kernels
and a presentation device (14-19, 25-28) adapted to present

a plurality of kernels at a time in the lens coverage
of said camera (40), 
characterised in
that
 it comprises a neural network (42) for classifying
said kernels, that the device is arranged such that each

kernel occurs in one image only, and that it is further
arranged


to locate said kernels in the digital images by locating coherent areas of picture elements having an intensity or colour exceeding a predetermined value,
to determine the extent of each coherent area
perpendicularly to the longitudinal axis of said area, 
to divide said area at each minimum in the extent
having at least a determined size and spaced from the

ends of said area in the longitudinal direction,
to process each such partitioned-off part as if representing
a kernel, and to produce a set of input signals

to the neural network (42) for each kernel by means of
picture element values for a plurality of the picture

elements representing the kernel.
Device as claimed in claim 9, 
characterised

in that
 said presentation device (14-19,
25-28) comprises a belt conveyor (15) whose belt is

formed with indentations (14), the shape of which is adjusted
to said kernels and which are oriented in a common

direction.
Device as claimed in claim 10, 
characterised
in that
 said presentation device (14-19,
25-28) comprises vibration means (25-28) which are

adapted to vibrate said conveyor (15) to orient said kernels
thereon.
Device as claimed in claim 11, 
characterised
in that
 said vibrating means (25, 28) comprises
a metal sheet (27) whose one end is arranged between

the belt (18) and a vibrating element comprising a
roller (28) and a plurality of washers (29) which are

mounted on the roller with play, such that said washers
(29) strike the metal sheet (27) as the roller (28) is

rotated.
Device as claimed in any one of claims 9-12,

characterised by
 means (51-53 for separating
predetermined kernels from the remaining kernels after

said classification.
Device as claimed in claim 13, 
characterised
in that
 said means (51-53) for separation
comprises means (52) for blowing away predetermined kernels

from said presentation device (14-19, 25-28).
</CLAIMS>
</TEXT>
</DOC>
