<DOC>
<DOCNO>EP-0613272</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Resynchronization of asynchronous transfer mode (ATM) switch fabric
</INVENTION-TITLE>
<CLASSIFICATIONS>H04Q352	H04L708	H04Q1104	H04Q300	H04L1256	H04Q1104	H04Q352	H04Q300	H04L708	H04L1256	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04Q	H04L	H04Q	H04Q	H04L	H04Q	H04Q	H04Q	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04Q3	H04L7	H04Q11	H04Q3	H04L12	H04Q11	H04Q3	H04Q3	H04L7	H04L12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In a duplicate active-standby memory unit arrangement (100), a 
resynchronization initiation determination is made on a cell-interval-by-cell-interval 

basis based on the equality of cell contents of corresponding queues in the active 
(101) and standby (102) memory units. If an inequality of the cell contents of the 

corresponding queues in the active and standby memory units occurs during any cell 
interval, resynchronization may be initiated. In an embodiment, the lengths of data 

in corresponding queues, i.e. the number of cells stored in the corresponding queues, 
in the active and standby memory units are compared (by 105,106,107,108) on a 

cell-interval-by-cell-interval basis. If the number of cells stored in any of the queues 
is different from the number of cells in its corresponding queue in the other of the 

memory units during any cell interval, resynchronization of the memory units is 
initiated. In another embodiment of the invention, the outputs (114-1,115-1) of 

corresponding queues in the active memory unit (101) and the standby memory unit 
(102) are compared (by 117) on a cell-interval-by-cell-interval-basis. If the result of 

the comparison indicate that any one or more of the queues outputs in one of the 
memory units is different from the output of the corresponding queue in the other 

memory unit, resynchronization is initiated. Robustness of the latter comparison 
algorithm is enhanced by restricting the comparisons to cell intervals during which 

the queue outputs in the active and standby memory units do not both include idle 
cells. Additionally, robustness of the resynchronization initiation is further enhanced 

by simultaneously employing both the comparison of cell length in the queues and 
the comparison of the queue output contents to detect when to initiate 

resynchronization. 

</ABSTRACT>
<APPLICANTS>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
This invention relates to switch arrangements.In certain system arrangements duplicated buffer memory units are
employed in an active-standby configuration to reduce so-called "down time" in the
presence of a failure and, thereby improve system reliability. In such duplicated
memory system arrangements proper system operation requires that the contents of each
of the memory units be identical. Prior arrangements are known (see e.g. EP-A-0
410139) in which synchronization of such duplicated memory units is realized. It
should be noted that ATM transmission of data is on a cell-by-cell basis wherein each
cell comprises a fixed length packet. Thus. in the ATM context, the terms cell and
packet are interchangeable. In the noted prior duplicated memory arrangement, a
plurality of queues is employed to store cells, with each of the queues being associated
on a one-to-one basis with either inputs or outputs of the memory unit. Synchronization
of the active and standby memory units is realized in this prior arrangement by
employing a queue length counter with each queue and observing when all of the
counters have reached zero count at least once. Although this prior arrangement will
indicate that the duplicated memories are in synchronization at some particular time
after synchronization has been initiated, it does not determine when or how to initiate
resynchronization. Once synchronization has been obtained. if the contents of the
corresponding queues in the active and standby memories become different during any
cell interval, problems can arise.According to one aspect of this invention there is provided a switch
arrangement as claimed in claim 1.According to another aspect of this invention there is provided a
duplicate switch arrangement as claimed in claim 2.The problems of prior duplicated memory unit arrangements are
overcome by making a resynchronization initiation determination on a cell-interval-by-cell-interval
basis based on the equality of cell contents of corresponding queues in the
active and standby memory units. If an inequality of the cell contents of the
corresponding queues in the active and standby memory units occurs during any cell
interval, resynchronization may be initiated. In an exemplary embodiment of the invention, the lengths of data in
corresponding queues, i.e., the number of cells stored in the corresponding queues, in
the active and standby memory units are compared on a cell-interval-by-cell-interval
basis. If the number of cells stored in any of the queues is different than
</DESCRIPTION>
<CLAIMS>
A switch arrangement (500) comprising:

a first duplicated switch stage and a plurality of second duplicated switch stages;
said first duplicated switch stage having a plurality of switch inputs (110),
a first memory unit (101) having a plurality of inputs (112), a plurality of outputs
(114) and a plurality of queues, individual ones of said plurality of queues for storing cells

incoming on individual ones of the switch inputs (110) and being destined for
predetermined ones of said first memory unit outputs (114),
a second memory unit (102) having a plurality of inputs (112), a plurality of
outputs (115) and a plurality of queues, individual ones of said plurality of queues for

storing cells incoming on individual ones ofthe switch inputs (110) and being destined for
predetermined ones of said second memory unit outputs (115),
cells incoming on individual ones of the switch inputs (110) being dual fed to
individual ones of said first memory unit inputs (112) and corresponding individual ones of

said second memory unit inputs (112), individual ones of the plurality of first memory unit
queues corresponding on a one-to-one basis to individual ones of the plurality of second

memory unit queues and individual ones of the plurality of first memory unit outputs (114)
corresponding on a one-to-one basis to individual ones of the plurality of second memory

unit outputs (115), wherein both said first memory unit (101) and said second memory

unit (102) are operating simultaneously to store cells incoming on the plurality of switch
inputs (110) and both of said first and second memory units (101, 102) being synchronized

with each other,
the switch arrangement (500) being characterized by,
first means (103) for obtaining a plurality of first indications representative of the
number of cells in the plurality of first memory unit queues, individual ones of said first

indications corresponding on a one-to-one basis with individual ones of said plurality of
first memory unit queues,
second means (104) for obtaining a plurality of second indications representative
of the number of cells in the plurality of second memory unit queues, individual ones of

said second indications corresponding on a one-to-one basis with individual ones of said
plurality of second memory unit queues, and 
means (103, 104) for comparing individual ones of said first indications with
individual ones of said second indications to determine whether there is any inequality in

the number of cells in corresponding ones of said plurality of first memory unit queues and
said plurality of second memory unit queues;
said plurality of second duplicated switch stages corresponding on a one-to-one basis
with said plurality of first memory unit outputs (114) and said corresponding plurality of

second memory unit outputs (115), each of said plurality of second duplicated switch stages
having first and second inputs (114,115) and a plurality of switch outputs (507), an output

(114) from said simultaneously operating first memory unit (101) being supplied to one of
said first and second inputs and a corresponding output (115) from said simultaneously

operating second memory unit (102) being supplied to the other of said first and second
inputs, and
each of said second duplicated switch stages further including,
first selection means (117(0)) responsive to a first control signal (SEL1) for
selecting cells supplied to either said first input (114) or said second input (115) to be

supplied as a first output,
first comparator means (117(0)) for comparing contents of cells supplied to said
first input (114) and said second input (115) to determine whether there is any inequality

in the contents of said cells,
second selection means (117(1)) responsive to said first control signal (SEL1) for
selecting cells supplied to either said first input (114) or said second input (115) to be

supplied as a second output,
second comparator means (117(1)) for comparing contents of cells supplied to said
first input (114) and said second input (115) to determine whether there is any inequality

of said contents of said cells,
first means (504) having an input and a plurality of switch outputs (511) and being
supplied with said first selection means output for deriving a plurality of similar digital

signals from the supplied first selection means output and including a plurality of first
queues for storing said first means derived signals on a one-to-one basis, said plurality of 

first queues corresponding on a one-to-one basis with said plurality of switch outputs of
said first means for deriving (504),
second means (505) having an input and a plurality of switch outputs (512) and
being supplied with said second selectinn means output for deriving a plurality of similar

digital signals from the supplied second selection means output and including a plurality of
second queues for storing said second means derived signals on a one-to-one basis, said

plurality of second queues corresponding on a one-to-one basis with said plurality of
switch outputs of said second means for deriving (505),
first output stage means (103-1) for obtaining a plurality of first queue indications
representative of the number of cells in the plurality of first queues of said first means for

deriving (504), individual ones of said first queue indications corresponding an a one-to-one
basis with individual ones of said plurality of first queues of said first means for

deriving (504),
second output stage means (104-1) for obtaining a plurality of second queue
indications representative of the number of cells in the plurality of second queues of said

second means for deriving (505), individual ones of said second queue indications
corresponding on a one-to-one basis with individual ones of said plurality of second

queues of said second means for deriving (505),
output stage comparator means (103-1, 104-1) for companng individual ones of
said first queue indications with individual ones of said second queue indications to

determine whether there is any inequality in the number of cells in corresponding ones of
said plurality of first queues of said first means for deriving (504) and said plurality of

second queues of said second means for deriving (505),
individual ones of said plurality of first means for deriving (504) switch outputs
corresponding on a one-to-one basis to individual ones of the plurality of switch outputs

of said second means for deriving (505), and
a plurality of output selector and comparator means (117-1...117-M)
corresponding on a one-to-one basis with said plurality of first means for deriving (504)

outputs and said corresponding plurality of said second means for deriving (505) outputs
and each of said plurality of output selector and comparator means (117-1...117-M) 

having first and second inputs (511, 512) and an output, an output from said first means
for deriving (504) being supplied to one of said first and second inputs (511, 512) and a

corresponding output from said second means for deriving (505) being supplied to the
other of said first and second inputs (511, 512) and including means responsive to a

second control signal (SEL2) for selecting cells supplied to either said first input (511) or
said second input (512) to be supplied to said switch output (507), and means for

comparing contents of cells supplied to said first input (511) and said second input (512)
from said first means for deriving (504) and said second means for deriving (505) to

determine whether there is any inequality of said contents of said cells; and
the switch arrangement further including means (510) for initiating
resynchronization of said first memory unit (101), said second memory unit (102) and said

plurality of second duplicated switch stages in response to at least one indication of such an
inequality.
A duplicate switch arrangement (100) having a plurality of switch inputs
(110) and a plurality of switch outputs (122) including


a first memory unit (101) having a plurality of inputs (112), a plurality of outputs
(114) and a plurality of queues, individual ones of said plurality of queues for storing cells

incoming on individual ones ofthe switch inputs (110) and being destined for
predetermined ones of said first memory unit outputs (114),
a second memory unit (102) having a plurality of inputs (112), a plurality of
outputs (115) and a plurality of queues, individual ones of said plurality of queues for

storing cells incoming on individual ones of the switch inputs and being destined for
predetermined ones of said second memory unit outputs (115),
cells incoming on individual ones ofthe switch inputs (110) being dual fed to
individual ones of said first memory unit inputs (112) and corresponding individual ones of

said second memory unit inputs (112) and individual ones of the plurality of first memory
unit outputs (114) corresponding on a one-to-one basis to individual ones of the plurality

of second memory unit outputs (115), wherein both said first memory unit (101) and said

second memory unit (102) are operating simultaneously to store cells incoming on the 
plurality of switch inputs (110) and both of said first and second memory units (101, 102)

being synchronized with each other,
the duplicated switch arrangement (100) being characterized by,
first means (106) for obtaining a plurality of first indications representative of the
number of cells in the plurality of first memory unit queues, individual ones of said

plurality of first indications corresponding on a one-to-one basis with individual ones of
said plurality of first memory unit queues,
second means (108) for obtaining a plurality of second indications representative
of the number of cells in the plurality of second memory unit queues, individual ones of

said second indications corresponding on a one-to-one basis with individual ones of said
plurality of second memory unit queues,
means for comparing (105, 107) individual ones of said first indications with
individual ones of said second indications to determine whether there is any inequality in

the number of cells in corresponding ones of said plurality of first memory unit queues and
said plurality of second memory unit queues; and
a plurality of output stages (116), each output stage (116) having first and second
inputs (114, 115) and a switch output (122), an output (114) from said first memory unit

(101) being supplied to one of said first and second inputs and a corresponding output
(115) from said second memory unit (102) being supplied to the other of said first and

second inputs and including means (119) responsive to a control signal (SEL) for selecting
cells supplied to either said first input (114) or said second input (115) to be supplied to

said switch output (122),
each of said output stages (116) including,
means (120) for comparing contents of cells supplied to said first input (114) and
said second input (115) to determine whether there is any inequality of said contents of

said cells; and
the duplicated switch arrangement further including means (123) for initiating
resynchronization of said first memory unit (101) and said second memory unit (102)

when the results of said comparing in said output stages (116) indicates at least one such
inequality from said plurality of output stages (116) or when the results of comparing the 

first indications and the second indications indicates at least one such inequality from said
in-service memory units.
</CLAIMS>
</TEXT>
</DOC>
