<DOC>
<DOCNO>EP-0628913</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Interrupt signal detection circuit.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F946	G06F948	G06F1320	G06F1324	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F9	G06F9	G06F13	G06F13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A microcomputer comprises a detection circuit receiving an 
interrupt signal for generating a first detection signal when the detection 

circuit detects a level transition of the received interrupt signal from a 
low level to a high level, and a second detection signal when the detection 

circuit detects a level transition of the received interrupt signal from the 
high level to the low level. A first register is set by the first detection 

signal, and a second register is set by the second detection signal. A timer 
is provided to receive an internal clock for counting the received internal 

clock and to generate a synchronizing signal. A synchronous circuit 
receiving the first detection signal and the second detection signal for 

generating a capture signal in synchronism with the synchronizing signal. 
A capture register is coupled to the timer and receiving the capture signal, 

for storing the count value of the timer in synchronism with the capture 
signal. The first and second registers are connected to a interrupt 

processing unit so that when the first or second register is set, the 
interrupt processing unit requests an interrupt processing to a central 

processing unit, so that the central processing unit executes an interrupt 
processing while reading the content of the capture register. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NIPPON ELECTRIC CO
</APPLICANT-NAME>
<APPLICANT-NAME>
NEC CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
NAGASAKI KAZUNORI C O NEC CORP
</INVENTOR-NAME>
<INVENTOR-NAME>
NAGASAKI, KAZUNORI, C/O NEC CORPORATION
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a microcomputer, and more 
specifically to a microcomputer used for a high-speed real time control. Referring to Figure 1, there is shown an example of a typical 
conventional signal detection circuit. The shown signal detection circuit 
comprises a register 800 composed of a D-type flipflop, an exclusive-OR 
gate 801, an AND gate 802 and a register 803 formed of S/R type 
flip-flop, which are connected as shown. An external input signal 701 is applied to a data input D of the 
flipflop 800, and a Q output 705 of the flipflop 800 becomes at the same 
level as that of the input signal 701 when a control signal 702 is applied to 
a clock input CK of the flipflop 800. To the exclusive-OR gate 801, the 
external input signal 701 and the output signal 705 of the flipflop 800 are 
applied. When the input signals 701 and 705 are at the same level, an 
output 706 becomes at a low level. To the AND gate 802, a control signal 
703 and the output 706 of the exclusive-OR gate 801 are applied. An 
output 707 of the AND gate 802 is applied to a set input S of the flipflop 
803, and a reset signal 704 is applied to a reset input R of the flipflop 803. 
An output signal Q of the flipflop 803 constitutes a detection signal 708.  Now, operation of this signal detection circuit will be described. 
Initialization is effected by bringing the control signal 702 and the reset 
signal 704 into a high level for a moment. As a result, the detection 
signal 708 is brought into a low level. When the external input signal 701 
changes from the low level to the high level, the output 705 of the flipflop 
800 is maintained at the low level because the control signal 702 is at the 
low level. Accordingly, the output 706 of the exclusive-OR gate 801 is 
brought into the high level. Assuming that the control signal 703 is at the 
high level at this time, the flipflop 803 is set, so that a high level signal is 
outputted as the detection signal 708. Similarly, in the case that the external input signal 701 changes 
from the high level to the low level, the output 706 of the exclusive-OR 
gate 801 goes to the high level, so that the high level signal is outputted as 
the detection signal 708. After the detection is made, the control signal 
702 and the reset signal 704 are brought to the high level, so that the 
circuit is returned to an initial state. On the other hand, in the case that the level of the external input 
signal 701 does not change, the output 706 of the exclusive-OR gate 801 
remains at the
</DESCRIPTION>
<CLAIMS>
A microcomputer comprising: 
   a central processing unit; 

   an interrupt processing unit coupled to said central processing unit; 
   an input terminal receiving an interrupt signal from an external; 

   a detection circuit receiving said interrupt signal for detecting the 
change in level of said interrupt signal, said detection circuit generating a 

first detection signal when said detection circuit detects a level transition 
of said interrupt signal from a low level to a high level, said detection 

circuit also generating a second detection signal when said detection 
circuit detects a level transi
tion of said interrupt signal from the high 
level to the low level; 

   a first register set by said first detection signal, said first register 
being connected to said interrupt processing unit so that when said first 

register is set, said interrupt processing unit requests an interrupt 
processing to said central processing unit; 

   a second register set by said second detection signal, said second 
register being connected to said interrupt processing unit so that when 

said second register is set, said interrupt processing unit requests an 
interrupt processing to said central processing unit; 

   a timer receiving an internal clock for counting the received 
internal clock and for generating a synchronizing signal; 

   a synchronous circuit receiving said first detection signal, said 
second detection signal and said synchronizing signal for generating a 

capture signal; and
 

   a third register coupled to said timer and receiving said capture 
signal, for storing the count value of said timer in synchronism with said 

capture signal. 
A microcomputer claimed as Claim 1 wherein said detection circuit 
comprises a D-type flipflop receiving said interrupt signal while receiving 

said internal clock as a control signal, a NAND circuit receiving said 
interrupt signal at its one input and an inverted output signal of said D-type 

flipflop at its other input, a NOR circuit receiving said interrupt 
signal at its one input and said inverted output signal of the D-type 

flipflop at its other input, and an inverter circuit for inverting an output 
of said NAND circuit. 
A microcomputer claimed as Claim 2 wherein said synchronous 
circuit comprises a second NOR circuit receiving said first detection 

signal said second detection signal, an inverter circuit receiving an output 
of said second NOR circuit, and a second D-type flipflop receiving an 

output of said inverter circuit in synchronism with said synchronizing 
signal, an output of said second D-type flipflop constituting said capture 

signal. 
A microcomputer claimed as Claim 1 wherein said synchronous 
circuit comprises a NOR circuit receiving said first detection signal said 

second detection signal, an inverter circuit receiving an output of said 
NOR circuit, and a D-type flipflop receiving an output of said inverter 

circuit in synchronism with said synchronizing signal, an output of said 
D-type flipflop constituting said capture signal. 
A microcomputer comprising: 
   a central processing unit; 

   an interrupt processing unit coupled to said central processing unit; 
   a plurality of input terminals each receiving an interrupt signal 

from an external; 
   a plurality of detection circuits each receiving said interrupt signal 

through a corresponding one of said input terminals for detecting the 
change in level of the received interrupt signal, each of said detection 

circuits generating a first detection signal when said detection circuit 
detects a level transition of the received interrupt signal from a low level 

to a high level, each of said detection circuits also generating a second 
detection signal when said detection circuit detects a level transition of the 

received interrupt signal from the high level to the low level; 
   a plurality of first registers each set by said first detection signal 

outputted from a corresponding one of said detection circuits, said first 
registers being connected to said interrupt processing unit so that when 

one of said first registers is set, said interrupt processing unit requests an 
interrupt processing to said central processing unit; 

   a plurality of second registers each set by said second detection 
signal outputted from a corresponding one of said detection circuits, said 

second registers being connected to said interrupt processing unit so that 
when one of said second registers is set, said interrupt processing unit 

requests an interrupt processing to said central processing unit; 
   a timer receiving an internal clock for counting the received 

internal clock and for generating a synchronizing signal;
 

   a plurality of synchronous circuits each receiving said 
synchronising signal and said first detection signal and said second 

detection signal outputted from a corresponding one of said detection 
circuits, for generating a capture signal; and 

   a plurality of third registers coupled in common to said timer, each 
of said third registers receiving said capture signal outputted from a 

corresponding one of said synchronous circuits, for storing the count 
value of said timer in synchronism with the received capture signal. 
A microcomputer claimed as Claim 5 wherein each of said detection 
circuits comprises a D-type flipflop receiving said interrupt signal while 

receiving said internal clock as a control signal, a NAND circuit receiving 
said interrupt signal at its one input and an inverted output signal of said 

D-type flipflop at its other input, a NOR circuit receiving said interrupt 
signal at its one input and said inverted output signal of the D-type 

flipflop at its other input, and an inverter circuit for inverting an output 
of said NAND circuit. 
A microcomputer claimed as Claim 6 wherein each of said 
synchronous circuits comprises a second NOR circuit receiving said first 

detection signal said second detection signal, an inverter circuit receiving 
an output of said second NOR circuit, and a second D-type flipflop 

receiving an output of said inverter circuit in synchronism with said 
synchronizing signal, an output of said second D-type flipflop constituting 

said capture signal. 
A microcomputer claimed as Claim 5 wherein each of said 
synchronous circuits comprises a NOR circuit receiving said first 

detection signal said second detection signal, an inverter circuit receiving 
an output of said NOR circuit, and a D-type flipflop receiving an output 

of said inverter circuit in synchronism with said synchronizing signal, an 
output of said D-type flipflop constituting said capture signal. 
</CLAIMS>
</TEXT>
</DOC>
