<DOC>
<DOCNO>EP-0629843</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Electromagnetic flowmeter and method for electromagnetically measuring flow rate
</INVENTION-TITLE>
<CLASSIFICATIONS>G01F160	G01F156	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01F	G01F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01F1	G01F1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An electromagnetic flowmeter comprises a measurement 
tube (21) through which a fluid flows the rate of 

flow of which is to be measured, a plurality of electrodes 
(23) disposed on the inner wall of the measurement 

tube to face each other, excitation coils (22) for 
applying a magnetic field to the inside of the measurement 

tube in a direction orthogonal to the axis of the 
tube, an excitation circuit (26) for supplying the 

excitation coils with a rectangular excitation current 
in at least two excitation cycles, a flow-rate value 

calculating circuit (27, 28, 29, 30, 31) for, when 
electromotive force is generated between the electrodes 

in each of the excitation cycles, extrapolating flow-rate 
signals based on the electromotive force generated 

during the excitation cycles to obtain a flow-rate value 
signal that would be obtained when the excitation cycles 

are made infinitely large, and a flow-rate value output 
circuit (32) for outputting the flow-rate value signal 

obtained by the flow-rate value calculating circuit 
through extrapolation. 
</ABSTRACT>
<APPLICANTS>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an electromagnetic
flowmeter and an electromagnetic flow-rate measuring
method for measuring the rate of flow of a conductive
fluid, and more particularly to an electromagnetic
flowmeter for minimizing measurement errors due to
induced noise without making zero-point adjustments that
involve stopping the flow of a fluid the rate of flow of
which is to be measured to thereby provide a significant
improvement in measurement precision and a method
therefor.In general, an electromagnetic flowmeter is
arranged to apply an electromagnetic field in a direction
orthogonal to a conductive fluid flowing through a
measurement tube, detect electromotive force electro-magnetically
induced in the fluid by using two
electrodes inside the tube, and convert it to a value
corresponding to the rate of flow of the fluid. In
recent electromagnetic flowmeters, a low-frequency
exciting type of electromagnetic flowmeter is widely
used, which is also called a square-wave exciting type
and which is excellent in zero point stability in comparison
with an alternating-current exciting type and a
direct-current exciting type.In a low-frequency exciting type of electromagnetic
flowmeter, an exciting current flowing through an
exciting coil is switched between two fixed values 
periodically, i.e., the polarity of the excitation
current is changed periodically, and electromotive force
generated between the two electrodes inside the tube
when the exciting current assumes each of the fixed
values is sampled once. By producing the difference
between adjacent samples, a flow rate value can be
obtained which is free of the effects arising from both
of an offset voltage of the circuit arrangement and an
electrochemically produced DC current.However, a problem with such a low-frequency exciting
type of electromagnetic flowmeter is that the zero
point drifts to produce an error in flow rate measurement
unless electromotive force between the electrodes
is sampled after a lapse of a sufficient length of time
since the exciting current has reached a fixed value.
Making the switching period of the exciting current so
long as to stabilize the zero point would result in poor
responsibility. Further, this would produce hunting
when a control loop is formed.To stabilize the zero point, such a novel electromagnetic
flowmeter as disclosed in Japanese Unexamined
Patent Publication No. 2 - 16852 was devised. FIG. 10
is a block diagram of this electromagnetic flowmeter,
and FIG. 11 is a timing diagram illustrating its
operat
</DESCRIPTION>
<CLAIMS>
An electromagnetic flowmeter comprising:

a measurement tube (21) through which a fluid flows
the rate of flow of which is to be measured;
a plurality of electrodes (23) disposed on the inner
wall of said measurement tube to face each other;
excitation coils (22) for applying a magnetic field
to the inside of said measurement tube in a direction

orthogonal to the axis of the tube;
excitation means (26) for supplying said excitation
coils with a rectangular excitation current; and
flow-rate value output means (32) for producing a
flow-rate signal when electromotive force is generated

between said electrodes during the excitation cycle,

   characterised by:

means for producing said rectangular excitation
current in at least two excitation cycles each cycle corresponding to a different frequency; and
flow-rate value calculating means (27, 28, 29, 30,
31) for extrapolating the flow-rate signals based on said

electromotive force generated during said excitation cycles
to obtain a flow-rate value signal that would be obtained if

said excitation cycles were made infinite.
An electromagnetic flowmeter according to claim 1,
characterised in that said flow-rate value calculating means

performs extrapolation calculations based on a linear
function of the excitation cycle.
An electromagnetic flowmeter according to claim 1,
characterised in that said rectangular current is

selectively switched among three excitation cycles, and
wherein said flow-rate value calculating means obtains a

flow-rate value signal from flow-rate signals for said three
excitation cycles. 
An electromagnetic flowmeter according to claim 1,
characteris
ed in that said rectangular current is
selectively switched between a first excitation frequency fH

and a second excitation frequency fL, and wherein said flow-rate
value calculating means obtains the average SHa of

first flow-rate signals SH for said first excitation
frequency fH detected through said electrodes and the

average SLa of second flow-rate signals SLa for said second
excitation frequency fL detected through said electrode,

said flow-rate value calculating means subsequently
calculating


V = (SLa - SHa) x fH/(fH - fL) + SH

upon reception of a first flow-rate signal, or

V = (SLa - SHa) x fL/(fH - fL) + SL

upon reception of a second flow-rate signal.
An electromagnetic flowmeter according to claim 1,
characterised in that said rectangular current is

selectively switched between a first excitation frequency fH
and a second excitation frequency fL, and wherein a first

flow-rate signal SH for said first excitation frequency fH
and a second flow-rate signal SI for said second excitation

frequency fL are used to calculate

V = SL x fH/(fH - fL) - SH x fL/(fH - fL)
An electromagnetic flowmeter according to claim 5,
characterised in that said flow-rate value calculating means

comprises an operational amplifier (48) having an inverting
input terminal, a non-inverting input terminal, and an

output terminal, a resistor ra for connecting said first
flow-rate signal SH to said inverting input terminal, a

resistor rb for connecting said inverting input terminal to
said output terminal, a resistor rc for connecting said

second flow-rate signal SL to said non-inverting input
terminal, and a resistor rd for connecting said non-inverting

input terminal to ground, said resistors ra, rb, 
rc and rd being selected to satisfy the equations


fH/(fH - fL) = (1 + rb/ra) rd/(rc + rd)
fL/(fH - fL) = rb/ra
An electromagnetic flowmeter according to claim 1,
characterised in that said flow-rate value calculating means

performs extrapolation arithmetic based on a quadratic
function of the excitation cycle.
An electromagnetic flowmeter according to claim 1,
characterised in that said rectangular current is

selectively switched between a first excitation frequency fH
and a second excitation frequency fL, and wherein said flow-rate

value calculating means obtains the average SHa of
first flow-rate signals SH for said first excitation

frequency fH detected through said electrodes and the
average SLa of second flow-rate signals SL for said second

excitation frequency fL detected through said electrodes,
said flow-rate value calculating means subsequently

calculating

V = (SLa - SHa) x fH
2
/(fH
2
- fL
2
) + SH

upon reception of a first flow-rate signal, or

V = (SLa - SHa) x fL
2
/(fH
2
 - fL
2
) + SL

upon reception of a second flow-rate signal.
An electromagnetic flowmeter according to claim 1,
characterised in that said rectangular current is

selectively switched between a first excitation frequency fH
and a second excitation frequency fL, and wherein upon

detecting a first flow-rate signal SH for said first
excitation frequency fH through said electrodes and a second

flow-rate signal SL for said second excitation frequency fL
through said electrodes, said flow-rate value calculating

means calculates

V = SL x fH
2
/(fH
2
- fL
2
) - SH x fL
2
/(fH
2
- fL
2
)
An electromagnetic flowmeter according to claim 1,
characterised in that said flow-rate value calculating means

comprises;

flow-rate signal producing means (27, 28, 29, 30)
responsive to electromotive force induced in said fluid and

detected by said electrodes for producing a flow-rate signal
for each of said excitation cycles;
excitation current detecting means (51, 51a, 28, 29,
30) for detecting said excitation current flowing through

said excitation coils at a preselected rise time;
flow-rate value selectively calculating means (31)
for making a comparison between an excitation current

detected by said excitation current detecting means and a
predetermined reference current value to decide, whether or

not said excitation current has reached said predetermined
reference current value at said rise time, and obtaining a

flow-rate value signal that would correspond to that when
said excitation cycle is made infinite from flow-rate

signals produced by said flow-rate;
signals producing means by means of either (a)
extrapolation based on a linear function of excitation cycle

when the decision is that said excitation current has
reached said reference current value or (b) extrapolation

based on a quadratic function of excitation cycle when the
decision is that said excitation current has not reached

said reference current value.
A method of electromagnetically measuring the rate
of flow of a fluid, using an electromagnetic flowmeter

having:

a measurement tube (21) through which a fluid flows
the rate of flow of which is to be measured;
a plurality of electrodes (23) disposed on the inner
wall of said measurement tube to face each other;
excitation coils (22) for applying a magnetic field
to the inside of said measurement tube in a direction 

orthogonal to the axis of the tube;
excitation means (26) for supplying said excitation
coils with a rectangular excitation current; and
flow-rate value outputting means (32) for, when
electromotive force is generated between said electrodes

during excitation cycles, outputting flow-rate value signal
obtained by said electromotive force, which comprises the

steps of;
exciting said excitation coils; and
outputting said flow-rate value signal;

   characterised in that:

supplying said excitation coils with a rectangular
excitation current that is selectively switched between at

least two excitation cycles each cycle corresponding to a different frequency; and
calculating a flow-rate value signal that would
correspond to that when said excitation cycles is made

infinite from flow-rate signals for the respective
excitation cycles obtained by detecting electromotive force

induced in said fluid by electrodes by means of
extrapolation of said flow-rate signals.
A method according to claim 11, characterised in
that said extrapolation is based on a linear function of

excitation cycle.
A method according to claim 11, characterised in
that said rectangular excitation current is switched between

three excitation cycles, and wherein said calculating step
obtains said flow-rate value
 signal from flow-rate signals
corresponding to said three excitation cycles.
A method according to claim 11, characterised in
that said rectangular excitation current is switched between

a first frequency fH and a second frequency fL, and wherein
said calculating step includes the substeps of:


obtaining the average SHa of first flow-rate signals 
SH for said first frequency fH detected by said electrodes

and the average SLa of second flow-rate signals SL for said
second frequency detected by said electrodes; and
subsequently calculating:

V = (SLa - SHa) fH/(fH - fL) + SH

upon reception of a first flow-rate signal, or

V = (SLa - SHa) fL/(fH - fL) + SL

upon reception of a second flow-rate signal.
A method according to claim 11, characterised in
that said rectangular current is selectively switched

between a first excitation frequency fH and a second
excitation frequency fL, and wherein said calculating step

calculates V = (SL x fH - SH x fL)/(fH - fL)

   where SH is a first flow-rate signal SH for said
first excitation frequency fH detected through said

electrode and SL is a second flow-rate signal for said
second excitation frequency fL.
A method according to claim 11, characterised in
that said calculating step includes extrapolation based on a

quadratic function of the excitation cycle.
A method according to claim 11, characterised in
that said rectangular excitation current is switched between

a first frequency fH and a second frequency fL, and wherein
said calculating step includes the substeps of:


obtaining the average SHa of first flow-rate signals
SH for said first frequency fH detected by said electrodes

and the average SLa of second flow-rate signals SL for said
second frequency detected by said electrodes; and
subsequently calculating:

V = (SLa - SHa) fH
2
/(fH
2
- fL
2
) + SH

upon reception of a first flow-rate signal, or

V = (SLa - SHa) fL
2
/(fH
2
 - fL
2
) + SL

upon reception of a second flow-rate signal.
A method according to claim 11, characterised in
that said rectangular current is selectively switched

between a first excitation frequency fH and a second
excitation frequency fL, and wherein said calculating step

calculates V = SL x fH
2
/(fH
2
- fL
2
) - SH x fL
2
/(fH
2
- fL
2
);

   where SH is a first flow-rate signal SH for said
first excitation frequency fH detected through said

electrodes and SL is a second flow-rate signal for said
second excitation frequency fL.
A method according to claim 11, characterised in
that said calculating step includes the substeps of:


producing a flow-rate signal for each of said
excitation cycles on the basis of electromotive force

induced in said fluid;
detecting said excitation current flowing through
said excitation coils at a preselected rise time;
making a comparison between an excitation current
detected by said excitation current detecting step and a

predetermined reference current value to decide whether or
not said excitation current has reached said predetermined

reference current value at said rise time; and
selectively calculating a flow-rate value signal
that would correspond to that when said excitation cycle is

made infinite from flow-rate signals produced by said flow-rate
signal producing step by means of either extrapolation

based on a linear function of excitation cycle when the
decision is that said excitation current has reached said

reference current value or extrapolation based on a
quadratic function of excitation cycle when the decision is

that said excitation current has not reached said reference
current value.
</CLAIMS>
</TEXT>
</DOC>
