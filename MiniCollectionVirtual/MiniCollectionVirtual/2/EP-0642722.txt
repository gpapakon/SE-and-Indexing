<DOC>
<DOCNO>EP-0642722</DOCNO> 
<TEXT>
<INVENTION-TITLE>
CALL PROCESSING CONTROL SYSTEM.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04M3487	H04M3487	H04M350	H04M351	H04M356	H04M356	H04M1100	H04M1100	H04Q300	H04Q300	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04M	H04M	H04M	H04M	H04M	H04M	H04M	H04M	H04Q	H04Q	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04M3	H04M3	H04M3	H04M3	H04M3	H04M3	H04M11	H04M11	H04Q3	H04Q3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A control system for processing calls comprising a call handling device (14) and a device controller (16) that are each connected to a network via a call connection interface that permits establishing and releasing a network connection, participation with another call connection interface in the same network connection, and either control over a network connection when the interface is the sole interface participating in that connection or control over a network connection to drop the last leg added to a network connection, the device controller (16) and call handling device (14) sending messages to each other over a message transfer interface. Also disclosed are a system for shifting control of a network connection and a system for monitoring the state of a network connection from a network interface that is not actively engaged in the network connection.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
TELOQUENT COMMUNICATIONS CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
TELOQUENT COMMUNICATIONS CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ANDREWS G WAYNE
</INVENTOR-NAME>
<INVENTOR-NAME>
FRIED JEFFREY A
</INVENTOR-NAME>
<INVENTOR-NAME>
GECHTER JERRY
</INVENTOR-NAME>
<INVENTOR-NAME>
PATTON NORVEL L
</INVENTOR-NAME>
<INVENTOR-NAME>
ANDREWS, G., WAYNE
</INVENTOR-NAME>
<INVENTOR-NAME>
FRIED, JEFFREY, A.
</INVENTOR-NAME>
<INVENTOR-NAME>
GECHTER, JERRY
</INVENTOR-NAME>
<INVENTOR-NAME>
PATTON, NORVEL, L.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
 CALL PROCESSING CONTROL SYSTEM Background of the Invention The invention relates to a control system for processing calls.Many electronic devices are available for connection to a telephone line to provide automated voice and other functions. E.g., a voice response unit can be used to allow callers to enter touch tone digits in response to recorded prompts so as to direct the call to an appropriate class of answering agents. Typically these devices connect to telephone networks with ordinary analog connections or with Tl digital connections. Both of these interfaces provide limited flexibility for call control interaction with the network. In particular, transferring of calls, when possible at all, incurs the delay of switch hook manipulation and outdialing before transfer can take place.Davidson et al. U.S. Patent No. 5,062,103 describes a system in which the integrated services digital network (ISDN) shared call appearance feature is used so that a controller can obtain information from the switch as to whether an agent is busy or not so as to identify available agents to which calls can be forwarded for handling.Summary of the Invention In one aspect, the invention features, in general, a control system for processing calls that includes a call handling device (e.g., a voice response unit) and a device controller. The call handling device and the device controller are each connected to a network via a call connection interface that permits establishing and releasing a network connection and participation with another call connection interface in the same network 

connection. The interface to which the device controller is connected additionally permits control over a network connection when it is the sole interface participating in that connection. These capabilities can be provided, e.g., by shared call appearances. The call handling device and the device controller communicate to each other via message transfer interfaces, the device controller sending control messages to the call handling device regarding establishing and/or releasing the network connection. A particular application for the invention is when the call handling device is connected to the network via an interface that has limited call handling functionality, and the device controller is connected to the network via an interface that has more extensive call handling functionality. In this case, the call handling device might preliminarily handle the call, e.g., to obtain information, and the device controller could instruct the call
</DESCRIPTION>
<CLAIMS>
Claims
1. A control system for processing a call over a network comprising a call handling device connected to said network via a first call connection interface that permits establishing and releasing a network connection and participation with another call connection interface in the same network connection, said call handling device being programmed to receive control messages over message transfer interfaces, and a device controller connected to said network via a second call connection interface that permits establishing and releasing a network connection, participation with said first call connection interface in the same network connection, and control over a network connection when said interface is the sole interface participating in that network connection, said device controller being connected to said call handling device via said message transfer interfaces and being programmed to provide a control message to said call handling device regarding establishing and/or releasing said network connection.
2. The system of claim 1 wherein said call handling device is programmed to send informational messages to said device controller via said message transfer interfaces.
3. The system of claim 1 wherein said first and second call connection interfaces provide said participation via a shared call appearance.
4. The system of claim 2 wherein said first and second call connection interfaces provide said participation via a shared call appearance. 


 5. The system of claim 1 wherein said second call connection interface permits a first call handling function that said first call connection interface does not have or does not perform efficiently.
6. The system of claim 5 wherein said first call handling function is call transfer.
7. The system of claim 6 wherein said control message is a message to disengage said call, and wherein said device controller includes means to generate signals to transfer said call after said call handling device has disengaged said call.
8. The system of claim 2 wherein said informational messages include a message that provides information as to call handling activity that is lacking from information provided by participation in said network connection.
9. The system of claim 2 wherein said call handling device is a voice response unit, and said informational messages include a message that provides information received from a call.
10. The system of claim 7 wherein said call handling device is programmed to send informational messages to said device controller via said message transfer interfaces, said call handling device is a voice response unit, and said informational messages include a message that provides information received from the caller. 


 11. The system of claim 1 wherein said device and said controller are implemented on the same platform, and said message transfer interfaces are internal.
12. The system of claim 1 wherein said device and said controller are implemented on different platforms.
13. The system of claim 12 further comprising a direct communication link between said call handling device and said device controller, and wherein said message transfer interfaces are to said direct communication link.
14. The system of claim 12 wherein said message transfer interfaces are to a network that is different from the network to which said call handling device and said device controller are connected via said call connection interfaces.
15. The system of claim 12 wherein said message transfer interfaces are to a network that is the same as the network to which said call handling device and said device controller are connected via said call connection interfaces.
16. The system of claim 7 wherein said first call connection interface is to an analog line.
17. The system of claim 7 wherein said first call connection interface is to a Tl line.
18. The system of claim 16 wherein said second call connection interface is to an ISDN line. 


 19. The system of claim 17 wherein said second call connection interface is to an ISDN line.
20. The system of claim 1 wherein said network is a public telephone network.
21. The system of claim 1 wherein said network is a private network.
22. The system of claim 1 wherein said network is a PBX network.
23. The system of claim l wherein said network is a data network.
24. A method for processing a call over a network comprising providing a call handling device that is attached to said network via a first call connection interface that permits establishing and releasing a network connection and participation with another call connection interface in the same network connection, providing a device controller connected to said network via a second call connection interface that permits establishing and releasing a network connection, participation with said first call connection interface in the same network connection, and control over a network connection when said interface is the sole interface participating in that connection, receiving said call at a network connection in which both said call handling device and said device controller participate, actively engaging said call by said call handling device, and 


 transmitting a control message regarding establishing and/or releasing said network connection from said device controller to said call handling device via message transfer interfaces.
25. The method of claim 24 further comprising disengaging said call by said call handling device after said transmitting.
26. The method of claim 25 further comprising transferring said call to another call connection by said device controller after said disengaging.
27. The method of claim 26 wherein said call handling device is a voice response unit, and said actively engaging includes obtaining information from a caller making said call and further comprising transmitting to said device controller an informational message that includes information received from said caller.
28. The method of claim 27 wherein said control message instructs said call handling device to disengage said call after said actively engaging by said device controller, and further comprising transmitting an informational message from said call handling device to said device controller indicating that said call handling device has disengaged said call after it has disengaged said call.
29. The method of claim 24 wherein said network is a public telephone network.
30. The method of claim 24 wherein said network is a private network. 


 31. The method of claim 24 wherein said network is a PBX network.
32. The method of claim 24 wherein said network is a data network.
33. A control system for processing a call over a network comprising a call handling device connected to said network via a first call connection interface that permits establishing and releasing a network connection and participation with another call connection interface in the same network connection, said call handling device being programmed to send and/or receive messages over message transfer interfaces, said call handling device and said call being connected to said network via respective legs, and a device controller connected to said network via a second call connection interface that permits establishing and releasing a network connection, participation with said first call connection interface in the same network connection, and control over said same network connection to drop the last leg added to said network connection, said device controller being connected to said call handling device via message transfer interfaces and being programmed to send or receive messages over said message transfer interfaces, said device controller also being programmed to provide a drop message to said network to drop the last leg added to said network connection.
34. The system of claim 33 wherein said device controller is programmed to place itself on hold while said call handling device actively engages said call. 


 35. The system of claim 34 wherein said call handling device is a voice response unit.
36. The system of claim 33 wherein said call handling device is programmed to send informational messages to said device controller via said message transfer interfaces.
37. The system of claim 33 wherein said first and second call connection interfaces provide said participation via conferencing.
38. The system of claim 37 wherein said device controller is programmed to determine the state of said network connection by sending a drop message to the network to drop the last leg added to a conference.
39. The system of claim 33 wherein said second call connection interface permits a first call handling function that said first call connection interface does not have or does not perform efficiently.
40. The system of claim 39 wherein said first call handling function is call transfer, and wherein said device controller includes means to generate signals to transfer said call.
41. The system of claim 33 wherein said device and said controller are implemented on the same platform, and said message transfer interfaces are internal.
42. The system of claim 33 wherein said device and said controller are implemented on different platforms. 


 43. The system of claim 42 further comprising a direct communication link between said call handling device and said device controller, and wherein said message transfer interfaces are to said direct communication link.
44. The system of claim 42 wherein said message transfer interfaces are to a network that is different from the network to which said call handling device and said device controller are connected via said message transfer interfaces.
45. The system of claim 42 wherein said message transfer interfaces are to a network that is the same as the network to which said call handling device and said device controller are connected via said message transfer interfaces.
46. The system of claim 40 wherein said first call connection interface is to an analog line.
47. The system of claim 40 wherein said first call connection interface is to a Tl line.
48. The system of claim 46 wherein said second call connection interface is to an ISDN line.
49. The system of claim 47 wherein said second call connection interface is to an ISDN line.
50. The system of claim 33 wherein said network is a public telephone network. 


 51. The system of claim 33 wherein said network is a private network.
52. The system of claim 33 wherein said network is a PBX network.
53. The system of claim 33 wherein said network is a data network.
54. A method for processing a call over a network comprising providing a call handling device that is attached to said network via a first call connection interface that permits establishing and releasing a network connection and participation with another call connection interface in the same network connection, providing a device controller connected to said network via a second call connection interface that permits establishing and releasing a network connection, participation with said first call connection interface in the same network connection, and control over said same network connection to drop the last leg added to said network connection, receiving said call at a network connection in which both said call handling device and said device controller participate, actively engaging said call by said call handling device, transmitting a message between said device controller and said call handling device via message transfer interfaces, and providing a drop message from said device controller to said network to drop the last leg added to said network connection. 


 55. The method of claim 54 further comprising placing said device controller on hold during said actively engaging by said call handling device.
56. The method of claim 55 wherein said call handling device is a voice response unit, and wherein said transmitting a message is transmitting an informational message from said call handling device to said device controller via said message transfer interfaces.
57. The method of claim 54 wherein said first and second call connection interfaces provide said participation via conferencing.
58. The method of claim 57 wherein said device controller is programmed to determine the state of said network connection by sending a drop message to the network to drop the last leg added to a conference.
59. The method of claim 54 wherein said second call connection interface permits a first call handling function that said first call connection interface does not have or does not perform efficiently.
60. The method of claim 59 wherein said first call handling function is call transfer, and further comprising generating signals by said device controller to transfer said call.
61. The method of claim 54 wherein said network is a public telephone network.
62. The method of claim 54 wherein said network is a private network. 


 63. The method of claim 54 wherein said network is a PBX network.
64. The method of claim 54 wherein said network is a data network.
65. A system for shifting control of a network connection from one network interface to another comprising a first terminal device connected to a network via a first network interface that permits establishing and releasing a network connection, participation with another network interface in the same network connection, and control over a network connection when said network interface is the sole network interface participating in that connection, said first terminal device being programmed to transmit and/or receive control messages relating to said network connection over message transfer interfaces, and a second terminal device connected to said network via a second network interface that permits establishing and releasing a network connection, participation with another network interface in the same network connection, and control over a network connection when said network interface is the sole network interface participating in that connection, said second terminal device being connected to said first terminal device via message transfer interfaces and being programmed to transmit and/or receive control messages relating to said network connection over said message transfer interfaces.
66. The system of claim 65 wherein said first and second network interfaces provide said participation via a shared call appearance. 


 67. The system of claim 65 wherein said first terminal device is programmed to establish a network connection, to transmit a control message to said second terminal device to instruct said second terminal device to participate in the same network connection, and to thereafter release said network connection.
68. The system of claim 67 wherein said first terminal device is programmed to send a message to said second terminal device stating that it has released the network connection after releasing said network connection.
69. The system of claim 65 wherein said second terminal device is programmed to establish a connection to participate in the same network connection to which to said first terminal device is already connected, and to thereafter transmit a control message to said first terminal device to instruct said first terminal device to release said network connection.
70. The system of claim 65 wherein said network is a public telephone network.
71. The system of claim 65 wherein said network is a private network.
72. The system of claim 65 wherein said network is a PBX network.
73. The system of claim 65 wherein said network is a data network. 


 74. A method for shifting control of a network connection from one network interface to another comprising providing a first terminal device connected to a network via a first network interface that permits establishing and releasing a network connection, participation with another network interface in the same network connection, and control over a network connection when said network interface is the sole network interface participating in that connection, providing a second terminal device connected to said network via a second network interface that permits establishing and releasing a network connection, participation with another network interface in the same network connection, and control over a network connection when said network interface is the sole network interface participating in that connection, establishing a network connection to said network by said first terminal device via said first network interface, sending a control message relating to said network connection from one said terminal device to the other over message transfer interfaces, establishing a connection to said network connection by said second terminal device via said second network interface to participate in said call connection with said first terminal device, and releasing said network connection by said first terminal device.
75. The method of claim 74 wherein said first and second network interfaces participate in said network connection via a shared call appearance. 


 76. The method of claim 74 wherein said sending is sending a control message from said first terminal device to said second terminal device to shift control from said first terminal device to said second terminal device.
77. The method of claim 74 wherein said sending is sending a control message from said second terminal device to said first terminal device to shift control from said first terminal device to said second terminal device.
78. The method of claim 74 further comprising sending a message from said first terminal device to said second terminal device stating that it has released the network connection after said releasing said network connection.
79. The method of claim 74 wherein said network is a public telephone network.
80. The method of claim 74 wherein said network is a private network.
81. The method of claim 74 wherein said network is a PBX network.
82. The method of claim 74 wherein said network is a data network.
83. A system for monitoring the state of a network connection from a network interface comprising a first terminal device connected to a network via a first network interface that permits establishing and releasing a network connection and participation with 


another network interface in the same network connection, and a second terminal device connected to said network via a second network interface that permits establishing and releasing a network connection, participation with another network interface in the same network connection, and control over said same network connection to drop the last leg added to said network connection, said second terminal device being programmed to determine the state of said network connection via sending a drop message to the network to drop the last leg added to said network connection.
84. The system of claim 83 wherein said first and second network interfaces provide said participation via conferencing.
85. The system of claim 83 wherein said first and second terminal devices are connected to each other via message transfer interfaces and are programmed to send and receive messages over said message transfer interfaces.
86. The system of claim 83 wherein said second terminal device is programmed to place itself on hold while said first terminal device actively engages said network connection.
87. The system of claim 83 wherein said network is a public telephone network.
88. The system of claim 83 wherein said network is a private network. 


 89. The system of claim 83 wherein said network is a PBX network.
90. The system of claim 83 wherein said network is a data network.
91. A method for monitoring the state of a network connection from a network interface comprising providing a first terminal device connected to a network via a first network interface that permits establishing and releasing a network connection and participation with another network interface in the same network connection, providing a second terminal device connected to said network via a second network interface that permits establishing and releasing a network connection, participation with another network interface in the same network connection, and control over said same network connection to drop the last leg added to said network connection, participating in the same network connection to said network by said first and second terminal devices, and determining the state of said network connection by said second terminal device by sending a drop message to the network to drop the last leg added to said network connection.
92. The method of claim 91 wherein said participating is via conferencing.
93. The method of claim 91 further comprising sending messages between said first and second terminal devices via message transfer interfaces. 



 94. The method of claim 91 further comprising placing said second terminal device on hold while said first terminal device actively engages said network connection.
95. The method of claim 91 wherein said network is a public telephone network.
96. The method of claim 91 wherein said network is a private network.
97. The method of claim 91 wherein said network is a PBX network.
98. The method of claim 91 wherein said network is a data network. 

</CLAIMS>
</TEXT>
</DOC>
