<DOC>
<DOCNO>EP-0631253</DOCNO> 
<TEXT>
<INVENTION-TITLE>
A device for use in the digital processing of a graphic image containing a straight line
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T1120	G06T1120	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T11	G06T11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A device (Fig 1) for generating the approximate coordinates 
(X,Y) of a straight line together with an error signal (R), for 

use in computer graphics, is modified to enable coordinate 
values to be obtained to greater accuracy. The error signal (R) 

and values of one coordinate (Y) to which the error signal 
relates are processed (13-16) by multiplication and addition 

(21) to bring both values to the same scale and to obtain values 
proportional to the true values of the one coordinate (Y). The 

said proportional values are then converted to actual values in 
an iterative process wherein a comparison (24) is made between 

a proportional value when multiplied (23) by a first number (T), 
and a second number (S) multiplied (19,20) to the same scale as 

the proportional value. One of the two numbers (T) is 
incremented until a valid comparison is obtained and the true 

value of the coordinate is expressed as the relationship between 
the two numbers (S/T). 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
QUESTECH LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
QUESTECH LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BILLING ROBERT
</INVENTOR-NAME>
<INVENTOR-NAME>
BILLING, ROBERT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention concerns a device for use in the digital
processing of a graphic image containing a straight line, and
has particular applications in computer graphics and television
image processing. In one embodiment it is a device which will
construct a straight line between any two points in a picture
area, and which will report correctly, for any point described
by rational number coordinates in the picture area, which side
of the line the point lies on, or if the line passes through the
point.In the process of generating a straight line in a graphics
image, it is known to provide means for generating approximate
two dimensional coordinates of the straight line, said
generating means including first means for providing, in
correspondence with regularly incremented values of one
coordinate, the approximate values of the second coordinate
together with, for each said approximate value, an error signal
comprising a scaled value of the difference between the said
approximate value and the actual second coordinate value of the
required point on the line.Such an arrangement is illustrated in Fig.1 and can be utilised
to draw a line between points (X0,Y0) and (X1,Y1) on a plane as
shown in Fig.2.Before drawing a line the registers 1-4 of Fig.1 are loaded with
the following values:
Let: Yinc = (Y1-Y0)/(X1-X0) rounded towards minus infinity
 A = Y0 - Y1 + ( X1 - X0 ) * Yinc B = Y0 - Y1 + ( X1 - X0 ) * ( Yinc + 1 ) C = Yinc D = Yinc + 1 
the accumulator 7 is set to zero and the accumulator 8 is
loaded with Y0.Then for successive values of X from X0 to X1 the following
operation is performed.The data selectors 5 are set in response to the sign of the
number in R such that if it is zero or positive then data is
taken from 1 and 3, if it is negative then data is taken from
2 and 4. Since the number in 1 will be zero or negative, and
that 2 will be positive, the number in R will tend to
oscillate around zero, advancing Y in the accumulator 8 by
Yinc or Yinc=1 in appropriate proportions to draw a fair
approximation to the required line. The values of R and Y
are presented at the outputs 9 and 10. This is illustrated
in Figure 2 where 11 is the required line, and 12 is the
sequence of values of Y generated by the arrangement in
Figure 1.As will be well understood by one skilled in the art, the
number R comprises a running error term that is derived
according to Bresenham's Algorithm and comprises a number
that is used to store the actual distance between the line to
be drawn and the point selected, taken in a
</DESCRIPTION>
<CLAIMS>
A device for use in the digital processing of a graphic
image containing a straight line and having means for

generating approximate two dimensional coordinates (X,Y) of
the straight line, said generating means including first

means (10) for providing, in correspondence with regularly
incremented values of one coordinate (X), the approximate

values of the second coordinate (Y), second means (9) for
providing for each said approximate value (Y), an error

signal(R)generated according to Bresenham's Algorithm and
comprising the difference between the said approximate value

and the actual second coordinate value (Y) of the required
point on the line according to a predetermined scale such

that all possible values of the error signal comprise whole
numbers, characterised in that said device comprises third

means (16) for multiplying values derived from said first
providing means (10)by the said predetermined scale (X1-X0),

fourth means (21) for adding values derived from said third
means (16) and said second means (9), fifth means (23) for

multiplying values derived from said fourth means (21) by an
integer T, sixth means (19) for multiplying an integer S by

said predetermined scale (X1-X0) and seventh means (24) for
comparing values derived from said fifth and sixth means and

providing an output signal,
for incrementing one of said integers S and T until the first and second

values are substantially equal whereby the coordinates of the point on said line
are expressed as the digital value of the one coordinate (X) and the second coordinate (Y) expressed

as the rational number S/T. 
A device according to Claim 1, further comprising
eighth means (13-15) coupled between said first means (10)

and said sixth means (19), ninth means (13-15) coupled
between second means (9) and said fourth means (21) and

tenth means (20) coupled between said sixth means (19) and 
said seventh means (24), each of said eighth and ninth means

comprising a delay means (13), multipliers (14) respectively
connected at an input and an output of said delay means and

arranged to multiply received signals by integers P and Q
and means (15) for summing output signals from said

multipliers (14), and said tenth means (20) comprising a
multiplier arranged to multiply received signals by the sum

of the integers P and Q.
A device according to Claim 1 or 2 further comprising
means for incrementing one of said integers S and T in a

direction determined by the output signal of said seventh
means (24) to reduce the difference between the compared

values to a minimum.
A device according to Claim 3, wherein the arrangement
is such that it is the integer S that is incremented and

said device further includes, for providing an initial trial
value of S, a memory means (Ã·S) providing a look up table and

means (27,28) for addressing said look up table with values
derived from said first means (10) and with said integer T.
A process for the digital calculation of the
coordinates of a point on a straight line from the values of

one coordinate (X) the approximate value of a second
coordinate (Y) and an error term (R) generated according to

Bresenham's Algorithm and comprising the value of the error
between the approximate value of the second coordinate (y)

and the exact value of the second coordinate of the point on
the line, to a predetermined scale (X1-X0) such that all

possible values of the error term (R) comprise whole 
numbers, characterised in that it comprises the steps of

multiplying the said approximate value of the second
coordinate (y) by the said predetermined scale (X1-X0),

adding the scaled approximate value (y)and the scaled error

term (R), to provide an output value, multiplying a first
trial integer S by said predetermined scale (X1-X0), to

provide a first value for comparison, multiplying said
output value by a second trial integer T to obtain a second

value for comparison, comparing said first and second values
and incrementing one of said integers S and T until the

first and second values are substantially equal whereby the
coordinates of the point on said line are expressed as the

digital value of the one coordinate (X) and the value of the
second coordinate (Y) expressed as the rational number S/T.
A process according to Claim 5, wherein the approximate
value of said second coordinate (Y) and the value of said

error term (R) are in each case values intermediate two
consecutive digitally calculated values and derived by

multiplying said consecutive values by integers P and Q
respectively and summing the multiplied consecutive values,

and wherein said trial integer S is further multiplied by
the sum of the integers P and Q prior to said comparison.
A process according to Claim 5 or 6, wherein said first
trial integer is obtained by addressing a look-up table with

the integer T and the approximate value of said second
coordinate (Y).
</CLAIMS>
</TEXT>
</DOC>
