<DOC>
<DOCNO>EP-0629933</DOCNO> 
<TEXT>
<INVENTION-TITLE>
An auto-sequenced state machine.
</INVENTION-TITLE>
<CLASSIFICATIONS>G05B1904	G05B19045	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G05B	G05B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G05B19	G05B19	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The auto-sequenced state machine according to the present 
invention has a programmable state duration which is independent 

from the logic speed, it may be adapted to any 
Moore state machine and may operate in metastability occurrence 

of the latches (2) of the state machine. The 
programming of a granularity of half a clock cycle provides 

a performance optimization by using a system of two 
clocks which are in opposite phase. Moreover, the state 

duration may be programmable on line. 
The auto-sequenced state machine is composed of a basic 
Moore state machine to which is connected a device (16) 

comprising a current state decoder (15) which decodes the 
current state signals Q(t) from the Moore state machine in 

order to select one of the biphase state timers (13) and 
one of the state timing programming circuits (12), and an 

OR circuit (11) which receives the terminal counts 
(TC0,..., TC3) issued from the current selected biphase 

state timer and generates the final current terminal count 
(7) to the latches (2) of Moore state machine. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CUNY PHILIPPE
</INVENTOR-NAME>
<INVENTOR-NAME>
KLEIN PHILIPPE
</INVENTOR-NAME>
<INVENTOR-NAME>
MAUREL OLIVIER
</INVENTOR-NAME>
<INVENTOR-NAME>
CUNY, PHILIPPE
</INVENTOR-NAME>
<INVENTOR-NAME>
KLEIN, PHILIPPE
</INVENTOR-NAME>
<INVENTOR-NAME>
MAUREL, OLIVIER
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an auto-sequenced state 
machine which has a programmable state duration in order 
to fit the DRAM timing requirements and which is to be 
used in a memory control device. There are many state machines which are used in logical 
circuits. Among them, there is one which is often used 
with more or less improvements in the basic circuit in 
order to adapt said state machine to the purposes that it 
is supposed be used. Figure 1 shows the implementation of a general Moore state 
machine. It comprises a combinational circuit (1) which 
receives a set of input signals (3) (X1,..., Xm) and which 
generates a set of data signals (D1,..., D4) to a state 
variable register (2) (or latches). This state variable 
(2) is clocked by a clock signal (7) and generates the 
output signals (5) (Q1,...,Q4) to the output decode (9). 
Those output signals (5) also loop back to the 
combinational circuit (1) in order to indicate the current 
state of the state machine. According to those signals 
Q(t) the output decode (9) generates a plurality of output 
signals (Z1, Z2,..., Zn) which will then be used by the 
downward circuit. The output decode (9) is separated from 
the combinational circuit (1) and the register (2) because 
the outputs set (Z1,..., Zn) depends only on the state 
machine set of inputs (X1,..., Xm). The resulting outputs 
do not appear until the clock pulse (7) causes the flip-flops 
to change state.  The general model for the clocked Moore state machine is 
often used because it is fully adapted to a memory interface 
design and has a reliable structure. But the state 
duration of the Moore state machine is not programmable 
and the minimum value is one clock cycle. The main object of the invention is to devise an auto-sequenced 
state machine which has a programmable state 
duration which is functionally independent of the logic 
speed. Another object of the invention is to enable the programming 
to have the granularity of half a clock cycle. It is also an object of the invention to enable the state 
duration to be programmable on line. Yet another object of the invention is to enable the programming 
of the state duration to be generalized to any 
Moore state machine. It is also an object of the invention to enable the state 
machine to operate even in metastability occurrence of the 
latches of the state machine. The auto-sequenced accoring to the present invention comprises:
 
a combinational logic circuit receiving input signals and 
generating data signals according
</DESCRIPTION>
<CLAIMS>
An auto-sequenced state machine having a programmable 
state duration to be used in a control device to fit timing 

requirements of an attached circuit, comprising: 
a combinational logic circuit (1) receiving input signals 

(X) and generating data signals (6) according to current 
state signals Q(t), 

latches (2) receiving said data signals (6) and generating 
said current state signals Q(t), and 

an output decode circuit (9) decoding said current state 
signals for outputting signals (Z) to said attached circuit, 

said state machine characterized in that it comprises: 

a plurality of first means (13) for generating terminal 
count clocks which correspond to the elapsed time allowed 

by the timing requirements, each first means receiving 2 
system clocks in opposite phase to enable each terminal 

count clock to be delayed by half a clock cycle from the 
previous one, each terminal count clock having a number of 

clock cycles pre-determined by the settings of each state 
duration of the state machine, 
a plurality of second means (12) for decoding and selecting 
the terminal count clocks generated from said 

first means according to the number of clock cycles of the 
state selected by a selection control signal (52), 
means (15) for decoding the current state signals (Q(t)) 
 

received from the latches (2) and for selecting one of 
said first means (13) by generating the selection control 

signal, and 
an OR circuit (11) receiving the terminal count clocks 
from the current selected first means for generating the 

final current terminal count clock to the latches (2). 
The auto-sequenced state machine according to the claim 
1 wherein said first means (13) comprises: 


a plurality of counters (50) for generating said terminal 
count clocks, each counter being associated to a state 

of the state machine and being enabled when the corresponding 
state is selected, 
selecting means (51) for selecting said counters one 
after another at each final terminal count clock, 
decoding means (60) for isolating the different terminal 
count clocks issued from the counters, and 
 
wherein said OR circuit (11) comprises a plurality of OR 

gates (61, 62, 63, 64) receiving each type of terminal 
count clocks for generating the final terminal count clock 

(7) to the latches (2). 
The auto-sequenced state machine according to claim 2 
wherein each said counter (50) comprises: 


a first couple of cascading flip/flop latches (55-A, 55-B) 
receiving respectively a first clock signal (Clk1) and 

a second clock signal (non-Clk1) which is in opposite 
phase of the first clock signal, each latch (55-A or 55-B) 

having a true output and a complement output, the first 
latch (55-A) being connected to said selecting means (51) 

through an AND gate (54) which also receives the selection 
 

control signal (52) from the current state decoder (15) 
and the complement output of the second latch (55-B), said 

first latch (55-A) generating the true output signal (A1-1) 
which is also received by the second latch which generates 

the true output signal (B1-1), and 
a second couple of cascading flip/flop latches (56-A, 56-B) 
receiving respectively a first clock signal (non-Clk1) 

and a second clock signal (Clk1) which is in opposite 
phase of the first clock signal, each latch (56-A, 56-B) 

having a true output and a complement output, the first 
latch (56-A) being connected to said selecting means (51) 

through another AND gate (54) which also receives the 
selection control signal (52) from the current state decoder 

(15) and the complement output of the second latch 
(56-B), said first latch (56-A) generating an output signal 

(A2-1) which is also received by the second latch 
which generates an output signal (B2-1). 
The auto-sequenced state machine according to claims 2 
or 3 wherein each of said first means (13) comprises three 

counters (50-1, 50-2, 50-3) to which is connected the 
selecting means (51) comprising three cascading latches 

(51-1, 51-2, 51-3) for pointing each of said counters, and 
also to which are connected the decoding means (60) comprising 

three decoding means (60-1, 60-2, 60-3), each one 
receiving the four outputs (A1-1, A2-1, B1-1, B2-1) of the 

respective counters (50-1, 50-2, 50-3). 
The auto-sequenced state machine according to any one 
of the previous claims characterized in that it may be 

used in a control memory for controlling the access of a 
DRAM memory shared by a plurality of users (32) to which 

it is connected, said auto-sequenced being connected to 
said DRAM memory through control lines (35), an address 

bus (36) and a data bus (37) which may have a clock frequency 
different from the users clock frequencies. 
</CLAIMS>
</TEXT>
</DOC>
