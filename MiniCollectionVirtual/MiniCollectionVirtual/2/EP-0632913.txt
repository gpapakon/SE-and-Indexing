<DOC>
<DOCNO>EP-0632913</DOCNO> 
<TEXT>
<INVENTION-TITLE>
FIBER OPTIC MEMORY COUPLING SYSTEM
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1316	G06F300	G06F300	G06F1340	G06F1340	G06F1300	G06F1202	G06F1316	G06F1300	G06F1202	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F13	G06F3	G06F3	G06F13	G06F13	G06F13	G06F12	G06F13	G06F13	G06F12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A system for coupling sets of plurality of nodes (6) that are memory coupled to pass write only data memory to memory via a data link (4) that further includes an optical fiber controller (1) coupled to each data link (4). Each controller (1) is interconnected through fiber (4) for high speed data transfers from one set of nodes (6) to another. The controller (1) is capable of connection implementing three and four cable interfaces. The data is transmitted through the fiber (4) serially but the controller (1) is adapted to receive parallel data and convert to serial form and vice versa.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SUN MICROSYSTEMS INC
</APPLICANT-NAME>
<APPLICANT-NAME>
SUN MICROSYSTEMS, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ACTON JOHN D
</INVENTOR-NAME>
<INVENTOR-NAME>
GRANT LAWRENCE C
</INVENTOR-NAME>
<INVENTOR-NAME>
HARDY JACK M JR
</INVENTOR-NAME>
<INVENTOR-NAME>
KENT STEVEN
</INVENTOR-NAME>
<INVENTOR-NAME>
SCHELONG STEVEN
</INVENTOR-NAME>
<INVENTOR-NAME>
ACTON, JOHN D.
</INVENTOR-NAME>
<INVENTOR-NAME>
GRANT, LAWRENCE C.
</INVENTOR-NAME>
<INVENTOR-NAME>
HARDY, JACK M., JR.
</INVENTOR-NAME>
<INVENTOR-NAME>
KENT, STEVEN
</INVENTOR-NAME>
<INVENTOR-NAME>
SCHELONG, STEVEN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a novel fiber optic memory
interconnection for linking special memory busses of processing
nodes and has particular application for real time data processing
systems operating at large distances.Systems for updating memories in coupled nodes are known from
U.S. Patent No. 4,991,079Â·
Such systems use two ported memories and are used to
transfer writes to one memory in one node automatically and at high
speed to memory in other nodes with the intervention of a CPU.
Such systems, however, have a distance limitation of about 120 feet
and eight nodes. The present invention is an improvement that
enables such systems to be connected over a distance. The present
state of the art allows for connections of 3 kilometers and up to
ten kilometers with a high speed data interface. EP 0 366 938 A2 discloses a system comprising first and second converter means,
each including a data bus. Said converter means convert data on the respective
data bus to corresponding optical signals and received optical signals to corresponding
data for transmission on the respective data bus. Further, the document
discloses fiber optic means for optically transmitting data analogously from one
converter means to the other converter means.EP-A-251686 discloses a set of a plurality of nodes comprising a data bus connecting
the nodes. Each node comprises a processing unit, a memory, and a bus coupled
to the processing unit and memory, and a sensor means for sensing a write to
the memory and for transmitting the sensed write on said data bus.It is the object of the present invention to provide a means for connecting memory
coupled processing systems over a large distance and for high-speed data transfers
between the systems, copying data from the memory of a node in one system
to the memory of a node in another system.This object is achieved with a system having features of claim 1 and a method having
features of claim 10.Preferred embodiments form the subject matter of the respective subclaims.Advantages of the present invention will become readily evident from the following
description of a preferred embodiment when taken in conjunction with the appended
drawings. 
Figure 1 illustrates the system of the present invention;Figure 2 illustrates the fiber to memory coupled
system controller (FMC) ;Figure 3 illustrates the FMC to memory coupling bus interface;Figure 4 illustrates the method of handling a memory write
transfer by the FMC;Figure 5 illustrates an example of address translation as
performed by the present
</DESCRIPTION>
<CLAIMS>
A system comprising:

a first and second set of plurality of nodes (6);
a first data bus (5) associated with and connecting said first set of plurality of
nodes (6);
a second data bus (5) associated with and connecting said second set of plurality
of nodes (6);
each node (5) of said sets of plurality of nodes (5) including a processing unit,
a memory, a bus coupled to the processing unit and memory, and a sensor

means for sensing a write to the memory and for transmitting the sensed write
on said associated data bus, said write including data and an address to

which said data is being written;
first converter means (1) connected to the first data bus (5) for converting data
and associated addresses on said first data bus (5) to corresponding optical 

signals and received optical signals to corresponding data and associated
addresses for transmission on said first data bus, wherein the optical signals

convey one of two binary states;
second converter means (1) connected to the second data bus (5) for converting
data and associated addresses on said second data bus (5) to corresponding

optical signals and received optical signals to corresponding data
and associated addresses for transmission on said second data bus, wherein

the optical signals convey one of two binary states;
both said first and second converter means including selection means for accepting
for transmission only data having preselected associated addresses;

and
fiber optic means (4) for optically transmitting data and associated addresses
from one converter means via optical signals conveying one of two binary

states.
The system of claim 1 wherein each said converter means (1) includes conversion

means for converting parallel data to serial optical signals and vice
versa.
The system of claim 1 or 2 wherein each said converter means (1) includes a
FIFO for temporarily storing data.
The system of one of the claims 1 - 3 wherein each node (6) further includes
I/O means for introducing I/O data into memory and wherein said sensor means

responsive to a write to memory of I/O data transmits same on said associated
data bus (5).
The system of one of the claims 1 - 4, wherein the fiber optic means comprises:

first fiber optic means (4) for carrying transmitting data from the first converter
means (1) to the second converter means; and
second fiber optic means (4) for carrying transmitted data from the second
converter means to the first converter means.
The system of one of the claims 1 - 5, wherein the first and second converter
means (1) each comprise: 


input latch means (10) for receiving data from a respective data bus (5);
hit and translation RAM means (12) connected to the input latch means (10)
for determining the destination of data received from the data bus (5);
first micro-interface means connected to the input latch means for controlling
the hit and translation RAM means;
transmission FIFO means (14) connected to the input latch means (10)
for latching the data received from the data bus (5);
error detection means for determining if an error exists in the data in the
transmission FIFO means;
first and second transmission latches (18, 20) connected to the transmission
FIFO means (14);
transmitter means (22) connected to the first and second transmission
latches (18, 20) for transmitting the data to another converter means (1);

receiver means (19) for receiving data transmitted from another converter
means (1);
first and second receiver latches (15, 17) for latching the received data;
error detection means connected to the first and second latch means
(15, 17) for checking if an error exists in the received data;
second micro interface means for testing the received data if the check
by the error detection means fails;
receive FIFO (11 ) means connected to the first and second receive latch
means (15, 17) for holding the received data after checking by the error

detection means; and
output latch means (9) for transmitting the received data to the respective
data bus (5).
A system as claimed in claim 5 or 6, further comprising first and second backup
controllers for transmitting data between memory coupled systems upon a

determination the first and second controllers are not working properly. 
A system as claimed in claim 7, wherein said input, output, transmit and receive
latches of each of said plurality of controllers are able to be accessed in

both a parallel and serial fashinon.
A system as claimed in one of the claims 1 - 8, wherein data is transmitted
through the optical fiber means (4) in 80 bit data frames.
A method comprising the steps of:

establishing first and second data links;
establishing first and second sets of nodes (6), each node (6) including a
processing unit, a memory, a bus coupled to the processing unit and memory

and a sensing means for sensing a write to memory;
sensing a write to a memory in one of said nodes (6) of said first set, said
write including data and an address to which said data is being written;
accepting for transmission only writes having preselected associated addresses;
transmitting said sensed write on said first data link; and sensing the sensed
write transmitted on said first data link and optically transmitting same to a remote

point whereupon it is transmitted on said second data link to the memory/
of one of the nodes of said second set without intervention of the processing

unit of said one node (6) of said second set.
The method of claim 10 comprising the further steps of:

writing I/O data from an I/O source into the memory of a node (6) in one of the
sets of nodes (6);
sensing the written I/O data and transmitting same on the data link associated
with said node (6); and
optically transmitting the written I/O data to a memory in a node (6) of the
other sets of nodes (6) via its associated data link.
</CLAIMS>
</TEXT>
</DOC>
