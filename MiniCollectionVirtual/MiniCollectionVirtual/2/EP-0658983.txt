<DOC>
<DOCNO>EP-0658983</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Encoding or decoding device comprising a paged memory
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M1327	H04N764	H03M1329	H04N764	H03M1300	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H04N	H03M	H04N	H03M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M13	H04N7	H03M13	H04N7	H03M13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
First blocks with data units are encoded or decoded in a first error 
protection code in an encoding or decoding device. A sub-set of data units, comprising 

one data unit from each first block, is encoded or decoded in a second block of the 
second error protection code. The data units of each first block are stored so as to be 

group-wise distributed among different pages of a paged memory. On each page data 
units from different first blocks are stored, so that upon reading of the data units of the 

sub-set the data units can also be written again so as to be group-wise distributed among 
different pages. The number of necessary page address changes is thus minimized. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
KONINKL PHILIPS ELECTRONICS NV
</APPLICANT-NAME>
<APPLICANT-NAME>
KONINKLIJKE PHILIPS ELECTRONICS N.V.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ZWAANS BERNARDUS ANTONIUS MARI
</INVENTOR-NAME>
<INVENTOR-NAME>
ZWAANS, BERNARDUS ANTONIUS MARIA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to an encoding device, comprising
a first encoder for forming respective first blocks in a first error protection
code,a memory for the storage of data units of the first blocks,read means for reading a sub-set of the data units, comprising one data unit
from each first block, from the memory, anda second encoder for forming a second block in a second error protection code
by encoding the sub-set.The invention also relates to a decoding device, comprising
a first decoder for decoding respective first blocks in accordance with a first
error correction code,a memory for the storage of data units of the first blocks,read means for reading a sub-set of the data units, comprising one data unit
from each first block, from the memory, anda second decoder for decoding the subset in accordance with a second error
correction code.The invention also relates to a control device for use in such an encoding or
decoding device
according to claims 8 and 9, respectively.
An encoding and decoding device of this kind are known from
EP 553.515 A (PHN 13.928).The use of an error protection code enables detection and correction of a
limited number of incorrect data units in a block. Large numbers of errors, for example
so-called burst errors where a number of successive data units are incorrect, cannot be
corrected in this manner.In order to enable correction of burst errors nevertheless, it is known to
utilize a so-called product code in which the data is subjected to a first and a second
code in such a manner that per block of the second code at the most one data unit of
each block of the first code occurs. A burst error in a single block of the first code then
corresponds to a single incorrect data unit in a number of blocks of the second code. 
These errors can be simply corrected by means of the second code.For the composition of the second blocks it is necessary to collect the data
units from a number of first blocks in a memory. This memory must be comparatively
large; in the case of digital video recording, for example a memory for more than 100
Kilobytes is required as described in the cited Patent Specification.Because they have a large capacity, it is advantageous to utilize
commercially available DRAMs (dynamic random access memories) for this purpose.
The addressing of memory locations in DRAMs requires two address cycles: one to
indicate an address of a page, and one to indicate an address within this page. Encoding
and decoding of the data units, therefore, is rather time-consuming.It is
</DESCRIPTION>
<CLAIMS>
An encoding device, comprising

a first encoder (32) for forming respective first blocks (C1-3), (C4-6), (C7-9),
(C10-12) in a first error protection code,
a memory (30) for the storage of data units of the first blocks (C1-3), (C4-6),
(C7-9), (C10-12),
read means (38a-d) for reading a sub-set (A1-4), (A5-8), (A9-12), (A13-16) of
the data units, comprising one data unit from each first block (C1-3), (C4-6), (C7-9), (C10-12),

from the memory, and
a second encoder (34) for forming a second block in a second error protection
code by encoding the sub-set (A1-4), (A5-8), (A9-12), (A13-16),
characterized, in that
 the memory is page oriented (30), successive accessing of different
locations on the same page requiring only a single page addressing operation, the encoding

device being arranged for

writing data units of a particular first block (C1-3), (C4-6), (C7-9), (C10-12) in
the memory distributed among several pages, at least two data units of the particular first

block (C1-3), (C4-6), (C7-9), (C10-12) being written on one and the same page on the basis of
a first, single page addressing operation,
writing further data units of further first blocks (C1-3), (C4-6), (C7-9), (C10-12)
also distributed among the several pages,

the read means (38a-d) being arranged for reading the data units of the sub-set (A1-4), (A5-8),
(A9-12), (A13-16) successively from different pages, at least two data units then being read on

the basis of a second, single page addressing operation.
A decoding device, comprising

a first decoder (42) for decoding/correcting respective first blocks (C1-3), (C4-6),
(C7-9), (C10-12) in accordance with a first error correction code,
a memory (30) for the storage of data units of the first blocks (C1-3), (C4-6),
(C7-9), (C10-12), 
read means (38a-d) for reading a sub-set (A1-4), (A5-8), (A9-12), (A13-16) of
the data units, comprising one data unit from each first block (C1-3), (C4-6), (C7-9), (C10-12),

from the memory (30), and
a second decoder (44) for decoding/correcting the subset (A1-4), (A5-8), (A9-12),
(A13-16) in accordance with a second error correction code,
characterized, in that
 the memory (30) is page oriented, successive accessing of different
locations on the same page requiring only a single page addressing operation, the decoding

device being arranged for

writing data units of a particular first block (C1-3), (C4-6), (C7-9), (C10-12) in
the memory distributed among several pages, at least two data units of the particular first

block (C1-3), (C4-6), (C7-9), (C10-12) being written on one and the same page on the basis of
a first, single page addressing operation,
writing further data units of further first blocks (C1-3), (C4-6), (C7-9), (C10-12)
also distributed among the several pages,

the read means (38a-d) being arranged for reading the data units of the sub-set (A1-4), (A5-8),
(A9-12), (A13-16) successively from different pages, at least two data units then being read on

the basis of a second, single page addressing operation.
An encoding or decoding device as claimed in Claim 1 or 2, in which the at
least two data units read by the read means (38a-d) on the basis of a second, single page

addressing operation are associated at least with a first and a second one of the first blocks
(C1-3), (C4-6), (C7-9), (C10-12), respectively, 
characterized in that
 the read means (38a-d) are
arranged to read a further sub-set (A1-4), (A5-8), (A9-12), (A13-16) which is disjunct with the

sub-set and contains one data unit from each first block (C1-3), (C4-6), (C7-9), (C10-12), at
least two further data units from at least the first and the second one of the first blocks (C1-3),

(C4-6), (C7-9), (C10-12), respectively, being read on the basis of said second, single page
addressing operation, the second encoder or decoder (34, 44) being arranged to encode and

decode the sub-set (A1-4), (A5-8), (A9-12), (A13-16), respectively, according to a second
error correction code.
An encoding or decoding device as claimed in Claim 3, 
characterized in that
 it
is arranged to leave the first one of the first blocks essentially unchanged between the reading

of the sub-set (A1-4), (A5-8), (A9-12), (A13-16) and of the further sub-set (A1-4), (A5-8),
(A9-12), (A13-16) and to replace the data units of the second one of the first blocks (C1-3), 

(C4-6), (C7-9), (C10-12) on the page addressed by the second page address by data units of a
newly formed first block (C1-3), (C4-6), (C7-9), (C10-12).
An encoding or decoding device as claimed in Claim 1, 2, 3 or 4, 
characterized
in that
 it comprises write means (36a-d) provided with first and second counting means (36a-d)
for counting a first block number and a data unit number, respectively, of a data unit to be

written within a first block (C1-3), (C4-6), (C7-9), (C10-12), least-significant parts of counts
of the first and the second counting means (36a-d) serving together as an intrapage address and

most-significant parts of the counts serving together as a page address for the memory (30).
An encoding or decoding device as claimed in Claim 1, 2, 3 or 4, 
characterized
in that
 the read means (38a-d) comprise first and second counting means (38a-d) for counting
a second block number and a data unit number, respectively, of a data unit to be read in a

second block, least-significant parts of counts of the first and the second counting means (38a-d)
serving together as a page address, and most-significant parts of the counts serving together

as an intrapage address for the memory.
A decoding device as claimed in any one of the Claims 2 to 6, 
characterized in
that
 it is arranged to make a selection between a first location and a second location on the
same page in order to write each data unit of each first block, so that a last preceding, error-free,

corresponding first block remains accessible in the first or the second location. 
A control module for use in the encoding device of claim 1, the control
module comprising


a first encoder (32) for forming respective first blocks (C1-3), (C4-6), (C7-9),
(C10-12) in a first error protection code,
a connection for a memory (30) for the storage of data units of the first blocks

(C1-3), (C4-6), (C7-9), (C10-12),
read means for reading a sub-set (A1-4), (A5-8), (A9-12), (A13-16) of the data
units, comprising one data unit from each first block (C1-3), (C4-6), (C7-9), (C10-12), from

the memory, and
a second encoder (34) for forming a second block in a second error protection
code by encoding the sub-set (A1-4), (A5-8), (A9-12), (A13-16),

the control module being 
characterized, in that
 it is arranged for
writing data units of a particular first block (C1-3), (C4-6), (C7-9), (C10-12) in
the memory distributed among several pages, at least two data units of the particular first

block (C1-3 (C4-6), (C7-9), (C10-12) being written on one and the same of page on the
basis of a first, single page addressing operation,
writing further data units of further first blocks (C1-3), (C4-6), (C7-9), (C10-12)
also distributed among the several pages,

the read means being arranged for reading the data units of the sub-set (A1-4), (A5-8), (A9-12),
(A13-16) successively from different pages, at least two data units then being read on the

basis of a second, single page addressing operation.
A control module for use in the decoding device of claim 2, the control
module comprising


a first decoder (42) for decoding/correcting respective first blocks (C1-3), (C4-6),
(C7-9), (C10-12) in a first error protection code,
a connection for a memory (30) for the storage of data units of the first blocks
(C1-3), (C4-6), (C7-9), (C10-12), 
read means for reading a sub-set (A1-4), (A5-8), (A9-12), (A13-16) of the data
units, comprising one data unit from each first block (C1-3), (C4-6), (C7-9), (C10-12), from

the memory, and
a second decoder (44) for forming a second block in a second error protection
code by decoding/correcting the subset (A1-4), (A5-8), (A9-12), (A13-16) in accordance with

a second error correction code,
the control module being 
characterized, in that
 it is arranged for
writing data units of a particular first block (C1-3), (C4-6), (C7-9), (C10-12) in
the memory distributed among several pages, at least two data units of the particular first

block (C1-3), (C4-6), (C7-9), (C10-12) being written on one and the same of page on the
basis of a first, single page addressing operation,
writing further data units of further first blocks (C1-3), (C4-6), (C7-9), (C10-12)
also distributed among the several pages,

the read means being arranged for reading the data units of the sub-set (A1-4), (A5-8), (A9-12),
(A13-16) successively from different pages, at least two data units then being read on the

basis of a second, single page addressing operation.
</CLAIMS>
</TEXT>
</DOC>
