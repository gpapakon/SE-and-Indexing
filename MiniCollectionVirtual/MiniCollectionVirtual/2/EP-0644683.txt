<DOC>
<DOCNO>EP-0644683</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method of and apparatus for processing an image
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N1405	B41J236	H04N1405	H04N1403	B41J236	H04N1403	G06T500	B41J252	B41J252	G06T500	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	B41J	H04N	H04N	B41J	H04N	G06T	B41J	B41J	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	B41J2	H04N1	H04N1	B41J2	H04N1	G06T5	B41J2	B41J2	G06T5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method of electrically processing an image using 
an error diffusion method of propagating density 

distribution errors produced in pixels provided on the 
periphery of a pixel to be noted in the image formed so 

that respective adjacent pixels (a, b) thereof extending 
in a main scanning direction are different in area from 

each other, to the noted pixel and representing a density 
output at the noted pixel in binary form. The method 

comprises the following steps of previously calculating 
thresholds (Th₁, Th₂) of densities each corresponding to 

the ratio between the respective pixels, selecting, as a 
pixel to be noted (f), any unitary one (a, b) of the 

adjacent pixels, which are different in ratio from each 
other, calculating errors (E) produced in the peripheral 

pixels, which are propagated to the noted pixel (f), 
according to respective distances between the individual 

peripheral pixels and the noted pixel and areas of the 
individual peripheral pixels, adding each of the 

propagated errors to a density of the noted pixel so as 
to effect a rearrangement (f') on the density of the 

noted pixel, comparing the rearranged density of noted 
pixel with each of thresholds obtained according to the 

noted pixel so as to obtain a corresponding level (G) 
represented in binary form, and obtaining density 

distribution errors (e) based on the ratio between the 
respective adjacent pixels, the rearranged density (f')  

 
noted pixel and the level (G) represented in binary form. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
RISO KAGAKU CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
RISO KAGAKU CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
INAMINE NOBORU
</INVENTOR-NAME>
<INVENTOR-NAME>
KURITA SYOUJI
</INVENTOR-NAME>
<INVENTOR-NAME>
NOGUCHI IKUO
</INVENTOR-NAME>
<INVENTOR-NAME>
INAMINE, NOBORU
</INVENTOR-NAME>
<INVENTOR-NAME>
KURITA, SYOUJI
</INVENTOR-NAME>
<INVENTOR-NAME>
NOGUCHI, IKUO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method of and an
apparatus for processing an image, wherein errors
produced in a plurality of pixels forming the image are
computed and processed.Each of originals is read or scanned by a scanner
unit having an image sensor such as a CCD (Charge Coupled
Device) or the like. After data read from the original
has been subjected to image processing by an image
processing unit, the so-processed data can be printed on
a recording sheet by a printing unit such as a TPH
(Thermal Print Head) or the like.A system has been generally used wherein upon
printing, a thermal head is provided in a main scanning
direction and sub-scanning is performed by feeding a
recording sheet.Fig. 18 shows a thermal head 50 attached to a
printing unit, for performing thermal printing. Adjacent
heating elements 51 are formed so as to be identical in
size to each other. Thus, the image processing at the
step prior to the printing is performed as the image
processing based on pixels identical in size (area) to
each other. Further, the recording of data on the recording
sheet is carried out by selectively driving the
respective heating elements of the thermal head.
Described specifically, upon image processing, the
respective heating elements are energized or de-energized
under drive control executed in digitized or binary form
to thereby form predetermined characters and images.When an original, a picture or the like has multi
levels of gray in density, the multi levels of halftone
can be reproduced on a recording sheet at a high
gradation by using an error diffusion method upon image
processing.The error diffusion method is used for the purpose
of determining errors to be propagated to a pixel to be
noted from peripheral pixels to obtain the errors to be
propagated to the noted pixel (corresponding to a heating
element which will be intended for printing later) and
using the errors to make a decision about the degree of
halftone of the noted pixel to thereby achieve high tonal
characteristics.When the decision about the tone of the noted pixel
is finally made, a substantially density or level of
halftone in multi levels of tone is set as a threshold,
for example, and the density of the noted pixel, which is
added with the errors, is represented in digitized or
binary form depending on whether the density is higher or
lower than the threshold. Since, however, the conventional thermal head 50
comprises the adjacent heat elements 51 formed so as to
be identical in size to each other, tones

</DESCRIPTION>
<CLAIMS>
A method of processing an image

using an error diffusion method of propagating density
distribution errors produced in pixels provided on the

periphery of a pixel to be noted in the image formed so
that respective adjacent pixels (a, b) thereof extending

in a main scanning direction are different in area from
each other, to the noted pixel and representing a density

output at the noted pixel in binary form, said method
comprising the following steps of:


previously calculating thresholds (Th
1
, Th
2
) of
densities each corresponding to the area ratio between the

respective adjacent pixels (a,b);
selecting, as a pixel to be noted (f), any unitary
one (a, b) of the adjacen
t pixels, which are different in area
ratio from each other;
calculating errors (E) produced in said peripheral
pixels, which are propagated to the noted pixel (f),

according to respective distances between the individual
peripheral pixels and the noted pixel and areas of the

individual peripheral pixels;
adding each of the propagated errors to a density of
the noted pixel so as to effect a rearrangement (f') on

the density of the noted pixel;
comparing the rearranged density of noted pixel with
each of thresholds obtained according to the noted pixel 

so as to obtain a corresponding level (G) represented in
binary form; and
obtaining density distribution errors (e) based on
the ratio between the respective adjacent pixels, the

rearranged density (f') of noted pixel and the level (G)
represented in binary form.
A method of processing an image

using an error diffusion method of propagating density
distribution errors produced in pixels provided on the

periphery of a pixel to be noted in the image formed so
that respective adjacent pixels (a, b) thereof extending

in a main scanning direction are different in area from
each other, to the noted pixel and representing a density

output at the noted pixel in binary form, said method
comprising the following steps of:


calculating thresholds (Th
11
 through Th
13
) of
densities of the predetermined respective adjacent two

pixels (a, b) according to combined patterns of the
densities thereof;
selecting a pair of the adjacent pixels (a, b) as a
noted pixel block F which is a combination of the

adjacent two pixels;
calculating errors (ES) produced in the peripheral
pixel blocks, which are propagated to said noted pixel block

(F), according to distances between individual peripheral
pixel blocks and said noted pixel block; 
adding each of said propagated errors to a density
of said noted pixel block so as to effect a rearrangement

(F') on the density of said noted pixel block; and
comparing the rearranged density of noted pixel
block with said thresholds

according to the noted pixel block so as to obtain a signal represented
in quaternary form, which is indicative of a quaternary-formed level (G) of the

noted pixel block;
outputting a signal represented in binary form, which is indicative of digitized
levels of the pixels (a,b), based on the signal represented in quaternary form; and
obtaining density
distribution errors (E) corresponding to combined

patterns of densities of the respective pixels in said
noted pixel block, based on the rearranged density (F') of

noted pixel block and the signal represented in quaternary Form.
An image processing apparatus using an error
diffusion method of propagating density distribution

errors produced in pixels provided on the periphery of a
pixel to be noted (f) in an image formed so that

respective adjacent pixels (a, b) thereof extending in a
main scanning direction are different in area from each

other, to the noted pixel and representing a density
output at the noted pixel in binary form, said image

processing apparatus comprising:

noted pixel selecting means (5) for successively
selecting any one of said respective pixels (a, b) as a

pixel to be noted, based on an image scanning signal so
as to output a corresponding select signal (S1);
weight coefficient setting means (7) for computing
weight coefficients with respect to the noted pixel and

the respective peripheral pixels, based on areas of the
respective adjacent pixels (a, b) and distances between

the noted pixel and the individual peripheral pixels and 
outputting weight coefficients (K
1
 through K
4
)
corresponding to the individual noted pixels in response

to the select signal outputted from said noted pixel
selecting means;
threshold calculating means (12) for calculating
thresholds of densities for selecting digitized levels of

individual pixels according to the area ratio between the
adjacent pixels and computing and outputting thresholds

(Th
1
, Th
2
) corresponding to the individual noted pixels
in response to the select signal;
propagation error calculating means (10) for
computing errors (E) produced in the peripheral pixels,

which are propagated to the noted pixel (f), based on the
weight coefficients outputted from said weight

coefficient setting means;
rearranging means (15) for adding each of said
propagated errors to a density of the noted pixel so as

to effect a rearrangement (f') on the density of the
noted pixel;
by-level digitizing means (17) for comparing the
rearranged density of noted pixel with each of the

thresholds (Th
1
, Th
2
) outputted from said threshold
calculating means according to the noted pixel so as to produce a corresponding level

(G) represented in binary form and
outputting a signal (S2) represented in binary form,

corresponding to the pixels (a, b); and
density distribution error calculating means (19) 
for obtaining density distribution errors (e)

corresponding to the respective pixels to be noted, based
on the ratio between the respective adjacent pixels, the

density (f') rearranged by said rearranging means and the
digitized level produced from said by-level digitizing

means (17) thereby outputting a density distribution
error signal (S3) corresponding to the respective pixels

(a, b).
An image processing apparatus using an error
diffusion method of propagating density distribution

errors produced in pixels provided on the periphery of a
pixel (F) to be noted in an image formed so that

respective adjacent pixels (a, b) thereof extending in a
main scanning direction are different in area from each

other, to the noted pixel and representing a density
output at the noted pixel in binary form, said image

processing apparatus comprising:

noted pixel selecting means (5) for selecting a set
of the adjacent pixels (a, b) as a noted pixel block

based on an image scanning signal and outputting a select
signal (S1) corresponding to the selected set of pixels;
weight coefficient setting means (7) for computing
and outputting weight coefficients (K
11
 through K
14
) with
respect to the noted pixel block and the respective

peripheral pixel blocks, based on distances between the
noted pixel block and the individual peripheral pixel 

blocks;
threshold calculating means (12) for computing and
outputting a plurality of density thresholds (Th
11

through Th
13
) according to the density of the noted pixel
block;
propagation error calculating means (10) for
calculating errors (ES) produced in the peripheral pixel

blocks, which are propagated to the noted pixel block
(F), based on the weight coefficients outputted from said

weight coefficient setting means;
rearranging means (15) for adding each of said
propagated errors to a density of the noted pixel block

so as to effect a rearrangement (F') on the density of
the noted pixel block;
quaternary forming means (16) for comparing the
rearranged density with each of the thresholds outputted

from said threshold calculating means according to the noted pixel block and
outputting a signal (S4) represented in quaternary form,

which is indicative of a quaternary-formed level (G) of
the noted pixel block;
by-level digitizing means (17) for
outputting a signal (S2) represented in binary form,

which is indicative of digitized levels of the pixels (a,

b), based on the signal (S4) outputted from said
quaternary forming means; and
density distribution error calculating means (19)
for calculating density distribution errors (E) 

corresponding to the individual pixel blocks, based on
the density (F') rearranged by said rearranging means and

the quaternary-formed level (G) outputted from said
quaternary forming means (16) and outputting a density

error signal (S3) based on the result of calculation.
</CLAIMS>
</TEXT>
</DOC>
