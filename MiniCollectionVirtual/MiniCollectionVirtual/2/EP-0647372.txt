<DOC>
<DOCNO>EP-0647372</DOCNO> 
<TEXT>
<INVENTION-TITLE>
CONTROL SYSTEM USING HARMONIC FILTERS
</INVENTION-TITLE>
<CLASSIFICATIONS>H04B110	H04B110	H03B100	H03B104	G10K11178	G10K1100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04B	H04B	H03B	H03B	G10K	G10K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04B1	H04B1	H03B1	H03B1	G10K11	G10K11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A harmonic filter for active or adaptive noise attenuation control systems for obtaining the complex amplitude of a single harmonic component from a signal which contains one or more harmonic components.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NOISE CANCELLATION TECH
</APPLICANT-NAME>
<APPLICANT-NAME>
NOISE CANCELLATION TECHNOLOGIES, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
EATWELL GRAHAM
</INVENTOR-NAME>
<INVENTOR-NAME>
EATWELL, GRAHAM
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to a method for obtaining the amplitudes of an input signal with
varying fundamental frequency according to claim 1, a method for active cancellation of
substantially period disturbances according to claim 6, a harmonic filter means according
to claim 8 and an active control system using the harmonic filter means of claim 8. The idea of separating a reference signal into separate, fixed frequency bands and
filtering each band independently is well known and was first used in attempts to control
transformer noise. Examples of this are described in U.S. Patent 2,776,020 to W.B.
Conover et al and in the article to K. Kido and S. Onoda, "Automatic Control of
Acoustic Noise Emitted from Power Transformer by Synthesizing Directivity". Science
Reports of the Research Institutes, Tohoku University (RITU), Japan. Series B:
Technology. Part 1: Reports of the Institute of Electrical Communication (RIEC), Vol
23, 97-110.The general idea has been generalized for use with broadband signals and digital
systems as noted in U.S. Patent No 4,423,289 to M.A. Swinbanks and by I.D. McNicol
in "Adaptive Cancellation of Sound in Ducts", M. Eng. Sci. Thesis, Dept. Electrical and
Electronic Engineering, University of Adelaide, Australia, (1985).These systems are all feedforward systems, since the controller output is
obtained by filtering a reference signal. These systems use narrow band filters to obtain
the real, time varying signal at fixed frequencies. Other approaches, also described in
McNicol, use Fourier transform techniques to obtain the complex components of the
reference signal and the residual signal at fixed frequencies.An extension to this approach, which allows for varying frequencies in the
disturbance, is to use a timing signal from the source of the disturbance to trigger a
sampling device. This results in an exact number of samples in each cycle of the noise,
and the harmonic components can then be obtained by a Discrete or Fast Fourier
Transform as described in U.S. Patent No. 4,490,841 to G.B.B. Chaplin et al. With the 
approach described both input and output processes are synchronized with the timing
signal. In the special case of fixed frequencies this approach is equivalent to a
feedforward system.The approaches differ in the way the controller output is obtained and adjusted.
In one approach the output is generated by filtering reference signals. The amplitude
and phase of each signal is adjusted in the time domain by a variable filter as in
Swinbanks, while in the other approach
</DESCRIPTION>
<CLAIMS>
Method for obtaining amplitudes (Y) of an input signal
(r(t)) with varying fundamental frequency,

characterized by

determining the complex harmonic amplitudes (Y) of an input
signal (r(t)) by multiplying said input signal by a

pair of othogonal sinusoidal signals (SIN(K,PH1);COS
(K,PH1)) at the frequency of each harmonic component to

be identified and passing the resulting signals through
low-pass filters (HF) with variable bandwidths to provide

estimates of the real and imaginary parts of the desired
complex harmonic amplitude (Y).
Method according to claim 1 characterized in that the
bandwidths of the low-pass filters (HF) are dependent

upon the fundamental frequency of the signal (r(t)).
Method according to claim 2 characterized in that the
fundamental frequency is obtained by measuring the fundamental

frequency of the source of the input signal
(r(t)). 
Method according to claim 1 characterized in that the phase
of the source of the input signal (r(t)) is measured

and used to determine the phase of the sinusoidal signals.
Method according to claim 4 in which the phase of the
source of the input signal (r(t)) is obtained by integrating

a signal (w) representative of the frequency of the
source of the input signal (r(t)).
Method for active cancellation of substantially periodic
disturbances, said method comprising

multiplying said input signal (r(t)) by a signal at the
frequency (w) of the signal to be identified

characterized by

sensing the combination of the initial disturbance and
the counter disturbance to obtain an input signal (r(t),
multiplying the input signal by pairs of othogonal sinusoidal
signals (SIN(K,PH1);COS(K,PH1)) at the frequencies

of the components to be identified,
passing the resulting signals through low-pass filters
(HF) with variable bandwidth to provide complex residual

signals (R) which are estimates of the real and imaginary
parts of the complex harmonic amplitudes (Y) of the input

signal,
using said complex residual signals (R) to adjust the
complex amplitudes of an output signal,
multiplying the real and imaginary parts of the complex
amplitudes (Y) of that output signal by said sinusoidal

signals, 
and summing to produce the output signal, causing said
output signal to generate a counter disturbance which is

combined with the initial disturbance.
Method according to claim 6, characterized in that the
phase of the source of the input signal is (r(t)) is measured

and used to determine the phase of said sinusoidal
signals (SIN(K,PH1);COS (K,PH1)).
Harmonic filter means for generating sinusoidal signals at
the frequence of the frequency of the signal to be identified

containing a multiplication means for muliplying said
input signal (r(t)) by said sinusoidal signals to generate

a signal (R) which is filtered, characterized in that

the filter means (HF) comprises a low-pass filter means
with variable bandwidth adapted to filter said first signals

to (R) to provide second signals related to the real
and imaginary parts of the desired complex harmonic amplitudes

(Y),
the sinusoidal signal generated consists in a pair of
othogonal sinusoidal signals (SIN) (K,PH1);COS(K,PH1)) at

the frequence of the harmonic components to be identified,
the bandwidths of the low-pass filters are dependent
upon the fundamental frequency (w) of the signal.
Active control system for cancelling substantially periodic
disturbance, comprising


sensor means for sensing the comination of the initial
disturbance and the counter disturbance to obtain an input

signal (r(t)), characterized in that it further comprises 
harmonic filter means according to claim 8 to produce
complex residual signals (R) which are estimates of the

real and imaginary parts of the complex harmonic amplitudes
(Y) of the input signal (r(t)) at the frequencies to

be controlled,
adaption means which uses said complex residual signals
(R) to adjust the complex amplitudes (Y) of an output signal,

to output processing means (01, 02, 03) for multiplying
the real and imaginary parts of said complex amplitudes

(Y) by sinusoidal signals (SIN(K,PH1);COS(K,PH1))
and summing to produce said output signals,
actuator means for generating a counter disturbance
which is combined with the initial disturbance.
Control system according to claim 9, characterized by including
second sensor means for determining a phase signal

related to the phase of the source of the input signal
(r(t)) and in which said phase signal is used to determine

the phase of said sinusoidal signals (SIN(K,PH1);COS
(K,PH1)).
Control system according to claim 9 in which at least one
of the harmonic filter means (HF), the adaption means or

the output processor means (01, 02, 03) is a sampled data
system.
Control system according to claim 9, characterized in that
at least one of the harmonic filter means (HF), the adaption

means or the output processor means (01, 02, 03) is
an analog circuit.
Control system according to claim 9, characterized in that
the adaption means is a 
digital processor in which the 
step-size of the adaption algorithm is determined at least

in part by the fundamental frequency of the disturbance.
Control system according to claim 9, characterized in that
the adaption means is an analog circuit providing a feedback

loop and in which the gain of the feedback loop is
determined at least in part by the fundamental frequency

of the disturbance.
Control system according to claim 9, characterized in that
the harmonic filter means (HF), and the adaption means

(01, 02, 03) are implemented by one or more digital
processors and in which the adaption process is performed

as a background task.
Control system according to claim 9, characterized in that
a plurality of sensing means and/or actuating means are

included and in which the adaption means takes account of
any interaction between the actuator means and the sensor

means.
Control system according to claim 9, characterized in that
it includes means for on-line system identification

(figure 6).
</CLAIMS>
</TEXT>
</DOC>
