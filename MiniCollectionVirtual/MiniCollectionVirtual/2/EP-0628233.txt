<DOC>
<DOCNO>EP-0628233</DOCNO> 
<TEXT>
<INVENTION-TITLE>
VIDEO IMAGE PROCESSING
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N726	H04N701	H04N544	H04N544	H04N701	H04N593	G06T520	H04N5272	H04N592	H04N514	H04N746	H04N746	H04N592	H04N593	H04N5272	G06T520	H04N726	H04N514	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	H04N	G06T	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	G06T	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N7	H04N7	H04N5	H04N5	H04N7	H04N5	G06T5	H04N5	H04N5	H04N5	H04N7	H04N7	H04N5	H04N5	H04N5	G06T5	H04N7	H04N5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A composite time compensated video picture generated from a plurality of input fields includes discontinuities. These are the results of projections from the input fields which include movement. These are detected and then smoothed with a softening filter.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
BRITISH BROADCASTING CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
BRITISH BROADCASTING CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BURL MICHAEL
</INVENTOR-NAME>
<INVENTOR-NAME>
BURL, MICHAEL
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to video image processing, and in particular to a
method of and apparatus for analysing a plurality of input fields used to generate
a motion compensated composite picture temporally spaced from the input fields,
and to a method of and apparatus for processing a motion compensated
composite picture generated from a plurality of input fields.Various aspects of motion compensation are described in patent
documents GB-A-2256341 and WO-A-92/05662, and in FREQUENZ, vol. 42,
no. 8, August 1988, Berlin (DE), pages 217-222, and vol. 43, no. 5, May 1989,
Berlin (DE), pages 126-133, which describe systems capable of generating
intermediate fields of video image sequences where the original sequence of
images includes motion of, for example, a foreground object moving over a
background. Such intermediate fields are required when producing slow motion
sequences or for standards conversion.In many applications of motion compensation, an output image is created
by cutting and pasting one or more parts of various video images onto a
background. The parts of the video images may include motion within
themselves and the parts as a whole may be moving over the background.When such cutting and pasting techniques are used, visible discontinuities
are often produced in the output image when there is a sharp transition from
foreground image to background image. These discontinuities are referred to as
"aliases" and the problem of these is well known in character creation systems.
They are removed from pictures by use of "anti-aliasing" techniques which blend
the foreground and background pictures together over a few pixels.In accordance with a first aspect of the present invention, there is provided
a method of analysing a plurality of input fields used to generate a motion
compensated composite picture temporally spaced from the input fields,
comprising the step of generating at least one field of motion vectors from a
plurality of the input fields, each motion vector being assigned to a respective
elementary area of at least one of the input fields. The method is characterised
by the steps of: generating a shift field of values by projecting the motion vectors
each in accordance with the value of the respective motion vector and the 
temporal spacing between the, or the respective, input field and the composite
picture; and detecting areas in the shift field in which there are transitions in the
shift field values compared with adjacent areas.Once the transition areas have been detected, the
</DESCRIPTION>
<CLAIMS>
A method of analysing a plurality of input fields used to generate a motion
compensated composite picture temporally spaced from the input fields,

comprising the step of: generating at least one field of motion vectors from a
plurality of the input fields, each motion vector being assigned to a respective

elementary area of at least one of the input fields; characterised by the steps of:
generating a shift field of values by projecting the motion vectors in accordance

with the value of the respective motion vector and the temporal spacing between
the, or the respective, input field and the composite picture; and detecting areas

in the shift field in which there are transitions in the shift field values compared
with adjacent areas.
A method as claimed in claim 1, wherein the detected transition areas are
those for which the transition exceeds a predetermined threshold.
A method as claimed in claim 1 or 2, wherein the values of the shift field

are vectors.
A method according to any preceding claim for generating a composite
output picture between a first field and a second field by forward projecting the

first field and backward projecting the second field, further comprising generating
a cross-fade factor representing the relative proportions of the first and second

fields to be used in generating the output picture.
A method according to Claim 4, further comprising detecting areas in
which changes in the cross-fade factor are greater than a given threshold.
A method according to Claim 5, wherein areas are detected as containing
discontinuities if:


(1) a transition is detected in the shift field projected from the first input field
and the contribution of the first input field to the output picture is above a first

predetermined threshold; or 
(2) a transition is detected in the shift field projected from the second input
field and the contribution of the second input field to the output picture is above

a second predetermined threshold; or
(3) a change in the cross-fade factor greater than said given threshold is
detected.
A method of processing a motion compensated composite picture
generated from a plurality of input fields, comprising the steps of: performing a

method as claimed in any preceding claim; and applying a smoothing filter to
areas of the composite picture corresponding to the detected areas.
A method as claimed in Claim 7, wherein the smoothing filter is applied
only to a transition detected from such an input field which contributes to more

than a predetermined proportion of the composite picture.
A method according to Claim 7 or 8, wherein the direction of a transition
is detected and the smoothing filter is applied in dependence on the direction of

the transition.
A method according to Claim 9, wherein the smoothing filter is selected
with reference to a look-up table.
A method according to Claim 9, wherein the filter direction is calculated
in dependence on the direction of the transition.
A method according to any of Claims 7 to 11, wherein the smoothing filter
comprises a low-pass filter.
A method according to any preceeding claim, wherein a 2D differentiating
filter is used to detect said transitions.
An apparatus for analysing a plurality of input fields used to generate a
motion compensated composite picture temporally spaced from the input fields, 

comprising: means for generating at least one field of motion vectors from a
plurality of the input fields, each motion vector being assigned to a respective

elementary area of at least one of the input fields; characterised by: means for
generating a shift field of values by projecting the motion vectors each in

accordance with the value of the respective motion vector and the temporal
spacing between the, or the respective, input field and the composite picture; and

means (10 to 32, 38) for detecting areas in the shift field in which there are
transitions in the shift field values compared with adjacent areas.
An apparatus as claimed in claim 14, wherein the shift field generating
means is operable to generate such values which are vectors.
Apparatus as claimed in claim 14 or 15 arranged to produce a control
signal signalling a projected discontinuity in the output picture.
An apparatus as claimed in claim 16, wherein the detecting means
comprises: a filter (10, 12, 22, 24) for differentiating the shift field; and means (14

to 20, 26 to 32, 38) for generating said control signal when an output of the
differentiating filter exceeds a predetermined threshold.
An apparatus for processing a motion compensated composite picture
generated from a plurality of input fields, comprising: an apparatus as claimed

in any of claims 16 or 17; and means responsive to the control signal to apply
a smoothing filter to the composite picture.
Apparatus according to any of Claims 14 to 18, for generating generating
a composite output picture between a first field and a second field by forward

projecting the first field and backward projecting the second field, further
comprising means for generating a cross-fade factor representing the relative

proportions of the first and second fields to be used in generating the output
picture.
Apparatus according to Claim 19 as dependent on Claim 16, 17, or 18, 
wherein the control signal is generated on detection of:


(1) a transition in the shift field projected from the first input field, if the
contribution of the first input field to the output picture is above a first

predetermined threshold; or
(2) a transition in the shift field projected from the second input field, if the
contribution of the second input field to the output picture is above a second

predetermined threshold; or
(3) a change in the cross-fade factor greater than a given threshold.
</CLAIMS>
</TEXT>
</DOC>
