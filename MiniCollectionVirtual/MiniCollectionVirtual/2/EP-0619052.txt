<DOC>
<DOCNO>EP-0619052</DOCNO> 
<TEXT>
<INVENTION-TITLE>
SHIFTING PHASE OF A CLOCK SIGNAL, IN PARTICULAR FOR CLOCK RECOVERY OF A DIGITAL DATA SIGNAL
</INVENTION-TITLE>
<CLASSIFICATIONS>H03K513	H03L706	H03L708	H04L702	H03L708	H04L704	H04L7033	H04L704	H04L702	H03K513	H03L706	H04L7033	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03K	H03L	H03L	H04L	H03L	H04L	H04L	H04L	H04L	H03K	H03L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03K5	H03L7	H03L7	H04L7	H03L7	H04L7	H04L7	H04L7	H04L7	H03K5	H03L7	H04L7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The invention relates to clock recovery for a digital data signal. A phase detector (2) receives the data signal and transmits it after clock recovery. A phase correcting means (8) creates and transmits, by means of a number of auxiliary clock signals phase shifted with respect to each other and originating from an incoming clock signal (CKin), a recovered clock signal (CKut) for the data signal. The recovered clock signal is fed to the phase detector (2), which detects a phase position error, if any, between the data signal and its recovered clock signal and emits information regarding this to the phase correcting means (8). The phase correcting means (8) includes a phase variation circuit (16) arranged, if the phase position error deviates from zero and the phase position of the recovered clock signal is located between the phase positions of two of the auxiliary clock signals, to mix these two auxiliary clock signals with each other for forming an adjusted recovered clock signal with the same phase position as the data signal . The invention allows shifting of the phase of a clock signal continuously an arbitrary number of turns forwards or backwards without interruptions or discontinuities in the recovered clock signal. This implies that the invention can also be applied in the case of a difference occurring between the bit frequency of incoming data and the clock reference frequency.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ERICSSON TELEFON AB L M
</APPLICANT-NAME>
<APPLICANT-NAME>
TELEFONAKTIEBOLAGET LM ERICSSON
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HEDBERG MATS
</INVENTOR-NAME>
<INVENTOR-NAME>
HEDBERG, MATS
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
According to a first aspect the present invention
generally relates to a system for shifting the phase of a
clock signal, including first means for receiving said clock
signal and providing a number of auxiliary clock signals
phase shifted with respect to said clock signal and to each
other, second means for choosing two of the auxiliary clock
signals between the phases of which a desired new phase of
said clock signal is situated, and third means for mixing the
two chosen auxiliary clock signals with each other until a
signal with said desired phase is obtained, and comprising a
number of controllable switching means having auxiliary clock
signal inputs for receiving said auxiliary clock signals, and
a common output on which said signal with the desired phase
is obtained.According to a second aspect the invention relates to
a method for clock recovery of a digital data signal,
wherein a number of mutually phase shifted auxiliary clock
signals are used to create a recovered clock signal for the
data signal based upon the result of detection of a phase
position error, if any, between the data signal and its
recovered clock signal, and
   a system for clock recovery of a digital data signal
including a phase detector for receiving the data signal and
transmitting the same after clock recovery, a phase
correcting device for creating and emitting, by means of a
number of mutually phase shifted auxiliary signals derived
from an incoming clock signal, a recovered clock signal for
the data signal, said recovered clock signal being fed to the
phase detector for detecting a phase position error, if any,
between the data signal and its recovered clock signal and to
transmit information with respect to this to the phase
correcting device. Among conventional methods for providing clock recovery
can be mentioned the use of so called SAW filters, or a
voltage or current controlled oscillator. These solutions
have the following disadvantages.SAW filters are relatively expensive, space consuming,
cannot be integrated and consume a relatively large amount of
power. Furthermore, one filter is required for each input.A controlled oscillator can certainly be integrated,
except for the crystal, but requires a relatively great
amount of electronic circuitry for carrying through the
control, and consumes a relatively large amount of power.Through U.S. 4 955 040 a digital clock recovery system is
known, which includes a phase sensor for a digital data
signal. The phase sensor provides information to a phase
correcting device
</DESCRIPTION>
<CLAIMS>
A system for shifting the phase of a clock signal,
comprising


first means (22,24,30) for receiving said clock signal
and providing a number of auxiliary clock signals phase

shifted with respect to said clock signal and to each other,
second means (46) for choosing two of the auxiliary clock
signals between the phases of which a desired new phase of

said clock signal is situated,
third means (38-46) for mixing the two chosen auxiliary
clock signals with each other until a signal with said

desired phase is obtained, and comprising a number of
controllable switching means (38-44) having auxiliary clock

signal inputs for receiving said auxiliary clock signals, and
a common output (18) on which said signal with the desired

phase is obtained,
a control signal generator (2) for providing a control
signal with a variable amplitude and sign, characterized in

that said second means comprise a selector circuit (46)
having a control input for receiving said control signal,

control outputs (48-54) connected for controlling the let
through of the switch means (38-44) of their respectiv
e
auxiliary clock signal, and activating means (58,66,56) for

continuously following the amplitude and sign of said control
signal and, guided thereby, choosing and activating a number

of the control outputs (48-54).
A system according to claim 1, characterized in that

   said activating means include an analogue control network
(56) and an analogue selector (66), which both are connected

for receiving the control signal, the control network
controlling the selector (66) for entirely opening, via one

of the chosen control outputs, a corresponding switching
means for letting through of the corresponding auxiliary

signal without amplitude decrease, and for connecting, via
another chosen control output, the control signal with

correct sign to a corresponding switching means for letting
through the corresponding auxiliary clock signal with an

amplitude decrease determined by the amplitude of the control
signal. 
A system according to claim 2, characterized by
inverting means (62) for inverting the control signal, an

analogue switch (58) having a first input for receiving the
control signal, a second input for receiving the inverted

value of the control signal from said inverting means, and an
output connected to the input of said analogue selector (66),

said control network (56) controlling the choice of either of
said first and second inputs of said analogue switch (58) for

determination of sign of an output signal appearing on said
output thereof.
A method for clock recovery of a digital data signal,
wherein a number of mutually phase shifted auxiliary clock

signals are used to create a recovered clock signal for the
data signal based upon the result of detection of a phase

position error, if any, between the data signal and its
recovered clock signal, characterized in that, if the phase

position error is different from zero and the phase position
of the recovered clock signal is situated between the phase

positions of two auxiliary clock signals, these two auxiliary
clock signals are mixed with each other for forming an

adjusted recovered clock signal with the same phase position
as the data signal.
A method according to claim 4, characterized in that
the mixing is carried through while adjusting the relative

amplitude of the two auxiliary clock signals.
A method according to claim 4 or 5, characterized in
that said result of detection of the phase position error is

generated in the form of an error signal with an amplitude
being a measure of the amplitude of the phase position error,

and a sign indicating the direction for adjusting the phase
position of the recovered clock signal, said amplitude and

said sign being used as control parameters for the
adjustment.
A method according to claim 6, characterized in that
said control parameters are used for choosing the two

auxiliary clock signals to be mixed, the amplitude parameter
also being used for controlling a change of the amplitude of

one of the auxiliary clock signals.
A system for clock recovery of a digital data signal 
including a phase detector (2) for receiving the data signal

(4) and transmitting the same (6) after clock recovery, a
phase correcting device (8) for creating and emitting, by

means of a number of mutually phase shifted auxiliary signals
derived from an incoming clock signal (CK
in
), a recovered
clock signal (CK
out
) for the data signal, said recovered
clock signal being fed to the phase detector (2) for

detecting a phase position error, if any, between the data
signal and its recovered clock signal and transmitting

information (I
int2
) with respect to this to the phase
correcting device (8), characterized in that the phase

correction device (8) includes a phase variation circuit (16)
for mixing, if the phase position error is different from

zero and the phase position of the recovered clock signal is
situated between the phase position for two auxiliary clock

signals, these two auxiliary clock signals with each other
for forming an adjusted recovered clock signal having the

same phase position as the data signal.
A system according to claim 8, characterized in that
the phase variation circuit (16) includes


a number of controllable switching means (38-44) for
receiving on auxiliary clock signal inputs said auxiliary

clock signals and connected to a common output, on which the
recovered clock signal (CK
out
) with the shifted phase is
obtained,
a selector circuit (46) with control outputs (48-54)
connected for controlling the let through of the switch means

(38-44) of their respective auxiliary clock signal, and with
activating means (58,66,56) for continuously following the

magnitude and sign of the control signal and guided thereby
choose and activate a number of the control outputs (48-54).
A system according to claim 9, characterized in that

the detector circuit (2) creates and transmits the phase
position information in the form of an analogue signal

(I
int2
), the amplitude of which is a measure of the magnitude
of the phase error, and the sign of which indicates the

direction of the phase error, and
the activating means include an analogue control network
(56) and an analogue selector (66), which both are connected 

for receiving the analogue signal, the control network
controlling the selector (66) to entirely open, via one of

the two chosen control outputs, the corresponding switching
means for letting through of the auxiliary clock signal

thereof without amplitude decrease, and to connect, via the
other chosen control output, the analogue signal with correct

sign to the corresponding switching means for letting through
the auxiliary clock signal thereof with an amplitude decrease

determined by the amplitude of the control signal.
A system according to claim 10, characterized by inverting
means (62) for inverting the control signal, an

analogue switch (58) having a first input for receiving the
control signal, a second input for receiving the inverted

value of the control signal from said inverting means, and an
output connected to the input of said analogue selector (66),

said control network (56) controlling the choice of either of
said first and second inputs of said analogue switch (58) for

determination of sign of an output signal appearing on said
output thereof.
A system for shifting the phase of a clock signal,
comprising


first means (22,24,30) for receiving said clock signal
and providing a number of auxiliary clock signals phase

shifted with respect to said clock signal and to each other,
second means (46) for choosing two of the auxiliary clock
signals between the phases of which a desired new phase of

said clock signal is situated,
third means (38-46) for mixing the two chosen auxiliary
clock signals with each other until a signal with said

desired phase is obtained, and comprising a number of
controllable switching means (38-44) having auxiliary clock

signal inputs for receiving said auxiliary clock signals, and
a common output (18) on which said signal with the desired

phase is obtained,
fourth means for providing control signals to said
switching means,

   characterized in that

said controllable switching means comprise a number of
differentially connected pairs (200,202,204,206) of first and 

second controlled switches,
said pairs being located between voltage source means

(VEE) and a common differential output having first and
second terminals (208,210) for forming said common output for

said signal with the desired phase, said first and second
controlled switches of each pair having respective outputs

connected to said first and second terminals, respectively,
said pairs being further connected to said voltage source
means (VEE) via current path means containing current source

means and control means connected to said control outputs
(48-54) for controlling the current flow to said pairs,
said controlled switches having control inputs connected
for receiving said auxiliary clock signals.
A system for shifting the phase of a clock signal,
comprising


first means (22,24,30) for receiving said clock signal
and providing a number of auxiliary clock signals phase

shifted with respect to said clock signal and to each other,
second means (46) for choosing two of the auxiliary clock
signals between the phases of which a desired new phase of

said clock signal is situated,
third means (38-46) for mixing the two chosen auxiliary
clock signals with each other until a signal with said

desired phase is obtained, and comprising a number of
controllable switching means (38-44) having auxiliary clock

signal inputs for receiving said auxiliary clock signals, and
a common output (18) on which said signal with the desired

phase is obtained,
fourth means for providing control signals to said
switching means,

   characterized in that

said controllable switching means comprise a number of
sets of at least one differentially connected pair each

(200,202,204,206) of first and second controlled switches,
said pairs being located between voltage source means
(VEE) and a common differential output having first and

second terminals (208,210) for forming said common output for
said signal with the desired phase, said first and second

controlled switches of each pair having respective outputs 
connected to said first and second terminals, respectively,
said sets of pairs being further connected to said
voltage source means (VEE) via a number of digitally

controllable current sources (212
1...n
-218
1...n
) having
control inputs connected to logic circuitry (250-262), and
said controlled switches having control inputs connected
for receiving said auxiliary clock signals.
A system according to any of claims 1-3, 8-11,

characterized in that said controllable switching means
comprise a number of differentially connected pairs

(200,202,204,206) of first and second controlled switches,

said pairs being located between voltage source means
(VEE) and a common differential output having first and

second terminals (208,210) for forming said common output for
said signal with the desired phase, said first and second

controlled switches of each pair having respective outputs
connected to said first and second terminals, respectively,
said pairs being further connected to said voltage source
means (VEE) via current path means containing current source

means and control means connected to said control outputs
(48-54) for controlling the current flow to said pairs,
said controlled switches having control inputs connected
for receiving said auxiliary clock signals.
A system according claim 12 or 14, characterized in
that said differentially connected pairs (200-206) are in

turn connected in pairs (200,204 and 202,206, respectively)
for receiving


one of said auxiliary clock signals on the control input
of the first controlled switch of one of the two

differentially connected pairs forming such a last mentioned
pair (200,204 and 202,206, respectively), and on the control

input of the second controlled switch of the other
differentially connected pair, and
another one of said auxiliary clock signals on the
control input of the second controlled switch of said one

pair, and on the control input of the first controlled switch
of said other pair.
A system according to claim 12 or 14, characterized
in that each of said differentially connected pairs is 

connected for receiving the two auxiliary clock signals of a
respective pair of said auxiliary clock signals alternately

on its first and second control inputs.
A system according to any of claims 12, 14-16,

characterized in that said current path means comprise a
respective current path for each of said differentially

connected pairs, said current source means comprise a
respective controllable current source (212-218) in each

current path, and said control means comprise respective
control inputs of said controllable current sources.
A system according to any of claims 12, 14-16,

characterized in that said current path means comprise a
respective first current path (220-226) for each of said

differentially connected pairs and a second current path
(228) common to all differentially connected pairs between

said first current paths and said voltage source means, said
current source means comprise a common current source (230)

in said second current path, and said control means comprise
a respective controllable switching means (232-238) with a

respective control input in each of said first current paths.
A system according to claim 1 or 9, characterized in
that said controllable switching means comprise a number of

sets of at least one differentially connected pair each
(200,202,204,206) of first and second controlled switches,


said pairs being located between voltage source means
(VEE) and a common differential output having first and

second terminals (208,210) for forming said common output for
said signal with the desired phase, said first and second

controlled switches of each pair having respective outputs
connected to said first and second terminals, respectively,
said sets of pairs being further connected to said
voltage source means (VEE) via a number of digitally

controllable current sources (212
1...n
-218
1...n
) having
control inputs connected to logic circuitry (250-262) having

as an input said control signal (I
int2
) with a variable
amplitude and sign, and
said controlled switches having control inputs connected
for receiving said auxiliary clock signals.
A system according to claim 13 or 19, characterized 
in that said differentially connected pairs (200-206) are in

turn connected in pairs (200,204 and 202,206, respectively)
for receiving


one of said auxiliary clock signals on the control input
of the first controlled switch of one of the two

differentially connected pairs forming such a last mentioned
pair (200,204 and 202,206, respectively), and on the control

input of the second controlled switch of the other
differentially connected pair, and
another one of said auxiliary clock signals on the
control input of the second controlled switch of said one

pair, and on the control input of the first controlled switch
of said other pair.
A system according to claim 13 or 19, characterized
in that each of said differentially connected pairs is

connected for receiving the two auxiliary clock signals of a
respective pa
ir of said auxiliary clock signals alternately
on its first and second control inputs.
A system according to any of claims 13, 19-21,

characterized in that each set comprises a single
differentially connected pair of first and second controlled

switches connected via at least two of said digitally
controllable current sources (212
1...n
-218
1...n
) in parallel
to said voltage source means (VEE).
A system according to any of claims 13, 19-21,

characterized in that each set comprises more than one of
said differentially connected paris of first and second

controlled switches.
</CLAIMS>
</TEXT>
</DOC>
