<DOC>
<DOCNO>EP-0643293</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Pattern defect inspection method and apparatus.
</INVENTION-TITLE>
<CLASSIFICATIONS>G01B1124	G01B1124	G01N2188	G01N2188	G01N2193	G01N21956	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01B	G01B	G01N	G01N	G01N	G01N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01B11	G01B11	G01N21	G01N21	G01N21	G01N21	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The pattern edge direction in reference image data 
of an object to be examined is detected, the reference 

image data is differentiated using a differential 
operator in a direction along the pattern edge direction, 

and inspection image data obtained by picking up an 
image of the object to be inspected is differentiated 

using the differential operator in the direction along 
the pattern edge direction. The differential data 

obtained by the differential processing are compared 
with the inspection image data, and a pattern defect on 

the object to be inspected is detected based on the 
difference between these data. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
TOKYO SHIBAURA ELECTRIC CO
</APPLICANT-NAME>
<APPLICANT-NAME>
KABUSHIKI KAISHA TOSHIBA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
INOUE HIROMU C O INTELLECTUAL
</INVENTOR-NAME>
<INVENTOR-NAME>
OKUDA KENTARO C O INTELLECTUAL
</INVENTOR-NAME>
<INVENTOR-NAME>
INOUE, HIROMU, C/O INTELLECTUAL PROPERTY DIVISION
</INVENTOR-NAME>
<INVENTOR-NAME>
OKUDA, KENTARO, C/O INTELLECTUAL PROPERTY DIVISION
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a pattern defect 
inspection method and apparatus for defecting a defect 
of an object to be inspected by comparing reference 
image data and inspection image data obtained by optically 
scanning the object to be inspected. For example, the inspection process of semiconductor 
masks or printed circuit boards in a semiconductor 
manufacturing factory is needed for guarantee the quality 
of the product. In this inspection process, it must be 
inspected whether or not a pattern on a manufactured 
semiconductor mask or printed circuit board coincides 
with a design pattern. This automatic inspection process is performed as 
follows. An inspection pattern on a semiconductor mask or a 
printed circuit board as an object to be measured is 
read by an image sensor to obtain two-dimensional 
inspection image data. It is checked if the inspection image data coincides 
with reference image data of a reference pattern 
obtained from design data. As a result of this checking, if the inspection 
image data does not coincide with the reference pattern, 
a defect signal is output, and a defect position on the 
inspection pattern is specified. FIG. 1 is a block diagram of such a pattern defect  
 
inspection apparatus. An image sensor 1 scans an object to be inspected, 
and outputs the image signal. The image signal is converted 
into digital multi-value data corresponding to, 
e.g., 11 density levels "0" to "10" by an A/D converter 
2. With this conversion, two-dimensional inspection 
image data is generated. The inspection image data 
corresponds to an inspection pattern on the object to be 
inspected, and is supplied to a first differential circuit 
3. The first differential circuit 3 has differential 
operators respectively in x (horizontal), y (vertical), 
+45°, and -45° directions shown in FIGS. 2A to 2D. The x and y directions are orthogonal directions. 
The ±45° directions define angles with respect to the x 
direction. The first differential circuit 3 spatially differentiates 
the inspection image data using these differential 
operators in the four differential directions, 
and sends differential results to a selector 4. On the other hand, a design data memory 5 stores a 
design pattern date generated based on a design value 
(AD data). A reference image generator 6 converts the design 
pattern data into digital multi-value data corresponding 
to, e.g., 11 density levels "0" to "10", and supplies 
the conversion result to a second differential circuit 7 
as reference image
</DESCRIPTION>
<CLAIMS>
A pattern defect inspection method characterized 
by comprising: 

   the first step of detecting a pattern edge 
direction in reference image data used for detecting a 

pattern defect of an object to be inspected; 
   the second step of executing differential 

processing of the reference image data using a 
differential operator in a direction along the detected 

pattern edge direction, and executing differential 
processing of inspection image data obtained by picking 

up an image of the object to be inspected using a 
differential operator in the direction along the 

detected pattern edge direction; and 
   the third step of comparing differential data 

obtained by the differential processing in the second 
step with the inspection image data and detecting a 

pattern defect on the object to be inspected on the 
basis of a difference between the said data. 
A pattern defect inspection apparatus characterized 
by comprising: 

   image pickup means (40, 41) for picking up an image 
of an object to be inspected to generate inspection 

image data; 
   reference image generation beans (45) for generating 

reference image data for comparing with the inspecting 
pattern on the object; 

   edge direction detection means (46) for detecting a 
pattern edge direction in the reference image data; 

   first edge direction differential means (47) for 
executing differential processing of the inspection 

image data using a differential operator in a direction 
along the pattern edge direction; 

   second edge direction differential means (48) for 
executing differential processing of the reference image 

data using the differential operator in the direction 
 

along the pattern edge direction; 
   differential processing means (50) for executing 

differential processing of surrounding pixels in the 
reference image data using the differential operator in 

the direction along the pattern edge direction, and 
executing differential processing of the reference image 

data using differential operators in directions 
neighboring the pattern edge direction; and 

   discrimination means (56, 57) for detecting a 
pattern defect of the object to be inspected on the 

basis of a difference between difference data obtained 
by said first edge direction differential means, and 

differential data obtained by said second edge direction 
differential means or at least one of differential data 

obtained by said differential processing means. 
An apparatus according to claim 2, characterized 
in that said edge direction detection means (46) 

has a function of executing differential processing of 
the reference image data using differential operators in 

x and y directions which are orthogonal to each other, 
and ±45° directions with respect to the x direction, and 

determining a differential direction corresponding to a 
minimum value of differential values obtained by the 

differential processing as the pattern edge direction. 
An apparatus according to claim 2, characterized 
in that said differential processing means (50) 

comprises: 
   a surrounding pixel edge direction differential 

circuit (51) for executing differential processing of 
the reference image data for pixels around a pixel for 

which a differential value is to be calculated using the 
differential operator in the direction along the pattern 

edge direction detected by said edge direction detection 
means; and 

   a first maximum value detection circuit (52) for 
detecting a maximum value from absolute values of 

differential values of the surrounding pixels calculated 
 

by said surrounding pixel edge direction differential 
circuit. 
An apparatus according to claim 2, characterized 
in that said differential processing means (50) 

comprises: 
   a neighboring direction differential circuit (53) 

for executing differential processing of the reference 
image data using differential operators in directions 

neighboring the pattern edge direction detected by said 
edge direction detection means; and 

   a second maximum value detection circuit (54) for 
detecting a maximum value from absolute values of 

differential values calculated by said neighboring 
direction differential circuit. 
An apparatus according to claim 2, characterized 
in that said differential processing means 

comprises: 
   a surrounding pixel edge direction differential 

circuit (51) for executing differential processing of 
the reference image data for pixels around a pixel for 

which a differential value is to be calculated using the 

differential operator in the direction along the pattern 
edge direction detected by said edge direction detection 

means; 
   a first maximum value detection circuit (52) for 

detecting a maximum value from absolute values of 
differential values of the surrounding pixels calculated 

by said surrounding pixel edge direction differential 
circuit; 

   a neighboring direction differential circuit (53) 
for executing differential processing of the reference 

image data using differential operators in directions 
neighboring the pattern edge direction detected by said 

edge direction detection means; and 
   a second maximum value detection circuit (54) for 

detecting a maximum value from absolute values of 
differential values calculated by said neighboring 

 
direction differential circuit. 
An apparatus according to claim 6, characterized 
in that said neighboring direction differential 

circuit (53) executes differential processing of the 
reference image data using differential operators in the 

x and y directions which are orthogonal to each other, 
and the ±45° directions, ±22.5° directions, and ±67.5° 

directions with respect to the x direction. 
An apparatus according to claim 2, characterized 
in that said discrimination means (56, 57) 

comprises: 
   a subtraction circuit (56) for calculating a 

difference for each pixel between the difference data 
obtained by said first edge direction differential 

means, and the differential data obtained by said second 
edge direction differential means or at least one of the 

differential data obtained by said differential 
processing means; and 

   a defect judge circuit (57) for comparing the 
difference for each pixel calculated by said subtraction 

circuit with a predetermined threshold value, and 
determining, to be a defect, the pixel corresponding to 

the difference for each pixel which exceeds the 
threshold value. 
An apparatus according to claim 2, characterized 
by further comprising: 

   a plural direction differential circuit (42) for 
executing differential processing of the inspection 

image data obtained by said image pickup means using 
differential operators in a plurality of directions; 

   a maximum value direction detection circuit (43) 
for detecting a differential direction corresponding to 

a maximum value from differential values calculated by 
said plural direction differential circuit; and 

   a selector (44) for normally selecting the 
differential direction detected by said edge direction 

detection means as the edge pattern direction and 
 

sending the selected direction to said first edge 
direction differential circuit, and for, when a message 

indicating that an edge pattern direction is indefinite 
is received from said edge direction detection means, 

selecting the differential direction detected by said 
maximum value direction detection circuit as the edge 

pattern direction and sending the selected direction to 
said first edge direction differential circuit. 
An apparatus according to claim 9, characterized 
in that said plural direction differential 

circuit (42) executes differential processing of the 
inspection image data using differential operators in 

the x and y directions which are orthogonal to each 
other and the ±45° directions with respect to the x 

direction. 
An apparatus according to claim 2, characterized 
in that said image pickup means comprises: 

   an image sensor (40) for picking up an image of the 
object to be inspected and outputting an image signal of 

a density level; and 
   an A/D converter (41) for Converting the image 

signal output from said image sensor into digital multi-value 
inspection image data corresponding to the density 

level. 
An apparatus according to claim 2, characterized 
in that said reference image generation means 

(45) generates the reference image data on the basis of 
design data of a pattern formed on the object to be 

inspected corresponding to position data of the object 
to be inspected which is to be picked up by said image 

pickup means. 
</CLAIMS>
</TEXT>
</DOC>
