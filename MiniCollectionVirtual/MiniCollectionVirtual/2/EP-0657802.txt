<DOC>
<DOCNO>EP-0657802</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Rotation register for orthogonal data transformation
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F3153	G06F1714	G11C1900	G06F9315	G09G539	G06F1714	G06F930	G06F3153	G11C1900	G06F930	G09G536	G06F9315	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G11C	G06F	G09G	G06F	G06F	G06F	G11C	G06F	G09G	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F3	G06F17	G11C19	G06F9	G09G5	G06F17	G06F9	G06F3	G11C19	G06F9	G09G5	G06F9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
This invention is a rotation register (208) in a data 
processing apparatus (71). The data processing apparatus (71) 

includes a data processor bus (103), the rotation register 
(208) and a register selection circuit. The rotation register 

(208) is embodied by a plurality of data registers (200) each 
having a plurality of equal bit groups. The number of bits 

within each bit group of each data register preferably equals 
the number N of data registers. The register selection 

circuit permits normal register reads and writes via the data 
processor bus. In the preferred embodiment the set of 

registers is dual ported and can be read from or written to 
via two data processor buses (103, 105, 107). The register 

selection circuit also permits special rotational data 
accesses. In a rotation read mode the register selection 

circuit selects noncontiguous bits from a predetermined 
position within each sections for each of the data registers 

for read access. In a rotation write mode the register 
selection circuit selects noncontiguous bits from a 

predetermined position within each sections for each of the 
data registers for write access. The data registers (200) are 

connected together in a loop (208). The most significant bit 
of each data register connected to the least significant bit 

of a sequential data register, with the last data register is 
connected to the first data register. In a register rotation 

mode the register selection circuit rotates bits in each data 

register in around the loop. In the preferred embodiment this 
rotation is by one bit upon each execution of a register 

rotation instruction. In the preferred embodiment of this 
invention, the rotation register (208) is embodied in at least 

one digital image/graphics processor (71, 72, 73, 74) as a 
part of a multiprocessor formed in a single integrated circuit 

(100) used in image processing. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
TEXAS INSTRUMENTS INC
</APPLICANT-NAME>
<APPLICANT-NAME>
TEXAS INSTRUMENTS INCORPORATED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BALMER KEITH
</INVENTOR-NAME>
<INVENTOR-NAME>
BALMER, KEITH
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This application relates to improvements in the
inventions disclosed in the following copending U.S. patent
applications, all of which are assigned to Texas Instruments:
U.S. Patent Application Serial No. 07/437,858 filed
November 17, 1989, now U.S. Patent No. 5,212,777 issued
May 18, 1993, and entitled "MULTI-PROCESSOR RECONFIGURABLE IN
SINGLE INSTRUCTION MULTIPLE DATA (SIMD) AND MULTIPLE
INSTRUCTION MULTIPLE DATA (MIMD) MODES AND METHOD OF
OPERATION".U.S. Patent Application Serial No. 07/437,946 filed
November 17, 1989, now U.S. Patent No. 5,197,140 issued
March 23, 1993 and entitled "SLICED ADDRESSING MULTI-PROCESSOR
AND METHOD OF OPERATION".U.S. Patent Application Serial No. 07/437,857 filed
November 17, 1989, now U.S. Patent No. 5,339,447 issued
August 16, 1994 and entitled "ONES COUNTING CIRCUIT,
UTILIZING A MATRIX OF INTERCONNECTED HALF-ADDERS, FOR
COUNTING THE NUMBER OF ONES IN A BINARY STRING OF IMAGE
DATA".U.S. Patent Application Serial No. 07/437,851 filed
November 17, 1989, now U.S. Patent No. 5,239,654 issued
August 24, 1993 and entitled "DUAL MODE SIMD/MIMD PROCESSOR
PROVIDING REUSE OF MIND INSTRUCTION MEMORIES AS DATA MEMORIES
WHEN OPERATING IN SIMD MODE".U.S. Patent Application Serial No. 07/437,875 filed
November 17, 1989, now U.S. Patent No. 5,226,125 issued
July 6, 1993 and entitled "SWITCH MATRIX HAVING INTEGRATED
CROSSPOINT LOGIC AND METHOD OF OPERATION".The technical field of this invention is the field of
digital data processing and more particularly microprocessor 
circuits, architecture and method for digital data processing
especially digital image/graphics processing. This invention relates to the field of computer graphics
and in particular to bit mapped graphics. In bit mapped
graphics computer memory stores data for each individual
picture element or pixel of an image at memory locations that
correspond to the location of that pixel within the image.
This image may be an image to be displayed or a captured image
to be manipulated, stored, displayed or retransmitted. The
field of bit mapped computer graphics has benefited greatly
from the lowered cost and increased capacity of dynamic random
access memory (DRAM) and the lowered cost and increased
processing power of microprocessors. These advantageous
changes in the cost and performance of component parts enable
larger and more complex computer image systems to be
economically feasible.The field of bit mapped graphics has undergone several
stages in evolution of the types of processing used for image
data manipulation.
</DESCRIPTION>
<CLAIMS>
A data processing apparatus (110) comprising a plurality
of N data registers (200) 
characterised in that
 said
plurality of N data registers (200) are connected to a data

processor bus (201-206) and each data register (200) has a
plurality of I bits divided into M equal bit groups, where N,

I and M are integers and I equals N times M, the data
processing apparatus (110) further comprising a register

selection circuit connected to said N data registers (200),
said register selection circuit being arranged to select a

specified data register for read access via said data
processor bus in a normal register read mode, select a

specified data register for write access via said data
processor bus in a normal register write mode and select I

mutually noncontiguous bits from a predetermined position
within each of said M equal bit groups for each said N data

registers for read access via said data processor bus in
response to a rotation register read mode.
A data processing apparatus as claimed in claim 1,

wherein said register selection circuit is further arranged
to select I mutually noncontiguous bits from a predetermined

position within each of said M sections for each said N data
registers (200) for write access via said data processor bus

in response to a rotation register write mode.
A data processing apparatus as claimed in claim 1 and
further comprising at least one additional data processor

bus, wherein said each of said N data registers is connected
to said at least one additional data processor bus and said

register selection circuit is further arranged to select a
specified data register for read access via a specified one

of said at least one additional data processor bus in an 
additional data processor bus register read mode, and select

a specified data register for write access via a specified
one of said at least one additional data processor bus in an

additional data processor bus register write mode.
A data processing apparatus as claimed in claim 1,

wherein:

said N data registers (200) comprise 32 bit registers
having 4 sections of 8 bits each; and
said register selection circuit is further arranged to
select 32 bits from a first position within each of said 4

sections of each said 8 data registers for read access via
said data processor bus in response to a rotation register

read mode.
A data processing apparatus as claimed in claim 1 and
further comprising:


a source of instructions including at least one normal
register read mode instruction, at least one normal register

write mode instruction and at least one rotation register
read mode instruction;
an instruction decode logic connected to said register
selection circuit and said source of instructions, said

instruction decode logic being arranged to control said
register selection circuit to:


enter said normal register read mode, select an
instruction specified data register and transfer I bits

of data stored in said instruction specified data
register to said data processor bus in response to a

normal register read mode instruction;
enter said normal register write mode, select an
instruction specified data register and transfer I bits

of data from said data processor bus to said instruction 
specified data register in response to a normal register

write mode instruction; and
enter said rotation register read mode, select said
I mutually noncontiguous bits and transfer said selected

I mutually noncontiguous bits from said plurality of
data registers (200) to said data processor bus in

response to a rotation register read mode instruction.
A data processing apparatus as claimed in claim 5 and
further comprising an arithmetic logic unit (230) having at

least two inputs and an output, said arithmetic logic unit
forming an i
nstruction specified combination of said at least
two inputs at said output,

   wherein said source of instructions includes at least
one arithmetic logic unit instruction having source register

fields specifying one of said data registers (200) for input
to each of said at least two inputs of said arithmetic logic

unit (230), a destination register field specifying one of
said data registers (200) for storing said output of said

arithmetic logic unit and an arithmetic logic unit operation
field designating a combination to be formed by said

arithmetic logic unit, and

   said instruction decode logic is further coupled to said
arithmetic logic unit to supply data recalled from said data

registers specified in said source register fields to
corresponding inputs of said arithmetic logic unit, control

said arithmetic logic unit to form said combination specified
in said arithmetic logic unit operation field and store said

output of said arithmetic logic unit in said data register
specified by said destination field in response to an

arithmetic logic unit instruction.
A data processing apparatus as claimed in claim 5,

wherein said at least one rotation register read mode 
instruction includes an indication of said predetermined

position within each of said M sections of said selected I
mutually noncontiguous bits and said instruction decode logic

is arranged to select said I mutually noncontiguous bits
within said plurality of data registers (200) corresponding

to said predetermined position within each of said M sections
indicated in said rotation register read mode instruction.
A data processing apparatus as claimed in claim 1,

wherein said plurality of N data registers (200) are
connected together in a loop with a most significant bit of

one data register connected to a least significant bit of a
sequential data register, a most significant bit of a last

sequential data register connected to a least significant bit
of a first sequential data register and said register

selection circuit is further arranged to rotate the bits in
each data register within said loop in a register rotation

mode.
A data processing apparatus as claimed in claim 8,

wherein said register selection circuit is further arranged
to rotate the bits in each data register one bit position

within said loop in said register rotation mode.
A data processing apparatus (110) comprising a plurality
of N data registers (200) 
characterised in that
 said
plurality of N data registers (200) are connected to a data

processor bus (201-206) and each data register (200) has a
plurality of I bits divided into M equal bit groups, where N,

I and M are integers and I equals N times M, the data
processing apparatus (110) further comprising a register

selection circuit connected to said N data registers (200),
said register selection circuit being arranged to select a

specified data register for read access via said data 
processor bus in a normal register read mode, select a

specified data register for write access via said data
processor bus in a normal register write mode and select I

mutually noncontiguous bits from a predetermined position
within each of said M equal bit groups for each said N data

registers for write access via said data processor bus in
response to a rotation register write mode.
A data processing apparatus as claimed in claim 10 and
further comprising at least one additional data processor bus

wherein said each of said N data registers is connected to
said at least one additional data processor bus and said

register selection circuit is further arranged to select a
specified data register for read access via a specified one

of said at least one additional data processor bus in an
additional data processor bus register read mode, and to

select a specified data register for write access via a
specified one of said at least one additional data processor

bus in an additional data processor bus register write mode.
A data processing apparatus as claimed in claim 10,

wherein said N data registers (200) comprise 32 bit registers
having 4 sections of 8 bits each and said register selection

circuit is further arranged to select 32 bits from a first
position within each of said 4 sections of each said 8 data

registers for read access via said data processor bus in
response to a rotation register read mode.
A data processing apparatus as claimed in claim 10 and
further comprising:


a source of instructions including at least one normal
register read mode instruction, at least one normal register

write mode instruction and at least one rotation register
write mode instruction; 
an instruction decode logic connected to said register
selection circuit and said source of instructions, said

instruction decode logic being arranged to control said
register selection circuit to:


enter said normal register read mode, select an
instruction specified data register and transfer I bits

from said instruction specified data register to said
data processor bus in response to a normal register read

mode instruction,
enter said normal register write mode, select an
instruction specified data register and transfer I bits

from said data processor bus to said instruction
specified data register in response to a normal register

write mode instruction, and
enter said rotation register write mode, select
said I mutually noncontiguous bits and transfer I bits

from said data processor bus to said I mutually
noncontiguous bits of said plurality of N data registers

(200) in response to a rotation register write mode
instruction.
A data processing apparatus as claimed in claim 13 and
further comprising:


an arithmetic logic unit (230) having at least two
inputs and an output, said arithmetic logic unit forming an

instruction specified combination of said at least two inputs
at said output,

   wherein said source of instructions includes at least
one arithmetic logic unit instruction having source register

fields specifying one of said data registers (200) for input
to each of said at least two inputs of said arithmetic logic

unit (230), a destination register field specifying one of
said data registers for storing said output of said

arithmetic logic unit and an arithmetic logic unit operation 
field designating a combination to be formed by said

arithmetic logic unit, and

   said instruction decode logic is further coupled to said
arithmetic logic unit to supply data recalled from said data

registers specified in said source register fields to
corresponding inputs of said arithmetic logic unit, control

said arithmetic logic unit to form said combination specified
in said arithmetic logic unit operation field and store said

output of said arithmetic logic unit in said data register
specified by said destination field in response to an

arithmetic logic unit instruction.
A data processing apparatus as claimed in claim 13,

wherein said at least one rotation register write mode
instruction includes an indication of said predetermined

position within each of said M sections of said selected I
mutually noncontiguous bits and said instruction decode logic

is further arranged to select said I mutually noncontiguous
bits within said plurality of data registers (200)

corresponding to said predetermined position within each of
said M sections indicated in said rotation register write

mode instruction.
A data processing apparatus as claimed in claim 10,

wherein said plurality of N data registers (200) are
connected together in a loop with a most significant bit of

one data register connected to a least significant bit of a
sequential data register, a most significant bit of a last

sequential data register connected to a least significant bit
of a first sequential data register and said register

selection circuit is further arranged to rotate the bits in
each data register within said loop in a register rotation

mode. 
A data processing apparatus as claimed in claim 16,

wherein said register selection circuit is further arranged
to rotate the bits in each data register one bit position

within said loop in said register rotation mode.
</CLAIMS>
</TEXT>
</DOC>
