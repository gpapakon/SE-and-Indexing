<DOC>
<DOCNO>EP-0651323</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Microprocessors load/store functional units and data caches
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F938	G06F1208	G06F1208	G06F938	G06F9312	G06F9312	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F9	G06F12	G06F12	G06F9	G06F9	G06F9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A load/store functional unit and a corresponding 
data cache of a superscalar microprocessor is disclosed. 

The load/store functional unit includes a plurality of 
reservation station entries which are accessed in 

parallel and which are coupled to the data cache in 
parallel. The load/store functional unit also includes 

a store buffer circuit having a plurality of store 
buffer entries. The store buffer entries are organized 

to provide a first in first out buffer where the outputs 
from less significant entries of the buffer are provided 

as inputs to more significant entries of the buffer. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES INC
</APPLICANT-NAME>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CHINNAKONDA MURALI
</INVENTOR-NAME>
<INVENTOR-NAME>
JOHNSON WILLIAM M
</INVENTOR-NAME>
<INVENTOR-NAME>
WITT DAVID B
</INVENTOR-NAME>
<INVENTOR-NAME>
CHINNAKONDA, MURALI
</INVENTOR-NAME>
<INVENTOR-NAME>
JOHNSON, WILLIAM M.
</INVENTOR-NAME>
<INVENTOR-NAME>
WITT, DAVID B.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to microprocessors,
and, more particularly, to providing microprocessors
with high performance data caches and load/store
functional units.Microprocessors are processors which are
implemented on one or a very small number of
semiconductor chips. Semiconductor chip technology is
ever increasing the circuit densities and speeds within
microprocessors; however, the interconnection between
the microprocessor and external memory is constrained by
packaging technology. Though on-chip interconnections
are extremely cheap, off-chip connections are very
expensive. Any technique intended to improve
microprocessor performance must take advantage of
increasing circuit densities and speeds while remaining
within the constraints of packaging technology and the
physical separation between the processor and its
external memory. While increasing circuit densities
provide a path to evermore complex designs, the
operation of the microprocessor must remain simple and
clear for users to understand how to use the
microprocessor.While the majority of existing microprocessors are
targeted toward scalar computation, superscalar
microprocessors are the next logical step in the
evolution of microprocessors. The term superscalar
describes a computer implementation that improves
performance by a concurrent execution of scalar
instructions. Scalar instructions are the type of 
instructions typically found in general purpose
microprocessors. Using today's semiconductor processing
technology, a single processor chip can incorporate high
performance techniques that were once applicable only to
large-scale scientific processors. However, many of the
techniques applied to large scale processors are either
inappropriate for scalar computation or too expensive to
be applied to microprocessors.A microprocessor runs application programs. An
application program comprises a group of instructions.
In running the application program, the processor
fetches and executes the instructions in some sequence.
There are several steps involved in the executing even a
single instruction, including fetching the instruction,
decoding it, assembling its operands, performing the
operations specified by the instruction, and writing the
results of the instruction to storage. The execution of
instructions is controlled by a periodic clock signal.
The period of the clock signal is the processor cycle
time.The time taken by a processor to complete a program
is determined by three factors: the number of
instructions required to execute
</DESCRIPTION>
<CLAIMS>
A load functional unit (134) for performing a plurality of load operations from
memory (150) in parallel, the memory (150) including a store array (192) having a

plurality of banks coupled to the load functional unit in parallel and providing data to
the load functional unit in parallel in response to load signals, the load functional unit

comprising:

a reservation station circuit (124) for temporarily holding load operations, the
reservation station circuit including:


a first reservation station entry (210) and a second reservation station entry
(211), the second reservation station entry being coupled to the first reservation

station entry and providing a reservation station entry output to the first reservation
station entry,
an input signal multiplexer circuit (206, 208), the input signal multiplexer
circuit receiving load signals in parallel and providing a first load signal to the first

and second reservation station entries and a second load signal to the first and second
reservation station entries, and
a reservation station driver circuit (220), the reservation station driver circuit
receiving the data from memory (150) in parallel and providing the data from memory

to first and second result buses in parallel; and
a load control circuit (182) for controlling which of the first and second load
signals is received by the first and second reservation station entries.
Apparatus for performing a plurality of load operations in parallel, the
apparatus comprising:


a load functional unit (134) according to claim 1, wherein the memory is a
data cache (150) and each of the plurality of banks of the store array is
coupled to the first and second reservation station entries (210, 211) of the load

functional unit via respective first and second data cache ports,
the store array providing the data cache data in parallel to the load functional
unit in response to the first and second load signals, 
the data cache including a controller (190) coupled to the load control circuit
(182).
Apparatus as claimed in claim 2 wherein the load control circuit (182) controls
which load signal is received by which of the first and second reservation entries in

response to a type code match signal,

   the type code match signal being generated by the load control circuit when a
type code from a type code bus matches a predetermined load functional unit type

code.
Apparatus as claimed in claim 2 or claim 3 wherein

   the reservation station circuit further includes a third reservation station entry
(212), the third reservation station entry being coupled to the second reservation

station entry (211) and providing a third reservation station entry output to the second
reservation station entry, the third reservation station entry being coupled to the first

reservation station entry (210) and providing the third reservation station entry output
to the first reservation station entry,

   one of the first and second reservation station entries receiving the third
reservation station entry output under control of the load control circuit.
Apparatus as claimed in claim 4 wherein

   the reservation station circuit further includes a fourth reservation station entry
(213), the fourth reservation station entry being coupled to the third reservation

station entry (212) and providing a fourth reservation station entry output to the third
reservation station entry, the fourth reservation station entry being coupled to the

second reservation station entry (211) and providing the fourth reservation station
entry output to the second reservation station entry,

   one of the third and second reservation station entries receiving the fourth
reservation station entry output under control of the load control circuit. 
Apparatus as claimed in any one of the claims 2-5 wherein the reservation
station circuit further includes first and second adder circuits (216, 218) coupled to the

first and second reservation station entries, respectively,

   the first and second adder circuits receiving the load signals and providing
cache address signals based upon the load signals, the cache address signals accessing

respective first and second locations within the data cache store array.
Apparatus as claimed in claim 6 wherein the first and second adder circuits
each include:


a logical address adder (240) for receiving a plurality of address component
signals and providing a logical address signal, and a linear address adder (242) for

receiving the logical address signal and a segment base signal and providing a linear
address.
Apparatus as claimed in claim 7 wherein each address component signal
includes an A operand adder signal, a B operand adder signal and a displacement

adder signal.
Apparatus as claimed in claim 8 wherein the first adder circuit further includes
an A operand multiplexer circuit (244) for receiving an A operand signal and a zero

signal and providing one of these signals as the A operand adder signal in response to
address mode control information from the load controller,

   a B operand multiplexer circuit (246) for receiving a B operand signal and a
misaligned address one signal and providing one of these signals as the B operand

adder signal in response to address mode control information from the load controller,
and

   a displacement multiplexer circuit (248) for receiving a displacement signal, a
four signal and a five signal and providing one of these signals as the displacement

adder signal in response to address mode control information from the load controller. 
Apparatus as claimed in claim 8 wherein the second adder circuit further
includes an A operand multiplexer circuit (244) for receiving an A operand signal and

a zero signal and providing one of these signals as the A operand adder signal in
response to address mode control information from the load controller, and

   a B operand multiplexer circuit (246) for receiving a B operand signal and a
misaligned address one signal and providing one of these signals as the B operand

adder signal in response to address mode control information from the load controller
and wherein a displacement signal is provided directly to the logical address adder.
Apparatus as claimed in any one of the claims 2-10 wherein the plurality of
banks are individually addressable.
Apparatus as claimed in any one of the claims 2-11 wherein

   each of the plurality of banks is coupled to a respective bank address
multiplexer for receiving a first cache address signal and a second cache address

signal from the reservation station circuit,

   the first cache address signal including first address bank select bits, the
second cache address signal including second address bank select bits, each of the

respective bank address multiplexers providing the first and second cache address
signals to the respective bank in response to the first and second address bank select

bits.
Apparatus as claimed in claim 6, wherein each of the plurality of banks is
coupled to a respective bank address multiplexer, each respective bank address

multiplexer receiving the cache address signals, each of the cache address signals
including respectiv
e bank select bits for controlling the respective bank address
multiplexer.
A load/store functional unit (134) of a microprocessor, the load/store
functional unit performing load operations and store operations to a cache (150) in 

parallel, the cache including a plurality of banks, the load/store functional unit
including a load functional unit according to claim 1 and further comprising:


a store buffer circuit (180) for temporarily holding store operations, the store
buffer circuit including first and second store buffer entries (SBO, SB1) for

temporarily holding store operations, at least one of the store buffer entries being
coupled to at least one of the reservation station entries;
the load control circuit (182) further controlling the store buffer entries, the
control circuit being coupled to the reservation station circuit, to the store buffer

circuit and to the cache.
An apparatus for processing information, comprising:

an external memory (101) for holding the information; and
a processor coupled with the external memory via a processor bus, the
processor including
a cache (150) for temporarily storing the information, the cache being coupled
to the external memory, the cache including a plurality of banks; and a load/store

functional unit (134) according to claim 14 for performing load operations and store
operations.
</CLAIMS>
</TEXT>
</DOC>
