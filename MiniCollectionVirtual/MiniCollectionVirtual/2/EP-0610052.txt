<DOC>
<DOCNO>EP-0610052</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for timing control
</INVENTION-TITLE>
<CLASSIFICATIONS>H03K300	H03K500	H03L7093	H03L708	H03K303	H03K3354	H03L7081	H03L7099	H03K513	H03K500	H03K513	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03K	H03K	H03L	H03L	H03K	H03K	H03L	H03L	H03K	H03K	H03K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03K3	H03K5	H03L7	H03L7	H03K3	H03K3	H03L7	H03L7	H03K5	H03K5	H03K5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A timing control apparatus synchronizes the operation 
of logic devices to an external reference clock signal. In 

one aspect, the apparatus includes an oscillator (14) that 
generates an internal reference clock signal (16) and a 

phase comparator (20) that generates an error signal (20c) 
indicating the difference in phase and frequency between the 

internal (16) and external (18) clock signals. A filter 
(12) coupled to the comparator (20) generates plural control 

signals (13a,13b), each having a characteristic, e.g. a 
voltage amplitude, that is a selected function of the error 

signal (20c). The control signals (13a,13b) are routed to 
the oscillator (14), which generates the internal reference 

clock signal (16) as a function of those control signals 
(13a,13b). 


 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SUN MICROSYSTEMS INC
</APPLICANT-NAME>
<APPLICANT-NAME>
SUN MICROSYSTEMS, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BASSETT PAUL D
</INVENTOR-NAME>
<INVENTOR-NAME>
BASSETT, PAUL D.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates the coordination of timing of
electronic sequential logic systems.Computers and other digital systems are constructed from
discrete logic devices, such as processing, memory, and interface
devices. Overall operation of these systems depends on
synchronous operation of the underlying logic devices. Typically,
synchronism is attained by driving a common clock signal to the
devices and strobing their respective input, output and processing
operations based on that signal. In high-speed systems, e.g.,
supercomputers, extraordinary demands are placed on the circuitry
provided with each individual logic device to synchronize its
responses to the reference clock signal.One particular problem is that of "clock skew," which results
from differences in the propagation delays of buffer circuits
within the logic devices. As those skilled in the art will
appreciate, buffers are provided to reduce the capacitive load on
the common, or external, reference clock signal. Clock signals
applied to each device are delayed as they pass through the
respective buffers. The length of the delay varies based on the
specific characteristics of each buffer. Because those
characteristics and the resulting delays tend to vary, it has
generally proven difficult to ensure synchronous operation of
complex, high-speed systems.The art has proposed various timing control systems to
compensate for propagation delay-induced clock skew. One such
solution provides, within each discrete logic device, a phase lock
loop that "locks" onto the external reference clock signal and
generates an internal clock signal that is coordinated, in phase
and frequency, to the external clock. Each device operates from 
its respective internal clock signal instead of the external
clock, from which it is capacitively decoupled and, yet,
coordinated in frequency and phase.Although this solution is adequate for some systems, it is
generally not suitable for digital processing systems that operate
at more than one processing speed or in a noisy environments. In
such circumstances, because a conventional phase lock loop is
constrained by a limited "capture" range, it may not be able to
lock onto the external clock and, therefore, will not be able to
generate a synchronous internal clock signal.In addition to clock skew, further timing control problems
often arise when there are transient variations in power supply
voltage levels. In this regard, it will be appreciate that the
processing speed of many individual logic devices decreases
</DESCRIPTION>
<CLAIMS>
Timing control apparatus for generating an output
clock signal (16) that is coordinated to an input clock

signal (18), comprising:

an oscillator (14) configured to generate said output
clock signal;
a comparator (20) configured to receive said input
clock signal and said output clock signal and to generate

an error signal (20c) representative of a difference in
phase and frequency between said input and output clock

signals; and
a filter (12) configured to receive said error signal
and to generate a plurality of control signals (13a,13b),

each control signal having a voltage amplitude with a
selected mathematical relationship to a respective portion

of the frequency spectrum of said error signal;

   
characterised in that
:

said oscillator (14) comprises a plurality of ring
oscillators (44a-c, 46a-c), each ring oscillator receiving

a signal derived from one of said plurality of control
signals (13a, 13b) so as to generate said output clock

signal to have a frequency and phase that is a function of
a weighted sum of the voltage amplitude of said plural

control signals, with a control signal representing higher
frequency components being weighted less than a control

signal representing lower frequency components.
Timing control apparatus according to Claim 1,
wherein said oscillator comprises a plurality of voltage

controlled current sources (40,42), each responsive to a
respective control signal. 
Timing control apparatus according to Claim 2,
wherein each ring oscillator (44a-c, 46a-c) receives the output of a

respective voltage controlled current source (40, 42), said ring
oscillators being configured respectively to provide said

weighting for generating said output clock signal with a
frequency and phase that are a function of a weighted sum

of the voltage amplitude of said plurality of control
signals( 13a, 13b).
Timing control apparatus according to Claim 3,
wherein said oscillator (14) is configured to generate said

output clock signal with a frequency and phase that is
substantially a function of

four times the current of a first current source (42) and seven
times the current of a second current source (40).
Timing control apparatus according to any preceding
claim, wherein said filter (12) comprises a plurality of

subfilters (22, 24, 26), each responsive to said error signal
and configured to generate a respective one of said unique

control signals (13a, 13b) according to a respective selectable
transfer characteristic.
Timing control apparatus according to claim 5,
wherein said subfilter (22, 24, 26) is configured to generate at least

one of said control signals (13a, 13b) based on a characteristic of a
selected portion of the frequency spectrum of said error

signal (20c). 
Timing control apparatus according to any one of
claims 1 to 4, wherein said filter (12) comprises a low-pass

filter having at least two outputs (13a, 13b) each of which
generates a respective one of said control signals as a

function of a respective portion of the frequency spectrum
of said error signal (20c).
Timing control apparatus according to claim 7,
wherein said low-pass filter (12) is configured to generate at

least one control signal as a function of a first portion
of the frequency spectrum of said error signal (20c) and at

least one other control signal has a function of a second
portion of the frequency spectrum of said error signal (20c).
Timing control apparatus according to any preceding
claim, wherein said respective portions of the frequency

spectrum of said error signal overlap.
Timing control apparatus according to claim 9,
wherein a first portion of the frequency spectrum of said

error signal is 0-10MHz and a second portion of the
frequency spectrum of said error signal is 0-16MHz.
</CLAIMS>
</TEXT>
</DOC>
