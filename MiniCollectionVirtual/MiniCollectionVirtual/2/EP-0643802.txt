<DOC>
<DOCNO>EP-0643802</DOCNO> 
<TEXT>
<INVENTION-TITLE>
OXYGEN SENSOR MONITORING
</INVENTION-TITLE>
<CLASSIFICATIONS>F02D4500	F02D4114	F02D4500	G01M1504	F02D4114	G01M1504	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>F02D	F02D	F02D	G01M	F02D	G01M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>F02D45	F02D41	F02D45	G01M15	F02D41	G01M15	</CLASSIFICATIONS-FOURTH>
<APPLICANTS>
<APPLICANT-NAME>
FORD FRANCE
</APPLICANT-NAME>
<APPLICANT-NAME>
FORD MOTOR CO
</APPLICANT-NAME>
<APPLICANT-NAME>
FORD WERKE AG
</APPLICANT-NAME>
<APPLICANT-NAME>
FORD FRANCE S. A.
</APPLICANT-NAME>
<APPLICANT-NAME>
FORD MOTOR COMPANY LIMITED
</APPLICANT-NAME>
<APPLICANT-NAME>
FORD-WERKE AKTIENGESELLSCHAFT
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
GOPP ALEXANDER YURI
</INVENTOR-NAME>
<INVENTOR-NAME>
GOPP, ALEXANDER, YURI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to emission control of internal 
combustion engines. In particular, the invention relates to 
on-board monitoring of a primary fuel control oxygen (lambda 
or EGO) sensor for malfunction. Various government regulations provide test conditions 
and monitoring methods for on-board monitoring of emission 
related devices. With respect to EGO sensor malfunction 
monitoring, the regulations suggest monitoring output 
voltage and response rate of the EGO sensors. Response rate 
is a time required for the EGO sensor to switch from lean to 
rich once it is exposed to a richer than stoichiometric 
exhaust gas or vice versa. A response rate check evaluates 
the portions of the sensor dynamic signal that are most 
affected by EGO sensor malfunctions such as aging, 
poisoning, or manufacturing deficiencies. A deficiency of such methods is that during the test 
the fuel control system operates in an open loop control 
mode, and not a closed loop control made. As a result, 
air/fuel ratio tends to shift away from stoichiometry. 
Further, the particular selected air/fuel ratio swing and 
frequency greatly influence results of the test. The 
problem and disadvantages discussed above are overcome by 
this invention. This invention provides a system for on-board oxygen 
sensor monitoring by measuring a sensor parameter during 
closed loop operation of the fuel control system (Compare with US-A-4 177 787). The 
parameter, a time constant Tc, is the equivalent to and the 
source of a limited sensor response rate. Thus, the 
invention provides a system for an alternative measurement 
of the EGO sensor response rate, and includes both a method 
and apparatus for EGO sensor monitoring employing an 
air/fuel ratio closed loop control system according to the independent claims. The theoretical 
foundation of the method is as follows. A vehicle exhaust system, having fuel as an input and 
exhaust gas oxygen concentration as an output, includes 
engine cylinders, an exhaust manifold, associated exhaust  
 
piping, and an EGO sensor located in piping after the 
exhaust manifold. In terms of a control system, a vehicle 
exhaust system may be described as a transport time delay Td 
and a first order low pass filter connected in series. The 
physical nature of the transport time delay Td is due to 
combustion time inside a combustion cylinder, combustion gas 
transport delay time between the cylinder and the EGO sensor 
through the exhaust manifold and the piping, and to a lesser 
extent the operating time of
</DESCRIPTION>
<CLAIMS>
A method for monitoring an internal combustion 
engine on-board oxygen sensor, said engine (11) having 

exhaust means (12), an exhaust gas oxygen (EGO) sensor (14) 
associated with the exhaust means (12) and an air/fuel ratio 

controller (15) for controlling operation of the engine 
(11), the A/F controller using the EGO sensor as the control 

input, said method including the steps: 

measuring average first limit cycle period with a first 
gain of said air/fuel ratio controller (15); 
changing parameters of said air/fuel ratio controller 
to a second gain and initiating a second limit cycle with a 

different limit cycle period; 
measuring an average second limit cycle period with the 
second gain of said air/fuel ratio controller; 
calculating a time constant of said EGO sensor (14) as 
a function of said first and second limit cycle periods; and 
comparing the calculated time constant with a 
predetermined maximum allowed time constant. 
A method for monitoring an internal combustion 
engine on-board oxygen sensor as claimed in claim 1, 

including the steps of: 

determining test entry conditions; 
determining whether a test using a test routine is 
required; 
if a test routine required, determining engine 
operating parameters; 
determining whether the engine operating parameters are 
within predetermined limits; 
if the engine operating parameters are not within 
predetermined limits terminating the test and exiting the 

test routine; 
if the engine operating parameters are within 
predetermined limits determining whether or not to start the 

test;  
 
if the test is started, determining whether there is a 
first period if not, determining whether there is a second 

period, if not determining whether there is EGO switching, 
if not returning to the start of the test; 
if there is EGO switching setting a second period; 
resetting a count start timer; returning to the start 
of the test; if there is a second period determining whether 

there is EGO switching, if not returning to the start of the 
test; if yes, incrementing a count so that N = N + 1; 

comparing the value of N to twice a preset second number of 
limit cycles, if it is not equal, returning to the start of 

the test, if it is equal calculating a second limit cycle 
period; 
calculating a filter time constant, T
c
; 
checking the filter time constant T
c
 against a maximum 
time constant; 
if T
c
 is not larger, resetting a test required flag; 
if it is larger, setting an EGO failed flag and then 
resetting the test required flag; 
if the first period determination is yes, checking to 
see if there is EGO switching, if not returning to the start 

of the test, if yes, incrementing the count so that N = N + 
1 and comparing N to twice a preset first number of limit 

cycles; 
if the comparison is not equal, returning to the start 
of the test; 
if the comparison is equal calculating a first limit 

cycle T
L1
; 
resetting a first period flag; 
changing engine operating control parameters; 
returning to the start of the test; 
if the test is not started checking to see if there is 
EGO switching if not returning to the start of the test; if 

there is EGO switching setting a test flag, a first period 
flag, and resetting a second period flag; 
resetting a count start timer; and 
returning to the start of the test. 
A method for monitoring an internal combustion 
engine on board oxygen sensor, as claimed in claim 1, 

including the steps of: 

determining if a test is required; 
if not, exiting from a test routine; 
if yes, determining engine operating parameters; 
determining if the engine operating parameters are 
satisfactory; if not terminating the test; if yes, 

determining whether a test has been started; 
if not determining if there has been EGO switching; 
if yes looking at a setting of a first period flag; 
if there has been no EGO switching exiting from the 
test; 
if there has been EGO switching setting a test start 
flag, setting a first period flag and resetting a second 

period flag; 
resetting a counter and starting a timer; 
exiting from the sequence; 
if the test has been started, investigating whether the 
first period flag has been set; 
if yes determining whether there was EGO switching; 
if yes incrementing the first counter so that 
n = n + 1; 
determining if n is equal to twice a first number of 
limit cycles; 
if yes calculating a first limit cycle period; 
resetting the first period flag; 
changing the controller parameters; and 
exiting from the routine. 
A method for monitoring an internal combustion 
engine on board oxygen sensor as claimed in claim 3, further 

comprising the steps of: 

if the first period flag is not set, checking to see 
whether a second period flag had been set; 
if the EGO sensor has not switched exiting from the 
routine; 
if n does not equal twice the first number of limit  
 

cycles exiting from the routine; 
if the second period flag has not been set, checking to 
see if there is EGO switching, if there has not been EGO 

switching exiting from the routine; 
if there has been EGO switching, setting a second 
period flag; 
resetting the second counter and starting the timer; 
and exiting from the test routine. 
A method for monitoring an internal combustion 
engine on board oxygen sensor as claimed in claim 4, further 

comprising the steps of: 

if the second period flag has been set, checking to see 
if there was EGO switching; 
if not, exiting from the routine; 
if yes, incrementing the second counter so that 
N = N + 1; 
checking to see if N equals twice a present second 
number of limit cycles; 
if not, exiting the test routine; 
if yes, calculating a second limit cycle period; 
calculating a maximum filter time constant T
c
; 
determining whether T
c
 is greater than a maximum tine 
constant T
max
; 
if yes, setting an EGO failed flag; 
if no, resetting the test required flag; and 
exiting from the test routine. 
An apparatus monitoring an internal combustion 
engine on-board oxygen sensor, the engine having exhaust 

means, an exhaust gas oxygen (EGO) sensor associated with 
the exhaust means and an air/fuel ratio controller for 

controlling operation of the engine, and wherein the A/F 
controller uses the EGO sensor as the control input, said 

apparatus including: 

means for measuring an average first limit cycle period 
with a first gain of said air/fuel ratio controller; 
means for changing parameters of said air/fuel ratio  
 

controller to a second gain and initiating a second 
limit cycle with a different limit cycle period; 
means for measuring the average second limit cycle 
period with the second gain of said air/fuel ratio 

controller; 
means for calculating the time constant of said oxygen 
sensor as a function of said first and second limit cycle periods, 

means for comparing the calculated time constant with 
the maximum allowed time constant. 
Apparatus for monitoring an internal combustion 
engine on board oxygen sensor, as claimed in claim 6, 

including: 

means for determining if a test is required; 
if not, means for exiting from a test routine; 
if yes, means for determining engine operating 
parameters; 
means for determining if the engine operating 
parameters are satisfactory; if not, means for terminating 

the test; if yes, means for determining whether a test has 
been started; 
if not, means for determining if there has been EGO 
switching; 
if yes, means for looking at a setting of a first 
period flag; 
if there has been no EGO switching, means for exiting 
from the test; 
if there has been EGO switching, means for setting a 
test start flag, setting a first period flag and resetting a 

second period flag; 
means for resetting a counter and starting a timer; 
means for exiting from the sequence; 
if the test has been started, means for investigating 
whether the first period flag has been set; 
if yes, means for determining whether there was EGO 
switching; 
if yes, means for incrementing the first counter so 
that n = n + 1;  

 
means for determining if n is equal to twice a first 
number of limit cycles; 
if yes, means for calculating a first limit cycle 
period; 
means for resetting the first period flag; 
means for changing the controller parameters; and 
means for exiting from the routine. 
An apparatus for monitoring an internal combustion 
engine on board oxygen sensor as claimed in claim 7 further 

comprising: 

if the first period flag is not set, means for checking 
to see whether a second period flag has been set; 
if the EGO sensor has not switched, means for exiting 
from the routine; 
if n does not equal twice the first number of limit 
cycles, means for exiting from the routine; 
if the second period flag has not been set, means for 
checking to see if there is EGO switching, if there has not 

been EGO switching, means for exiting from the routine; 
if there has been EGO switching, means for setting a 
second period flag; 
means for resetting the second counter and starting the 
timer; and 
means for exiting from the test routine. 
An apparatus for monitoring an internal combustion 
engine on board oxygen sensor as claimed in claim 8 further 

comprising: 

if the second period flag has been set, means for 
checking to see if there was EGO switching; 
if not, means for exiting from the routine; 
if yes, means for incrementing the second counter so 
that N = N + 1; 
means for checking to see if N equals twice a preset 
second number of limit cycles; 
if not, means for exiting the test routine; 
if yes, means for calculating a second limit cycle  
 

period; 
calculating a maximum filter time constant T
c
; 
means for determining whether T
c
 is greater than a 
maximum time constant; 
if yes, means for setting an EGO failed flag; 
if no, means for resetting the test required flag; and 
means for exiting from the test routine. 
</CLAIMS>
</TEXT>
</DOC>
