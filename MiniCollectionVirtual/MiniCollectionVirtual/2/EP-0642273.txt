<DOC>
<DOCNO>EP-0642273</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processing apparatus concealing errors in motion image data
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M1300	H04N732	H04N764	H04N768	H04N732	H03M1300	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H04N	H04N	H04N	H04N	H03M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M13	H04N7	H04N7	H04N7	H04N7	H03M13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image processing apparatus which conceals image data 
in accordance with motion data includes an input unit for 

inputting information data including motion data and image 
data encoded in accordance with the motion data, a detection 

unit for detecting error codes in the image data, and a concealment 
unit for concealing the image data by replacing it 

by image data of an adjacent picture frame extracted using 
the motion data. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SHIKAKURA AKIHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIKAKURA, AKIHIRO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to an image processing apparatus,
and more particularly, to an image processing apparatus
for decoding encoded data subjected to motion-compensation
predictive encoding.Recently, in the field of digital transmission of
moving images, high-efficiency encoding techniques have been
intensively studied, and "image-encoding/decoding apparatuses
using motion-compensation predictive encoding", in
which excellent image transmission can be performed even at
low data rates, have been realized.In such an apparatus, a digitized image signal is first
subjected to high-efficiency encoding at the transmission
side for performing encoding, so that the amount of information
is compressed and reduced.Motion-compensation predictive encoding is adopted as 
the encoding method for the apparatus in order to improve
the encoding efficiency. Motion information, including motion
vectors, and encoded data are obtained in this processing.The motion information and the encoded data are subjected
to error correction encoding by adding parity bits
thereto, and are transmitted to the reception side for performing
decoding via a transmission channel. At the reception
side, error correction for codes having the parity bits
is performed for the received data string, and the resultant
data is input to a high-efficiency decoding circuit.The high-efficiency decoding circuit expands the amount
of information of the received data in order to return the
data to the original digital image signal, which is converted
into an analog image signal, and the analog image
signal is output.When all errors produced in the transmission channel
cannot be completely corrected by error correction processing
at the reception side, the above-described high-efficiency
decoding circuit cannot exactly decode image data
if an uncorrectable error is present in either the motion
information or the encoded data. In such a case, degradation
in the reproduced image is minimized by replacing the corresponding
image data by corrected data (which may comprise
concealed data from another frame) and outputting the concealed 
cealed data. More specifically, the image data is
concealed, for example by being replaced by image data
in the immediately preceding field or frame.However, in the conventional method of decoding
image data at the reception side of the above-described
high-efficiency encoding/decoding apparatus, even if an
uncorrectable error is produced only in encoded data, all
data including motion information, in which no
uncorrectable error
</DESCRIPTION>
<CLAIMS>
An image processing apparatus comprising:

input means (30) for inputting information data
including motion data and image data encoded in

accordance with the motion data;
detection means (32) for detecting error codes in
the information data; and
concealment means (32,39,41) for concealing the
information data in accordance with the output of said

detection means;

characterised in that:
said detection means (32) are adapted to operate on
information data which includes first error detecting

codes for detecting error codes in the motion data alone
and second error detecting codes for detecting error

codes in the motion data and the image data;
said detection means in operation detecting if there
is an error in the motion data by using the first and

second error detecting codes, and detecting if there is
an error in the image data by using the second error 

detecting codes, and

wherein said concealment means (32,39,41) performs
different concealing processes for concealing erroneous

image data on the basis of whether or not there is an
error in the motion data corresponding to the erroneous

image data.
Apparatus according to claim 1, wherein said
concealment means conceals erroneous image data by

replacing it by image data at the same position of an
adjacent picture, in the case where the error codes are

present in the image data and the motion data

corresponding to the image data, and conceals the
erroneous image data by replacing it with the image data

extracted from the adjacent image data using the motion
data, in the case where the error codes are present in

the image data but not in the motion data corresponding
to the image data.
Apparatus according to claim 1 or claim 2, wherein
said concealment means conceals the erroneous motion data

by replacing it with the motion data of another block, in 
the case where the error codes are not present in the

image data and are present in the motion data
corresponding to the image data.
Apparatus according to any preceding claim, wherein
the image data comprises data encoded in units of a block

of pixels.
Apparatus according to claim 4, wherein the motion
data is detected in units each of a plurality of blocks.
Apparatus according to any preceding claim, wherein
the motion data comprises motion vector data.
A method of image processing comprising:

inputting information data including motion data and
image data encoded in accordance with the motion data the

information data including first error detecting codes
for detecting error codes in the motion data alone and

second error detecting codes for detecting error codes in
the motion data and the image data; 
utilising detection means in a detection step to
detect error codes in the information data; and
a concealing step of concealing the information data
in accordance with the output of said detection means;

wherein:
in said detection step the detection means detects
if there is an error in the motion data by using the

first and second error detecting codes, and detects if
there is an error in the image data by using the second

error detecting codes, and said concealing step comprises
performing different concealing processes for concealing

erroneous image data on the basis of whether or not there
is an error in the motion data corresponding to the

erroneous image data.
A method according to claim 7, wherein erroneous
image data is concealed by replacing it with image data

at the same position of an adjacent picture in the case
where the error codes are present both in the image data

and the motion data corresponding to the image data, or
is concealed by replacing it with the image data 

extracted from the adjacent image data using the motion
data in the case where the error codes are present in the

image data but not in the motion data corresponding to
the image data.
A method according to claim 8, wherein the erroneous
motion data is concealed by replacing it with the motion

data of another block in the case where error codes are
not present in the image data but are present in the

motion data corresponding to the image data.
A method according to any one of claims 7 to 9,
wherein the image data comprises data encoded in block

units of pixels.
A method according to claim 10, wherein the motion
data is detected in units each of which comprises a

plurality of blocks.
A method according to any one of claims 7 to 11,
wherein the motion data comprises motion vector data.
</CLAIMS>
</TEXT>
</DOC>
