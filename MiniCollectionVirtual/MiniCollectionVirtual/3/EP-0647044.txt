<DOC>
<DOCNO>EP-0647044</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Communication controller and communication control method.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1300	G06F1300	H04L1210	H04L1210	H04L1226	H04L1226	H04L2908	H04L2908	H04L2914	H04L2914	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	H04L	H04L	H04L	H04L	H04L	H04L	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F13	G06F13	H04L12	H04L12	H04L12	H04L12	H04L29	H04L29	H04L29	H04L29	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A portable terminal unit (3) is connected to a 
network such as a LAN to communicate with a host 

apparatus. The terminal unit never carries out useless 
communication control when the terminal unit is not 

connected to a transmission line (5) of the LAN or to an 
external power source (6). The terminal unit (3) has a 

decision unit (1) for determining whether or not the 
terminal unit is connected to the transmission line (5) 

and/or a decision unit (4) for determining whether or not 
the terminal unit is connected to the external power 

source (6). The terminal unit also has a communication 
controller (2) for starting to communicate with the host 

apparatus when the decision units (1, 4) determine that 
the terminal unit is connected to the transmission line 

and/or to the external power source. 

 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
FUJITSU LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
FUJITSU LTD
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SETO CHIAKI C O FUJITSU LTD
</INVENTOR-NAME>
<INVENTOR-NAME>
SETO CHIAKI C O FUJITSU LTD
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to communication 
control, such as protocol driver control, carried out by 
a terminal unit connected to a local area network, and 
particularly, to a protocol driver controller and a 
protocol driver control method employed by a portable 
terminal unit driven by battery. A conventional terminal unit carries out 
protocol driver control such as file transfer control 
with no regard to whether or not the terminal unit is 
connected to a transmission line of a local area network 
(LAN). The terminal unit is designed to operate 
continuously once it is connected to the LAN transmission 
line and is provided with no measure to deal with 
disconnection from the transmission line during 
operation. The terminal unit has a display panel to 
display communication conditions so that a user may know 
to some extent if an abnormality such as breakage of a 
cable to connect the terminal unit to the LAN 
transmission line occurs. In this case, the terminal 
unit continuously loads and executes a program to 
communicate with the LAN irrespective of the trouble in 
the transmission line because it has no means to test it. Portable terminal units driven by battery are 
widely used. To communicate with a host apparatus 
connected to the LAN, they are connected to transmission 
lines of the LAN. When no communication is required, 
they are disconnected from the transmission lines and are 
used indoors and outdoors to enter data. These terminal units start to communicate with  
 
the host apparatus with no regard to whether or not they 
are able to communicate. Accordingly, the terminal units 
will uselessly control protocol drivers if no connection 
is established between them and the host apparatus 
through the LAN transmission lines. The portable terminal units have a display 
panel of limited size to display a limited quantity of 
information compared with stationary type terminal units. 
Accordingly, the portable terminal units are mainly used 
to simply transmit entered data to the host apparatus. 
In this case, it is required to automatically transmit 
predetermined data from the portable terminal units to 
the host apparatus. The conventional terminal units, however, are 
incapable of confirming whether or not they are connected 
to the LAN transmission lines when automatically 
transferring data to the host apparatus. If the batteries in the portable terminal units 
become exhausted, communication with the host apparatus 
will be interrupted and data stored in the terminal units 
will
</DESCRIPTION>
<CLAIMS>
A terminal unit (3) connected to a network, for 
communicating with a host apparatus connected to the 

network, comprising: 
   decision means (1) for determining whether 

or not the terminal unit (3) is connected to a 
transmission line (5) of the network; and 

   communication control means (2) for 
starting to communicate with the host apparatus if the 

decision means (1) determines that the terminal unit (3) 
is connected to the transmission line (5). 
The terminal unit according to claim 1, further 
comprising output means for providing an alarm if the 

decision means (1) determines that the terminal unit (3) 
is not connected to the transmission line (5). 
The terminal unit according to claim 1, 
wherein: 

   the decision means (1) determines that the 
terminal unit (3) is connected to the transmission line 

(5) and provides a connection signal upon receiving an 
acknowledge signal from an apparatus connected to the 

transmission line (5); and 
   the communication control means (2) starts 

to communicates with the host apparatus in response to 
the connection signal. 
The terminal unit according to any one of 
claims 1 to 3, wherein the terminal unit is a portable 

terminal unit to be removably connected to the 
transmission line (5). 
A terminal unit (3) connected to a network and 
receiving power from an external power source (6), for 

communicating with a host apparatus connected to the 
network, comprising: 

   decision means (4) for determining whether 
or not the terminal unit (3) is connected to the external 

power source (6); and 
   communication control means (2) for 

 
starting to communicate with the host apparatus if the 

decision means (4) determines that the terminal unit (3) 
is connected to the external power source (6). 
The terminal unit according to claim 5, further 
comprising output means for providing an alarm if the 

decision means (4) determines that the terminal unit (3) 
is not connected to the external power source (6). 
The terminal unit according to claim 5, wherein 
the decision means (4) is a power source controller for 

detecting and controlling power from the external power 
source (6). 
The terminal unit according to any one of 
claims 5 to 7, wherein the terminal unit is a portable 

terminal unit to be removably connected to the 
transmission line (5) and having an internal power 

source. 
A portable terminal unit removably connected to 
a network, to communicate with a host apparatus connected 

to the network, comprising: 
   a communication interface for detecting a 

link connection signal to confirm that the terminal unit 
is connected to a transmission line of the network, and 

controlling communication with the host apparatus; 
   a power source controller for determining 

whether or not the terminal unit is connected to an 
external power source before communicating with the host 

apparatus; 
   a connection state storage unit for 

storing the states of a transmission line connection 
signal from the communication interface as well as a 

power source connection signal from the power source 
controller; and 

   a communication controller for confirming 
connection states to the transmission line and external 

power source according to the data in the storage unit, 
and, according to the connection states, instructing the 

communication interface to control a protocol driver to 
 

communicate with the host apparatus. 
A method of controlling a portable terminal 
unit that is removably connected to a transmission line 

of a network and communicates with a host apparatus 
connected to the network, comprising the steps of: 

   determining whether or not the terminal 
unit is connected to the transmission line according to a 

link connection signal provided through the transmission 
line; 

   providing an alarm signal to ask an 
operator to connect the terminal unit to the transmission 

line if it is determined that the terminal unit is not 
connected to the transmission line; and 

   activating a protocol driver to 
communicate with the host apparatus if it is determined 

that the terminal unit is connected to the transmission 
line. 
A method of controlling a portable terminal 
unit that i
s removably connected to a transmission line 
of a network and communicates with a host apparatus 

connected to the network, comprising the steps of: 
   determining whether or not the terminal 

unit is connected to an external power source; 
   providing an alarm signal to ask an 

operator to connect the terminal unit to the external 
power source if it is determined that the terminal unit 

is not connected to the external power source; 
   determining, if it is determined that the 

terminal unit is connected to the external power source, 
whether or not the terminal unit is connected to the 

transmission line according to a link connection signal 
provided through the transmission line; 

   providing an alarm signal to urge the 
operator to connect the terminal unit to the transmission 

line if it is determined that the terminal unit is not 
connected to the transmission line; and 

   activating a protocol driver to 
 

communicate with the host apparatus if it is determined 
that the terminal unit is connected to the transmission 

line. 
The method according to claim 10 or 11, wherein 
the alarm signal is a message displayed on a display 

panel of the portable terminal unit. 
The method according to claim 10 or 11, wherein 
the alarm signal is intermittent alarm sound produced by 

the portable terminal unit. 
The method according to claim 10 or 11, wherein 
the alarm signal turns on an alarm lamp arranged on the 

portable terminal unit. 
</CLAIMS>
</TEXT>
</DOC>
