<DOC>
<DOCNO>EP-0633395</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Apparatus for controlling speed of internal combustion engine
</INVENTION-TITLE>
<CLASSIFICATIONS>G05B1304	F02D4114	F02P515	F02P515	F02D4116	F02B7502	F02B7502	G05B1304	F02D4116	F02D4114	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G05B	F02D	F02P	F02P	F02D	F02B	F02B	G05B	F02D	F02D	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G05B13	F02D41	F02P5	F02P5	F02D41	F02B75	F02B75	G05B13	F02D41	F02D41	</CLASSIFICATIONS-FOURTH>
<APPLICANTS>
<APPLICANT-NAME>
DENSO CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
DENSO CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
IKEDA HIROSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWAI KATSUHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
NAKAI KAZUHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKASU YASUHITO
</INVENTOR-NAME>
<INVENTOR-NAME>
IKEDA, HIROSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
KAWAI, KATSUHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
NAKAI, KAZUHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKASU, YASUHITO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an apparatus for controlling the
speed of an internal combustion engine, and more particularly to an
engine speed control apparatus for optimally controlling the engine
speed in accordance with the modern control theory.Such an engine speed control apparatus based on the modern
control theory is provided with an observer for estimating an
internal state on the basis of control input and output information,
the control input being the intake air quantity or the ignition timing
and the control output being the engine speed (engine idle -speed)
and the air fuel ratio as disclosed in the Japanese Patent Publication
No. 63-25175. On the other hand, although representing the
internal state of a speed controlling system by state variables to
determine a necessary control input (controlled quantity of the
intake air), the modern control provides a problem that the state
variables are required to be obtained by constructing an observer
and the construction of the observer takes much time and much
trouble because requiring to select adequate parameters and the
like by a number of simulations. In addition, since the observer is
constructed in correspondence with a dynamic model of a
controlled object, the observation of the state variables depends
upon only the accuracy in constructing the dynamic model of the
speed control system and hence, for heightening the observation 
accuracy of the state variables due to the observer, the modeling of
the controlled object is required to be effected with a high accuracy
whereby the model becomes complicated so as to make it difficult
to perform the control in practice because of enlarging the load in
the control calculations and the like. Thus, the Japanese Patent
provisional Publication No. 64-8336 (corresponding to the US
Patent No. 4,785,780) discloses an idle speed control apparatus
which controls the engine idle speed by controlling the intake air
amount (one control input) without using the observer. There is a
problem which arises with such an idle speed control apparatus,
however, in that there is a limit in the responsibility due to the
delay (dead time) of the air system (surge tank capacity, stroke and
others) and the exceeding of this limit makes it difficult to perform
the control on the basis of two control inputs including the ignition
timing. Moreover, in the case of performing the optimal control on
the basis of the multi-input (plural kinds of control amounts)
system in accordance with the conventional technique, the
calcula
</DESCRIPTION>
<CLAIMS>
A speed control apparatus of an internal combustion engine
for determining a speed of said engine on the basis of a model set

with a multi-input and one- or multi-output system which is
responsive to a first control input having a dead time at its input

section and a second control input not having a dead time to output
at least an engine speed as an output amount, said apparatus

comprising:

   state variable setting means for setting said engine speed and
said first and second control inputs as state variables representing

an internal state of said model;

   first calculating means for calculating said first control input
on the basis of optimal feedback gains predetermined in accordance

with said model, said state variables, and said past first control
input corresponding to said dead time; and

   second calculating means for calculating said second control
input on the basis of said optimal feedback gains predetermined in

accordance with said model, and said state variables.
A speed control apparatus of an internal combustion engine
for determining a speed of said engine on the basis of a model set

with 
m
-input 
t
-output control system which is responsive to 
m

control inputs having a dead time to generate 
t
 outputs including an
engine speed and which is expressed in accordance with a state

equation (A), wherein, with respect to said 
m
 -input 
t
-output control 
system, a feedback control system for controlling said outputs to

target values is determined as an augmented system in accordance
with an equation (B), an optimal augmented system control input

Ve (k) for minimizing an evaluation function J indicated by an
equation (C) is determined in accordance with an equation (D), and

an i
th
 ui (k) is determined on the basis of a matrix Hi defined by an
equation (E) in accordance with an equation (F):


X (k+1) = AX (k) + BV (k)
Y (k) = CX (k)

where

V
T
 (k) = [u
1
 (k-L
1
) u
2
 (k-L
2
) ... u
i
 (K-L
i
) ... u
m
 (k-L
m
) ];
X represents a state variable matrix which is a (n x 1) matrix;
V represents an input matrix which is a (m x 1) matrix;
Y represents an output matrix which is a (t x 1) matrix;
A represents a matrix which is a (n x n) matrix;
B represents a matrix which is a (n x m) matrix;
C represents a matrix which is a (t x n) matrix; and
L
1
, L
2
, ..., L
m
 represent the number of samples corresponding
to a dead time existing in control inputs u
1
, u
2
, ..., u
m
,
Z (k+1) = Ae Z (k) + Be Ve (k)
E (k) = Ce Z (k)
 
where Z (k) represents a state variable matrix and E (k) represents

a deviation matrix:

E (k) = R - Y (k)

   (R : target value);

and, Ve (k) represents an augmented input matrix:

Ce = [
0
 I
t
]

   (I
t
 : unit matrix of (t x t))

 
here, 
0
 represents a zero matrix,

Ve (k) = - F • Z (k)

where F represents an optimal feedback gain matrix:


and P is the solution of the following Riccati equation:

P = Ae
T
 PAe - Ae
T
 PBe (Be
T
 PBe + R)
-1
 Be
T
 PAe + Q,
Hi = [D
i
(L
i
)
 D
i
(L
i
-1)
 • B
i
 D
i
(L
i
-2)
 • B
i
 ... ... D
i
 • B
i
 B
i
]

where

Be = [B1 B2 ... Bm]
</CLAIMS>
</TEXT>
</DOC>
