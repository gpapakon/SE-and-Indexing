<DOC>
<DOCNO>EP-0679994</DOCNO> 
<TEXT>
<INVENTION-TITLE>
High availability computer system
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F15177	G06F9445	G06F1516	G06F9445	G06F1120	G06F1516	G06F1120	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F15	G06F9	G06F15	G06F9	G06F11	G06F15	G06F11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A high-availability computer system comprises at least two 
processors, each having its own private disk drive, and a 

shared disk drive, accessible by both processors. Each of 
the private disk drives holds system files for establishing a 

processor as a secondary processor, and the shared disk drive 
holds system files for establishing a processor as a primary 

processor. When it boots up, each processor decides whether 
to use the system files from its private disk so as to become 

a secondary, or to use the system files from the shared disk 
so as to become the primary. As as result, after a system 

failure or reboot, either processor can pick up the 
characteristics of the the primary processor, and will have 

all the most up-to-date primary information available to it. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
INT COMPUTERS LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL COMPUTERS LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SPEED PAUL FORSYTH
</INVENTOR-NAME>
<INVENTOR-NAME>
TAYLOR RICHARD NORCOTT
</INVENTOR-NAME>
<INVENTOR-NAME>
SPEED, PAUL FORSYTH
</INVENTOR-NAME>
<INVENTOR-NAME>
TAYLOR, RICHARD NORCOTT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to computer systems. More specifically,
the invention is concerned with a high-availability computer
system comprising two or more processors, one of which acts as a
primary processor, and another of which acts as a secondary or
backup processor. The intention behind such a system is that,
if the primary processor fails, the secondary processor can take
over the total identity of the failed processor, thus ensuring
that there is no loss in availability of the system to the user.
Typically, in such a system, each processor has its own private
disk drive or drives, and the system also includes one or more
shared disk drives which are shared between the processors.T. Imai et al, "TOM: Total Operating Management on ACOS-4", NEC
Research and Development no 92, 1 January 1989, Tokyo, Japan,
pages 130-135, describes a computer system comprising two
loosely-coupled processors in hot standby status. Each computer
is monitored by an inter-host communication (IHC) component of
the other. In operation, a first computer manages two schedule
files. If the first computer goes down, a hot standby action is
executed and then the other computer connects to one of these
schedule files and continues running instead of the first
computer.The invention is particularly, although not exclusively,
concerned with computer systems running under the UNIX operating
system (UNIX is a trademark of Unix System Laboratories). Much
of a UNIX system's identity is contained within the directory
/etc, which is part of the root filesystem and is normally held 
on the processor's private system disk. This includes
information about users and their passwords, the system's
network address, details of which filesystems are currently
mounted and available to the system, and the startup processes
of specific applications. However, a problem with this is that,
when the secondary processor takes over from a failed primary
processor, it may not have the most up-to-date version of this
information available on its private system disk. For example,
if users have changed their passwords, the new password
information will be available only on the system disk of the
failed processor.
The object of the present invention is to provide a novel way of
solving this problem.According to the invention there is provided a computer system
according to Claim 1.As will be seen, the invention allows either processor to pick
up the characteristics of the primary processor, and any changes
made to primary information (such as a user changing a
</DESCRIPTION>
<CLAIMS>
A computer system comprising at least two processors
(10,11), each having its own private disk drive (14), and a

shared disk drive (15), accessible by both said processors
(10,11); characterised in that:


(a) each of the private disk drives (14) holds system files for
establishing a processor (10, 11) as a secondary processor, and the

shared disk drive (15) holds system files for establishing a
processor (10, 11) as a primary processor;
(b) each processor (10,11) has means for deciding, when that
processor is closed down, whether it should become the primary

processor the next time it is booted up, and for storing an
indication of this decision in its own private disk drive (14);

and
(c) each processor (10,11) also has means for using the stored
indication, when that processor is booted up, to determine

whether to use the system files from its private disk drive (14)
so as to become a secondary processor, or to use the system

files from the shared disk drive (15) so as to become the
primary processor.
A computer system according to Claim 1 wherein the system includes
interlock means for ensuring that both said processors (10,11)

do not simultaneously use said system files on said shared disk
drive (15).
A computer system according to either preceding claim wherein each of
said processors (10,11) runs under the UNIX operating system. 
A computer system according to Claim 3 wherein initially each of said
processors (10,11) forms a symbolic link to map file names in

the 
/etc
 directory on to the system files in its private disk
drive (14).
A computer system according to Claim 4 wherein, when a processor
(10,11) determines to use said system files on the shared disk

drive (15), it mounts the file system containing those files on
a predetermined mount point and then modifies said symbolic link

to map file names in the 
/etc
 directory on to the system files
on the shared disk drive (15).
A computer system according to any preceding claim wherein
said indication comprises a dummy marker file.
</CLAIMS>
</TEXT>
</DOC>
