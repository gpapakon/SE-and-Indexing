<DOC>
<DOCNO>EP-0620675</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method of and apparatus for converting gradations of image data
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N141	B41J252	H04N141	G06T500	H04N1407	H04N1405	H04N1407	B41J252	G06T500	H04N1405	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	B41J	H04N	G06T	H04N	H04N	H04N	B41J	G06T	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	B41J2	H04N1	G06T5	H04N1	H04N1	H04N1	B41J2	G06T5	H04N1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A gradient conversion table is supplied with N-bit 
input image data and outputs M-bit image data, and a random-number 

generator outputs K-bit random-number data (M ≧ K). 
An adder adds the K-bit random-number data to low-order K 

bits of the M-bit image data outputted from the gradient 
conversion table, and outputs high-order L bits {L 
>
 (M - 
K)} of the sum as output image data. Low-order bits of the 

output image data are dispersed to produce an image with any 
banding of low visibility. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
FUJI PHOTO FILM CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
FUJI PHOTO FILM CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KATAYAMA TAKESHI
</INVENTOR-NAME>
<INVENTOR-NAME>
KATAYAMA, TAKESHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method of and
an apparatus for converting the gradations
(also referred to below as 'gradient'
of image data to
produce output image data from input image data, in which
visibility of banding is improved.Image data that are produced by an image input device
such as an image scanner or the like are finally outputted
as a visible image from an image output device. For
outputting such image data as a visible image, it is necessary
to calibrate the image data because the image output
characteristics of the image output device generally vary
from device to device, or depending on the type of the image
output device.FIG. 10 of the accompanying drawings shows a
gradient conversion table for converting input image data to
output image data. The converted, i.e., calibrated, output
image data in a region A are shown in FIG. 11A of the
accompanying drawings, whereas the converted or calibrated
output image data in a region B are shown in FIG. 11B of the
accompanying drawings. The calibrated output image data in
these regions A, B are plotted respectively in FIGS. 12A and
12B of the accompanying drawings.When output image data are thus calibrated, no 
smooth conversion may be effected between the input and output
image data, resulting in so-called banding or a density
jump. Stated otherwise, when 8-bit input image data having
256 density steps are converted into 8-bit output image
data, for example, the 256 density steps may not virtually
be obtained.According to one known solution disclosed in
Japanese laid-open patent publication No. 1-123373,
equivalent to EP-A-0 310 021,
N-bit
image data are gradient-converted to M-bit image data (N <
M), and the image data of the decimal part (low-order (M -
N) bits) of the M-bit image data are compared with (M - N)-bit
random-number data. If the image data are larger than
the random-number data, then "1" is added to the least
significant bit of the integral part of the M-bit image
data, and the resultant image data are outputted to produce
an image with a banding of reduced visibility.However, since only the least significant bit of
the M-bit image data is controlled, any banding is not
sufficiently improved. If the banding is large, the image
data may not fully been calibrated.Where a halftone-dot image is to be produced from
8-bit input image data having 256 density steps by an image
output device, the number of density steps of the halftone-dot
image depends on the resolution and screen ruling of the
image output device. For example, if
</DESCRIPTION>
<CLAIMS>
A method of converting the gradations of image data, comprising the steps of:

converting N-bit input image data having a number of density steps A to M-bit
image data;
adding or subtracting said M-bit input data with K-bit random-number data,

where M ≥ K, having an integer part and a fractional part to produce image
data; and
after performing said adding or subtracting step, extracting higher-order
L bits, where 
L 
>
 (M - K)
, of the image data, produced by the
adding or subtracting step, as output image data having a number of

density steps A which is equal to the number of density steps A of the
input image data, or a number of density steps B which is different

from the number of density steps A of the input image data, wherein
at least a portion of said extracted L bits has been generated by said

integer part of said K-bit random number data directly operating on a
portion of said M-bit image data.
A method of converting the gradations of image data, comprising the
steps of:


converting N-bit input image data having a number of density steps A
to M-bit image data;
adding or subtracting said M-bit input data with K-bit random-number
data, where M 
>
 K, having an integer part and a fractional part to
produce image data; and 
after performing said adding or subtracting step, extracting higher-order
L bits, where 
L = (M - K)
, of the image data, produced by the
adding or subtracting step, as output image data having a number of

density steps B which is different from the number of density steps A
of the input image data.
A method of converting the gradations of image data, comprising the
steps of:


converting N-bit input image data having a number of density steps A
to M-bit image data;
adding or subtracting said M-bit Image data with K-bit random number
data, where M ≥ K, having an integer part and a fractional part to

produce image data; and
after performing said adding or subtracting step, extracting higher-order
L bits, where 
L 
>
 (M - K)
, of the image data, produced by said
adding or subtracting step, as output image data having a number of

density steps B which is different from the number of density steps A
of the input image data, wherein at least a portion of said extracted L

bits has been generated by said integer part of said K-bit random
number data directly operating on a portion of said M-bit image data.
A method as claimed in any of claims 1 to 3, wherein said adding or
subtracting step processes the entire said M-bit image data with said

K-bit random-number data.
A method as claimed in claim 4, wherein said adding or subtracting
step comprises the step of adding said M-bit image data and said K-bit

random-number data.
An apparatus for converting the gradations of image data comprising: 

storage means for holding a gradient conversion table for converting
N-bit input image data having a number of density steps A to M-bit

image data;
random-number generating means for generating K-bit random-number
data, where M ≥ K, having an integer part and a fractional

part;
adding or subtracting means for adding or subtracting said M-bit
image data with K-bit random-number data to produce image data;

and
extracting means for extracting higher-order L bits, where 
L 
>
 (M - K)
,
of the image data, produced by said adding or subtracting means, as

output image data having a number or density steps A which is equal
to the number of density steps A of the input image data, or a number

of density steps B which is different from the number of density steps
A of the input image data, wherein at least a portion of said extracted

L bits has been generated by said integer part of said K-bit random-number
data directly operating on a portion of said M-bit image data.
An apparatus for converting the gradations of image data, comprising:

storage means for holding a gradient conversion table for converting
N-bit input image data having a number of density steps A to M-bit

image data;
random-number generating means for generating K-bit
random-number data, where M 
>
 K, having an integer part and a
fractional part;
adding or subtracting means for adding or subtracting said M-bit
image data with the K-bit random-number data to produce image

data; and 
extracting means for extracting higher-order L bits, where 
L = (M - K)
,
of the image data, produced by said adding or subtracting means, as

output image data having a number of density steps B which is
different from the number of density steps A of the input image data.
An apparatus for converting the gradations of image data, comprising:

storage means for holding a gradient conversion table for converting
N-bit input image data having a number of density steps A to M-bit

image data;
random-number generating means for generating K-bit random-number
data, where M ≥ K, having an integer part and a fractional

part;
adding or subtracting means for adding or subtracting said M-bit
image data with the K-bit random-number data to produce image

data; and
extracting means for extracting higher-order L bits, where 
L 
>
 (M - R)
,
of the image data, produced by said adding or subtracting means, as

output image data having a number of density steps B which is
different from the number of density steps A of the input image data,

wherein at least a portion of said extracted L bits has been generated
by said integer part of said K-bit random number data directly

operating on a portion of said M-bit image data.
An apparatus as claimed in any of claims 6 to 8, wherein said adding
or subtracting means processes the entire said M-bit image data with

said K-bit random-number data.
An apparatus as claimed in claim 9, wherein said adding or
subtracting means adds said M-bit image data and said K-bit random-number

data.
</CLAIMS>
</TEXT>
</DOC>
