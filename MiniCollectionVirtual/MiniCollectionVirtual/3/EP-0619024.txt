<DOC>
<DOCNO>EP-0619024</DOCNO> 
<TEXT>
<INVENTION-TITLE>
CORRELATION SONAR SYSTEM
</INVENTION-TITLE>
<CLASSIFICATIONS>G01S1500	G01S1510	G01S1558	G01S1560	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01S	G01S	G01S	G01S	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01S15	G01S15	G01S15	G01S15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A system and method for measuring velocities using the transmission, reflection and reception of echoes, of sound wave signals, comprises a transmitter fed from a single coded pulse generator. Signal processing circuitry (204) utilises correlation and maximum likelihood estimation techniques for processing the echo signals received from a plurality of receiver transducers (210). The presently preferred embodiment of the device is as a current profiler having a bottom tracking capability for also providing vessel velocity measurements.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ROWE DEINES INSTR INC
</APPLICANT-NAME>
<APPLICANT-NAME>
ROWE, DEINES INSTRUMENTS INCORPORATED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BRADLEY STEVEN E
</INVENTOR-NAME>
<INVENTOR-NAME>
ROWE FRANCIS D
</INVENTOR-NAME>
<INVENTOR-NAME>
BRADLEY, STEVEN, E.
</INVENTOR-NAME>
<INVENTOR-NAME>
ROWE, FRANCIS, D.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to velocity measurement
systems and, more particularly, to such systems applying
correlation methods.There is a class of systems that measure distance or
velocity with sound waves. These systems include underwater
sonar and medical imaging equipment (hereinafter generally
referred to as "sonar systems"). Underwater sonar systems, in
particular, may be manifested as current profilers, velocity
logs, and so forth.A current profiler is a type of sonar system that is used
to remotely measure water velocity over varying ranges.
Current profilers are used in freshwater environments such as
rivers, lakes and estuaries, as well as in saltwater
environments such as the ocean, for studying the effects of
current velocities. The measurement of accurate current
velocities is important in such diverse fields as weather
prediction, biological studies of nutrients, environmental
studies of sewage dispersion, and commercial exploration for
natural resources, including oil.Typically, current profilers are used to measure current
velocities in a vertical column of water for each depth "cell"
of water up to a maximum range, thus producing a "profile" of
water velocities. The general profiler system includes a
transducer to generate pulses of sound (which when
downconverted to human hearing frequencies sound like "pings")
that backscatter as echoes from plankton, small particles, and
small-scale inhomogeneities in the water.Two important types of sonar technology that may be used
for current profiling are Doppler and correlation. The basic
concept of velocity measurement using signal correlation has
been known for many years. For example, in 1964, Dickey, Jr.
was issued U.S. Patent No. 3,147,477 ("Dickey '477") 
disclosing a system to measure speed including a source of
wave energy (or transmitted signal) directed toward a body,
multiple receiving devices having a known separation for
receiving echoes from the body, correlating means including
time delay means, and speed determining means dependent on the
quotient of the receiver separation and the time delay.
Although the patent document describes an embodiment of a
correlation system for an aircraft using radar
(electromagnetic signals), it suggests a correlation system
for a water-going vessel using sonar (sound signals).A correlation system inherently requires that the
transmitted signal must have some similarity with itself to
achieve a maximum correlation at the specified time delay. A
correlation system was disclosed by Roeder, et al.
</DESCRIPTION>
<CLAIMS>
WHAT IS CLAIMED IS:
1. A correlation sonar system, comprising: a transmitting transducer for emitting acoustic energy onto a reflecting surface; pulse generation means for generating a single pulse of electrical energy to the transmitting transducer; a plurality of receiving transducers for receiving a pulse echo from the reflecting surface; a plurality of demodulators, each demodulator connected to one of the receiving transducers and generating a set of values; means for cross-correlating the values for each receiving transducer at a predetermined time delay less than the pulse width; and maximum likelihood means for estimating velocity using correlated values.
2. The system of Claim 1, wherein the pulse comprises a plurality of coded elements.
3. The system of Claim 2, wherein each coded element comprises a plurality of carrier cycles.
4. The system of Claim.3, wherein each coded element is more than two and less than ten carrier cycles .
5. The system of Claim 2, wherein the coded elements are phase encoded. 6. The system of Claim 5, wherein the coded elements are encoded with either of 0 degree and 180 degree phases.
7. The system of Claim 2, wherein the pulse includes sets of non-identical code elements so as to provide zeroes on either side of a preselected autocorrelation peak lag. 8. The system of Claim 1, wherein the pulse has a temporal autocorrelation peak at the predetermined time delay.
9. A correlation system, comprising: means for generating a pulse into a liquid having reflective surfaces ; a plurality of transducers for receiving the echo signal created by the pulse contacting the reflective surfaces; 


 correlation means for forming a first set of correlations of the echo signal received at time lag 0 and a second set of correlations at time lag T; and maximum likelihood means for maximizing the probability of a set of preselected parameters, including at least one component of velocity, having sets of correlations indicative of a parameter state.
10. The system defined in Claim 9, wherein the correlation means includes means for calculating correlations of the echo signal using a spacial correlation function defined as follows:
where b
n
 is a Legendre polynomial coefficient, R„ is a spacial correlation function involving the nth term of the beam pattern W(0) , W(0) is the system beam pattern, and
0 is the angle of measured energy away from the axis of wave propagation. 11. The system defined in Claim 10, wherein the closed form analytical expression for R„ is defined as follows : 

R
a
 = e^{[ ^ - ] x
1 2
 ( «1-/,2+21) i
"π
 J -
1
ι
/
/
2Z++πn
(-δ) P -„-(cose 
2n+1
{
2
τ
t
v
 J (ι/2+λ) i
~k
 J
1/a+A
(δ)
0
 Jc=l
"533 x P. (cose) (-1) «
»*
*-n 
2
 ,
(J'
}) I,
1
 ^; 
!
 — , _ if n is even nl ! (k-1) I ! [k(k+l) -n(n+l) ]
[^[]
i 2
 (i/2+A) i-
k
 J
1/2
.
λ
(δ) even
P.(cose) (-1) 
t»*
*-
D 2
 ,
(Jc" !
 , 
! π
f 
!
 , ., _ if n is odd } 
k
 kl ! (n-1) ! ! [π(n+D -λ(λ+l) ] 
;
where n is the nth term of the beam pattern, = k[v
x
(a
4
-a
1
) +v
y
(a
s
-a
2
) +v
2
(a
6
-a
3
) ] /c, the expression for a correction to the phase corresponding to path differences of order v/c, where v is water velocity and c is the speed of sound in water, δ = (27r/λ) x the total' three axis distance the lag is from the bistatic point, where λ is the wavelength of the propagated sound wave,
J is a Bessel function, P is a Legendre polynomial, e is a phase angle describing the relative contribution of vertical and horizontal displacement, and k = 2ιτ/λ, where λ is the wavelength of the propagated sound wave. 12. The system defined in Claim 9, wherein the closed form analytical expression for the spacial correlation function includes a Lambertian scattering law function. 13. The system defined in Claim 12, wherein the spatial correlation function is defined as follows: 


 
>
 *.ψ
R =
2 η ) ] ]
 

where 


 = k[v
x
(a
4
-a
!
) +v
y
(a
s
-a
2
) +v
z
 (a
6
-a
3
) ] /c, the expression for a correction to the phase corresponding to path differences of order v/c, where v is water velocity and c is the speed of sound in water,
L is an upper limit to a summation, b
n
 is a Legendre polynomial coefficient,
I™j ring geometry coefficients defined as follows:
jf, sinø cosø Pi (cosø ) Pj° (cos0 ) dø 

where 1 is a dummy index which is being summed over, j is a dummy index being summed over, m is a dummy index which is being summed over, P is a Legendre polynomial, β is the nadir tilt angle of the seabed, r = (27r/λ) x the total three axis distance the lag is from the bistatic point (2τv
x
, 2τv
y
, 2τv
z
) , where λ is the wavelength of the propagated sound wave, and T is a time shift, J is a Bessel function, cosη is the negative of the vertical lag away from the bistatic point, φ
0
-ot is the azimuthal angle corresponding to the ratio of 


 distance away in the y lag to x lag indexed off of the azimuthal angle in which the seabed is tilted. 14. The system defined in Claim 12, wherein the spatial correlation function is defined as follows:
R
= ll llll^l x [ ∑ b
t
 ∑ i 
~
>
IΪ
3
J
η
.
1/2
 ( r) PΛ coβη ) ]
2 Σ JDJ I JO 2 =0
where r is (27r/λ) x the total three axis distance the lag is from the bistatic point (2rv
x
, 2τv
y
, 2τv
2
) , where λ is the wavelength of the propagated sound wave and T is a time shift, v
x
 is the water velocity along the x-axis, v
y
 is the water velocity along the y-axis, v
z
 is the water velocity along the z-axis, ψ - k [v
x
(a
4
-a
1
) +v
y
(a
5
-a
2
) +v
z
 (a
6
-a
3
) ] /c, the expression for a correction to the phase corresponding to path differences of order v/c, where v is water velocity and c is the speed of sound in water, L is an upper limit to a summation, b
n
 is a Legendre polynomial coefficient, I"
;
, are ring geometry coefficients defined as follows:
( 1 -πt) ! ( j -m)
I?j = ( 1/2 + j ) sinø cosø Pf(cos0) P"(cos0) dø ( 1 +m) ! (j +m)
where 0 is the angle of measured energy away from the axis of wave propagation, m is taken to be zero, 1 is a dummy index being summed over, j is a dummy index being summed over, J is a Bessel function, P is a Legendre polynomial, and 


 cosη is the negative of the vertical leg away from the bistatic point .
15. The system defined in Claim 9, wherein the closed form analytical expression for the spacial correlation function includes a Kirchhoff approximation for the scattering law function.
16. The system defined in Claim 15, wherein the spatial correlation function is defined as follows:
»J
<
-
(2π/r)
1/2
 ^ bi [P
2
 (cos/8) ∑ i
~J
 I? 
3
 J
Jtl/2
 (r) P
J
(cosη) +
2=0 j=0
2 w
2 ∑ P (cos/8) (-l)
π
cos[ιπ( 
0
-α)] J ^ 
Σ
°
J
J
j*ι ι
^) P^(cosη)]] m=l =m
where 


 are ring geometry coefficients defined as follows
(1-m) ! (j-m)
If, = (1/2+ j) sinø σ(0) Pf(cosø) P"(cos0) dθ (1+m) ! (j+m)
where
R t
2
o σ(θ) = du u ι7
0
(u) exp(-qru
2α
)
4π sin
2
(0) cos
2
(0)
0 is the angle of measured energy away from the axis of wave propagation. R
fo
 is a reflection coefficient, u is a variable over which the integral is taken, J is a Bessel function, 


 q -= 2o (l-2α) 7,(2-2or) cos
2
(0) d sin-
2o
(ι
Where q is an arbitrary variable chosen to simplify the equation k = 2τr/λ λ is the wavelength of the propagated sound wave
C
h
 is a structure constant, also sometimes called a structure function parameter, and ex is the effective relative angle of the azimuth. 17. The system defined in Claim 9, wherein the closed form analytical expression for the spacial correlation function comprises a general function for band shapes .
18. The system defined in Claim 17, wherein the magnitude of the spatial correlation function is defined as follows:
R = peak
{1 + (2
al
-l) [2 (X-X
0
) /W 
2
 } 
1/a
'
where
R
peak;
 is the peak spatial correlation, a is a wing parameter specifying the extent of the curve wing,
X is a value on the curve, X
0
 is the center of the curve, and
W is the width parameter of an angular scattering function defined as twice the distance from the center to the 1/2 curve height point.
19. In a correlation system for measuring velocities having a transmitting transducer and a plurality of receiving transducers, a method comprising the steps of: transmitting a pulse of energy in the direction of a reflective surface; receiving the pulse energy echo at each receiving 


 transducer as a set of received values; calculating correlation values from the received values; providing initial estimates of a set of unknown parameters; and maximum likelihood processing the correlation values and initial estimates of parameters to maximize the probability of the system having a specific set of parameters given the correlation values . 20. The method of Claim 19, additionally comprising the step of selecting a code for coding the pulse energy.
21. The method of Claim 20, wherein the code is selected depending on relative measured velocity.
22. The method of Claim 20, wherein the code is selected depending on distance to the reflective surface.
23. The method of Claim 19, wherein the energy is directed toward a plurality of reflective surfaces and the steps are repeated until 
■
 a specific reflective surface is located. 24. The method of Claim 23, wherein the location of the specific reflective surface is by use of a matched filter.
25. The method of Claim 19, wherein the set of unknown parameters includes a component of velocity.
26. The method of Claim 19, wherein the maximum likelihood processing step includes a simplex algorithm.
2
*
7. The method of Claim 19, wherein the maximum likelihood processing step includes evaluating the natural logarithm of the probability function at the initial estimate of parameters and at each parameter varied by an offset. 28. The method of Claim 19, wherein the received values and correlation values are complex numbers . 

</CLAIMS>
</TEXT>
</DOC>
