<DOC>
<DOCNO>EP-0621554</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for automatic determination of text line, word and character cell spatial features
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K920	G06K920	G06K934	G06K934	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06K	G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K9	G06K9	G06K9	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An automatic character cell determining apparatus automatically determines the 
character cells (Fig. 3) within the text image of a document (Fig. 2). A connected component 

generating means (28) generates connected components from the pixels comprising the text 
image. A bounding box generating means (30) generates a bounding box surrounding each 

connected component. A character cell determining means (38) for locating character cells 
comprising one or more connected components comprises a vertical splaying means (32) and a 

horizontal splaying means (360) for ensuring white spaces between lines and connected 
components, a vertical profile means (34) for determining the vertical positions of a line, means 

(362) for splitting ligatures of two or more connected components and means for generating 
character cells grouping together one or more connected components. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
FUJI XEROX CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
XEROX CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
FUJI XEROX CO., LTD.
</APPLICANT-NAME>
<APPLICANT-NAME>
XEROX CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SPITZ A LAWRENCE
</INVENTOR-NAME>
<INVENTOR-NAME>
SPITZ, A. LAWRENCE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method and apparatus for automatic document
recognition and, more particularly, to a method for automatically determining the text line,
word and character cell spatial features within a document.Optical character recognition and the use of optical character recognition to convert
scanned image data into text data suitable for use in a digital computer is well known. In
addition, methods for converting scanned image data into text data and the types of errors
such methods generate are well known. One problem in converting scanned image data into
text data lies in being able to distinguish the individual lines of text from each other, in being
able to distinguish words grouping within a single line of text, in determining the vertical and
horizontal extents of the character cells within a single line of text, and in property separating
ligatures or kerns between connected components in a single line of text.D1 =IEEE Transactions on Pattern Analysis and Machine Intelligence, Vol. 6, No. 12, pages 552-559,
XP 000136972 Baird H S et al 'Reading Chess' according to item 4.1 of the Official Communication,
discloses input means, means for generating connected components, means for generating bounding
boxes and means for determining line spatial features viz, the baseline (page 555, column 1, lines 13
to 16). It is the object of the present invention to provide a method for automatic document recognition
having improved performance with respect to efficiency and reliability of spatial feature recognition.This object is solved by the subject matter of claims 1 and 7.Preferred embodiments are the subject matter of dependent claims.Preferably, the step of generating a vertical profile comprises determining the top and bottom positions
of each line from a maximum peak and a minimum peak, respectively of the vertical profile
corresponding to each line.Preferably, the step of generating a vertical profile further comprises the step of generating a top
position vertical profile of the top positions of the corresponding ones of the plurality of connected
components and a bottom position vertical profile of the bottom positions of the corresponding ones of
the plurality of connected components.Preferably, the step of generating a vertical profile further comprises determining the x-line and
baseline positions of each line from a peak of the top position and bottom position vertical profiles,
respectively corresponding to each line.Further, the method preferably comprises determining
</DESCRIPTION>
<CLAIMS>
An automatic text feature determining system for determining a text feature of a
first text portion (104) of an image (102) of a document, comprising:


input means (24) for inputting a digital data signal representative of the first text
portion, the digital data signal comprising a plurality of signal portions, each

signal portion corresponding to one of a plurality of pixels;
connected components generating means (28) for generating a plurality of
connected components from the plurality of signal portions;
line spatial feature determining means (36, 34, 32) for determining spatial features
of each line of the first text portion, each line of text comprising at least one of

the plurality of connected components,

characterized in that said spatial feature determining means comprises
splaying means (32, 360) for generating a vertically splayed (Fig. 2(b) and 5

(b)) text portion from the first text portion, by moving at least one connected
component to create an abnormally large amount of space between at least two

connected components.
The system according to claim 1, further comprising bounding box generating
means (30) for generating a plurality of bounding boxes (Fig. 3), each bounding box

surrounding a corresponding one of the plurality of connected components, each
splaying means generating a splayed text portion by moving an origin of each

bounding box corresponding to a moved connected component.
The system of claim 1 or 2, wherein the line spatial feature determining means

(36, 34, 32) further comprises: 
vertical profile means (34) for generating with respect to the vertically splayed

text portion a vertical profile representing the density distribution of black dots
along the vertical direction.
The system of claim 1, 2 or 3, wherein the line spatial feature determining
means (36, 34, 32) further comprises line content determining means for determining

which ones of the plurality of connected components correspond to each line of the
splayed text portion.
The system of claim 3 or 4 dependent on claim 3, wherein the vertical profile means (34) further
comprises vertical position determining means (340) for determining a top position

and a bottom position and at least one of a baseline position and an x-line position
based (Fig. 4) on the corresponding ones of the plurality of connected components for

each line of the unsplayed text portion.
The system of claim 5, wherein the vertical position determining means (340) is
adapted in use, to determine the top and bottom positions of each at least one line

based on transitions from zero to non-zero values, of the vertical profile
corresponding to each line.
A method for automatically determining text features of a first text portion (104)
of an image (102) of a document, comprising the steps of:


inputting a digital data signal representative of the first text portion, the digital
data signal comprising a plurality of signal portions, each signal portion

corresponding to one of a plurality of pixels;
generating a plurality of connected components from the plurality of signal
portions; and
determining spatial features of each line of the first text portion, each line of text
comprising at least one of the plurality of connected components, characterized 

in that the determining step comprises generating a splayed (Fig. 2(b)) text
portion from the first text portion, by moving at least one connected component

to create an abnormally large amount of space between at least two connected
components.
A method for automatically determining text features according to claim 7,
further comprising generating a plurality of bounding boxes (Fig. 3), each bounding

box surrounding a corresponding one of the plurality of connected components,
generating a splayed text portion being carried out by moving an origin of each

bounding box corresponding to a moved connected component.
The method of claim 7, further comprising the steps of:

generating a vertical profile of the vertically splayed text portion, said vertical
profile representing the density distribution of black dots along the vertical

direction.
The method of claim 9, wherein the determining step comprises the step of
determining which ones of the plurality of connected components correspond to each

line of the text portion.
The method of claim 9 or 10, wherein the step of generating
a vertical profile

comprises the step of
determining, for the text portion, a top position and a bottom position and at least one

of a baseline position and an x-line position (Fig. 4) based on the corresponding ones
of the plurality of connected components for each line.
</CLAIMS>
</TEXT>
</DOC>
