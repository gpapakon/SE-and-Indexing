<DOC>
<DOCNO>EP-0658294</DOCNO> 
<TEXT>
<INVENTION-TITLE>
PCM LINK FAULT DETECTION AND LOST BLOCK HANDLING.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04B726	H04B726	H04L100	H04L100	H04L116	H04L116	H04W2400	H04W2400	H04W8402	H04W8402	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04B	H04B	H04L	H04L	H04L	H04L	H04W	H04W	H04W	H04W	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04B7	H04B7	H04L1	H04L1	H04L1	H04L1	H04W24	H04W24	H04W84	H04W84	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A digital cellular communications system has a bidirectional pulse code modulation (PCM) link for conveying encoded speech and control data in the form of blocks, a switching unit coupled to a first end of the PCM link, and a base station coupled to a second end of the PCM link. The switching unit includes a speech encoder for encoding speech signals, an error detection code generator for generating an error detection code from the encoded speech signal. The base station has a PCM link error detector for signalling the existence of an error in a received block in response to the received block containing an error. The base station further includes a downlink error handler coupled to the PCM link error detector, for discarding a received block in response to the signal indicating the existence of an error therein, and for substituting therefor a default control message to be relayed to a mobile station, whereby the mobile station, in response to receiving the default control message, performs no operation other than a bad frame masking operation.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ERICSSON TELEFON AB L M
</APPLICANT-NAME>
<APPLICANT-NAME>
TELEFONAKTIEBOLAGET LM ERICSSON
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
FALL SVEN OERJAN PATRIK
</INVENTOR-NAME>
<INVENTOR-NAME>
MOLIN KARL ANDERS
</INVENTOR-NAME>
<INVENTOR-NAME>
SELLIN CURT PATRIK
</INVENTOR-NAME>
<INVENTOR-NAME>
WILHELMSSON LARS JOHAN
</INVENTOR-NAME>
<INVENTOR-NAME>
FALL, SVEN, OERJAN, PATRIK
</INVENTOR-NAME>
<INVENTOR-NAME>
MOLIN, KARL, ANDERS
</INVENTOR-NAME>
<INVENTOR-NAME>
SELLIN, CURT, PATRIK
</INVENTOR-NAME>
<INVENTOR-NAME>
WILHELMSSON, LARS, JOHAN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
PCM LINK FAULT DETECTION AND LOST BLOCK HANDLINGBACKGROUNDThe present invention relates to radiotelephone communication systems and more particularly to a method and apparatus for detecting errors in a radiotelephone communications switching unit to base station PCM link, and for handling communications with a mobile unit in the event of a loss of a communications block on the PCM link.A cellular telephone communications system such as the European Global System for Mobile Communication (GSM) mobile telephone system may include elements as shown in FIG. la. A base transceiver station (BTS) 103 is connected to a Base Station Controller (BSC) 101 by means of a Pulse Code Modula¬ tion (PCM) link 107. The base transceiver station 103 includes a speech coder-decoder (codec) 109. In the past, digitized speech signals have been transmitted by the BSC 101 at a rate of 64 kilobits per second (kbps) to the base transceiver station 103 by means of the PCM link 107. Once inside the base transceiver station 103, a speech codec 109 transforms the digitized speech into blocks of parameters having fewer bits than the original, thus enabling the speech to be transmitted to the mobile station 105 at a lower bit rate than is possible for the original speech samples. The encoded speech signals are converted back into the original speech samples by a speech decoder (not shown) located inside the mobile station 105.Recently, the design of systems, such as the GSM system, have been modified as shown in FIG. lb so that the speech codec 109' is located within the BSC 101' instead of in the base transceiver station 103*. The speech codec 109 may accept, for example, 160 speech samples for each 20 msec of speech, and produce therefrom blocks of encoded speech having a lower 

bit rate than the original speech. This produces the ad¬ vantage of allowing transmission over the PCM link 107' of more speech between the base transceiver station 103• and the BSC 101' than was possible before.The base transceiver station 103' channel encodes, modulates, and transmits each received block of coded speech to the mobile station 105' by means of a radio link. In addition to transmitting coded speech to themobile station 105•, the base transceiver station 103• may also transmit control infor- mation generated by a control part (not shown) of the base transceiver station 103' . Aspreviouslymentioned, themobile station 105' also contains a codec (not shown) for recon¬ structing the original speech from the received blocks of coded speech.
</DESCRIPTION>
<CLAIMS>
WHAT IS CLAIMED IS:
1. In a digital cellular communications system including a switching unit coupled to a base station by means of a bidirectional pulse codemodulation (PCM) link, the switching unit including a speech codec for coding downlink speech signals and decoding uplink speech signals that are respec¬ tively transmitted to and received from the base station by means of the PCM link, the PCM link conveying encoded downlink and uplink speech and control data in the form of respective downlink and uplink blocks, the base station operating to relay an encoded downlink speech signal received from the switching unit to a mobile station bymeans of transmission on a radio channel and to relay to the switching unit an encoded uplink speech signal received fromthe mobile stationby means of transmission on the PCM link, a system for handling errors in a transmitted block, comprising: in the base station, input means for receiving a signal indicative of existence of an error in a received downlink block; and in the base station, downlink error handling means coupled to the inputmeans, for discarding a received downlink block in response to the signal indicating existence of an errortherein, and for substitutingtherefor amessage causing the mobile station to repeat the previous block.
2. The system of claim 1, wherein the message is a fast access control channel (FACCH) message.
3. In a digital cellular communications system including a switching unit coupled to a base station by means of a bidirectional pulse code modulation (PCM) link, the switching unit including a speech codec for coding downlink speech signals and decoding uplink speech signals that are respec¬ tively transmitted to and received from the base station by means of the PCM link, the PCM link conveying encoded downlink 


and uplink speech and control data in the form of respective downlink and uplink blocks, the base station operating to relay an encoded downlink speech signal received from the switching unit to a mobile station by means of transmission on a radio channel and to relay to the switching unit an encoded uplink speech signal received from themobile station by means of transmission on the PCM link, a system for handling errors in a transmitted block, comprising: in the base station, input means for receiving a signal indicative of existence of an error in a received downlink block; and in the base station, downlink error handling means coupled to the inputmeans, for discarding a received downlink block in response to the signal indicating existence of an errortherein, and for substituting therefor a default control message having no meaning defined by the digital cellular communications system, whereby the mobile station, in response to receiving the default control message, performs no operation other than a bad frame masking operation.
4. The system of claim 3, wherein the default control message is a fast access control channel (FACCH) message.
5. The system of claim 4, wherein the default FACCH message includes a message type field having a binary value '00001110'.
6. The system of claim 3, wherein the downlink error handling means substitutes for the discarded received downlink block, alternatively, the default control message or a non-default control message in response to respective nonavailability or availability of the non-default control message to be transmitted.
7. The system of claim 3, further comprising: 


 in the switching unit, PCM link transmission means including: means for generating an error detection code from the encoded downlink speech signal; and formatting means, coupled to the generating means, for producing a formatted downlink block to be transmitted on the PCM link, the formatted downlink block having a header, the encoded downlink speech data, and the error detection code; and in the base station, PCM link error detecting means, coupled to the input means, for signalling existence of an error in a received downlink block in response to the received downlink block containing an error.
8. The system of claim 7, wherein the error detection code is a cyclic redundancy check code.
9. The system of claim 3, further comprising: in the switching unit, an apparatus comprising: input means for receiving a signal indicative of existence of an error in a received uplink block; and uplink error handling means, coupled to the input means, for discarding a received uplink block in response to the signal indicating existence of an error therein, and for substituting therefor a substitute block including encoded speech data stored from a previously received uplink block.
10. The system of claim 9, further comprising: in the base station, PCM link transmission means inclu¬ ding: means for generating an error detection code from the encoded uplink speech signal; and formatting means, coupled to the generating means, for producing a formatted uplink block to be transmitted on the PCM link, the formatted uplink block having a header, the encoded uplink speech data, and the error detection code; and 


 in the switching unit, PCM link error detecting means, coupledto the apparatus inputmeans, for signalling existence of an error in a received uplink block in response to the received uplink block containing an error.
11. The system of claim 10, wherein the error detection code is a cyclic redundancy check code.
12. A digital cellular communications system comprising: a bidirectional pulse code modulation (PCM) link for conveying encoded speech and control data in a block format; a switching unit coupled to a first end of the PCM link, the switching unit including a speech encoder for encoding speech signals; means for generating an error detection code from the encoded speech signal; and formatting means, coupled to the generating means, for producing a formatted downlink block to be transmitted on the PCM link, the formatted downlink block having a header, the encoded speech data, and the error detection code; and a base station coupled to a second end of the PCM link, the base station including
PCM link error detecting means for signalling existence of an error in a received downlink block in response to the received downlink block containing an error; and downlink error handling means, coupled to the PCM linkerrordetectingmeans, fordiscarding a received downlink block in response to the signal indicating existence of an errortherein, and for substitutingtherefor amessage causing the mobile station to repeat the previous block.
13. The digital cellular communications system of claim 12, wherein the error detection code is a cyclic redundancy check code. 


14. The system of claim 12, wherein the message is a fast access control channel (FACCH) message.
15. The system of claim 14, wherein the FACCH message includes a message type field having a binary value '00001110'.
16. The system of claim 12, wherein the base station further comprises means for generating an error detection code from an encoded speech signal received from a mobile station; and formatting means, coupled to the generating means, for producing a formatted uplink block to be transmitted on the PCM link, the formatted uplink block having a header, the encoded speech data, and the error detection code, and wherein the switching unit further comprises PCM link error detecting means for signalling existence of an error in a received uplink block in response to the received uplink block containing an error; and uplink errorhandlingmeans, coupled to the PCM link error detecting means, for discarding a received uplink block in response to the signal indicating existence of an error therein, and for substituting therefor a substitute block including encoded speech data stored from a previously received uplink block.
17. A digital cellular communications system comprising: a bidirectional pulse code modulation (PCM) link for conveying encoded speech and control data in a block format; a switching unit coupled to a first end of the PCM link, the switching unit including a speech encoder for encoding speech signals; means for generating an error detection code from the encoded speech signal; and formatting means, coupled to the generating means, for producing a formatted downlink block to be transmitted on 


the PCM link, the formatted downlink block having a header, the encoded speech data, and the error detection code; and a base station coupled to a second end of the PCM link, the base station including PCM link error detecting means for signalling existence of an error in a received downlink block in response to the received downlink block containing an error; and downlink error handling means, coupled to the PCM linkerrordetectingmeans, fordiscarding a received downlink block in response to the signal indicating existence of an errortherein, and for substituting therefor a default control message to be relayed to a mobile station, the default control message having no meaning defined by the digital cellular com¬ munications system, whereby the mobile station, in response to receiving the default control message, performs no opera¬ tion other than a bad frame masking operation.
18. The digital cellular communications system of claim 17, wherein the error detection code is a cyclic redundancy check code.
19. The system of claim 17, wherein the default control message is a default fast access control channel (FACCH) message.
20. The system of claim 19, wherein the default FACCH message includes a message type field having a binary value '00001110'.
21. The system of claim 17, wherein the downlink error handling means substitutes for the discarded received downlink block, alternatively, the default control message or a non-default control message in response to respective nonavailability or availability of the non-default control message to be transmitted. 


22. The system of claim 17, wherein the base station further comprises means for generating an error detection code from an encoded speech signal received from a mobile station; and formatting means, coupled to the generating means, for producing a formatted uplink block to be transmitted on the PCM link, the formatted uplink block having a header, the encoded speech data, and the error detection code, and wherein the switching unit further comprises PCM link error detecting means for signalling existence of an error in a received uplink block in response to the received uplink block containing an error; and uplinkerrorhandlingmeans, coupledto the PCM link error detecting means, for discarding a received uplink block in response to the signal indicating existence of an error therein, and for substituting therefor a substitute block including encoded speech data stored from a previously received uplink block. 

</CLAIMS>
</TEXT>
</DOC>
