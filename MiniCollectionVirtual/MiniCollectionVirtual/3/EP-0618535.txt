<DOC>
<DOCNO>EP-0618535</DOCNO> 
<TEXT>
<INVENTION-TITLE>
EEPROM card with defective cell substitution and cache memory
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1212	G11C1634	G11C1616	G06F1202	G06F1110	G06F1202	G11C2900	G11C2952	G11C1606	G06F1110	G11C2926	G11C2952	G11C2934	G06F1208	G06F306	G11C1156	G06F1212	G11C2904	G06F1208	G11C2900	G11C1156	G06F306	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G11C	G11C	G06F	G06F	G06F	G11C	G11C	G11C	G06F	G11C	G11C	G11C	G06F	G06F	G11C	G06F	G11C	G06F	G11C	G11C	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F12	G11C16	G11C16	G06F12	G06F11	G06F12	G11C29	G11C29	G11C16	G06F11	G11C29	G11C29	G11C29	G06F12	G06F3	G11C11	G06F12	G11C29	G06F12	G11C29	G11C11	G06F3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A system of Flash EEprom memory chips with controlling 
circuits serves as non-volatile memory such as that provided by 

magnetic disk drives. Improvements include the ability to remap 
and replace defective cells with substitute cells. The remapping 

is performed automatically as soon as a defective cell is detected. 
When the number of detects in a Flash sector becomes large, the 

whole sector is remapped. In one embodiment, the Flash EEprom 
memory is implemented on a memory card adapted to plug into a 

computer system. In another embodiment, the system of Flash EEPROM 
memory chips with controlling circuits is implemented on a memory 

card adapted to plug into a computer system. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SANDISK CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SANDISK CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HARARI ELIYAHOU
</INVENTOR-NAME>
<INVENTOR-NAME>
MEHROTRA SANJAY
</INVENTOR-NAME>
<INVENTOR-NAME>
NORMAN ROBERT D
</INVENTOR-NAME>
<INVENTOR-NAME>
HARARI, ELIYAHOU
</INVENTOR-NAME>
<INVENTOR-NAME>
MEHROTRA, SANJAY
</INVENTOR-NAME>
<INVENTOR-NAME>
NORMAN, ROBERT D.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates generally to
semiconductor electrically erasable programmable read
only memories (EEprom), and specifically to a system of
integrated circuit Flash EEprom chips.Computer systems typically use magnetic disk
drives for mass storage of data. However, disk drives
are disadvantageous in that they are bulky and in their
requirement for high precision moving mechanical parts.
Consequently they are not rugged and are prone to
reliability problems, as well as consuming significant
amounts of power. Solid state memory devices such as
DRAM'S and SRAM's do not suffer from these
disadvantages. However, they are much more expensive,
and require constant power to maintain their memory
(volatile). Consequently, they are typically used as
temporary storage.EEprom's and Flash EEprom's are also solid
state memory devices. Moreover, they are nonvolatile,
and retain their memory even after power is shut down.
However, conventional Flash EEprom's have a limited
lifetime in terms of the number of write (or
program)/erase cycles they can endure. Typically the
devices are rendered. unreliable after 102 to 103
write/erase cycles. Traditionally, they are typically
used in applications where semi-permanent storage of
data or program is required but with a limited need for
reprogramming. Accordingly, it is an object of the present
invention to provide a Flash EEprom memory system with
enhanced performance and which remains reliable after
enduring a large number of write/erase cycles.It is another object of the present invention
to provide an improved Flash EEprom system which can
serve as non-volatile memory in a computer system.It is another object of the present invention
to provide an improved Flash EEprom system that can
replace magnetic disk storage devices in computer
systems.It is another object of the present invention
to provide a Flash EEprom system with improved erase
operation.It is another object of the present invention
to provide a Flash EEprom system with improved error
correction.It is yet another object of the present
invention to provide a Flash EEprom with improved write
operation that minimizes stress to the Flash EEprom
device.It is still another object of the present
invention to provide a Flash EEprom system with enhanced
write operation.These and additional objects are accomplished
by a memory card as defined by claim 1. According to an embodiment of the invention,
improved error correction circuits and techniques are
used to correct for errors arising from defective Flash
EEprom
</DESCRIPTION>
<CLAIMS>
A memory card (29) adapted to plug into a computer
system (21, 23, 25, 27) in a manner to communicate with a system

bus (23) and a standard power supply, comprising the following
mounted thereon:


a plurality of Electrically Erasable and Programmable Read
Only Memory integrated circuit chips (33), hence forth referred to as EEPROM, each of said

chips including:
a large number of individually addressable storage cells

organized into a plurality of sectors (211,213,401),
each sector containing a plurality of said storage cells,
a plurality of spare storage cells (405, 409) within any of said
sectors,
means (31) responsive to signals on said system bus for
erasing all cells in one or more designated sectors without erasing

cells in other of said sectors,
means (31) responsive to signals on said system bus for
reading the state of addressed storage cells,
means (31) responsive to signals on said system bus for
programming addressed storage cells to a predetermined state, and
means (31) responsive to an unsuccessful attempt to either
program or erase a storage cell within one of said sectors for

substituting one of said spare storage cells therefor while
maintaining operation of the remaining cells of said sector,
a cache memory (705) mounted on said card, and wherein
said programming means includes means for initially
programming said cache memory rather than said EEPROM (33),
said reading means including
means for initially determining whether the cache memory
contains data to be read, and 
said programming means additionally including means
responsive to said cache memory becoming full for writing its

oldest unused block of data into said EEPROM, thereby to make
room for new data in said cache memory.
The memory card as in claim 1, wherein said means
responsive to an unsuccessful attempt to either program or erase a

storage cell within one of said sectors for substituting one of said
spare storage cells therefor further comprising:


error detection means (31) for detecting any defective cells
within the array;
defect pointers (409) for linking a detected defective cell's
address to that of a corresponding spare cell substituting for the

defective cell, said defect pointers being stored within the array
(33); and
defective cell substituting means (31) responsive to said
defect pointers for substituting said detected defective cell with

said corresponding spare cells.
The memory card as in claim 1, wherein:

said plurality of sectors have a portion thereof reserved as
redundant sectors; and
said error detection means, upon detecting more than a
predetermined number of defective cells in a sector, substitutes

said sector with one of said redundant sectors.
The memory card as in claim 2, further including a circuit
for implementing error correction codes (527) for detecting and

correcting errors in the operations of the EEPROM cells.
The memory card as in claim 1, wherein:

said memory card is compatible with a magnetic disk drive
storage system and is capable of substituting therefor in said

computer system.
</CLAIMS>
</TEXT>
</DOC>
