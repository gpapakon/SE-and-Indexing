<DOC>
<DOCNO>EP-0618695</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Multiplexing encoded data signals.
</INVENTION-TITLE>
<CLASSIFICATIONS>G11B27031	G11B27034	G11B2730	G11B2730	H04N584	H04N585	H04N5926	H04N5926	H04N724	H04N724	H04N730	H04N730	H04N752	H04N752	H04N756	H04N758	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G11B	G11B	G11B	G11B	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G11B27	G11B27	G11B27	G11B27	H04N5	H04N5	H04N5	H04N5	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A multiplexed data stream is formed by encoding (3) a first input 
signal at a variable bit rate to form a first encoded data signal which 

is temporarily stored in a first storage device (5), encoding (4) a 
second input signal at a constant bit rate to form a second encoded 

data signal which is temporarily stored in a second storage device (6), 
and using a multiplexing circuit (7) to multiplex the stored first and 

second encoded data signals to form the multiplexed data stream. 
Transfer of the first encoded data signal from the first storage device 

(5) to the multiplexing circuit (7) is controlled on the basis of a 
quantity of the first encoded data signal that is present in the first 

storage device. When none of the first encoded data signal is present 
in the first storage device (5), transfer of the first encoded data 

signal to the multiplexing circuit (7) is temporarily halted. A 
switching device (8) is switched at fixed time intervals, on the basis 

of a quantity of the second encoded data signal that is present in the 
second storage device (6), between a first switch position at which the 

multiplexing circuit (7) is connected to the first storage device (6) 
and a second switch position at which the multiplexing circuit (7) is 

connected to the second storage device (6). 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SONY CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SONY CORP
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OISHI NORIAKI C O INTELLECTUAL
</INVENTOR-NAME>
<INVENTOR-NAME>
VELTMAN MARKUS H C O INTELLECT
</INVENTOR-NAME>
<INVENTOR-NAME>
OISHI NORIAKI C O INTELLECTUAL
</INVENTOR-NAME>
<INVENTOR-NAME>
VELTMAN MARKUS H C O INTELLECT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to the multiplexing of encoded data 
signals. More particularly, but not exclusively, the invention relates 
to a recording apparatus in which two or more different types of data, 
such as video and audio data, are multiplexed for recording on a 
recording medium, It has frequently been proposed to digitize video and audio 
signals and to record the digitized data on a recording medium such as 
an optical disk. Because of the very large quantity of data produced 
by digitizing such signals, it has also been proposed to perform 
compression coding on such data before recording. In this case, upon 
reproduction of the data from the recording medium, a decoding process 
is performed in order to reconstitute the digitized data. Where the 
reproduced data includes both video and audio data, such as constitute 
a television signal, the playing back of the video data must be 
synchronized with playback of the audio data. For this reason, it is 
customary to use a single apparatus for encoding and multiplexing the 
signal to be recorded. However, the multiplexing process does not 
necessarily have to be performed at the same time as the encoding 
process. During multiplexing, the different types of encoded data, 
such as the video and audio  
 
data, are read in at appropriate time intervals and at a proper 
rate. Then, after additional data, such as time stamps required 
for synchronous playback, is added to the video and audio data, a 
single data bit stream is produced. In general, such data bit streams have a hierarchical 
structure. For example, the structure of a bit stream proposed 
by the Moving Picture Experts Group (MPEG) in International 
Standards Organization (ISO) Document No. 11172 is illustrated in 
Fig. 5. As shown in Fig. 5, the bit stream defined in ISO 11172 
is made up of a sequence of packs, each of which includes a 
number of packets. Each pack starts with information such as a 
pack start code, a System Clock Reference (SCR) code and a system 
header. The SCR code is used for providing synchronization for 
the entire data storage and reproduction system including the 
encoder and decoder and is also used for controlling a buffer 
that will be described below. Each packet begins with information such as a stream 
identification number, time stamps, and a required buffer size. 
The time stamps include a Presentation Time Stamp (PTS) and a 
Decoding Time Stamp (DTS). The PTS is indicative of a time at 
which the data was encoded by the encoder, whereas the DTS is 
indi
</DESCRIPTION>
<CLAIMS>
Apparatus for multiplexing encoded data signals, the 
apparatus comprising: 

   first encoding means (3; 22) for encoding a first input signal at 
a variable bit rate to form a first encoded data signal; 

   second encoding means (4; 30) for encoding a second input signal 
to form a second encoded data signal; 

   first storage means (5; 23) for temporarily storing said first 
encoded data signal formed by said first encoding means (3; 22); 

   second storage means (6; 31) for temporarily storing said second 
encoded data signal formed by said second encoding means (4; 30); 

   means (7; 32), selectively connectable to said first and second 
storage means, for multiplexing said first and second encoded data 

signals respectively stored in said first and second storage means to 
form a multiplexed data stream signal; and 

   means (7; 73) for controlling transfer of said first encoded data 
signal from said first storage means (5; 32) to said means for 

multiplexing on the basis of a quantity of said first encoded data 
signal that is present in said first storage means. 
Apparatus according to claim 1, wherein said means (7; 32) 
for controlling is operative temporarily to halt transfer of said first 

encoded data signal to said means for multiplexing when said quantity 
of said first encoded data signal present in said first storage means 

(5; 23) is zero, and to transfer said first encoded data signal to said 
means for multiplexing at a predetermined transfer rate when said 

quantity of said first encoded data signal present in said first 
storage means (5; 23) is greater than zero. 
Apparatus according to claim 2, wherein said predetermined 
transfer rate is greater than the sum of a maximum encoding rate of 

said first encoding means (3; 22) and a maximum encoding rate of said 
second encoding means (4; 30). 
Apparatus according to claim 1, comprising means (8; 25) for 
switching at fixed time intervals between a first switch position at 

 
which said means for multiplexing is connected to said first storage 

means (5; 23) and a second switch position at which said means for 
multiplexing is connected to said second storage means (6; 31). 
Apparatus according to claim 4, wherein said second encoding 
means (4; 30) is operative to encode said second input signal at a 

constant bit rate and said means (8; 25) for switching is arranged to 
switch between said first and second switch positions on the basis of 

a quantity of said second encoded data signal that is present in said 
second storage means (6; 31). 
Apparatus according to any one of claims 1 to 4, wherein said 
second encoding means (4; 30) is operative to encode said second input 

signal at a constant bit rate. 
Apparatus according to any one of the preceding claims, 
comprising means (11) for recording on a recording medium (12) said 

multiplexed data stream signal formed by said means for multiplexing. 
Apparatus according to claim 7, wherein said means (11) for 
recording is capable of recording said multiplexed data stream signal 

on a recording medium (12) which is an optical disk. 
A method of multiplexing encoded data signals, the method 
comprising the steps of: 

   encoding (3; 22) a first input signal at a variable bit rate to 
form a first encoded data signal; 

   encoding (4; 30) a second input signal to form a second encoded 
data signal; 

   temporarily storing said first encoded data signal in a first 
storage means (5; 23); 

   temporarily storing said second encoded data signal in a second 
storage means (6; 31); 

   multiplexing said first and second encoded data signals 
respectively stored in said first and second storage means by using a 

multiplexing means (7; 32) to form a multiplexed data stream signal; 
and

 
   controlling transfer of said first encoded data signal from said 

first storage means (5; 23) to said multiplexing means on the basis of 
a quantity of said first encoded data signal that is present in said 

first storage means. 
A method according to claim 9, wherein said controlling step 
includes halting transfer of said first encoded data signal to said 

multiplexing means when said quantity of said first encoded data signal 
present in said first storage means (5; 23) is zero and transferring 

said first encoded data signal to said multiplexing means at a 
predetermined transfer rate when said quantity of said first encoded 

data signal present in said first storage means is greater than zero. 
A method according to claim 10, wherein said predetermined 
transfer rate is greater that the sum of a maximum rate at which said 

first input signal is encoded and a maximum rate at which said second 
input signal is encoded. 
A method according to claim 9, comprising the step of 
switching a switch device (8; 25) at fixed time intervals between a 

first switch position at which said multiplexing means is connected to 
said first storage means (5; 23) and a second switch position at which 

said multiplexing means is connected to said second storage means (6; 
31). 
A method according to claim 12, wherein said second input 
signal is encoded at a constant bit rate and said switching step is 

performed on the basis of a quantity of said second encoded data signal 
that is present in said second storage means (6; 31). 
A method according to any one of claims 9 to 12, wherein 
said second input signal is encoded at a constant bit rate. 
A method according to any one of claims 9 to 14, comprising 
the step of recording (11) said multiplexed data stream signal on a 

recording medium (12). 
A method according to claim 15, wherein said recording 
medium (12) is an optical disk. 
A data recording medium on which is recorded a multiplexed 
data stream signal formed according to a method which comprises the 

following steps: 
   encoding (3; 22) a first input signal at a variable bit rate to 

form a first encoded data signal; 
   encoding (4; 30) a second input signal to form a second encoded 

data signal; 
   temporarily storing said first encoded data signal in a first 

storage means (5; 23); 
   temporarily storing said second encoded data signal in a second 

storage means (6; 31); 
   multiplexing said first and second encoded data signals 

respectively stored in said first and second storage means by using 
multiplexing means (7; 32) to form said multiplexed data stream signal; 

and 
   controlling transfer of said first encoded data signal from said 

first storage means (5;32) to said multiplexing means on the basis of 
a quantity of said first encoded data signal that is present in said 

first storage means. 
A data recording medium according to claim 17, wherein said 
controlling step included halting transfer of said first encoded data 

signal to said multiplexing means when said quantity of said first 
encoded data signal present in said first storage means (5; 23) was 

zero. 
A data recording medium according to claim 17 or claim 18, 
wherein said second input signal was encoded at a constant bit rate. 
A data recording medium according to claim 17, claim 18 or 
claim 19, which is an optical disk. 
</CLAIMS>
</TEXT>
</DOC>
