<DOC>
<DOCNO>EP-0654764</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method of and apparatus for converting format of an image having linear color variation.
</INVENTION-TITLE>
<CLASSIFICATIONS>B41J2525	B41J2525	G06T100	G06T100	G06T500	G06T500	G06T1100	G06T1100	H04N146	H04N146	H04N160	H04N160	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>B41J	B41J	G06T	G06T	G06T	G06T	G06T	G06T	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>B41J2	B41J2	G06T1	G06T1	G06T5	G06T5	G06T11	G06T11	H04N1	H04N1	H04N1	H04N1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image approximate to a vignette is to be generated 
from image data representing a first set of color steps CS1. 

A second set of color steps CS2 is first created from the 
first set of color steps CS1, where the second set of color 

steps CS2 has a plurality of figures inserted at equal 
intervals between two end figures of the first set of color 

steps CS1. Binary noise data BS are then generated in the 
vicinity of the boundary of each figure of the second color 

steps. Vignette image data VID approximately representing a 
vignette is generated by adding the binary noise data BS to 

bit map data of the second set of color steps CS2. Accordingly, 
a tone jump is eliminated from the image approximate to a 

vignette. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
DAINIPPON SCREEN MFG
</APPLICANT-NAME>
<APPLICANT-NAME>
DAINIPPON SCREEN MFG. CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SHIBAZAKI HIROSHI C O DAINIPPO
</INVENTOR-NAME>
<INVENTOR-NAME>
SHIBAZAKI, HIROSHI, C/O DAINIPPON SCREEN MFG. CO.,
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method of and an 
apparatus for converting an image of color steps to a 
vignette-like image. With a recent development of computer science and 
technology, a variety of special color images are created 
with personal computers or workstations. One of such 
special color images is generally called color steps. Fig. 
14 is a plan view illustrating an example of a set of color 
steps. The color steps consist of a plurality of figures G1 
through Gn which are laid one upon another at equal intervals 
along a predetermined direction and have linearly changing 
shapes and colors. As illustrated in Fig. 14, the distance 
between the corresponding corners of every neighboring figures 
is identical, and the shape is varied linearly from the 
back-most figure G1 to the front-most figure Gn. The 
figures are filled uniformly with respective colors. The 
color is also varied linearly from the back-most figure G1 
to the front-most figure Gn. The terminology 'difference in 
the color' includes even a difference in the density only 
(or brightness) in this specification.  A vignette image is relatively similar to color steps. 
Fig. 15 is a plan view illustrating an example of the 
vignette image. The vignette image is a figure G which is 
filled with continuously changing color. Some application programs generally used for image 
processing with personal computers or workstations easily 
create color steps but not a vignette. Even in such a case, 
a vignette can be approximated with color steps. When a vignette is approximated with color steps, the 
respective figures of the color steps are slightly different 
in colors, and therefore a tone jump is often observed on 
the boundary of every neighboring figures. Since a real 
vignette is an image having a continuous color variation 
without any tone jumps, the tone jump is accordingly recognized 
as deterioration of the picture quality. There is a demand 
for effectively eliminating the tone jumps in a vignette-like 
image approximated with color steps. An object of the present invention is to reduce tone 
jumps in a vignette-like image approximated with color 
steps. The present invention is directed to a method of generating 
vignette image data approximately representing a vignette 
image having a continuous linear color variation. The 
method comprises the steps of: providing first color step 
image data representing a first set of color step image 
including a plurality of figures which are arranged at equal 
intervals along a
</DESCRIPTION>
<CLAIMS>
A method of generating vignette image data approximately 
representing a vignette image having a continuous linear 

color variation, comprising the steps of: 
   providing first color step image data representing a 

first set of color step image including a plurality of 
figures which are arranged at equal intervals along a 

predetermined direction to be laid one upon another and 
filled uniformly with different colors, shapes and colors of 

said plurality of figures changing linearly in order; 
   determining, based on said first set of color step image 

data, a difference between first color data indicating a 
color of a first figure arranged in a back-most position 

among said plurality of figures and second color data 
indicating a color of a second figure arranged in a front-most 

position among said plurality of figures; 
   dividing said difference by a predetermined step width 

to obtain an integer N; 
   generating a second set of color step image which 

comprises (N+1) pieces of figures including said first 
figure, said second figure, and (N-1) pieces of figures 

arranged between said first and second figures at equal 
intervals, and generating second color step image data 

representing a color of each pixel in said second set of 
color step image; 

   generating a color data noise with respect to every 
neighboring pair of said (N+1) pieces of figures, within a 

 
predetermined range from a boundary of said every neighboring 

pair; and 
   adding said color data noise to said second set of color 

step image data to generate vignette image data approximately 
representing a vignette image. 
A method in accordance with claim 1, wherein said 
step of generating the color data noise comprises the steps 

of: 
   generating a noise offset whose value has a predetermined 

variation within said predetermined range; 
   generating a random noise at least within said predetermined 

range; 
   adding said noise offset and said random noise to obtain 

a multi-digital noise; and 
   binarizing said multi-digital noise to obtain said color 

data noise. 
A method in accordance with claim 2, wherein 
   a maximum value of said noise offset is equal to a 

maximum value of said random noise. 
A method in accordance with claim 3, wherein 
   said step of binarizing comprises the step of binarizing 

said multi-digital noise by said maximum value of said noise 
offset and said random noise 
A method in accordance with claim 1, wherein 
   said step of providing said first set of color step 

image data comprises the step of providing said first set of 
color step image data expressed by a first page-description-program; 

and 
   said step of generating said second set of color step 

image data comprises the step of generating said second set 
of color step image data expressed by a second page-description-program. 
A method in accordance with claim 5, further comprising 
the steps of 

   before said step of determining said difference, extracting 
a 
plurality of component programs describing said plurality 
of figures from said first page description program; and 

wherein 
   said step of generating said second set of color step 

image further comprises the step of generating (N-1) pieces 
of component programs describing said (N-1) pieces of figures 

arranged between said first and second figures. 
A method in accordance with claim 6, wherein 
   said step of extracting said plurality of component 

programs comprises the steps of: 
   examining a color data difference and a positional 

difference for neighboring pairs of said plurality of figures; 
and

 
   extracting at least three component programs describing 

figures which has substantially identical values of said 
color data difference and said positional difference, 

respectively. 
An apparatus for converting first color step image 
data representing a first set of color-step image to vignette 

image data approximately representing a vignette image having 
a continuous linear color variation, said first color step 

image consisting of a plurality of figures which are arranged 
at equal intervals along a predetermined direction to be 

laid one upon another and filled uniformly with different 
colors, shapes and colors of said plurality of figures 

changing linearly in order, said apparatus comprising: 
   means for determining, based on said first set of color 

step image data, a difference between first color data 
indicating a color of a first figure arranged in a back-most 

position among said plurality of figures and second color 
data indicating a color of a second figure arranged in a 

front-most position among said plurality of figures, and 
dividing said difference by a predetermined step width to 

obtain an integer N; 
   image correction means for generating a second set of 

color step image which comprises (N+1) pieces of figures 
including said first figure, said second figure, and (N-1) 

pieces of figures arranged between said first and second 
figures at equal intervals, and generating second color step 

image data representing a color of each pixel in said second 
 

set of color step image; 
   noise generation means for generating a color data noise 

with respect to every neighboring pair of said (N+1) pieces 
of figures, within a predetermined range from a boundary of 

said every neighboring pair; and 
   addition means for adding said color data noise to said 

second set of color step image data to generate vignette 
image data approximately representing a vignette image. 
An apparatus in accordance with claim 1, wherein said 
noise generation means comprises: 

   means for generating a noise offset whose value has a 
predetermined variation within said predetermined range; 

   means for generating a random noise at least within said 
predetermined range; 

   means for adding said noise offset and said random noise 
to obtain a multi-digital noise; and 

   means for binarizing said multi-digital noise to obtain 
said color data noise. 
An apparatus in accordance with claim 9, wherein 
   a maximum value of said noise offset is equal to a 

maximum value of said random noise. 
An apparatus in accordance with claim 10, wherein 
   said means for binarizing comprises means for binarizing 

said multi-digital noise by said maximum value of said noise 
offset and said random noise 
An apparatus in accordance with claim 8, wherein 
   said first set of color step image data is expressed by 

a first page-description-program; and 
   said image correction means comprises means for generating 

said second set of color step image data expressed by a 
second page-description-program. 
An apparatus in accordance with claim 12, further 
comprising 

   extraction means for extracting a plurality of component 
programs describing said plurality of figures from said 

first page description program; and wherein 
   said image correction means further comprises means for 

generating (N-1) pieces of component programs describing 
said (N-1) pieces of figures arranged between said first and 

second figures. 
An apparatus in accordance with claim 13, wherein 
said extraction means comprises 

   means for examining a color data difference and a 
positional difference for neighboring pairs of said plurality 

of figures; and 
   means for extracting at least three component programs 

describing figures which has substantially identical values 
of said color data difference and said positional difference, 

respectively. 
</CLAIMS>
</TEXT>
</DOC>
