<DOC>
<DOCNO>EP-0654754</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method of analyzing data defining an image
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T760	G06T760	G06K920	G06K920	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T7	G06T7	G06K9	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Input image data define an input image set that shows a graphical representation 
(12) of a layout with two or more segments (14,16). The graphical representation (12) can be a 

sketch, and can include, for example, a rectangular boundary with lines parallel to its sides 
defining rectangular segments within the boundary. The input image data are used to obtain 

segment source data (20) indicating a source for each segment and segment position data (22) 
indicating a position for each segment. The segment source data (20) can indicate, for each 

segment of the layout, one of a number of source images in the input image set. The segment 
position data (22) can indicate a reference point and a width and height for each segment. The 

source image for a segment can be a sketch of a graphical representation--such as a node-link 
structure, a parallel length graph, a proportioned parts graph, a row/column representation, a 

perimeter relationship representation, or a two-dimensional graph--that can be categorized 
and rendered to obtain data defining a precisely formed graphical representation. The 

segment source data (20) for other segments and the segment position data (22) can be used 
with the data defining the precisely formed graphical representation to obtain output image 

data defining an output image that includes a layout as represented by the graphical 
representation. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
XEROX CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
XEROX CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MAHONEY JAMES V
</INVENTOR-NAME>
<INVENTOR-NAME>
RAO SATYAJIT
</INVENTOR-NAME>
<INVENTOR-NAME>
MAHONEY, JAMES V.
</INVENTOR-NAME>
<INVENTOR-NAME>
RAO, SATYAJIT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method of analyzing data defining an image and,
more particularly, to techniques for analyzing an image that includes information about a
layout.Suenaga,Y., and Nagura, M., "A Facsimile Based Manuscript Layout and Editing
System by Auxiliary Mark Recognition," 5th International Conference on Pattern Recognition,
Vol. 2, IEEE, 1980, pp. 856-858, describe an editor that uses handwritten mark recognition.
Information for manuscript editing is input from a facsimile transmitter.US-A-5,111,514 delineates an apparatus for converting hand-written characters into
finally shaped characters. The apparatus includes an image reading part for optically
reading an original. The apparatus further comprises a character environment part
for correcting the character images to have the same size and the same distance
therebetween. Further, a character/graphic discrimination part makes a decision as
to whether an image is a noise image, a character image or a graphic image.JP-A-04 086825 (Patent Abstracts of Japan, vol. 16, no. 309 (P-1382), July 8, 1992)
discloses a plate making device for printing. The device reads photograph originals
designated by numbers etc., using a scanner. The photographs are stored in, for
example, a magnetic memory device. A design layout sheet designated with the
positions of photograph originals is then scanned and also stored in the magnetic
memory device. A computer recognises this design layout sheet and the written
events. Finally, the photograph originals are read out from the magnetic memory
device and are disposed in accordance with the recognition result.It is the object of this invention to provide a method, a machine and an article of
manufacture which are user-friendly.This object is achieved by a method according to claim 1, a machine according to
claim 12 and an article of manufacture according to claim 18.Preferred embodiments are subject-matters of the dependent claims. The invention is based on a technique for analyzing an image set
showing a graphical representation of a layout of image segments. The technique analyzes the
graphical representation to obtain information about the layout The graphical representation
can, for example, be a sketch of a layout.The technique is based on the observation that two types of information are needed
to lay out image segments-source information indicating sources of segments and position
information indicating positions of segments.The technique is further based on the finding that a graphical
</DESCRIPTION>
<CLAIMS>
A method comprising:

obtaining input image data defining an input image set (100, 102, 104; 320, 322,
324, 326, 328, 330; 442) that shows a graphical representation (12; 100; 320) of a

layout, the graphical representation (12; 100; 320) including segment source
information indicating source images (102, 104; 322, 324, 326, 328, 330) for

segments in the layout and segment position information indicating positions of
the segments within the layout; the segment source information including, for

each segment, segment identifier marks indicating a segment identifier identifying
each segment; and
using the input image data to obtain segment position data (22; 222; 446)
indicating a position for each of the segments;
obtaining segment identifier data indicating the segment identifier indicated by the
segment identifier marks; and
using the segment identifier data to determine the segment source data (20, 220,
440); the segment source data indicating a source image for each segment,

   
characterized in that
said layout includes two or more segments (14,16);
the input image set further shows image source sheets defining said source
images; 
each image source sheet includes source identifier marks; the source identifier
marks indicating a source identifier identifying the source image;
the method further comprising the steps of:

using the input image data to obtain image source data indicating, for each
segment, the corresponding image source sheet;
obtaining source identifier data indicating the source identifier indicated by the
source identifier marks; and
matching the source identifier data and the segment identifier data to determine
the source image corresponding to each segment
The method of claim 1 in which the input image set includes a human produced
image (320, 322, 324, 326, 328, 330); the human-produced image showing the

graphical representation.
The method of claim 2 in which the human-produced image shows a sketch of the
layout, the sketch being the graphical representation.
The method of one of the claims 1 to 3, further comprising.

   using the segment source data (20; 220; 444) and the segment position data (22;
222; 446) to obtain output image data defining an image that includes a layout as

represented by the graphical representation (12).
The method of claim 4 in which the segment position data (22; 222; 446) indicate,
for each of the segments, a width and a height; the act of using the segment

source data (20; 220; 444) and the segment position data comprising:

using the segment position data (22; 222; 446) to scale each of the segments to
fit within the width and height indicated by the segment position data (22; 222;

446). 
The method of claims 4 or 5 in which the segment position data indicate, for each
of the segments, a reference point; the act of using the segment source data

(120; 220; 444) and the segment position data (22; 222; 446) comprising:

using the segment position data (22; 222; 446) to position each of the segments
at the reference point indicated by the segment position data (22; 222; 446).
The method of one of claims 4 to 6 in which the input image set further shows a
sketch (320, 322, 324, 326, 328, 330) of a source graphical representation; the

segment source data indicating that the sketch is a source image of the first
segment; the act of using the segment source data and the segment position

data to obtain output image data further comprising:

using the input image data to obtain content data indicating information
represented by the source graphical representation;
using the content data to obtain data defining a precisely formed graphical
representation representing the information indicated by the content data; and
using the data defining the precisely formed graphical representation to obtain the
output image data.
The method of daim 7 in which the source graphical representation is a node-link
structure, a parallel length graph, a proportioned parts graph, a row/column

representation, a perimeter relationship representation, or a two-dimensional
graph.
The method of one of claims 1 to 8 in which the graphical representation of the
layout includes two or more segment representations (14, 16); the act of using

the input image data to obtain segment source data (20; 220; 444) and segment
position data comprising: 


using the input image data to obtain relative position data indicating the position of
each segment representation relative to the graphical representation; and
using the relative position data to obtain the segment position data.
The method of one of claim 9 in which the graphical representation of the layout
includes a rectangular boundary and lines parallel to sides of the boundary

defining the segment representations within the boundary, each segment
representation being rectangular; the act of using the input image data to obtain

relative position data comprising:

using the input image data to obtain boundary position data indicating the
boundary's position and first segment position data indicating a first segment

representation's position; and
using the boundary position data and the first segment position data to obtain first
segment relative position data indicating a position of the first segment

representation relative to the boundary; the relative position data including the first
segment relative position data.
The method of claim 1 in which the source identifier marks form a number of
connected components that indicate the source identifier; the segment identifier

marks forming the same number of connected components;

the act of obtaining source identifier data comprising:

obtaining first count data indicating the number of connected components formed
by the source identifier marks;
the act of obtaining segment identifier data comprising:

obtaining second count data indicating the number of connected components
formed by the segment identifier marks.
A machine comprising:

image input circuitry (70) for obtaining data defining images as input;
memory (68; 192, 194; 420, 440) for storing data; and
a processor (66; 402) connected for receiving data defining images from the
image input circuitry (70) and connected 
for
 accessing data stored in the memory;
the data stored in the memory comprising instruction data (192; 420) indicating
image processing instructions the processor can execute; the processor, in

executing the image processing instructions:

receiving input image data from the image input circuitry, the input image data
defining an input image set (100, 102, 104; 320, 322, 324, 326, 328, 330; 442)

that shows a graphical representation (12;100; 320) of a layout; the graphical
representation including segment source information indicating source images

(102, 104; 322, 324, 326, 328, 330) for segments in the layout and segment
position information indicating positions of the segments within the layout; the

segment source information including, for each segment, segment identifier marks
indicating a segment identifier identifying each segment; and
using the input image data to obtain segment position data (22; 222; 446)
indicating a position for each of the segments;
obtaining segment identifier data indicating the segment identifier indicated by the
segment identifier marks; and
using the segment identifier data to determine the segment source data (20, 220,
440); the segment source data indicating a source image for each segment,
characterized in that
said layout includes two or more segments (14,16); 
the input image set further shows image source sheets defining said source
images; each image source sheet includes source identifier marks; the source

identifier marks indicating a source identifier identifying the source image;
the processor, in executing the image processing instructions performing the
steps of:


using the input image data to obtain image source data indicating, for each
segment, the corresponding image source sheet;
obtaining source identifier data indicating the source identifier indicated by the
source identifier marks; and
matching the source identifier data and the segment identifier data to determine

the source image corresponding to each segment
The machine of claim 12 in which the input image circuitry is connected for
receiving facsimile transmissions (72).
The method of claim 12 or 13 in which the machine further comprises image
output circuitry (90) for providing data defining images as output; the processor

further, in executing the image processing instructions:

using the segment source data and the segment position data to obtain output
image data (448) defining an image that includes a layout as represented by the

graphical representation; and
providing the output image data to the image output circuitry (90).
The machine of claim 14 in which the output image circuitry is connected for
providing facsimile transmissions (72). 
The machine of one of claims 12 to 15 in which the machine is an image
processing server (398); the image processing server being connected to a

network for receiving requests for image processing operations; the network
including the image input circuitry; the instruction data further indicating request

handling instructions the processor can execute; the processor, in executing the
request handling instructions, determining whether to execute the image

processing instructions.
The machine of one of claims 12 to 16 in which the machine is a fax server (400)
or a copier (460).
An article of manufacture for use in a machine that includes:

image input circuitry (70) for obtaining data defining images as input;
a storage medium access device (64) for accessing a medium that stores data;
and
a processor (66; 402) connected for receiving data defining images from the
image input circuitry; the processor further being connected for receiving data

from the storage medium access device;
the article comprising:

a storage medium that can be accessed by the storage medium access device
when the article is used in the system; and
data stored by the storage medium so that the storage medium access device
can provide the stored data to the processor when the article is used in the

system; the stored data comprising instruction data (192; 420) indicating
instructions the processor can execute; the processor, in executing the

instructions: 

receiving input image data from the image input circuitry, the input image data
defining an input image set (100, 102, 104; 320, 322, 324, 326, 328, 330; 442)

that shows a graphical representation (12; 100; 320) of a layout; the graphical
representation (12; 100; 320) including segment source information indicating

source images (102, 104, 322, 324, 326, 328, 330) for segments in the layout and
segment position information indicating positions of the segments within the

layout; the segment source information including, for each segment, segment
identifier marks indicating a segment identifier identifying each segment; and
using the input image data to obtain segment position data (22; 222; 446)
indicating a position for each of the segments;
obtaining segment identifier data indicating the segment identifier indicated by the
segment identifier marks; and
using the segment identifier data to determine the segment source data (20, 220;
440); the segment source data indicating a source image each for segment,
characterized in that
said layout includes two or more segments (14,16);
the input image set further shows image source sheets defining said source
images; each image source sheet includes source identifier marks; the source

identifier marks indicating a source identifier identifying the source image;
the processor, in executing the image processing instructions performing the
steps of:


using the input image data to obtain image source data indicating, for each
segment, the corresponding image source sheet;
obtaining source identifier data indicating the source identifier indicated by the
source identifier marks; and 

matching the source identifier data and the segment identifier data to determine
the image source corresponding to each segment.
</CLAIMS>
</TEXT>
</DOC>
