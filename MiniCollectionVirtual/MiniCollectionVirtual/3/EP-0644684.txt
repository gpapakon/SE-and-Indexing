<DOC>
<DOCNO>EP-0644684</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Digital resampling integrated circuit for fast image resizing applications
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T340	H04N726	G06T340	H04N726	H04N1393	G09G536	H04N1393	G09G536	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	H04N	G06T	H04N	H04N	G09G	H04N	G09G	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T3	H04N7	G06T3	H04N7	H04N1	G09G5	H04N1	G09G5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A resampling application specific integrated circuit 
(RSA) supports image interpolation or decimation by any 

arbitrary factor in order to provide flexibility, and 
utilizes a neighborhood of up to 9 x 9 pixels to produce 

image data of high quality. The RSA contains a separate 
vertical and horizontal filter units for vertical 

resizing and horizontal resizing operations, vertical and 
horizontal p
osition accumulator units, a configuration 
register unit for loading the vertical and horizontal 

position accumulator units, and a memory management unit 
to interface the RSA to external memory banks. The 

vertical and horizontal filter units contain nine 
multipliers and nine corresponding coefficient memories, 

with each memory preferably containing storage space for 
thirty-two coefficients. The coefficients are addressed 

on a pixel by pixel basis in response to the outputs of 
the vertical and horizontal position accumulator units. 

The RSA is designed to handle an input data stream that 
contains multiple color components and simultaneously 

resizes all of the color components. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
EASTMAN KODAK CO
</APPLICANT-NAME>
<APPLICANT-NAME>
EASTMAN KODAK COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BERARDUCCI THOMAS NEAL
</INVENTOR-NAME>
<INVENTOR-NAME>
COOK WILLIAM A
</INVENTOR-NAME>
<INVENTOR-NAME>
D LUNA LIONEL J
</INVENTOR-NAME>
<INVENTOR-NAME>
WARD JOSEPH
</INVENTOR-NAME>
<INVENTOR-NAME>
BERARDUCCI, THOMAS NEAL
</INVENTOR-NAME>
<INVENTOR-NAME>
COOK, WILLIAM A.
</INVENTOR-NAME>
<INVENTOR-NAME>
D'LUNA, LIONEL J.
</INVENTOR-NAME>
<INVENTOR-NAME>
WARD, JOSEPH
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates generally to digital image
processing systems and, more specifically, to digital
image processing systems that perform image resizing or
resampling.Image resizing or resampling is an important
operation in many digital imaging systems, including film
or print scanners, image processing accelerators, and
digital hard-copy printers, and is used to enlarge
(interpolation) or reduce (decimation) the size of a
digital image. Each pixel of a resized image is computed
as a weighted average of an N x N neighborhood of pixels
of an original image as a result of a resizing operation.
Thus, a resizing operation is similar to image filtering
or convolution operations. In image filtering, however,
the output pixel sampling grids are identical and the
same weights or filter coefficients are used to compute
each output pixel; while in image resizing, the output
pixel locations are different than the input locations,
the weights used to compute each output pixel depend on
the distance between the output pixels and the input
sampling grid, and the weights can be different for each
output pixel.Several different types of calculations must be
performed to resize an entire image including: the
calculation of the positions of the output image pixels
relative to the input sampling grid for a given factor of
decimation or interpolation; the calculation of addresses
of filter kernel coefficients from the position values;
and the calculation of each output pixel value using the
filter coefficients and the pixels in the N x N
neighborhood. Performing an image resizing operation on 
a personal computer or workstation using software
routines is therefore impractical, due to the large
number of multiplication and addition operations that
must be performed. Thus, image resizing operations have
generally been performed in digital image processing
systems using specialized hardware such as customized
integrated circuit devices.Current hardware solutions for performing image
resizing are limited by a number of factors, including
the requirement for a number of separate integrated
circuit chips (ICs) to: 1) perform pixel position and
address calculation; 2) store interpolation filter
coefficients; and 3) multiply/add input pixels and
coefficients to compute output pixel values (i.e. a
convolver IC). The use of multiple ICs increases the
expense of the system and consumes a comparatively large
amount of circuit board space. In addition, currently
available convolver ICs that also allow the filter
coefficient to be
</DESCRIPTION>
<CLAIMS>
An integrated circuit device for use in digital image
processing comprising:


a horizontal filter unit (10) and a vertical filter unit
(12) that is separate from the horizontal filter unit, the

filter units being operable so that an output of a first one
of the filter units is subsequently processed by the second

other one of the filter units; memory management means (14)
for interleaving writes to a memory (M0-M4) of an output of

said first one of the filter units with reads from the memory
to said second other one of the fiter units; means (14, 22)

for connecting an output of said second other one of the
filter units to be selectively recirculated to the memory and

back to said second other one of the filter units; a
horizontal position accumulator (18) coupled to the horizontal

filter unit and a vertical position accumulator (20) coupled
to the vertical filter unit; and data entry means for loading

coefficient data into the horizontal and vertical filter units
and configuration data into the horizontal and vertical

position accumulators.
An integrated circuit device as claimed in claim 1, wherein the horizontal
and vertical filter units include a plurality of tap elements.
An integrated circuit device as claimed in claims 1 or 2, wherein the
horizontal and vertical filter units include a plurality of tap elements and wherein each

respective tap element includes a multiplier (30) and a coefficient memory (32) that
stores plural selectable coefficients for exclusive use of the respective tap element.
An integrated circuit device as claimed in claims 2 or 3 wherein each tap
element includes a DATA-IN port and a DATA-OUT port, the DATA-IN port of the first

tap element of the horizontal filter unit is connected to an input port of the integrated
circuit device, the DATA-OUT port of each tap element in the horizontal filter unit

feeds the DATA-IN port of the next tap element, and the DATA-IN port of the tap
elements of the vertical filter unit are connected in p
arallel to the memory
management unit. 
A digital image processing method comprising:

loading respective coefficient data into a horizontal filter unit (10) and into a
vertical filter unit (12) that is separate from the horizontal filter unit, the horizontal and

vertical filter units being formed into an integrated circuit chip;
loading respective configuration data into a horizontal position accumulator (18)
and into a vertical position accumulator (20);
inputting image data into the horizontal filter unit (10);
inputting image data into the vertical filter unit (12);
in response to the respective coefficient data and configuration data associated
with the horizontal filter unit resampling the image data input into the horizontal filter

unit and providing an output from the horizontal filter unit as a first set of resampled
image data;
in response to the respective coefficient data and configuration data associated
with the vertical filter unit, resampling the first set of resampled image data and

providing an output from the vertical filter unit as a second set of resampled image
data; and
alternately interleaving reads into a memory of outputs from the horizontal filter
unit with writes from the memory of resampled data into the vertical filter unit.
An image processing method as claimed in claim 5, further including the
steps of:


providing a plurality of tap elements in the horizontal and vertical filter units of
the integrated circuit device, each tap element comprising a multiplier (30) and a

coefficient memory (32);
and loading plural selectable coefficients into the coefficient memory (32) for
exclusive use by the multiplier (30) of the respective tap element.
The image processing method of claims 5 or 6 wherein the vertical filter
unit alternately computes lines of a decimated image and lines of an interpolated

image. 
The image processing method of claims 5 or 6 wherein the vertical filter
unit alternately has input thereto recirculated sampled data previously output from

the vertical filter unit and sampled data output from the horizontal filter unit.
</CLAIMS>
</TEXT>
</DOC>
