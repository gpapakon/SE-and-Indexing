<DOC>
<DOCNO>EP-0618545</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processing system suitable for colored character recognition
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N146	G06K712	G06K712	G06K920	G06K934	G06K934	G06K962	G06K920	H04N146	G06K962	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	G06K	G06K	G06K	G06K	G06K	G06K	G06K	H04N	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N1	G06K7	G06K7	G06K9	G06K9	G06K9	G06K9	G06K9	H04N1	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image processing system capable of facilitating the 
highly accurate character recognition on the colored input 

images. In this system, an input image data to be processed 
is entered, and a color separation of the input image data 

is determined according to geometrical data for each image 
portion of the input image data, and color data for each 

image portion and a background of the input image data. 
Then, the input image data is appropriately processed 

according to the determined color separation. Also, in this 
system, at least one of color image data and gray scale 

image data according to the input image data are stored 
along with and binary image data according to the input 

image data, and the binary image data are processed by 
looking up tht at least one of the color image data and the 

gray scale image data. 
</ABSTRACT>
<APPLICANTS>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a character recognition
apparatus and method for recognizing characters on input
image data. In a conventional character recognition of printed or
handwritten characters on a tabular form slip in which
characters are divided by ruled lines and blank spaces, at
a time of image input, an optical filter treatment called
drop out color has been applied to remove a color
constituting a form portion of the slip from the original
image of the slip, so as to extract the characters to be
recognized alone.For this reason, in the conventional character
recognition using the drop out color, it has been
impossible to deal with the slips using the form portion in
colors other than those of the drop out color or the slips
with the non-white background color. Moreover, it has also
been impossible to deal with the multi-colored slips as
well as the slips having the characters in the color of the
drop out color or in the unspecified colors.In order to resolve this problem, there has been a
proposition for the character recognition capable of
dealing with the slips using the form portion in colors
other than those of the drop out color, as disclosed in
Japanese Patent Application Laid Open No. 61-15285 (1986),
but this proposition relies on a technique for separating
the characters from the character frames without separating 
the colors, so that it is only possible to realize a
limited recognition level.On the other hand, there are many propositions for the
character recognition which utilizes a technique of color
separation for the input image. Examples of such
conventional propositions includes those disclosed in
Japanese Patent Application Laid Open No. 62-5485 (1987),
Japanese Patent Application Laid Open No. 62-154181 (1987),
Japanese Patent Application Laid Open No. 2-67689 (1990),
Japanese Patent Application Laid Open No. 2-135584 (1990),
Japanese Patent Application Laid Open No. 2-123488 (1990),
Japanese Patent Application Laid Open No. 3-14077 (1991),
Japanese Patent Application Laid Open No. 3-223987 (1991),
Japanese Patent Application Laid Open No. 4-39789 (1992),
Japanese Patent Application Laid Open No. 4-160486 (1992),
and Japanese Patent Application Laid Open No. 4-354083
(1992).In these conventional propositions, the
accurate recognition of characters may not be possible when
they are employed with relaxed constraints concerning the
colors of the slips, the colors of the characters, the
printing or handwriting method of the form portion and the
characters, etc. for
</DESCRIPTION>
<CLAIMS>
Character recognition apparatus for recognizing
characters on input image data, comprising:


an input unit (1) configured to receive the input image
data;
a color separation unit (2) connected to the input unit
and configured to determine a plurality of separate

regions on the input image data, the separate regions
being determined based on a same color existing

throughout all of the separate regions;
an image processing unit (4) connected to the color
separation unit and configured to perform image

processing on the separate regions to obtain a combined
region based on a proximity of a subset of the separate

regions with respect to each other; and
a character segmentation unit (5) and a recognition unit
(6) connected to the image processing unit and

configured to compare the combined region with a
plurality of predetermined geometrical shapes

representing known characters;

wherein feedback is provided between the color separation unit (2)
and the tentative segmentation and recognition processing units (5, 6)

such that the subset of the separate regions is
determined to correspond to one of shapes representing

characters or lines of form data that most closely
matches with the combined region with respect to its geometrical shape. 
Apparatus according to claim 1, wherein the combined
region further includes at least one other region

proximately located to the separate regions having the
same color, said at least one other region having a

second color existing throughout said at least one other
region, said second color being different from but

similar to the same color.
Apparatus according to claim 1 or 2, wherein the input
image data is accompanied by form data specifying a

color separation scheme for each region of the input
image data, and the color separation unit determines the

color separation at each region of the input image data
according to the color separation scheme specified by

the form data.
Apparatus according to any of the preceding claims,
wherein the input image data is accompanied by form data

specifying a recognition scheme for each color in the
input image data, and the image processing unit

processes the input image data by applying the
recognition scheme specified by the form data for each

color separated by the color separation unit.
Apparatus according to any of the preceding claims,
wherein the color separation unit determines the color

separation for separating representative colors in the
input image data, and the image processing unit produces

run length representations for the representative colors
and a pointer table formed by pointers pointing to the

run length representations, such that any of the
representative colors can be looked up from the pointers

of the pointer table. 
Apparatus according to any of the preceding claims,
wherein the input image data is accompanied by

attribution data indicating color correction parameters
for the input image data, and the system further

includes a reproducing unit for reproducing the color
correction parameters from the attribution data

accompanying the input image data and carrying out a
color correction with respect to the input image data

according to the reproduced color correction parameters.
Character recognition method for recognizing characters
on an input image data, comprising the steps:


receiving input image data;
determining a plurality of separate regions on the input
image data, the separate regions being determined based

on a same color existing throughout all of the separate
regions;
performing image processing on the separate regions to
obtain a combined region based on a proximity of a

subset of the separate regions with respect to each
other; and
comparing the combined region with a plurality of
predetermined geometrical shapes representing known

characters;

wherein feedback is provided between color separation
and tentative segmentation and recognition processing

such that the subset of the separate regions is
determined to correspond to one of the predetermined

geometrical shapes that most closely matches the
combined region with respect to its geometrical shape.
</CLAIMS>
</TEXT>
</DOC>
