<DOC>
<DOCNO>EP-0611165</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Programmable switched capacitor circuit
</INVENTION-TITLE>
<CLASSIFICATIONS>H03K1700	H03K1700	H03H1900	H03H1900	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03K	H03K	H03H	H03H	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03K17	H03K17	H03H19	H03H19	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A switched capacitor circuit is described which is 
programmable so that its function can be set by a user. Thus, 

control circuitry and selection circuitry are provided to 
enable one of a plurality of alternative control signals to be 

provided to switch circuits of the switched capacitor 
circuit. In this way, the function of the switched capacitor 

circuits can be altered. Where there are a plurality of 
switched capacitor circuits connected in an array, the 

topology of the array can be altered by suitably routing 
particular input signals to particular outputs by selecting 

the control signals to control the switched circuits. A field 
programmable array of this type is also described. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MOTOROLA INC
</APPLICANT-NAME>
<APPLICANT-NAME>
MOTOROLA, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MACBETH IAN CRAIG
</INVENTOR-NAME>
<INVENTOR-NAME>
PATTULLO DOUGLAS MARTIN
</INVENTOR-NAME>
<INVENTOR-NAME>
MACBETH, IAN CRAIG
</INVENTOR-NAME>
<INVENTOR-NAME>
PATTULLO, DOUGLAS MARTIN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a programmable switched
capacitor circuit, and particularly but not exclusively to a
programmable analogue cell incorporating a switched capacitor
circuit, and to an array of such cells.Switched capacitor circuits are known and have been used in
filter circuits to emulate the behaviour of a resistor by
switching charge into and out of a capacitor through switch
circuits on either side of the capacitor. They have been used
particularly in filter circuits to implement the resistive
part of a R-C timing circuit for a filter. That is, the
switched capacitor circuit is used to charge up a second
capacitor at a particular rate, the rate of charge of the
second capacitor depending on the ratio of values between the
switched capacitor and the second capacitor. A known switched
capacitor circuit comprises a capacitor (the "switched"
capacitor) connected between first and second switch
circuits. Each switch circuit has two terminals in addition
to a terminal connecting it to the switched capacitor. The
switch circuit connected to a first terminal of the switched
capacitor has a terminal connected to an input voltage for the
switched capacitor circuit and a terminal connected to
ground. The switch circuit connected to a second terminal of
the switched capacitor has a terminal connected to an output
of the switched capacitor circuit and a terminal connected to
ground. The switch circuits can be controlled by
non-overlapping clock signals which cause the switches to
toggle between the two terminals. This toggling effect causes
charge packets to be transferred into and then out of the
capacitor to emulate the behaviour of a resistor.Subsequent developments have led to the use of switched
capacitor circuits in many different structure over and above
the emulation of resistor behaviour. These structures behave
in a definable manner even though some do not have any
continuous time equivalent. In existing switched capacitor circuits, the required
non-overlapping clock signals are supplied to all of the
switch circuits in the circuit. This is done by a hard wired
bus extending from a clock signal generator to each of the
switch circuits. Thus, the switch circuits are committed at
the time that the chip is made since at this time the hard
wired distribution of the bus is determined.In some existing circuits the possibility exists to externally
program or control the value of components so that the tuning
of the circuit can be adjusted. These circuits include
programmable switched capacitor
</DESCRIPTION>
<CLAIMS>
A switched capacitor circuit comprising a capacitor (2)

connected in circuitry which includes first and second switch
circuits (4,6) on opposite sides of said capacitor (2) and

control circuitry (8) operatively connected to at least one of
said first and second switch circuits (4,6), characterized in

that said control circuitry (8) is operable to provide one of a
plurality of alternative control signals (51, 52, 53) for

controlling operation of said at least one switch circuit (4,6),
one of said alternative control signals being a periodically

varying signal to alternate the state of the switch circuit (4,6)
between two alternative states and another of said alternative

control signals causing the switch circuit (4,6) to be held in
a fixed state, and in that selection circuitry (8) is provided

to select one of said alternative control signals, said selection
circuitry being programmable so that the selection between the

alternative control signals can be determined by a user.
A switch capacitor circuit according to claim 1 in which
said capacitor (2) is connected in series between first and

second switch circuits (4,6), to provide a parasitic insensitive
switched capacitor circuit.
A switched capacitor circuit according to claim 1 or claim
2 in which said first switch circuit (4) is connected between

said capacitor (2) and a first input (I) and is operable in
response to the periodically varying signal to connect or

disconnect alternately the capacitor (2) to said first input (I)
whereby the capacitor (2) may repeatedly sample an input signal

at said input (I), and in the fixed state to connect the
capacitor (2) to said first input (I).
A switched capacitor circuit according to claim 3 in which
the first switch circuit (4) is operable to connect the capacitor

(2) to a ground connection. 
A switched capacitor circuit according to claim 3 or claim
4 in which the first switch circuit (4) is operable in the fixed

state to disconnect the capacitor (2) so that it is no longer in
circuit.
A switched capacitor circuit according to any one of claims
1 to 5 in which said second switch circuit (6) is connected

between said capacitor (2) and an output (O) and is operable in
response to the periodically varying signal to connect or

disconnect alternately the capacitor (2) to said output (O)
whereby the output (O) may repeatedly sample a signal held by the

capacitor (2), and in the fixed state to connect the capacitor
(2) to the output (O).
A switched capacitor circuit according to claim 6 in which
said second switch circuit (6) is operable to connect the

capacitor (2) to a ground connection.
A switched capacitor circuit according to claim 6 or claim
7 in which said second switch circuit (6) is operable in the

fixed state to disconnect the capacitor (2) so that it is no
longer in circuit.
A switched capacitor circuit as claimed in any one of claims
1 to 8 in which said control circuitry (8) is arranged to provide

two non-overlapping clock signals (CLK, 
CLK
) for controlling
operation of said switch circuits (4,6).
A switched capacitor circuit according to any one of claims
1 to 9 in which said control circuitry (8) is arranged to provide

a plurality of control signals (S1, S2, S3) for controlling said
switch circuits (4,6), said control signals comprising both

periodic signals and aperiodic signals.
A switched capacitor circuit according to claim 2 or any of
claims 3 to 10 when appended thereto in which said selection

circuitry (38) has a plurality of selection outputs each 
connected to a respective one of said switch circuits (4,8) and

is operable to connect any one of said alternative control
signals (S1, S2, S3) to any one of said selection outputs.
A switched capacitor circuit according to any one of claims
1 to 11 in which said first switch circuit (4) is connected

between a plurality of inputs (I
1
 ,I
2
) and said capacitor (2) and
is operable as a routing switch to connect selectively one of

said inputs to said capacitor (2).
A switched capacitor circuit according to any one of claims
1 to 12 in which said second switch circuit (6) is connected

between a plurality of outputs and said capacitor (2) and is
operable as a routing switch to connect selectively one of said

outputs to said capacitor (2).
A switched capacitor circuit according to any one of claims
1 to 13, in which said capacitor (2) is programmable to vary the

capacitance in circuit.
A switched capacitor circuit according to claim 14 in which
a plurality of selectable capacitance values are stored in a

storage device (26) coupled to said capacitor (2) to vary the
capacitance in circuit.
A switched capacitor circuit according to claim 14 or 15 in
which a dynamic capacitance adjustment circuit is coupled to said

capacitor (2) to vary said capacitance in response to a dynamic
input signal (24).
A switched capacitor circuit according to any one of claims
1 to 16 which comprises storage circuitry (10) operatively

coupled to said selection circuitry for storing a plurality of
program selections of outputs to said first and second switch

circuits (4,6). 
A switched capacitor circuit according to any one of the
preceding claims in which said selection circuitry includes a

dynamic signal input for receiving a signal (24) to provide at
least one of said control signals (S1,S2,S3) of the control

circuitry in dependence on said dynamic signal input.
A switched capacitor circuit according to any one of the
preceding claims in which said switched capacitor circuit

includes additional switch circuits (SCin1,SCin2) which are
coupled to said control circuitry (8) and controlled by said

selection circuitry (8).
A switched capacitor circuit according to claim 19 in which
there are a plurality of such switch circuits (SCin1, SCin2)

connected to one side of the capacitor (2), each switch circuit
being associated with a respective input (I
1
,I
2
), and being
controllable as a routing device to connect selectively one of

said inputs to said capacitor (2).
A switched capacitor circuit according to claim 19 or 20 in
which there are a plurality of such switch circuits connected to

an output side of said capacitor (2), each switch circuit being
connected to a respective output and being operable as a routing

device to connect selectively one of said outputs to said
capacitor.
A switched capacitor circuit according to any one of the
preceding claims having an output, coupled to an operational

amplifier (184) with a feedback circuit providing a virtual
ground at said output.
A switched capacitor circuit according to claim 22 including
a parallel capacitor circuit (C
1
,C
5
) connected across said
operational amplifier.
A switched capacitor circuit according to any preceding
claim in which one of said switch circuits (4,6) includes an 

operational amplifier (184) with a capacitive feedback circuit
(C
1
,C
5
).
An array of programmable cells each comprising a switched
capacitor circuit connected to an active 
element (186), each
switched capacitor circuit comprising a capacitor (2) connected

in circuitry which includes first and second switch circuits
(4,6) connected on opposite sides of said capacitor (2), the

array including control circuitry operatively connected to each
of said first and second switch circuits (4,6), said control

circuitry (8) being operable to provide one of a plurality of
alternative control signals for controlling operation of said

switch circuits (4,6), one of said alternative control signals
being a periodically varying signal to alternate the state of the

switch circuits (4,6) between two alternative states and another
of said alternative control signals causing the switch circuit

(4,6) to be held in a fixed state, and selection circuitry (8)
to select one of said alternative control signals.
An array of programmable analogue cells according to claim
25 each comprising a plurality of switched capacitor circuits,

each switched capacitor circuit being according to one of claims
2 to 24.
A programmable analogue cell comprising an active element
(184) having an inverting input (186), an non-inverting input

(188) and an output;

a capacitor (C
1
,C
5
) connected in feedback between the output
of the active element (184) and the inverting input (186); and
a plurality of switched capacitor circuits connected between
respective inputs to the cell and the inverting input (186) of

the active element, each switched capacitor circuit comprising
a capacitor (2) connected between first and second switch

circuits (4,6), wherein each switch circuit (4,6) has connections
for operative connection to control circuitry (8), said control

circuitry (8) being operable to provide one of at least two
alternative control signals for controlling operation of said 

switch circuits (4,6), at least one of said alternative control
signals, being a periodically varying signal and another of said

alternative control signals causing the switch circuit (4,6) to
be held in a fixed state and selection circuitry (8) to select

one of said alternative control signals.
An array of programmable analogue cells, each cell being in
accordance with claim 27.
A method of operating a switched capacitor circuit
comprising a capacitor (2) connected in circuitry including first

and second switch circuits (4,6) on opposite sides of said
capacitor (2) which method is characterized by the steps of

selecting during the operation of the circuit one of a plurality
of control signals (S1,S2,S3) for determining the state of said

first and second switch circuits (4,6), said control signals
including at least one periodically varying signal and at least

one signal for holding the switch circuit in a fixed state.
A method of operating a switched capacitor circuit according
to claim 29 in which the first and second switch circuits (4,6)

are controlled respectively by first and second non-overlapping
clock signals.
A method of operating a switched capacitor circuit according
to claim 29 or 30 in which at least one of said first and second

switch circuits (4,6) is used both as a sampling switch to enable
charge stored on the capacitor (2) to be sampled and as a routing

switch to allow selective connection of the capacitor (2) to one
of a plurality of circuits.
A method of operating an array of switched capacitor
circuits each connected to a logic circuit, wherein each switched

capacitor circuit is operated according to claim 29, 30 or 31 and
control circuitry of each switched capacitor circuit is

programmed to provide selected operation of said first and second
switched circuits (4,6).
</CLAIMS>
</TEXT>
</DOC>
