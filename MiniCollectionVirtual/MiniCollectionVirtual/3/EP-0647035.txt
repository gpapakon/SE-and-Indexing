<DOC>
<DOCNO>EP-0647035</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method of processing code for error checking and code processing circuit
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M1300	H03M1300	H03M1335	H04L100	G11B2018	G11B2018	H04L100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H03M	H03M	H04L	G11B	G11B	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M13	H03M13	H03M13	H04L1	G11B20	G11B20	H04L1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method of generating codes for error checking from 
a first and second types of data trains, first type of data 

trains having m symbols, second type of data trains having 
n symbols, m and n being natural numbers and m
<
n, 
comprising the steps of: generating n-m dummy data; and 

attaching the n-m dummy data to the first types of data 
train is disclosed. Dummy data may be added to both first 

and second data trains such that a first data length of the 
first types of data train and the second dummy data is 

equal to a second data length of the second type of data 
train and second dummy data. The dummy data may be 

replaced with given data. Moreover, a code generating 
circuit for error checking from a first and second types of 

data trains, the first type of data train having m symbols, 
the second type of data train having n symbols, m and n 

being natural numbers and m
<
n, the first and second types 
of data train being supplied in a first and second modes 

respectively, comprises: a data generating circuit for 
generating n-m dummy data in the first mode; and a data 

processing circuit for outputting the second type of data 
train serially in the second mode, for attaching the n-m 

dummy data to the first types of data train, and outputting 
the first type of data train and the n-m dummy data 

serially in the first mode. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
VICTOR COMPANY OF JAPAN
</APPLICANT-NAME>
<APPLICANT-NAME>
VICTOR COMPANY OF JAPAN, LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HIGURASHI SEIJI
</INVENTOR-NAME>
<INVENTOR-NAME>
OHISHI TAKEO
</INVENTOR-NAME>
<INVENTOR-NAME>
HIGURASHI, SEIJI
</INVENTOR-NAME>
<INVENTOR-NAME>
OHISHI, TAKEO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a method of processing
code for error checking and a code processing circuit for
processing codes for error checking.As a method of error detection in data transferring,
the odd-even check is known. Such a prior art error
detection method detects certain kinds of errors in which
an extra bit, carried along with each word, is set to zero
or one so that the total number of zeros or ones in each
word is always made even or always made odd. This is also
known as the parity check.US4975915 discloses a method of generating
codes for error checking from first and second types
of data train of different lengths, the first type being shorter. The method disclosed comprises
generating dummy data and attaching the dummy data to
the first type of data train to equalize the lengths, and
applying the same error correction encoding to both types.It is an object of this invention to provide an
improved method of processing code for error checking.It is also an object of this invention to provide an
improved code processing circuit for processing codes for
error checking. According to one aspect of the invention there is provided a method
as defined in claim 1. According to a further aspect of the invention there is provided a method 
as defined in
claim 2. According to a further aspect of the invention there is provided a code generating
circuit
as defined in claim 7. According to a further aspect of the invention there is provided a code generating
circuit
as defined in claim 8.Other aspects of the invention are defined in the
dependent claims. The objects and features of the present invention will
become more readily apparent from the following detailed
description taken in conjunction with the accompanying drawings
in which: 
Fig. 1 is a block diagram of an embodiment showing a
parity code addition circuit;Fig. 2 is a timing chart of this embodiment showing
waveforms of signals for producing a data train of the main
data and parity data following the main data;Fig. 3 is a timing chart of this embodiment showing
waveforms of signals for generation of a syndrome from a
data train of the main data and parity data following the
main data;Fig. 4A is an illustration of this embodiment of
this invention showing a tape format;Fig. 4B is an illustration of this embodiment
showing a serially recorded data;Fig. 5A is an illustration of this embodiment
showing a format of a data block in the case that there is
no preamble;Fig. 5B is an illustration of this embodiment
showing a format of a data block in
</DESCRIPTION>
<CLAIMS>
A method of, in a common circuit, generating codes for error checking from first and
second types of data train and for recording a recording data train, the first type of data

train having m symbols, and the second type of data train having n symbols, m and n being
natural numbers and m
<
n, predetermined addition data being added to said first type of
data train (m) , said predetermined addition data not being added to said second type of

data train (n), the method comprising the steps of:

determining the number of symbols in a data train and thereby determining whether to
operate in a first mode or a second mode,
the method in the second mode, in which it is determined that the data train is of the
second type having n symbols, comprising the further steps of:


generating codes for error checking from said second type of data train (n) to produce a
second error-checking-code-including data train;
recording as said recording data train said second error-checking-code-including data
train of said second type of data train (n) to which said predetermined addition data has not

been added,
the method in the first mode, in which it is determined that the data train is of the first
type having m symbols, comprising the further steps of:


generating dummy data consisting of n-m symbols, each symbol of the dummy data
being zero; and
attaching said n-m dummy data to said first type of data train (m) to generate a primary
modified data train (m+) equal in data length with the second type of data train (n);
generating codes for error checking from said primary modified data train (m+) to
produce a first error-checking-code-including-data train, 
characterized in
replacing said dummy data in said first error-checking-code-including-data train with
predetermined addition data other than said dummy data to generate a secondary modified

data train (m+), the data length of said predetermined addition data being the same as the
data length of said dummy data; and
recording as said recording data train said secondary modified data train (m+) of said
first type (m) to which said predetermined addition data has been added;
A method of, in a common circuit, generating codes for error checking from first and
second types of data train and for recording a recording data train, the first type of data

train having m symbols, and the second type of data train having n symbols, m and n being
natural numbers and m
<
n, predetermined addition data being added to said first type of
data train (m), said predetermined addition data not being added to said second type of data

train (n), the method comprising the steps of:

determining the number of symbols in a data train and thereby determining whether to
operate in a first mode or a second mode,
the method in the first mode, in which it is determined that the data train is of the first
type having m symbols, comprising the further steps of:


generating first dummy data, each symbol of the first dummy data being zero, said first
dummy data including first (nO) and second (n1'-n0(403)) portions, the data length of the

second portion being equal to the difference between m and n;
attaching said first dummy data to said first type of data train (m) to generate a primary
modified data train (m+);
generating codes for error checking from said primary modified data train (m+) to
produce a first error-checking code-including-data train; and
replacing said second portion of said first dummy data in said first
error-checking-code-including-data with predetermined addition data different from said

second portion of said first dummy data to generate a secondary modified data train (m+),
the length of said predetermined addition data being the same as the length of said second

portion of said first dummy data; and
recording as said recording data train said secondary modified data train (m+) of said
first type (m) to which said predetermined addition data has been added;
the method in the second mode, in which it is determined that the data train is of the
second type having n symbols, comprising the further steps of:


generating second dummy data, each symbol of the second dummy data being zero,
said second dummy data consisting of a third portion (n0 (405)) the data length of which is

predetermined and equal to the data length of the first portion of said first dummy data;
attaching said second dummy data to said second type of data train (n) to generate a
tertiary modified data train (n+); 
generating codes for error checking from said tertiary modified data train (n) to produce
a second error-checking-code-including data train;
recording as said recording data train said second error-checking-code-including data
train of said second type of data train (n) to which said addition data has not been added;
said first and second dummy data being generated such that the data length of said first
type of data train (m) and said first dummy data is equal to the data length of said second

type of data train (n) and second dummy data.
The method as claimed in claim 1 or claim 2, wherein said codes for error checking
include inner parity data and outer parity data for two dimensional error correction.
The method as claimed in any preceding claim, wherein said modified data trains are
repeatedly generated to form a two dimensional error correction table in a first direction

(FB) corresponding to one of said modified trains and in a second direction (FA)

corresponding to said modified data train repeatedly generated, and the size of preamble
type data (EP) is an integer times the size (SD) of said two dimensional error correction

table in the second direction.
A method as claimed in any preceding claim, wherein said predetermined addition data
is a preamble or IBG. 
A method of generating codes as claimed in any preceding claim further comprising the
step of:


adding synchronizing data to the secondary modified data train (m+) and to said second
error-checking-code including data train at a place other than the place for said

predetermined addition data.
A code generating circuit for error checking from first and second types of data train
and for recording a recording data train, said first type of data train having m symbols, and

said second type of data train having n symbols, m and n being natural numbers and m
<
n,
predetermined addition data being added to said first type of data train (m), said

predetermined addition data not being added to said second type of data train (n), said first
type of data train being supplied in a first mode and said second type of data train being

supplied in a second mode, the circuit comprising

   data generating means (30, 32, 36) for generating n-m dummy data in said first mode,
each symbol of the dummy data being zero;

   data processing means (30, 36) for, in said second mode, outputting said second type of
data train (n) serially, and for, in said first mode, attaching said n-m dummy data to said

first type of data train (m), and outputting said first type of data train (m) and said n-m
dummy data serially as a primary modified data train (m+); and

   means for generating codes for error checking from said primary modified data train
(m+) to produce a first error-checking-code-including-data train, and for generating codes for

error checking from said second type of data train (n) to
produce a second error-checking-code-including data train; 
characterized in
 further
comprising

   means for replacing said dummy data in said first error-checking-code-including data
with predetermined addition data other than said dummy data to generate a secondary

modified data train (m+), the length of said predetermined addition data being the same as
the length of said dummy data; and

   means for recording as said recording data train said secondary modified data train
(m+) of said first type (m) to which said predetermined addition data has been added in the

case of the first mode, and for recording said second error-checking-code-including data
train of said second type of data train (n) to which said addition data has not been added in

the case of said second mode. 
A code generating circuit for error checking from first and second types of data train
and for recording a recording data train, said first type of data train having m symbols, and

said second type of data train having n symbols, m and n being natural numbers and m
<
n,
predetermined addition data being added to said first type of data train (m), said

predetermined addition data not being added to said second type of data train (n), said first
type of data train being supplied in a first mode, said second type of data train being

supplied in a second mode, the circuit comprising:

(a) first data generation means (30, 32, 36) for generating first dummy data in said first
mode, each symbol of the first dummy data being zero, said first dummy data including

first (nO) and second (n1'-n0(403)) portions, the data length of the second portion being
equal to the difference between m and n;
(b) second data generation means (30, 32, 36) for generating second dummy data in
said second mode, each symbol of the second dummy data being zero, said second dummy

data consisting of a third portion (n0 (405)) the data length of which is predetermined and
equal to the data length of the first portion,
(c) data processing means for attaching said first dummy data to said first type of data
train (m) and outputting said first type of data train (m) with said first dummy data in said

first mode to generate a primary modified data train (m+);
(d) data processing means for attaching said second dummy data to said second type of
data train (n) in said second mode to generate a tertiary modified data train (n+), said first

and second dummy data being generated such that the data length of said first type of data
train (m) and said first dummy data is equal to the data length of said second type of data

train (n) and second dummy data; and
(e) means for generating codes for error checking from said primary modified data train
(m+) to produce a first error-checking-code-including-data train, and for generating codes for

error checking from said tertiary modified data train (n)
to produce a second error-checking-code-including data train;

   means for replacing said second portion of said first dummy data in said first
error-checking-code-including-data with predetermined addition data different from said

second portion of said first dummy data to generate a secondary modified data train (m+),
the length of said predetermined addition data being the same as the length of said second

portion of said first dummy data; and
 
   means for recording as said recording data train said secondary modified data train

(m+) of said first type (m) to which said predetermined addition data has been added in the
case of the first mode, or said second error-checking-code-including data train of said

second type of data train (n) to which said addition data has not been added in the case of
the second mode.
The circuit as claimed in claim 7 or claim 8, wherein said codes for error checking
include inner parity data and outer parity data for two dimensional error correction.
The circuit as claimed in any of claims 7, 8 and 9, wherein said modified data trains
are repeatedly generated to form a two dimensional error correction table in a first direction

(FB) corresponding to one of said modified trains and in a second direction (FA)
corresponding to said modified data train repeatedly generated, and the size of preamble type

data (EP) is an integer times the size (SD) of said two dimensional error correction table in
the second direction.
A circuit as claimed in any of claims 7 to 10, wherein said predetermined addition
data is a preamble or IBG.
A circuit as claimed in any of claims 7 to 11, further comprising means for adding
synchronizing data to the second modified data train (m+) and to said second

error-checking-code-including data train at a place other than the place for said predetermined
addition data.
</CLAIMS>
</TEXT>
</DOC>
