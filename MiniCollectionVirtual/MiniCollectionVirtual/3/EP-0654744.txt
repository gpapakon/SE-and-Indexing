<DOC>
<DOCNO>EP-0654744</DOCNO> 
<TEXT>
<INVENTION-TITLE>
METHOD AND APPARATUS FOR ANALYSIS OF PHYSICAL QUANTITY.
</INVENTION-TITLE>
<CLASSIFICATIONS>A61B505	A61B505	G01D302	G01D302	G01R3302	G01R3302	G01R3310	G01R3310	G06F1710	G06F1710	G06F1711	G06F1712	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>A61B	A61B	G01D	G01D	G01R	G01R	G01R	G01R	G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>A61B5	A61B5	G01D3	G01D3	G01R33	G01R33	G01R33	G01R33	G06F17	G06F17	G06F17	G06F17	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Physical quantities O
j
 are estimated on the basis of 
a proportional constant α
ij
 and preset physical quantities u
i
, 
and the sum of the squares of the differences between known 

physical quantities S
j
 given inside a region and the estimated 
physical quantities O
j
 is obtained as an error function E. The 
physical quantities u
i
 are corrected so that they agree with 
the axis of the parabola according to the error function E. 

This operation speeds up the analysis of physical quantities 
in a system where linear addi
tion is applicable, to improve its 
accuracy and to enlarge the range of the applicable physical 

quantities. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
DAIKIN IND LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
DAIKIN INDUSTRIES, LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SAGANE MASAYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
UEDA TOMOAKI
</INVENTOR-NAME>
<INVENTOR-NAME>
SAGANE, MASAYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
UEDA, TOMOAKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to physical 
quantity (measurable or calculatable physical 
characteristic, quantity, aspect, atribute, property, 
trait or the like) analyzing methods and apparatus 
therefore, more particularly, relates to novel methods 
and apparatus for analyzing unknown physical quantities 
ui (i = 1, 2, ..., m) in a physical system which has a 
relationship of 
(wherein, i = 1, 2, ..., m; j = 1, 2, ..., n; αij is a 
proportional constant)
 
between physical quantities ui of individual physical 
sources and physical quantities Oj which occur at 
arbitrary points caused by the individual physical 
sources. In the past, methods for analyzing magnetic 
field sources using a super computer were based upon 
output from plural flux meters and Monte Carlo analysis; 
methods applied to adaptive noise cancelers; methods 
which incorporate an impulse response estimating 
apparatus; and methods which determine threshold values, 
coupling coefficients, and the like, of neuron devices 
which constitute a neural network based upon physical 
formulae of a system so as to omit learning time 
required for these neuron devices (refer to Japanese 
Patent Laid Open Tokukaihei 5-94543), are proposed as 
physical quantity analyzing methods. Further, a finite 
element method is also proposed as physical quantity 
analyzing method. The method for analyzing magnetic field sources 
typically involves the following processing: 
a) Scatter m-numbered current elements using 
random numbers within a search space which is searched 
by plural flux meters; b) calculate a total estimated error (a sum of 
all estimated errors) by an estimated error calculating 
process; c) Repeat the following processing d) to g); d) Select a current element k arbitrarily, and  
 
evacuating parameters of corresponding current element 
and the total estimated error; e) Vary parameters of the current element k by 
extremely small quantities using random numbers; f) Calculate a total estimated error by the 
estimated error calculating process; g) Compare the evacuated total estimated error 
and the total estimated error calculated in f), and 
restore the information which are evacuated at d) when 
the evacuated total estimated error is smaller than the 
total estimated error calculated in f). An adaptive noise canceler incorporating the 
method is illustrated in Fig. 27 and operates as 
follows. An input Sj which is made by mixing a noise 
from a noise source 72 to an information from a signal 
source 71 is supplied to a non-inversed
</DESCRIPTION>
<CLAIMS>
A physical quantity analyzing method for 
analyzing a physical quantity ui corresponding to an 

unknown physical source in a physical system, which 
physical quantity ui has a relationship of equation: 

 
for physical quantities of individual physical sources 

and physical quantities Oj at arbitrary positions caused 
by the individual physical sources, wherein the method 

comprises the steps of: 
   provisionally determining a physical quantity ui 

for each physical source, 
   calculating a physical quantity Oj by carrying 

out an operation of equation (1) based upon each 
physical quantity ui, 

   employing a value which minimize a sum of a 
square of a difference for a physical quantity of a 

physical source based upon the differences and 
corresponding proportional constants, the difference 

being a difference between the calculated physical 
quantity Oj and corresponding known physical quantity 

Sj, 
   repeating the calculation of the difference and 

 
the employment of the physical quantities ui for 

eachphysical source, 
   iteratively repeating the calculation of the 

difference and the employment of the physical quantities 
ui for each physical source until the sum of the square 

of the difference, which is obtained by the repetition 
of the processing, becomes smaller than a predetermined 

threshold value, and 
   employing the physical quantities ui which are 

finally obtained as physical quantities ui of each 
physical source. 
A physical quantity analyzing method for 
analyzing a physical quantity of each physical source 

based upon physical quantities measured at predetermined 
plural positions which are spaced apart from the 

physical sources, wherein the physical quantities 
measurable at arbitrary positions spaced apart from the 

individual physical source can be calculated based upon 
predetermined operation formulae which include physical 

quantities of physical sources, and wherein physical 
quantities measurable at the arbitrary positions spaced 

apart from plural physical sources are in a linear 
system, the method comprising the steps of: 

   predetermining constants each of which 
represents a physical field existing at each 

 
predetermined position due to a physical source which 

has a unit quantity corresponding to the individual 
physical source, 

   calculating a difference between a measured 
physical quantity at each predetermined position and a 

sum of products of each physical quantity and 
corresponding constant, 

   employing a value which minimizes a sum of 
squares of differences as a new physical quantity based 

upon the calculated differences and each constant, 
   repeating the calculation of the difference and 

the employment of the physical quantities ui for each 
physical source, 

   iteratively repeating the calculation of the 
difference and the employment of the physical quantities 

ui for each physical source until a sum of the square of 
the differences which is obtained by the repetition of 

the processing becomes smaller than a predetermined 
threshold value, and 

   employing the physical quantities ui which are 
finally obtained as physical quantities ui of each 

physical source. 
A physical quantity analyzing method for 
analyzing a physical quantity ui of a physical source i 

 
based upon a physical quantity Sj measured at plural 

measurement points j spaced apart from the physical 
source i, wherein a physical quantity, which is 

measurable at plural measurement points j, of which 
positions are known, and are spaced apart from 

individual physical sources i of which positions are 
known, can be calculated based upon predetermined 

operations including the physical quantity ui of the 
physical source i, and wherein the physical quantity Sj, 

measurable at the plural measurement points j, spaced 
apart from the physical source i, is in a linear system, 

the method comprising the steps of: 

(1) predetermining constants αij each of which 
represents a physical field existing at each 

predetermined position due to a physical source which 
has a unit quantity corresponding to the individual 

physical source, 
(2) provisionally determining a physical 
quantity ui for each physical source, 
(3) calculating a physical quantity Oj which is 
expected to exist at the measurement point j by carrying 

out the operation of the equation: 

(4) calculating a difference Sj - Oj between an 
 

actual measurement value Sj at the measurement point j 
and the physical quantity Oj, 
(5) obtaining a physical quantity ui as 
aprovisional solution by carrying out operation of the 

equation: 

(6) carrying out steps (3) to (5) for each 
physical source, 
(7) iteratively repeating the processing of 
steps (3) to (5) until a sum of the squares of the 

differences Sj - Oj is smaller than a predetermined 
threshold value, and employing the physical quantity 

which is finally obtained as analysis result. 
A physical quantity analyzing method for 
analyzing physical quantities of magnetic sources within 

an object for measurement by measuring a magnetic field 

which is generated by the object using plural magnetic 
field sensors, the method comprising the steps of: 


(1) predetermining constants αij each of which 
represents a magnetic field generated at each 

predetermined position by a magnetic field source which 
has a unit quantity corresponding to the individual 

magnetic field source, 
(2) provisionally determining physical quantity 
 

ui for each magnetic field source which is positioned at 
a lattice point k (k = 1, 2, ..., p) within the object, 
(3) calculating a magnetic field Oj which is 
expected to exist at the measurement point j by 

carryingout the operation of equation: 

(4) calculating a difference Sj - Oj between an 
actual measurement value Sj of magnetic field at the 

measurement point j, and the magnetic field Oj, 
(5) obtaining a physical quantity ui as a 
provisional solution by carrying out operation of the 

equation: 

(6) carrying out steps (3) to (5) for each of 
the magnetic field sources, 
(7) iteratively repeating processing of steps 
(3) to (5) until a sum of the squares of the differences 

Sj - Oj is smaller than a predetermined threshold value. 
A physical quantity analyzing method 
according to claim 4, wherein the physical quantity ui 

is a current component in X-direction and a current 
component in y-direction which are represented by a 

formula:  
and the constant αij is given by a formula: 

 
wherein, Kj is a sensitivity correction coefficient at 

the measurement point j. 
A physical quantity analyzing method for 
analyzing a measurable physical quantity of each 

physical source which may be observed at a predetermined 
position due to a physically measurable aspect of 

physical sources, in a case where a physical quantity is 
measurable at an arbitrary position which is spaced 

apart from the individual physical source which quantity 
can be calculated based upon known formulae which 

include said physical quantities of said physical 
sources, and physical quantities measurable at the 

 
arbitrary position spaced apart from at least one 

physical source which are in a linear system, the method 
comprising the steps of: 

   measuring a physical quantity ui at a 
predetermined position which is proximal to at least one 

physical source, 
   provisionally determining degrees each of which 

represents an influence at the predetermined position by 
the physical source, 

   calculating a difference between a measured 
physical quantity ui at each predetermined position and 

a sum of products of each measured physical quantity and 
corresponding degree, 

   determining and employing a value which 
minimizes a sum of squares of differences for each new 

physical quantity based upon the calculated differences 
and each physical quantity measurement value, 

   repeating the calculation of the difference and 
the determination and employment of physical quantities 

ui for each physical source, and 
   continuing to repeat the calculation of the 

difference and the determination and employment of the 
physical quantities ui for each physical source until a 

sum of the squares of the differences which is obtained 
by the repetition of the processing becomes smaller than 

 
a predetermined threshold value, and employing the 

physical quantities of each physical source which are 
finally obtained at the predetermined positions. 
A physical quantity analyzing method for 
analyzing a physical quantity of a passive physical 

source which passive source influences a physical 
quantity which may be detected at a predetermined 

position which is caused by physical quantities of 
active physical sources, wherein physical quantities 

measurable at arbitrary positions spaced apart from the 
active physical sources can be calculated based upon 

predetermined operation formulae which formulae include 
components corresponding to physical quantities of 

physical sources, and physical quantities measurable at 
the arbitrary positions spaced apart from the active 

physical sources are in a linear system, the method 
comprising the steps of: 

   measuring a physical quantity of the active 
physical source, 

   provisionally determining a physical quantity 
corresponding to the passive physical source, 

   calculating a difference between a measured 
physical quantity at a predetermined position and a sum 

of products of each measured physical quantity of the 
active physical source and the physical quantity of the 

 
passive physical source, 

   employing a value which minimizes the sum of 
squares of differences to get a new physical quantity 

based upon the calculated differences and each physical 
quantity measurement value of each active physical 

source, 
   repeating the calculation of the difference and 

the employment of physical quantities ui for each 
physical source, 

   iteratively repeating of the calculation of the 
difference and the employment of the physical quantities 

ui for each physical source until the sum of the squares 
of the differences becomes smaller than a predetermined 

threshold value, and 
   employing the physical quantities of each 

physical source which are finally obtained as physical 
quantities of the passive physical source. 
A physical quantity analyzing method for 
analyzing a physical quantity which corresponds to an 

arbitrary point within a region in which simultaneous 
linear equations which include individual physical 

sources realized based upon physical quantities of the 
individual physical sources and proportion constants 

determined based upon the region, the method comprising 
the steps of:

 
   pre-obtaining the proportion constsants which 

correspond to the region, 
   provisionally determining physical quantities at 

plural predetermined positions which are previously 
determined, 

   calculating a difference between a known 
physical quantity which is given within the region at 

each predetermined position and a sum of products of 
each physical quantity and corresponding proportion 

constant, 
   employing a value which minimizes a sum of 

squares of differences as a new physical quantity based 
upon the calculated differences and each physical 

quantity measurement value of each active physical 
source, 

   repeating the calculation of the difference and 
the employment of physical quantities for each physical 

source, 
   iteratively repeating of the calculation of the 

difference and the employment of the physical quantities 
for each physical source until the sum of the squares of 

the differences which is obtained by the repetition of 
the processings becomes smaller than a predetermined 

threshold value, and 
   employing the physical quantity which is finally 

 
obtained as physical quantity for the predetermined 

position. 
A physical quantity analyzing method as set 
forth in claim 8, wherein the method obtains a new 

physical quantity based upon differences between actual 
physical quantities and products of each physical 

quantity and corresponding proportion constant, a value 
which is obtained by dividing a sum of the products of 

each of the physical quantities and the corresponding 
proportion constant by a sum of squares of all of 

corresponding proportion constants, and a physical 
quantity which was most previously employed. 
A physical quantity analyzing method as set 
forth in claim 8 or claim 9, wherein the method employs 

inverses of resistance values for a plurality of 
resistances which are interconnected in a three 

dimensional lattice which approximate the region, as the 
proportion 
constants, employs current values at the 
lattice points as the actual physical quantities, and 

employs potentials at the lattice points as physical 
quantities which are objects for analysis. 
A physical quantity analyzing method in 
which proportion constants are inverses: Gx[kx-1, ky, 

kz], Gx[kx, ky, kz]
, Gy[kx, ky-1, kz], Gy[kx, ky, kz]
, 
 

Gz[kx, ky, kz-1], Gz[kx, ky, kz]
 of resistance values of 
resistances which are connected x, y, z-directions to 

each lattice point [kx, ky, kz] of Nx x Ny x Nz number 

of lattice points, and a sum GN[kx, ky, 
kz]
corresponding to resistances connected to the lattice 
point [kx, ky, kz]
 which sum GN is represented by the 
equation:GN[kx, ky, kz]
 = Gx[kx-1, ky, kz] + Gx[kx, ky, kz]
 + 
Gy[kx, ky-1, kz]
 + Gy[kx, ky, kz] + Gz[kx, ky, kz-1]
 + 
Gz[kx, ky, kz]
   (5), 
 

actual physical quantities are supplied current S[kx, 
ky, kz]
 and flowing out current O[kx, ky, kz] at the 

lattice point [kx, ky, kz], and physical quantities 

subject to analysis are potentials u[kx, ky, kz] at each 

lattice point [kx, ky, kz], wherein the method comprises 

the steps of: 

(1) obtaining (Nx-1) x Ny x Nz number of Gx[kx, 
ky, kz]
, 
(2) obtaining Nx x (Ny-1) x Nz number of Gy[kx, 
ky, kz]
, 
(3) obtaining Nx x Ny x (Nz-1) number of Gz[kx, 
ky, kz]
, 
(4) obtaining Nx x Ny x Nz number of GN[kx, ky, 
kz]
, 
(5) obtaining Nx x Ny x Nz number of β[kx, ky, 
kz]
 based upon the equation:β[kx, ky, kz] = 1/(GN[kx, ky, kz]
² + Gx[kx-1, ky, kz]² + 

Gx[kx, ky, kz]² + Gy[kx, ky-1, kz]
² + Gy[kx, ky, kz]² + 

Gz[kx, ky, kz-1]² + Gz[kx, ky, kz]
²)   (6) 
(6) calculating correction values Δu of the 
potentials u[kx, ky, kz]
 based upon the formula:Δu ← 
β[kx, ky, kz]
{GN[kx, ky, kz](S[kx, ky, kz]
 - O[kx, ky, 
kz]
) - Gx[kx-1, ky, kz](S[kx-1, ky, kz]
 - O[kx-1, ky, 
kz]
) - Gx[kx, ky, kz](S[kx+1, ky, kz]
 - O[kx+1, ky, kz]) 

- Gy[kx, ky-1, kz](S[kx, ky-1, kz]
 - O[kx, ky-1, kz]) - 

Gy[kx, ky, kz](S[kx, ky+1, kz]
 - O[kx, ky+1, kz]) - 

Gz[kx, ky, kz-1](S[kx, ky, kz-1]
 - O[kx, ky, kz-1]) - 

Gz[kx, ky, kz](S[kx, ky, kz+1]
 - O[kx, ky, kz+1])}   (7) 
(7) correcting the potential u[kx, ky, kz] by 

adding the calculated correction value Δu, 
(8) repeating the processing of steps (6) and 
(7) from 1 to Nz for kz, 
(9) repeating the processing of steps (6) to 
(8) from 1 to Ny for ky, 
(10) repeating the processing of steps (6) to 
(9) from 1 to Nx for kx, and 
(11) repeating the processing of steps (6) to 
 

(10) until an estimated error becomes smaller than a 
predetermined threshold value, and outputting the 

potentials which are finally obtained as an analysis 
result. 
A physical quantity analyzing method in 
which potentials u[kx, ky, kz]
 of each lattice point 
[kx, ky, kz]
 which correspond to the analysis result 
obtained by the method according to claim 11, are 

employed as a proportion constant αij, known physical 
quantities are potentials measured at a surface of a 

region subjected to analysis, and physical quantities 
subject to analysis are supplied current S[kx, ky, kz]
 
and flowing out current O[kx, ky, kz]
 at each lattice 
point [kx, ky, kz]
, the method comprising the steps of: 

(1) provisionally determining a current which 
flows into one lattice point and flows out from another 

lattice point as a physical source subject to analysis, 
(2) calculating an estimated value of a 
potential on a surface of the region subject to analysis 

by multiplying the provisionally determined physical 
quantity and the proprtion constant, 
(3) calculating a correction value for a first 
physical quantity based upon a difference between the 

measured potential and the estimated value of the 
potential, 
(4) correcting the first physical quantity 
based upon the calculated correction value, 
(5) repeating the processing of steps (2) to 
(4) for each physical quantity, and 
(6) repeating the processing of steps (2) to 
(5) until an estimated error becomes smaller than a 

predetermined threshold value, and employing the 
physical quantities which are finally obtained as an 

analysis result. 
A physical quantity analyzing method as set 
forth in one of claims 1 through 12, further comprising 

the steps of: 

(1) selecting two physical quantities from among 
a plurality of physical quantities, 
(2) calculating a correction value of each 
physical quantity based upon a formula: 


(3) correcting corresponding physical 
quantities based upon the calculated each correction 

value, 
(4) correcting a first physical quantity by 
carrying out the processing of steps (2) and (3), 
(5) correcting a second physical quantity by 
carrying out the processing of steps (2) and (3), 
(6) correcting the first physical quantity 
 

again, by carrying out the processing of steps (2) and 
(3), 
(7) calculating a correction value for 
correcting the second physical quantity again, by 

carrying out the processing of step (2), 
(8) calculating a correction value for the 
first physical quantity by dividing a product of the 

correction values which are obtained in steps (6) and 
(7) by a difference between the correction value 

obtained in the step (4) and the correction value 
obtained in the step (6), 
(9) calculating a correction value for the 
second physical quantity by dividing a product of the 

correction values which are obtained in steps (5) and 
(7) by a difference between the correction value 

obtained in the step (4) and the correction value 
obtained in the step (6), 
(10) correcting the physical quantities based 
upon one of the correction values obtained in the steps 

(8) and (9), 
(11) selecting two additional physical 
quantities and carrying out the processing of steps (4) 

to (10), and 
(12) repeating the processing of steps (4) to 
(11) until an estimated error becomes smaller than a 

 
predetermined threshold value, the physical quantities 

which are finally obtained being the analysis result. 
A physical quantity analyzing method as set 
forth in claim 13, further comprising the steps of: 

   calculating the estimated errors ofD[kx,ky,kz] = (S[kx,ky,kz]
 - O[kx,ky,kz])D[kx-1,ky,kz]
 = (S[kx-1,ky,kz] - O[kx-1,ky,kz]
) D[kx+1,ky,kz] = (S[kx+1,ky,kz]
 - O[kx+1,ky,kz]) D[kx,ky-1,kz]
 = (S[kx,ky-1,kz] - O[kx,ky-1,kz]
) D[kx,ky+1,kz] = (S[kx,ky+1,kz]
 - O[kx,ky+1,kz]) D[kx,ky,kz-1]
 = (S[kx,ky,kz-1] - O[kx,ky,kz-1]
) D[kx,ky,kz+1] = (S[kx,ky,kz+1]
 - O[kx,ky,kz+1]) 

 
and 

   correcting the estimated errors based upon 
formulae:D[kx,ky,kz]
 ← (D[kx,ky,kz] + GN[kx,ky,kz]
)Δu 
D[kx-1,ky,kz]
 ← (D[kx-1,ky,kz] + Gx[kx-1,ky,kz]
)Δu 
D[kx+1,ky,kz]
 ← (D[kx+1,ky,kz] + Gx[kx,ky,kz]
)Δu 
D[kx,ky-1,kz]
 ← (D[kx,ky-1,kz] + Gy[kx,ky-1,kz]
)Δu 
D[kx,ky+1,kz]
 ← (D[kx,ky+1,kz] + Gy[kx,ky,kz]
)Δu 
D[kx,ky,kz-1]
 ← (D[kx,ky,kz-1] + Gz[kx,ky,kz-1]
)Δu 
D[kx,ky,kz+1]
 ← (D[kx,ky,kz+1] + Gz[kx,ky,kz]
)Δu   (9) 
 

wherein D[kx, ky, kz], D[kx-1, ky, kz]
, D[kx+1, ky, kz], 

 
D[kx, ky-1, kz]
, D[kx, ky+1, kz], D[kx, ky, kz-1]
, D[kx, 
ky, kz+1]
 are employed instead of, 
(S[kx,ky,kz]
 - O[kx,ky,kz]), 

(S[kx-1,ky,kz] - O[kx-1,ky,kz]
), 
(S[kx+1,ky,kz]
 - O[kx+1,ky,kz]), 

(S[kx,ky-1,kz] - O[kx,ky-1,kz]
), 
(S[kx,ky+1,kz]
 - O[kx,ky+1,kz]) 

(S[kx,ky,kz-1] - O[kx,ky,kz-1]
) 
(S[kx,ky,kz+1]
 - O[kx,ky,kz+1]) 

in a formula:Δu ← 

β[kx, ky, kz]{GN[kx, ky, kz]
(S[kx, ky, kz] - O[kx, ky, 

kz]) - Gx[kx-1, ky, kz]
(S[kx-1, ky, kz] - O[kx-1, ky, 

kz]) - Gx[kx, ky, kz]
(S[kx+1, ky, kz] - O[kx+1, ky, kz]
) 
- Gy[kx, ky-1, kz]
(S[kx, ky-1, kz] - O[kx, ky-1, kz]
) - 
Gy[kx, ky, kz]
(S[kx, ky+1, kz] - O[kx, ky+1, kz]
) - 
Gz[kx, ky, kz-1]
(S[kx, ky, kz-1] - O[kx, ky, kz-1]
) - 
Gz[kx, ky, kz]
(S[kx, ky, kz+1] - O[kx, ky, kz+1]
)}   (7). 
A physical quantity analyzing method as set 
foth in one of claims 1 through 14, wherein the method 

employs a normalized function of a function representing 
a sum of squares of calculated difference instead of the 

calculated difference. 
A physical quantity analyzing method as set 
 

forth in one of claims 1 through 15, wherein the method 
employs processing for employing a value which minimizes 

the squares of the difference as a new physical 
quantityinstead of the processing for employing a value 

which minimizes the sum of the squares of the difference 
as a new physical quantity. 
A physical quantity analyzing method as set 
forth in one of claims 1 through 16, wherein the method 

employs processing for iteratively repeating the 
calculation of the difference and the employment of the 

physical quantities ui for each physical source until 
the sum of the absolute values of the differences, which 

is obtained by the repetition of the processing, becomes 
smaller than a predetermined threshold value. 
A physical quantity analyzing apparatus for 
analyzing a physical quantity ui corresponding to an 

unknown physical source in a physical system which has a 
relationship according to equation: 

 
between physical quantities of individual physical 

sources and physical quantities Oj at an arbitrary 
position generated by the individual physical sources, 

wherein the apparatus comprises: 
   physical quantity provisionally determining 

means (33i)(11ib) for provisionally determining a 
 

physical quantity ui of each physical source, 
   physical quantity renewing means 

(11ia)(11ib)(11ic)(11id)(12ja)(12jb)(12jc) for 
calculating a physical quantity Oj by carrying out an 

operation of equation (1) based upon each physical 
quantity ui, for employing a value which minimize a 

sumof squares of differences as a physical quantity of a 
physical source based upon the differences and 

corresponding proportional constants, the difference 
being a difference between the calculated physical 

quantity Oj and a corresponding known physical quantity 
Sj, 

   first repetition control means for repeating the 
calculation of the difference and the employment of the 

physical quantities ui for each physical source, 
   second repetition controlling means for 

iteratively repeating of the calculation of the 
difference by the first repetition control means and the 

employment of the physical quantities ui for each 
physical source until the sum of the squares of the 

differences which is obtained by the repetition of the 
processing becomes smaller than a predetermined 

threshold value, and 
   physical quantity employment means 

(31i)(32i)(11ib) for employing the physical quantities 
 

ui which are finally obtained. 
A physical quantity analyzing apparatus for 
analyzing a physical quantity of each physical source 

within a system based upon physical quantities 
measurable at a predetermined plurality of positions 

spaced apart from the physical sources, wherein the 
physical quantities measurable at arbitrary positions 

spaced apart from the individual physical source can be 
calculated based upon predetermined operation formulae 

whose components include physical quantities of physical 
sources, and physical quantities measurable at the 

arbitrary positions spaced apart from plural physical 
sources which are in a linear system, the apparatus 

comprising: 
   constant determining means (1ia)(31i) for 

predetermining constants each of which represents a 
physical field generated at each predetermined position 

by a physical source having a unit quantity 
corresponding to the individual physical source, 

   provisional physical quantity determining means 
(33i) for provisionally determining a physical quantity 

of each physical source, 
   difference calculating means (2i)(42i) for 

calculating a difference between a measured physical 
quantity at each predetermined position and a sum of 

 
products of each physical quantity and corresponding 

constant, 
   physical quantity correcting means for employing 

a value which minimizes a sum of squares of differences 
as a new physical quantity based upon the calculated 

differences and each constant, 
   first repetition control means for repetitivaly 

operating the difference calculating means (2i)(42i) and 
the physical quantity correcting means for each physical 

source, and 
   physical quantity employment means (31i)(32i) 

for repetitively operating the repetitive operations of 
the difference calculating means (2i)(42i) and the 

physical quantity correcting means for each physical 
source by the first repetition control means, and for 

employing the physical quantities of each physical 
source which are finally obtained as physical quantities 

of each physical source. 
A physical quantity analyzing apparatus for 
analyzing a physical quantity ui of a physical source i 

based upon a physical quantity Sj measured at plural 
measurement points j spaced apart from the physical 

source i, wherein a physical quantity, which is 
measurable at plural measurement points j of which 

positions are known, and are spaced apart from 
 

individual physical source i, of which position is 
known, can be calculated based upon predetermined 

operations including the physical quantity ui of the 
physical source i and that the physical quantity Sj 

measurable at the plural measurement points j spaced 
apart from the physical source i is in a linear 

system,the apparatus comprising: 

(1) means for predetermining constants αij each 
of which represents a physical field generated at each 

predetermined position by a physical source, and having 
a unit quantity corresponding to the individual physical 

source, 
(2) means for provisionally determining 
physical quantity ui for each physical source, 
(3) means for calculating a physical quantity 
Oj which is anticipated at the measurement point j by 

carrying out the operation of the equation: 

(4) means for calculating a difference Sj - Oj 
between an actual measurement value Sj at the 

measurement point j and the physical quantity Oj, 
(5) means for obtaining a physical quantity ui 
as a provisional solution by carrying out operation of 

the equation: 
(6) means for carrying out the processing 
ofeach of the means (3) to (5) for each physical source 

i, 
(7) means for iteratively repeating processing 
of the processing of each of the means (3) to (5) until 

the sum of the squares of the differences Sj - Oj is 
smaller than a predetermined threshold value, and 
(8) means for employing the physical quantity 
ui of each physical source as the physical quantity ui 

which is finally obtained as an analysis result. 
A physical quantity analyzing apparatus for 
analyzing physical quantities of magnetic sources within 

an object by measuring a magnetic field which is 
generated by the object with plural magnetic field 

sensors, the apparatus comprising: 

(1) means for predetermining constants αij each 
of which represents a magnetic field value existing at 

each predetermined position due to a magnetic field 
source which has a unit quantity c
orresponding to the 
individual magnetic field source, 
(2) means for provisionally determining 
physical quantity ui for each magnetic field source at a 

lattice point k (k = 1, 2, ..., p) within the object, 
(3) means for predicting a magnetic field Oj 
which is expected at the measurement point j by carrying 

out the operation of the equation: 

(4) means for calculating a difference Sj - Oj 
between an actual measurement value Sj of magnetic field 

at the measurement point j, and the magnetic field Oj, 
(5) means for obtaining a physical quantity ui 
as a provisional solution by carrying out operation 

ofthe equation: 

(6) means for carrying out the processing by 
each of the means (3) to (5) for all magnetic field 

sources subject to analysis, 
(7) means for iteratively repeating the 
processing by each of the means (3) to (5) until a sum 

of the squares of the differences Sj - Oj is smaller 
than a predetermined threshold value, and 
(8) means for employing the physical quantity 
ui of each physical source which is finally obtained as 

an analysis result. 
A physical quantity analyzing apparatus as 
set forth in claim 21, wherein a current component in an 

x-direction and a current component in a y-direction 
represented by the formula:  

are employed as the physical quantity ui, and a constant 
given by the formula: 

 
is employed as the constant αij. 
A physical quantity analyzing apparatus for 
analyzing a physical quantity corresponding to each 

physical source which should be observable at a 
predetermined position which quantity is caused by the 

physical quantities of physical sources, wherein the 
physical quantities measurable at arbitrary positions 

spaced apart from the individual physical source can be 
calculated based upon predetermined operation formulae 

which include physical quantities of physical sources, 
and physical quantities measurable at the arbitrary 

positions spaced apart from at least one physical source 
 

which are in a linear system, the apparatus comprising: 
   physical quantity measuring means (1ia)(31i) for 

measuring a physical quantity at a predetermined 
position which is proximal to at least one physical 

source, 
   provisional degree determining means (33i) for 

provisionally determining degrees each of which 
represents an influence at the predetermined position by 

the physical source, 
   difference calculating means (2i)(42i) for 

calculating a difference between a measured physical 
quantity at each predetermined position and a sum of 

products of each measured physical quantity and 
corresponding degree, 

   physical quantity correcting means for employing 
a value which minimizes a sum of squares of differences 

as a new physical quantity based upon the calculated 
differences and each physical quantity measurement 

value, 
   first repetition control means for repetitively 

operating the difference calculating means (2i)(42i) and 
the physical quantity correcting means for each physical 

source, and 
   physical quantity employment means (31i)(32i) 

for iteratively repeating operation of the difference 
 

calculating means (2i)(42i) and the physical quantity 
correcting means by the first repetition controlling 

means for each physical source until a sum of the 
squares of the differences which is obtained by the 

repetition of the processings becomes smaller than a 
predetermined threshold value, and for employing the 

physical quantities of each physical source which are 
finally obtained as physical quantities which should be 

observed at the predetermined positions. 
A physical quantity analyzing apparatus for 
analyzing a physical quantity of a passive physical 

source which influences a physical quantity which is 
expected to be observed at a predetermined position 

caused by physical quantities of active physical 
sources, wherein the physical quantities measurable at 

arbitrary positions spaced apart from the active 
physical sources can be calculated based upon 

predetermined operation formulae which include physical 
quantities of physical sources, and physical quantities 

measurable at the arbitrary positions spaced apart from 
the active physical sources are in a linear system, the 

apparatus comprising: 
   physical quantity measuring means (1ia)(31i) for 

measuring a physical quantity of the active physical 
source,

 
   provisional physical quantity determining means 

(33i) for provisionally determining a physical quantity 
of the passive physical source, 

   difference calculating means (2i)(42i) for 
calculating a difference between a measured physical 

quantity at a predetermined position and a sum of 
products of each measured physical quantity of the 

active physical source and the physical quantity of the 
passive physical source, 

   physical quantity correcting means for employing 
a value which minimizes a sum of squares of differences 

as a new physical quantity based upon the calculated 
differences and each physical quantity measurement value 

of each active physical source, 
   first repetition control means for repetitively 

operating the difference calculating means (2i)(42i) and 
the physical quantity correcting means for each physical 

source, and 
   physical quantity employment means (31i)(32i) 

for iterating the repetition of the difference 
calculating means (2i)(42i), and the physical quantity 

correcting means by the first repetition control means 
for each physical source until the sum of the squares of 

the differences which is obtained by the repetition of 
the processing becomes smaller than a predetermined 

 
threshold value, and for employing the physical 

quantities of each physical source which are finally 
obtained as physical quantities of the passive physical 

source. 
A physical quantity analyzing apparatus for 
analyzing a physical quantity which is obtained at an 

arbitrary point within a region in which simultaneous 
linear equations including individual physical sources 

realized based upon physical quantities of theindividual 
physical sources and proportion canstants determined 

based upon the region, the apparatus comprising: 
   proportion constant holding means (11ib) for 

previously obtaining and holding the proportion 
constsants which are determined based upon the region, 

   provisional physical quantity determining means 
(11ib) for provisionally determining physical quantities 

at plural predetermined positions which are previously 
determined, 

   difference calculating means (12ja)(12jb)(12jc) 
for calculating a difference between a known physical 

quantity which is given within the region at each 
predetermined position and a sum of products of each 

physical quantity and corresponding proportion constant, 
   physical quantity renewing means 

(11ia)(11ib)(11ic)(11id) for employing a value which 
 

minimizes a sum of squares of differences as a new 
physical quantity based upon the calculated differences 

and each physical quantity measurement value of each 
active physical source, 

   first repetition control means for repeating the 
calculation of the difference by the difference 

calculating means (12ja)(12jb)(12jc) and the employment 
of the physical quantities by the physical quantity 

renewing means (11ia)(11ib)(11ic)(11id) for each 
physical source, and 

   second repetition control means for iterating 
the repetition of the calculating of the difference by 

the difference calculating means and the employment of 
the physical quantities for each physical source until 

the sum of the squares of the differences which is 
obtained by the repetition of the processings becomes 

smaller than a predetermined threshold value, and 

   physical quantity employment means (11ib) for 
employing the physical quantity which is finally 

obtained as the physical quantity corresponding to the 
predetermined position. 
A physical quantity analyzing apparatus as 
set forth in claim 25, wherein means for calculating the 

sum of the products of each physical quantity and 
corresponding proportion constant obtains a new sum by 

 
correcting the physical quantity which has most 

previously been employed based upon a product of a 
difference between the new physical quantity and the 

physical quantity which has mosy previously been 
employed and corresponding proportion constant for every 

repetition process by the first repetition controlling 
means, after a calculation of the sum of the products of 

each physical quantity and corresponding proportion 
constant is performed. 
A physical quantity analyzing apparatus as 
set forth in claim 25 or claim 26, wherein the 

difference calculating means obtains a new difference 
based upon a product of a difference between the new 

physical quantity and the physical quantity which was 
most previously employed and corresponding proportion 

constant for every repetition processing by the first 
repetition controlling means, after a calculation of the 

difference between the sum calculated by the means for 
calculating the sum of the products of each physical 

quantity and corresponding proportion constant and the 
actual physical quantity at each predetermined position 

is performed. 
A physical quantity analyzing apparatus in 
which proportion constants are inverses: Gx[kx-1, ky, 

 
kz]
, Gx[kx, ky, kz], Gy[kx, ky-1, kz]
, Gy[kx, ky, kz], 

Gz[kx, ky, kz-1], Gz[kx, ky, kz]
 of resistance values of 
resistances which are connected x, y, z-directions to 

each lattice point [kx, ky, kz] of Nx x Ny x Nz number 

of lattice points, and a sum GN[kx, ky, kz] 

corresponding to resistances actually connected to the 
lattice point [kx, ky, kz]
 which sum GN is represented 
by the equation:GN[kx, ky, kz]
 = Gx[kx-1, ky, kz] + Gx[kx, ky, kz]
 
+Gy[kx, ky-1, kz]
 + Gy[kx, ky, kz] + Gz[kx, ky, kz-1]
 + 
Gz[kx, ky, kz]
   (5) 
 

actual physical quantities are supplied current S[kx, 
ky, kz]
 and flowing out current O[kx, ky, kz] at the 

lattice point [kx, ky, kz], and physical quantities 

objected for analysis are potentials u[kx, ky, kz] at 

each lattice point [kx, ky, kz], the apparatus 

comprising, 

(1) means for obtaining (Nx-1) x Ny x Nz number 
of Gx[kx, ky, kz]
, 
(2) means for obtaining Nx x (Ny-1) x Nz number 
of Gy[kx, ky, kz]
, 
(3) means for obtaining Nx x Ny x (Nz-1) number 
of Gz[kx, ky, kz]
, 
(4) means for obtaining Nx x Ny x Nz number of 
 

GN[kx, ky, kz], 
(5) means for obtaining Nx x Ny x Nz number of 
β[kx, ky, kz]
 based upon the equation:β[kx, ky, kz] = 1/(GN[kx, ky, kz]
² + Gx[kx-1, ky, kz]² + 

Gx[kx, ky, kz]² + Gy[kx, ky-1, kz]
² + Gy[kx, ky, kz]² + 

Gz[kx, ky, kz-1]² + Gz[kx, ky, kz]
²)   (6), 
(6) means for calculating correction values Δu 
of the potentials u[kx, ky, kz]
 based upon the formula:Δu ← 
β[kx, ky, kz]
{GN[kx, ky, kz](S[kx, ky, kz]
 - O[kx, 
ky,kz]
) - Gx[kx-1, ky, kz](S[kx-1, ky, kz]
 - O[kx-1, ky, 
kz]
) - Gx[kx, ky, kz](S[kx+1, ky, kz]
 - O[kx+1, ky, kz]) 

- Gy[kx, ky-1, kz](S[kx, ky-1, kz]
 - O[kx, ky-1, kz]) - 

Gy[kx, ky, kz](S[kx, ky+1, kz]
 - O[kx, ky+1, kz]) - 

Gz[kx, ky, kz-1](S[kx, ky, kz-1]
 - O[kx, ky, kz-1]) - 

Gz[kx, ky, kz](S[kx, ky, kz+1]
 - O[kx, ky, kz+1])}   (7), 
(7) means for correcting the potential u[kx, 
ky, kz]
 by adding the calculated correction value Δu, 
(8) means for repeating the processings of each 
of the means (6) and (7) from 1 to Nz for kz, 
(9) means for repeating the processings of each 
of the means (6) to (8) from 1 to Ny for ky, 
(10) means for repeating the processings of 
 

each of the means (6) to (9) from 1 to Nx for kx, and 
(11) means for repeating the processings of 
each of the means (6) to (10) until an estimated error 

becomes smaller than a predetermined threshold value, 
and for employing the potentials which are finally 

obtained as a result of analysis. 
A physical quantity analyzing apparatus in 
which potentials u[kx, ky, kz]
 of each lattice point 
[kx, ky, kz]
, which is an analysis result obtained by 
the apparatus according to claim 28, is employed as a 

proportion constant αij, known physical quantities 
beingpotentials measured at a surface of a region 

subject to analysis, and physical quantities subject to 
analysis are supplied current S[kx, ky, kz]
 and flowing 
out current O[kx, ky, kz]
 at each lattice point [kx, ky, 
kz]
, the apparatus comprising: 

(1) means for provisionally determining a 
current which flows into one lattice point and flows out 

from another lattice point as a physical source subject 
to analysis, 
(2) means for calculating an estimated value of 
a potential on a surface of the region subject to 

analysis by multiplying the provisionally determined 
physical quantity and the proportion constant, 
(3) means for calculating a correction value 
 

for one physical quantity based upon a difference 
between the measured potential and the estimated value 

of the potential, 
(4) means for correcting the one physical 
quantity based upon the calculated correction value, 
(5) means for repetitively operating each of 
the means (2) to (4) for each physical quantity, and 
(6) means for repetitively operating each of 
the means (2) to (5) until an estimated error becomes 

smaller than a predetermined threshold value, and for 
employing the physical quantities which are finally 

obtained as an analysis result. 
A physical quantity analyzing apparatus as 
set forth in one of claims 18 through 29, the apparatus 

comprising: 

(1) means for selecting first and second 
physical quantities from among a plurality of physical 

quantities, 
(2) means for calculating a correction value of 
each physical quantity based upon the formula: 


(3) means for correcting corresponding physical 
quantities based upon the calculated correction value, 
(4) means for correcting the first physical 
quantity by operating each of the means (2) and (3), 
(5) means for correcting the second physical 
quantity by operating each of the means (2) and (3), 
(6) means for correcting the first physical 
quantity again by operating each of the means (2) and 

(3), 
(7) means for calculating a correction value 
for correcting the second physical quantity again, by 

operating the means (2), 
(8) means for calculating a correction value 
for the first physical quantity by dividing a product of 

the correction values which are obtained by operating 
each of the means (6) and (7) by a difference between 

the correction value which is obtained by operating the 
means (4) and the correction value obtained in step (6), 
(9) means for calculating a correction value 
for the second physical quantity by dividing a product 

of the correction values which are obtained by operating 
each of the means (5) and (7) by a difference between 

the correction value which is obtained by operating the 
means (4) and the correction value which is obtained by 

operating the means (6), 
(10) means for correcting the physical 
quantities based upon one of the correction valu
es which 
are obtained by operating each of the means (8) and (9), 
(11) means for selecting two other physical 
 

quantities and for operating each of the means (4) to 
(10), and 
(12) means for repetitively operating each of 
the means (4) to (11) until an estimated error becomes 

smaller than a predetermined threshold value, and for 
employing the physical quantities which are finally 

obtained as the analysis result. 
A physical quantity analyzing apparatus as 
set forth in claim 30 further comprising: 

   means for calculating the estimated errors ofD[kx,ky,kz] = (S[x,ky,kz]
 - O [kx,ky,kz])D[kx-1,ky,kz]
 = (S[x-1,ky,kz] - O [kx-1,ky,kz]
) D[kx+1,ky,kz] = (S[x+1,ky,kz]
 - O[kx+1,ky,kz]) D[kx,ky-1,kz]
 = (S[x,ky-1,kz] - O[kx,ky-1,kz]
) D[kx,ky+1,kz] = (S[x,ky+1,kz]
 - O[kx-1,ky,kz]) D[kx+1,ky,kz]
 = (S[x+1,ky,kz] - O[kx+1,ky,kz]
  
)D[kx,ky,kz+1]
 = (S[x,ky,kz+1] - O[kx,ky,kz+1]
) 
 

and 
   means for correcting the estimated errors based 

upon the formulae:D[kx,ky,kz] ← (D[kx,ky,kz]
 + GN[kx,ky,kz])Δu 

D[kx-1,ky,kz] ← (D[kx-1,ky,kz]
 + Gx[kx-1,ky,kz])Δu 

D[kx+1,ky,kz] ← (D[kx+1,ky,kz]
 + Gx[kx,ky,kz])Δu 

D[kx,ky-1,kz] ← (D[kx,ky-1,kz]
 + Gy[kx,ky-1,kz])Δu 

D[kx,ky+1,kz] ← (D[kx,ky+1,kz]
 + Gy[kx,ky,kz])Δu 

D[kx,ky,kz-1] ← (D[kx,ky,kz-1]
 + Gz[kx,ky,kz-1])Δu 

D[kx,ky,kz+1] ← (D[kx,ky,kz+1]
 + Gz[kx,ky,kz])Δu   (9) 

 
wherein D[kx, ky, kz]
, D[kx-1, ky, kz], D[kx+1, ky, kz]
, 
D[kx, ky-1, kz]
, D[kx, ky+1, kz], D[kx, ky, kz-1]
, D[kx, 
ky, kz+1]
 are employed instead of 
(S[x,ky,kz]
 - O[kx,ky,kz]) 

(S[kx-1,ky,kz] - O[kx-1,KY,kz]
), 
(S[kx+1,ky,kz]
 - O[kx+1,ky,kz]), 

(S[kx,ky-1,kz] - O[kx,ky-1 ,kz) 

(S[kx,ky+1,kz] - O[kx,ky-1,kz]
) 
(S[kx,ky,kz-1]
 - O[kx,ky,kz-1]) 

(S[kx,ky,kz+1] - O[kx,ky,kz+1]
) 
in the formula:Δu ← 

β[kx, ky, kz]{GN[kx, ky, kz]
(S[kx, ky, kz] - O[kx, ky, 

kz]) - Gx[kx-1, ky, kz]
(S[kx-1, ky, kz] - O[kx-1, ky, 

kz]) - Gx[kx, ky, kz]
(S[kx+1, ky, kz] - O[kx+1, ky, kz]
) 
- Gy[kx, ky-1, kz]
(S[kx, ky-1, kz] - O[kx, ky-1, kz]
) - 
Gy[kx, ky, kz]
(S[kx, ky+1, kz] - O[kx, ky+1, kz]
) - 
Gz[kx, ky, kz-1]
(S[kx, ky, kz-1] - O[kx, ky, kz-1]
) - 
Gz[kx, ky, kz]
(S[kx, ky, kz+1] - O[kx, ky, kz+1]
)}   (7) 
A physical quantity analyzing apparatus as 
 

set forth in one of claims 18 through 31, wherein the 
physical quantity calculating means employs a normalized 

function of a function representing a sum of squares of 
calculated difference instead of the calculated 

difference. 
A physical quantity analyzing apparatus as 
set forth in one of claims 18 through 32, further 

comprising means which employs a value which minimizes 
the square of the difference as a new physical quantity 

instead of the means which employs a value which 
minimizes the sum of the squares of the difference as a 

new physical quantity. 
A physical quantity analyzing apparatus as 
set forth in one of claims 18 through 33, further 

comprising a means which iterates the repetition of the 
calculation of the difference and the employment of the 

physical quantities ui for each physical source until 
the sum of the absolute values of the differences which 

is obtained by the repetition of the processings becomes 
smaller than a predetermined threshold value, instead of 

the means which repeats the repetition of the 
calculating of the difference and the employing of the 

physical quantities ui for each physical source until 
the sum of the squares of the differences which is 

obtained by the repetition of the processings becomes 
 

smaller than a predetermined threshold value. 
</CLAIMS>
</TEXT>
</DOC>
