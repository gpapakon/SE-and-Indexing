<DOC>
<DOCNO>EP-0628190</DOCNO> 
<TEXT>
<INVENTION-TITLE>
METHOD OF FORMING A TEMPLATE
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T760	G06K962	G06T760	G06K962	G06K900	G06K900	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06K	G06T	G06K	G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T7	G06K9	G06T7	G06K9	G06K9	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method of forming a template of an image of an object includes the steps of: detecting occurrences of at least one feature type within the image which meet a respective criterion; for each such occurrence, determining a feature position which is a point within the image at which the occurrence of the feature type is to be considered as being located; and constructing a structural mesh of links between the feature positions. A method is also disclosed of forming a template derived from a plurality of templates formed from respective images of different members of the class of objects and combining the templates to form a generalised template. In particular the templates are combined using a genetic algorithm. The invention provides a method of forming a template from one or more images which does not rely on a priori assumptions about the salient features of the object for which a template is to be obtained.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
BRITISH TELECOMM
</APPLICANT-NAME>
<APPLICANT-NAME>
BRITISH TELECOMMUNICATIONS PUBLIC LIMITED COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SHACKLETON MARK ANDREW
</INVENTOR-NAME>
<INVENTOR-NAME>
WELSH WILLIAM JOHN
</INVENTOR-NAME>
<INVENTOR-NAME>
SHACKLETON, MARK, ANDREW
</INVENTOR-NAME>
<INVENTOR-NAME>
WELSH, WILLIAM, JOHN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a method of forming a
template of an image of an object, which template finds
particular, but not exclusive, application to the
recognition of objects in images for security and
surveillance applications and in model-based image coding.A template is a representation of an image of an
object which aims to contain the image's salient features
so that the template can be subsequently compared to other
images, the goodness of fit of the template to another
image providing a measure of the likelihood that this image
is of or contains a sub-image of the object. For example,
a series of templates may be formed from respective images
of the faces of a group of people. An image of a person's
face captured by a security camera could then be compared
to the templates to determine if that person is one of the
group.A known approach to the use of templates is described
in an article entitled "Feature Extraction From Faces Using
Deformable Templates" by A L Yuille, D S Cohen and P W
Hallinan, Harvard Robotics Laboratory Technical Report 33-2,
1988. In this approach a feature or object of interest
is described by a geometric representation which is
specified by a set of parameters which incorporate
knowledge of the shape of the object. The article gives
examples of two such templates; one for use in recognising
an eye and the other a mouth. In the former case the eye
template decided upon by the authors incorporated a circle
corresponding to the outer boundary of the iris, boundary
contours corresponding to the top and bottom of the eye
comprising two parabolas, regions corresponding to the
whites of the eyes, and two points corresponding to the
centres of the whites of the eyes.The template of Yuille et al is deformable in that the
components of the template can move subject to notional 
structural, restraining forces between the components.
When the template is matched to a test image, the
components of the template are attracted to various
valleys, edge and peak components of the image which
attractive forces are generally resisted by the structural
forces between the components of the template. An energy
function is defined in terms of the attraction of the
template components to the features of the image and the
structural forces resisting deformation of the template,
the template being deformed to minimise this energy
function. This energy function gives a measure of the
goodness of fit of the template to the image and can be
used as a measure of whether the template has, in fact,
been
</DESCRIPTION>
<CLAIMS>
A method of creating a template of a first image for subsequent
comparison with a second image comprising:


detecting occurrences of one or more predefined image feature types
present in the first image;
associating a location within the first image with each such occurrence;
associating each such location with a template node;
in respect of each such occurrence, associating the occurrence feature
type with the node associated with the occurrence location; and
associating template links with template nodes as to create a template of
the first image.
A method as claimed in claim 1 further comprising, in respect of each
detected occurrence, associating further occurrence data with the node associated

with the occurrence location.
A method as claimed in claim 1 or claim 2 in which the step of associating
template links with template nodes comprises utilising Delauney triangulation.
A method of establishing a measure of similarity between a template of a
first image and a second image, in which the template is created according to any

preceding claim including detection of occurrences of one or more predefined
image feature types present in the first image, the method comprising:


detecting occurrences of the one or more predefined image feature types
present in the second image;
in dependence upon a predefined energy function, deforming the template
of the first image as to create a deformed template such that the template nodes

are attracted to occurrences of their respective associated feature types whilst the
template links restrain template deformation; and
establishing a measure of similarity between the template of the first
image and the second image in dependence upon the difference in energy state

associated with the template of the first image and the deformed template.
A method of image recognition comprising:

establishing a measure of similarity between a template of a first image
and a second image according to claim 4; and
in the event that the measure of similarity exceeds a predefined threshold
value, causing the second image to be recognised as an instance of the first

image.
A method of creating a template of a set of images for subsequent
comparison with a further image including the steps of:


(a) creating a template of each of a set of training images in accordance with
the method of claim 1;
(b) creating a data record corresponding to each such template; each data
record having a linear string of entries, each entry corresponding to one of

the nodes of the respective templates and representing at least an
associated node feature type and an associated node address;
(c) creating a template corresponding to each data record, utilising each entry
to create a corresponding template node of the associated feature type and

located at a template location corresponding to the associated address; and
associating template links with template nodes as to create each template;
(d) associating with each template a measure of merit with respect to each one
of the set of images;
(e) associating with each template a measure of fitness with respect to the
image set, in dependence upon the measures of merit established in step

(d);
(f) selecting a subset of the data records in dependence upon the measure of
fitness of their associated templates established in step (e); and 
(g) applying genetic operators to at least the subset to create new data
records.
A method as claimed in claim 6 in which data record entries corresponding
to nodes associated with occurrences of image feature types located closely

together in an image are located closely together in the corresponding linear string.
A template creation apparatus for creating a template of a first image for
subsequent comparison with a second image comprising:


means arranged to detect occurrences of one or more predefined image
feature types present in the first image;
means arranged to associate a location within the image with each
occurrence;
means arranged to associate each location associated with an occurrence
with a template node;
means arranged to associate, in respect of each occurrence, the
occurrence feature type with the node associated with the occurrence location;

and
means arranged to associate template links with template nodes as to
create a template of the first image.
An image recognition apparatus comprising:

means arranged to store a template of a first image, the template created
in accordance with any one of claims 1-3 including detection of occurrences of

one or more predefined image feature types present in the first image;
means arranged to detect occurrences of the one or more predefined
image feature types present in the second image;
means arranged to deform the template of the first image in dependence
upon a predefined energy function as to create a deformed template such that the

template nodes are attracted to occurrences of their respective associated feature
types whilst the template links restrain template deformation; and
means arranged to establish a measure of similarity between the template
of the first image and the second image in dependence upon the difference in 

energy state associated with the template of the first image and the deformed
template; and
means arranged to cause the second image to be recognised as an
instance of the first image in the event that the measure of similarity exceeds a

predefined threshold value.
A template creation apparatus for creating a template of a set of images
for subsequent comparison with a further image comprising:


means arranged to store templates of each of a set of training images,
each template created in accordance with any one of claims 1-3 including

detection of occurrences of one or more predefined image feature types present in
the first image;
means arranged to create a set of data records; each data record
corresponding to a template; each data record having a linear string of entries,

each entry corresponding to one of the nodes of the respective template and
representing at least an associated node feature type and an associated node

address;
means arranged to create a template corresponding to each data record,
utilising each entry to create a corresponding template node of the associated

feature type and located at a template location corresponding to the associated
address; and associating template links with template nodes as to create each

template;
means arranged to associate with a template a measure of merit with
respect to each one of the set of images;
means arranged to associate with a template a measure of fitness with
respect to the set of images, in dependence upon associated measures of merit;
means arranged to select a subset of data records in dependence upon the
measure of fitness of their corresponding templates; and
means arranged to apply genetic operators to at least the selected subset
to create a new set of data records.
</CLAIMS>
</TEXT>
</DOC>
