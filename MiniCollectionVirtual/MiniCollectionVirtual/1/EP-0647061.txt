<DOC>
<DOCNO>EP-0647061</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Color space conversion
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T100	G06T100	H04N146	H04N160	H04N160	H04N146	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T1	G06T1	H04N1	H04N1	H04N1	H04N1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An interpolation calculation requires a plurality of difference signals representing 
the distances to a set of neighboring colors in space. However, at least some of the plurality of 

difference signals required for interpolation of a color within the boundary defined by the known 
color and the set of neighboring colors are also required for interpolation of another color within 

the boundaries defined by a neighboring known color and its set of neighboring known colors. 
Accordingly, rather than redundantly storing the difference values, a storage and retrieval 

scheme is used which only stores non-redundant difference signals, and retrieves from addresses 
associated with neighboring colors the appropriate difference signals for a given interpolation 

calculations. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
XEROX CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
XEROX CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ROLLESTON ROBERT J
</INVENTOR-NAME>
<INVENTOR-NAME>
ROLLESTON, ROBERT J.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention is directed towards color space conversion by compiling and
using look-up tables storing calculated difference values required for conversion of colors defined
in a first color space to colors defined in a second color space, and more particularly to a method of
reducing redundancy in such storage for more efficient operation.The generation of color documents can be thought of as a two step process: first, the
generation of the image by means of scanning an original document with a color image input
terminal or scanner or, alternatively, creating a color image on a work station operated in
accordance with a color image creation program; and secondly, printing of that image with a
color printer in accordance with the colors defined by the scanner or computer generated image.
Scanners commonly operate with colors defined in a color space of tristimulus values, i.e., RGB
(red-green-blue). Commonly, these values are a linear transformation of the standard XYZ
coordinates of CIE color space, or a correct transform of those values. In the case of computer
generated images, colors defined by the user at the user interface of his workstation are
immediately converted into color space values and directed out of the system as defined in the
document colors.Printers have an output which can be defined as existing in a color space called CMYK
(cyan-magenta-yellow-key or black) which is uniquely defined for the printer by its capabilities
and colorants. Printers operate by the addition of multiple layers of ink or colorant in layers to a
page. The response of the printer tends to be relatively non-linear. Thus, while a printer system
receives information in a first color space, it must convert that information to print in a second
color space.The desirability of operating in a tristimulus color space with subsequent conversion
to a printer colorant color space is well known, such as shown by US-A 4,500,919 to Schreiber and
US-A 2,790,844 to Neugebauer, and US-A 4,275,413 to Sakamoto. There are many methods of
conversion between color spaces, all of which begin with the measurement of printer response to
certain input values. Commonly, a printer is driven with a set of color input values, the values are
printed in normal operation of the printer, and measurements are made of those colors to
determine what the actual color printed was in response to the color specification. As previously
noted, most printers have non-linear response characteristics.In US-A 4,500,919 to Schreiber, and US-A
</DESCRIPTION>
<CLAIMS>
A space transformation system for converting first space signals to second space
signals, wherein a set of prederived digital output signals mapped to selected digital input signals

such as to form a grid are stored in a device memory, and wherein an interpolation processor (40) is
used to provide an output signal for an input signal which is not mapped to a prederived output

signal, characterised by an arrangement improving the efficiency of the interpolation processor (40)
including:


a. calculating means (200-224) for calculating the distance in output space between each
output signal and each neighboring prederived output signal in the grid, and producing a set of

difference signals as a function of said distances;
b. a difference memory (106), storing the difference signals received from said calculating
means, the difference signals stored at addresses in said difference memory associated with each

said neighbouring prederived output signal in the grid;
c. control means (104) controlling the storage of said difference signals, and directing from
the calculating means to the difference memory at said addresses only such difference signals as

have not been previously stored for a neighboring prederived output signal in the grid;
d. said control means (104) controlling the retrieval of said difference signals to the
interpolation processor from said addresses, as required to provide the correct distance signals for

interpolation processing.
A system as claimed in claim 1, wherein said first and second space signals are
color space signals.
A system as claimed in either one of claims 1 or 2, wherein said prederived output
signals are empirically derived.
A system as claimed in either one of claims 2 or 3, wherein the first color space
signals are defined in terms of red-green-blue color space or are defined in terms of cyan-magenta-yellow-black

color space.
A system as claimed in either one of claims 2 or 3, wherein the second color color
space signals are defined in terms of a second red-green-blue color space, or are defined as a

multi-dimensional output color space, or are defined in terms of cyan-magenta-yellow-black color
space.
A system as claimed in either one of claims 2 or 3, wherein the first color space
and/or the second color space is colorimetric. 
A system as claimed in either one of claims 2 or 3, wherein the second color space
and/or the first color space is device dependent.
A printing system including a space transformation system as claimed in any one of
claims 1 to 7.
A printing system as defined in claim 8, wherein such difference signals as have not
been previously stored for a neighboring prederived output signal in the grid includes only the

difference signals describing the distance to three adjacent neighbors in the grid.
Use of a space transformation system as claimed in any one of claims 1 to 7 for
converting from a first color space to a second color space.
</CLAIMS>
</TEXT>
</DOC>
