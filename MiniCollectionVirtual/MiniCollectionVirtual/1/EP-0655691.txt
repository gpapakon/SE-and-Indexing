<DOC>
<DOCNO>EP-0655691</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Processor interface circuit for exchanging serial digital data with a peripheral device
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F506	G06F1338	G06F1338	G06F516	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F5	G06F13	G06F13	G06F5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The interface circuit (1) comprises at least one buffer memory (10, 20, 30, 40) connected on the one hand to the data bus (4) of the processor (2) and on the other hand to the parallel access of a conversion register (16, 36) whose serial access is connected to the peripheral device (3). A counter (80) generates a first address (TADD, RADD) and a first memory access control signal (TRRW) supplied to a selection circuit (60, 70) moreover receiving a second address (PADD) and a second memory access control signal (PWR, PRD) from the processor (2). Depending on a selection signal (TRAMS, RRAMS), the circuit (60, 70) forwards either the first address and the first control signal, or the second address and the second control signal to the buffer memory (10, 20, 30, 40). 
<
IMAGE
>
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SGS THOMSON MICROELECTRONICS
</APPLICANT-NAME>
<APPLICANT-NAME>
SGS-THOMSON MICROELECTRONICS S.A.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MICHALINA JEAN-CLAUDE CABINET
</INVENTOR-NAME>
<INVENTOR-NAME>
MICHALINA, JEAN-CLAUDE, CABINET BALLOT-SCHMIT
</INVENTOR-NAME>
</INVENTORS>
<CLAIMS>
Interface circuit (1) associated with a processor (2) for 
exchanging digital data serially with a peripheral device (3), 

the digital data taking the form of binary frames transmitted 
at the rate of a clock signal (CLK), identified by a 

synchronisation signal (SYNC) and each including at least one 
data word, characterised in that it comprises 


at least one buffer memory (10, 20; 30, 40) having a 
parallel data input (11, 21; 31, 41), a parallel data output 

(12, 22; 32, 42), an address input (13, 23; 33, 43), a write 
command input (14, 24; 34, 44) and a read command input (15, 

25; 35, 45), 
a first data transfer line (26; 47) connected to the 
data input (11, 21; 31, 41) of the buffer memory, 
a second data transfer line (27; 46) connected to the 
data output (12, 22; 32, 42) of the buffer memory, 
a conversion register (16; 36) timed by the clock 
signal (CLK) and having a serial access (17; 37) which is able 

to be connected to the peripheral device (3) and a parallel 
access (18; 38) connected to one (27; 47) of the said first 

and second data transfer lines, the other data transfer line 
(26; 46) being connected to a data bus (4) of the processor 

(2), 
control means (80, 90), including a counter (80) 
receiving the clock signal (CLK) and the synchronisation 

signal (SYNC), in order to produce a first address (TADD; 
RADD) incremented substantially at the end of each word 

exchanged serially, a first signal controlling access to 
memory (TRRW) activated substantially at the end of each word 

exchanged serially, and a buffer memory selection signal  
 

(TRAMS; RRAMS), and 
selection means (60; 70) for transmitting respectively 
the said first address (TADD; RADD) and the said first signal 

controlling access to memory (TRRW) to the address input (13, 
23; 33, 43) and to a command input (15, 25; 34, 44) of the 

buffer memory, or respectively a second address (PADD) coming 
from the processor (2) and a second signal controlling access 

to memory (PWR; PRD) coming from the processor (2) to the 
address input (
13, 23; 33, 43) and to a command input (14, 24; 
35, 45) of the buffer memory, depending on the state of the 

buffer memory selection signal (TRAMS; RRAMS). 
Interface circuit in accordance with Claim 1, 
characterised in that it comprises two buffer memories (10, 

20; 30, 40), each having a parallel data input (11, 21; 31, 
41) connected to the first data transfer line (26; 47), a 

parallel data output (12, 22; 32, 42) connected to the second 
data transfer line (27; 46), an address input (13, 23; 33, 

43), a write command input (14, 24; 34, 44) and a read command 
input (15, 25; 35, 45), and in that the selection means (60; 

70) are arranged so as to transmit respectively the said first 
address (TADD; RADD) and the said first signal controlling 

access to memory (TRRW) to the address input (13, 23; 33, 43) 
and to a command input (15, 25; 34, 44) of one of the buffer 

memories selected according to the buffer memory selection 
signal (TRAMS; RRAMS), and so as to transmit respectively the 

second address (PADD) coming from the processor (2) and the 
second signal controlling access to memory (PWR; PRD) coming 

from the processor (2) to the address input (13, 23; 33, 43) 
and to a command input (14, 24; 35, 45) of the other buffer 

memory. 
Interface circuit in accordance with one of Claims 1 or 2, 
characterised in that the control means (80, 90) are arranged 

so as to modify the state of the buffer memory selection 
signal (TRAMS; RRAMS) when a number of frames corresponding to  

 
the capacity of a buffer memory (10, 20; 30, 40) have been 

exchanged. 
Interface circuit in accordance with Claim 3, 
characterised in that the control means (80, 90) receive a 

validation signal (BSR) coming from the processor (2) and are 
arranged so as to allow modification of the state of the 

buffer memory selection signal (TRAMS; RRAMS) when this 
validation signal (BSR) is in a predetermined state. 
Interface circuit in accordance with one of Claims 3 or 4, 
characterised in that the control means (80, 90) are arranged 

so as to send an end of transmission signal (TBE; RBF) to the 
processor (2) substantially at the same time as they modify 

the state of the buffer memory selection signal (TRAMS; 
RRAMS). 
Interface circuit in accordance with one of Claims 1 to 5, 
characterised in that it comprises means (50) for generating 

the clock signal (CLK) and the synchronisation signal (SYNC) 
from another clock signal (PCLK) of higher frequency coming 

from the processor (2). 
Interface circuit in accordance with one of Claims 1 to 6, 
for transmitting data serially from the processor (2) to the 

peripheral device (3), characterised in that the said second 
data transfer line (27) is connected to the parallel access 

(18) of the conversion register (16), whilst the said first 
data transfer line (26) is connected to the data bus (4) of 

the processor, in that the said first signal controlling 
access to memory (TRRW) is transmitted selectively by the 

selection means (60) to the read command input (15, 25) of the 
buffer memory (10, 20) and in that the said second signal 

controlling access to memory (PWR) is transmitted selectively 
by the selection means (60) to the write command input (14, 

24) of the buffer memory (10, 20).  
 
Interface circuit in accordance with one of Claims 1 to 6, 
for receiving, at the processor (2), data transmitted serially 

by the peripheral device (3), characterised in that the said 
first data transfer line (47) is connected to the parallel 

access (38) of the conversion register (36), whilst the said 
second data transfer line (46) is connected to the data bus 

(4) of the processor, in that the said first signal 
controlling access to memory (TRRW) is transmitted selectively 

by the selection means (70) to the write command input (34, 
44) of the buffer memory (30, 40), and in that the said second 

signal controlling access to memory (PRD) is transmitted 
selectively by the selection means (70) to the read command 

input (35, 45) of the buffer memory (30, 40). 
Interface circuit (1) associated with a processor (2) for 
a bidirectional exchange of digital data between the processor 

and a peripheral device (3), the data taking the form of 
binary frames transmitted at the rate of a clock signal (CLK), 

identified by a synchronisation signal (SYNC) and each 
including at least one least one data word, characterised in 

that it comprises: 

at least one transmission buffer memory (10, 20) and at 
least one reception buffer memory (30, 40), each of these 

buffer memories having a parallel data input (11, 21, 31, 41), 
a parallel data output (12, 22, 32, 42), an address input (13, 

23; 33, 43), a write command input (14, 24, 34, 44) and a read 
command input (15, 25, 35, 45), the data output (32, 42) of 

the reception buffer memory and the data input (11, 21) of the 
transmission buffer memory being connected to a data bus (4) 

of the processor; 
a parallel/serial conversion register (16) timed by the 
clock signal (CLK) and having a serial output (17) able to be 

connected to the peripheral device (3) and a parallel input 
(18) connected to the data output (12, 22) of the transmission 

buffer memory,  
 
a serial/parallel conversion register (36) timed by the 
clock signal (CLK) and having a serial input (37) able to be 

connected to the peripheral device (3) and a parallel output 
(38) connected to the data input (31, 41) of the reception 

buffer memory, 
control means (80, 90), including a counter (80) 
receiving the clock signal (CLK) and the synchronisation 

signal (SYNC), in order to produce a first read address (TADD) 
incremented substantially at the end of each word transmitted 

serially to the peripheral device, a first read command signal 
(TRRW) activated substantially at the end of each word 

transmitted serially to the peripheral device, a first write 
address (RADD) incremented substantially at the end of each 

word received serially from the peripheral device, a first 
write command signal (TRRW) activated substantially at the end 

of each word received serially from the peripheral device, a 
transmission buffer memory selection signal (TRAMS) and a 

reception buffer memory selection signal (RRAMS), 
transmission selection means (60) for transmitting 
respectively the said first read address (TADD) and the said 

first read command signal (TRRW) to the address input (13, 23) 
and to the read command input (15, 25) of the transmission 

buffer memory, or respectively a second write address (PADD) 
coming from the processor (2) and a second write command 

signal (PWR) coming from the processor (2) to the address 
input (13, 23) and to the write command input (14, 24) of the 

transmission buffer memory, depending on the state of the 
transmission buffer memory selection signal (TRAMS), and 
reception selection means (70) for transmitting 
respectively the said first write address (RADD) and the said 

first write command signal (TRRW) to the address input (33, 
43) and to the write command input (34, 44) of the reception 

buffer memory, or respectively a second read address (PADD) 
coming from the processor (2) and a second read command signal  

 
(PRD) coming from the processor (2) to the address input (33, 

43) and to the read command input (35, 45) of the reception 
buffer memory, depending on the state of the reception buffer 

memory selection signal (RRAMS). 
Interface circuit in accordance with Claim 9, 
characterised in that it comprises two transmission buffer 

memories (10, 20) and two reception buffer memories (30, 40), 

each of these buffer memories having a parallel data input 
(11, 21, 31, 41), a parallel data output (12, 22, 32, 42), an 

address input (13, 23, 33, 43), a write command input (14, 24, 
34, 44) and a read command input (15, 25, 35, 45), the data 

outputs (32, 42) of the reception buffer memories and the data 
inputs (11, 21) of the transmission buffer memories being 

connected to the data bus (4) of the processor, the parallel 
input (18) of the parallel/serial conversion register (16) 

being connected to the data outputs (12, 22) of the two 
transmission buffer memories (10, 20), the parallel output 

(38) of the serial/parallel conversion register (36) being 
connected to the data inputs (31, 41) of the two reception 

buffer memories (30, 40), in that the transmission selection 
means (60) are arranged so as to transmit respectively the 

said first read address (TADD) and the said first read command 
signal (TRRW) to the address input (13, 23) and to the read 

command input (15, 25) of one of the transmission buffer 
memories selected according to the transmission buffer memory 

selection signal (TRAMS), and so as to transmit respectively 
the second write address (PADD) coming from the processor (2) 

and the second write command signal (PWR) coming from the 
processor (2) to the address input (13, 23) and to the write 

command input (14, 24) of the other transmission buffer 
memory, and in that the reception selection means (70) are 

arranged so as to transmit respectively the said first write 
address (RADD) and the said first write command signal (TRRW) 

to the address input (33, 43) and to the write command input 
(34, 44) of one of the reception buffer memories selected 

according to the reception buffer memory selection signal  
 

(RRAMS), and so as to transmit respectively the second read 
address (PADD) coming from the processor (2) and the second 

read command signal (PRD) coming from the processor (2) to the 
address input (33, 43) and to the read command input (35, 45) 

of the other reception buffer memory. 
Interface circuit in accordance with one of Claims 9 or 
10, characterised in that the said first write command signal 

and the said first read command signal are one and the same 
signal (TRRW), and in that the said first write address (RADD) 

is identical to the said first read address (TADD), offset by 
approximately one half-period of the clock signal (CLK). 
Interface circuit in accordance with Claim 11, 
characterised in that the control means (80, 90) are arranged 

so as to modify the state of the transmission buffer memory 
selection signal (TRAMS) when a number of frames corresponding 

to the capacity of a transmission buffer memory (10, 20) have 
been transmitted serially to the peripheral device (3) and so 

as to modify the state of the reception buffer memory 
selection signal (RRAMS) by substantially one half-period of 

the clock signal (CLK) after having modified the state of the 
transmission buffer memory selection signal (TRAMS). 
Interface circuit in accordance with one of Claims 9 to 
12, characterised in that the said second write address and 

the said second read address are one and the same address 
(PADD) coming from the processor. 
</CLAIMS>
</TEXT>
</DOC>
