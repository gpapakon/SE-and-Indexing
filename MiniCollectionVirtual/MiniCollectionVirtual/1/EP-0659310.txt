<DOC>
<DOCNO>EP-0659310</DOCNO> 
<TEXT>
<INVENTION-TITLE>
INTEGRATED MOSFET RESISTANCE AND OSCILLATOR FREQUENCY CONTROL, TRIM METHODS AND APPARATUS
</INVENTION-TITLE>
<CLASSIFICATIONS>H03K300	H03K3011	H03B100	H03K30231	G05F326	G05F330	G05F308	H03B100	G05F324	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03K	H03K	H03B	H03K	G05F	G05F	G05F	H03B	G05F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03K3	H03K3	H03B1	H03K3	G05F3	G05F3	G05F3	H03B1	G05F3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In an integrated circuit system, a filter and an oscillator are referenced to a common reference circuitry through a suitable control loop to provide filter time constant and oscillator frequency references. The oscillator (Fig. 3) and the filter (Fig. 4) are implemented in a manner where the monolithic pattern elements setting the fundamental control parameters (time-period and time-constant respectively) are of the same type. Monolithic capacitors are used as one of the common passive elements between the oscillator and the filter to set the time-period and time-constants, respectively, adjustable through adjustment of control currents (Iosc, Ix). The monolithic implementation of the Control Block (Fig. 3, Fig. 4 and Fig. 7) is such that by tuning the oscillator frequency to the appropriate value through setting of the respective control current (Iosc), the filter time-constants also are appropriately set to satisfy the Nyquist criteria for a sampling rate referenced to the oscillator frequency.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
INFORMATION STORAGE DEVICES
</APPLICANT-NAME>
<APPLICANT-NAME>
INFORMATION STORAGE DEVICES, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BLYTH TREVOR
</INVENTOR-NAME>
<INVENTOR-NAME>
KHAN SAKHAWAT
</INVENTOR-NAME>
<INVENTOR-NAME>
BLYTH, TREVOR
</INVENTOR-NAME>
<INVENTOR-NAME>
KHAN, SAKHAWAT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to the field of integrated
circuit design, and more particularly to integrated circuits
having on-chip, one or more oscillators and/or resistance
dependent circuits such as MOSFET resistance dependent circuits.In a Sample Data System, there is always the need to band
limit the incoming analog signal and sample it periodically.
Band-limiting of the analog signal is performed through a suitable
lowpass or a bandpass filter, and the periodic sampling is
performed by sampling circuitry with an accurate periodic time-base.
The periodic time base is generated from a suitable
oscillator.One form of monolithic implementation of a suitable filter is
the continuous time active MOSFET-RC type. In an MOSFET-RC
filter, MOSFET transistors are used in the non-saturation region
with a control voltage on the gate to generate an effective
resistance. Processing tolerances of integrated MOSFET transistor
and capacitor parameters may create +/- 50% variation in the
filter time constants. To maintain tight tolerances on the filter
time constants, it becomes necessary to have a control loop,
referenced to a stable reference, to control the time constants of
the filter over process and ambient changes. In implementations
where the time-base oscillator is also specified to be implemented
in a monolithic form with the filter, the same process tolerances
will create +/- 50% variations on the oscillator frequency. To 
achieve an accurate and stable oscillation frequency, the
oscillator also needs to be referenced to a stable and accurate
reference. The present invention provides a simple and unique way
of achieving these ends in a monolithic device.In prior art situations where it is necessary to have a
trimmed current-to-voltage transfer function (T = V/I), most
implementations develop a voltage Vo across a trimming resistor Rt
by passing a current I through the resistor. By trimming the
resistor Rt, an accurate voltage Vo is developed or an accurate
current to voltage transfer function is achieved. Figure 1 shows
a general implementation scheme. In integrated circuit
implementations, the trimming resistor Rt may be formed as a
series or parallel combination of multiple resistors with
switches, as shown in Figure 2a and Figure 2b, respectively, or a
single resistor may be used where trimming is performed through
laser cutting as shown in Figure 2c. The switches may be active
or passive. Active switches may either be bipolar or MOS
transistors or zener diodes. Passive switches may each just be a
thin
</DESCRIPTION>
<CLAIMS>
In an integrated circuit including an oscillator
(100) having a frequency of oscillation proportional to an

oscillator control current provided thereto; and further
including a filter (300) having RC time constants and

resistance determining MOSFET devices, each having a source,
a gate and a drain, wherein the R values are set by setting

the gate voltage of the resistance determining MOSFET devices
in the filer circuit; a circuit for controlling the RC time

constants of the filter so as to track the frequency of the
oscillator comprising:


a MOSFET-R gate control generator (200) coupled to the
filter (300) for generating a MOSFET-R gate control voltage

for controlling the gate voltage of the resistance
determining MOSFET devices in the filter circuit, the MOSFET-R

gate control generator (200) including a reference MOSFET
(210) having a source, a gate and a drain, and having a

source and drain voltage difference thereon representative of
the voltage difference across the sources and drains of the

resistance determining MOSFET devices in the filter circuit,
the MOSFET-R gate control generator (200) further including a

gate voltage control circuit (220) coupled to the gate of the
reference MOSFET (210) to provide a current therethrough

proportional to a MOSFET-R gate control generator control
current provided to the MOSFET-R gate control generator

(200), the MOSFET-R gate control voltage being proportional
to the gate voltage of the reference MOSFET (210); and,
a current generator (400) coupled to the oscillator
(100) and the MOSFET-R gate control generator (200) for

generating the oscillator control current and the MOSFET-R
gate control generator control current, respectively.
The circuit of claim 1 wherein the reference MOSFET
(210) has source and drain voltages thereon substantially 

equal to the voltages on the sources and drains of the
resistance determining MOSFET devices in the filter circuit,

and wherein the MOSFET-R gate control voltage is
substantially equal to the gate voltage of the reference

MOSFET (210).
The circuit of claim 1 wherein the current
generator (400) is a means for generating the oscillator

control current and the MOSFET-R gate control generator
control current with a fixed ratio therebetween, whereby the

RC time constants of the filter (300) will track variations
in the period of oscillation of the oscillator (100).
The circuit of claim 3 for use in a sampled data
system having a sample rate derived from the oscillator

frequency wherein the RC time constants of the filter (300)
are chosen in relation to the period of oscillation of the

oscillator (100) and track variations in the period of
oscillation of the oscillator (100) so as to satisfy the

Nyquist criteria for the sampling rate throughout the
variations in the period of oscillation of the oscillator

(100).
The circuit of claim 3 wherein the current
generator (400) includes means (430) for generating a trim

current, and wherein the current generator (400) further
includes:


first means (442) for generating a plurality of current
components each mirrored from an input current;
second means (444
1
-444
n
) for summing selected ones of
the current components to control the oscillator control

current and the MOSFET-R gate control generator control
current in proportion to the sum; and,
digital control means (446
1
-446
n
) responsive to control
bits to select which of the current components are summed; 
whereby the oscillator control current and the MOSFET-R
gate control generator control current may be controlled by

control of the control bits.
The circuit of claim 5 further comprised of
programmable floating gate storage cells (450) coupled to the

digital control means (446
1
-446
n
) for providing the control
bits to the digital control means.
The circuit of claim 3 wherein the oscillator
control current and the MOSFET-R gate control generator

control current are both substantially temperature
independent.
The circuit of claim 3 wherein the current
generator (400) is comprised of:


a first current generator portion (410) for providing a
current having a positive temperature coefficient;
a second current generator portion (420) for providing a
current having a negative temperature coefficient; and,
means (430) for combining currents generated by the
first and second current generator portions to provide a

substantially temperature independent current from which the
oscillator control current and the MOSFET-R gate control

generator control current are generated.
The circuit of claim 3 wherein the current
generator (400) is comprised of:


a first current generator portion (410) for providing a
current having a positive temperature coefficient;
a second current generator portion (420) for providing a
current having a negative temperature coefficient; and,
means (430) for selectively combining current components
ratioed from the currents generated by the first and second

current generator portions to provide a trim current from
which the oscillator control current and the MOSFET-R gate

control generator control current are ratioed, the means 
(430) for selectively combining current components providing

a trim current having a substantially fixed magnitude and a
selectively variable temperature sensitivity dependent upon

the selective combination of the current components.
The circuit of claim 9 wherein the means (430) for
selectively combining current components ratioed from the

currents generated by the first and second current component
generators to provide a trim current from which the

oscillator control current and the MOSFET-R gate control
generator control current are ratioed comprises digital

control means (446
1
-446
n
) responsive to control bits to
select which of the current components are summed.
The circuit of claim 10 further comprised of
programmable floating gate storage cells (450) coupled to the

digital control means (446
1
-446
n
) for providing the control
bits to the digital control means responsive to the

programming of the programmable floating gate storage cells.
</CLAIMS>
</TEXT>
</DOC>
