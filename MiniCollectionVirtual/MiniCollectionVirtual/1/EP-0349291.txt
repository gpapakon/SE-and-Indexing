<DOC>
<DOCNO>EP-0349291</DOCNO> 
<TEXT>
<INVENTION-TITLE>
A robot with controlled tool tracking displacement
</INVENTION-TITLE>
<CLASSIFICATIONS>G05B194155	G05B19404	B23Q3300	B25J916	G05B1918	B23Q3500	G05B19425	G05B194155	B23Q3500	G05B1918	B25J916	B24B1700	G05B19425	B25J918	B25J1308	G05B19404	B25J918	B24B1710	B25J1308	B23Q3300	B24B1700	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G05B	G05B	B23Q	B25J	G05B	B23Q	G05B	G05B	B23Q	G05B	B25J	B24B	G05B	B25J	B25J	G05B	B25J	B24B	B25J	B23Q	B24B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G05B19	G05B19	B23Q33	B25J9	G05B19	B23Q35	G05B19	G05B19	B23Q35	G05B19	B25J9	B24B17	G05B19	B25J9	B25J13	G05B19	B25J9	B24B17	B25J13	B23Q33	B24B17	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A tracking control robot controls its arm end, which 
holds a tool, to track a taught path so that a reaction force 

between a workpiece and the tool remains constant. An ideal 
state for the arm end is determined from the present state of 

the arm end and the difference between the actual reaction 
force and a predetermined target force. Then, this ideal 

state is compared with a reference state of the arm end on 
the taught path to obtain a target position and a target 

attitude of the arm end. Since a target position is always 
determined independently of the last target position, no 

position error due to time delay affects a new target 
position even when the next target position is genefated 

before the tool reaches the last target position. Thus, the 
robot is quick, responsive, and accurate when tracking at a 

constant operation speed. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
TOYOTA MOTOR CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
TOYOTA JIDOSHA KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HAYASHI CHISAO C O K K TOYOTA
</INVENTOR-NAME>
<INVENTOR-NAME>
ISHIGURO YASUO
</INVENTOR-NAME>
<INVENTOR-NAME>
KATO YOSHITO
</INVENTOR-NAME>
<INVENTOR-NAME>
KOIDE MITSUO C O K K TOYOTA CH
</INVENTOR-NAME>
<INVENTOR-NAME>
KUNO TOSHITAKA C O K K TOYOTA
</INVENTOR-NAME>
<INVENTOR-NAME>
MORIBE HIROSHI C O K K TOYOTA
</INVENTOR-NAME>
<INVENTOR-NAME>
NAKANO MASARU C O K K TOYOTA C
</INVENTOR-NAME>
<INVENTOR-NAME>
HAYASHI, CHISAO C/O K.K. TOYOTA CHUO KENKYUSHO
</INVENTOR-NAME>
<INVENTOR-NAME>
ISHIGURO, YASUO
</INVENTOR-NAME>
<INVENTOR-NAME>
KATO, YOSHITO
</INVENTOR-NAME>
<INVENTOR-NAME>
KOIDE, MITSUO C/O K.K. TOYOTA CHUO KENKYUSHO
</INVENTOR-NAME>
<INVENTOR-NAME>
KUNO, TOSHITAKA C/O K.K. TOYOTA CHUO KENKYUSHO
</INVENTOR-NAME>
<INVENTOR-NAME>
MORIBE, HIROSHI C/O K.K. TOYOTA CHUO KENKYUSHO
</INVENTOR-NAME>
<INVENTOR-NAME>
NAKANO, MASARU C/O K.K. TOYOTA CHUO KENKYUSHO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a tracking control robot for 
controlling the motion of a tool attached to the end of a 
robot arm so as to track a taught path while maintaining a 
desired force between the tool and a workpiece. For machining operations including burring, die 
polishing, trimming, and buffing, an industrial robot has 
been required to control a reaction force applied from an 
object to be machined (hereinafter a workpiece) and a tool, 
such as a grindstone attached to the end of a robot arm. One such robot was introduced in "Force Control System 
of a Light-weight Multi-articulated Robot Arms": No. 3209 
Report of the 3rd symposium of Robotics Society of Japan, 
held on November 28, 29, 30 in 1985. According to that 
report, the robot has, between its arm end and a tool, a 
displacement/force conversion mechanism with a predetermined 
relationship between a force applied to a predetermined 
axial direction and a displacement in the same axial 
direction. The robot also has a force sensor for detecting a 
reaction force applied by a workpiece to the tool. With this 
force sensor, the robot arm is minutely controlled to adjust 
the detected reaction force to a predetermined value. The above-mentioned displacement/force conversion  
 
mechanism, which is also called a compliance mechanism, 
includes a resilient member such as a spring, a rubber 
section, etc. By adjusting the displacement in a 
predetermined axial direction, the force applied by the tool 
to the workpiece can be controlled. In this prior-art robot, the arm end is controlled to 
track a standard path determined by position data, which is 
stored during a preceding teaching process. While tracking 
the path, the force sensor installed in the arm end detects 
the reaction force transmitted from the workpiece to the 
tool. By applying the detected reaction force to an equation 
of motion of a material particle, a position deviation Δ xi 
(the difference between the actual position of the arm end 
and a position of the arm end where a desired reaction force 
can be obtained) is calculated. Subsequently, a next target 
position xi for the arm end is calculated by adding the 
position deviation Δxi to the last target position xi-1. 
Then, the arm is moved to the calculated target position. By repeating this operation, the force applied from the 
tool to the workpiece is maintained at a constant value. As described above, the target position xi is calculated 
according to the following equation:xi = xi-1 + Δxi 
 
   Generally, however,
</DESCRIPTION>
<CLAIMS>
A tracking control robot (10) having a tool (R2) 
mounted to a displacement-to-force conversion mechanism (R3) 

at an end of an arm of the robot, the displacement-to-force 
conversion means maintaining a predetermined relationship in 

a particular coordinate system between the force applied in 
one axial direction and the displacement between the tool and 

the arm end in the same axial direction,
 
   the robot controlling the arm end (R1) by means of an 

arm-end control means (R9) which controls the position and 
attitude of the arm end in real time towards consecutive 

target points for position and attitude to move the tool (R2) 
to track a standard path obtained from prestored position data 

and to act on a workpiece (W) with a preset target force;
 
   the robot comprising:
 
   encoders (34,44,54,64,74,84) associated with each of the 

respective axes of rotation of the robot,
 
   present-condition detection means (R4) detecting present 

position and attitude of the arm end (R1) by converting the 
rotation angle data from the encoders (34,44,54,64,74,84) into 

coordinates for present position and attitude of the arm end 
using equations for kinematic transformations;
 
   reaction-force detecting means (R5) for detecting a 

reaction force transmitted from the workpiece (W), via the 
tool (R2) and the displacement-to-force conversion mechanism, 

to the arm end (R1);
 
   displacement conversion means (R6) calculating the 

difference between the detected reaction force and a preset 
target force of the tool (R2) and converting the difference 

into a displacement of the position of the arm end needed to 
make this difference zero;
 
   characterized in that it further comprises:
 
   modified target point calculation means for calculating 

a modified target point for position and attitude of the arm  
 

end (R1) based on the current target point and on said 

displacement;
 
   and in that:
 
   the modified target point calculation means comprises:
 
   ideal condition calculation means (R7) receiving data 

representing a detected actual position and attitude of the 
arm end at a certain moment in time and data representing the 

displacement of the arm needed to make the difference between 
the detected reaction force and a preset target force zero for 

the same moment in time, the ideal condition calculation means 
calculating a point corresponding to a position that would 

have been an ideal position and attitude of the arm end (R1) 
corresponding to the detected actual position, the ideal 

position being calculated as the detected actual position and 
attitude of the arm end compensated with the calculated 

displacement of the position of the arm end needed to make the 
difference between the detected reaction force and a preset 

target force zero
 
   and
 
   correction-amount calculation means (R8) calculating a 

correction amount for the prestored standard path by comparing 
the calculated ideal position and attitude of the arm end with 

a reference position and attitude of the arm end on the 
prestored standard path
 
   and in that
 
   the modified target point for the position and attitude 

of the arm end (R1) is calculated by correcting the reference 
position and attitude of the arm end on the prestored standard 

path according to this correction amount. 
A tracking control robot according to Claim 1 in 
which,
 
   the arm-end control means (R9) include motors (30, 40, 

50, 60, 70, 80) for driving the arm end (R1) and
 
   the present-condition detection means (R4) include: a 

rotation sensor (34,44,54,64,74,84) attached to the axes of 
the motors; and means for generating, in response to signals  

 
from the rotation sensor, position and attitude data for the 

end of the sensor and position and attitude data for the work 
point of the tool (R2), the data being based on a 

predetermined point in the coordinate system, and for 
calculating the present position and attitude of the tool (R2) 

from these data. 
A tracking control robot according to Claim 1 in 
which the present-condition detection means (R4) and the 

reaction-force detection means (R5) simultaneously execute 
their respective detections. 
A tracking control robot according to Claim 1 in 
which the reaction-force detection means (R5) are provided 

between the displacement-to-force conversion mechanism (R3) 
and the tool (R2) for detecting a value of the force on the 

displacement-to-force conversion mechanism (R3), the detected 
value being the difference  

 
between the force of gravity on the tool (R2) and the reaction 

force (Fw) transmitted from the workpiece (W) to the tool (R2). 
A tracking control robot according to claim 1 in which 
the displacement conversion means (R6) include means for 

calculating a degree of change in the reaction force (Fw) 
according to a degree of change in the value of force 

detected by the reaction-force detection means (R5). 
A tracking control robot according to claim 1 in which 
the displacement conversion means (R6) include means for 

calculating the displacement in the position of the tool such 
that the reaction force (Fw) from the workpiece to the tool is 

equal to the preset target force, by using an equation of 
motion of the tool (R2) as a material particle, the equation 

including the degree of change in the reaction force, and a 
viscosity coefficient and a spring constant for the 

displacement-to-force conversion mechanism (R3). 
A tracking control robot according to claim 6 in which 
the ideal-condition calculation means (R7) include means (416) for 

calculating the ideal position and attitude of the arm end (R3) 
according to the displacement in the position of the tool (R2) and 

the present position and attitude of the arm end (R3). 
A tracking control robot according to claim 1 in which:
 
   the robot (10) comprises a storage means for holding data of 

reference position and attitude for the arm end (R3) on the 
standard path, the data being stored in advance according to 

a particular teaching method, and
  
 

   the correction-amount calculation means (R8) include 
means for reading out the reference position and attitude data 

from the storage means. 
A tracking control robot according to Claim 1 in 
which the correction-amount calculation means (R8) include 

means for calculating a deviation between the ideal position 
and attitude of the arm end and the reference position and 

attitude of the arm end on the standard path, respectively, so 
as to calculate the correction amount for the position and 

attitude of the arm end. 
A tracking control robot according to Claim 1 in 
which the correction-amount calculation means (R8) include 

means for modifying the correction amount for the position and 
attitude of the arm end (R3) by a preset offset value. 
A tracking control robot according to Claim 1 in 
which the correction-amount calculation means (R8) include 

means for comparing the correction amount for the position and 
attitude of the arm end with a predetermined value and for 

controlling in real time the position and attitude of the arm 
end only when the correction amount is smaller than the 

predetermined value. 
A tracking control robot according to Claim 1 
wherein said predetermined relationship is in a sensor 

coordinate system; wherein said standard path obtained from 
prestored position data is in a robot coordinate system; 

wherein said present position and attitude of the arm end is 
in the sensor coordinate system; wherein said ideal position 

and attitude of the arm end is in the sensor coordinate 
system; wherein conversion means (418) are provided for 

converting the ideal position and attitude of the arm end from 
the sensor coordinate system into the robot coordinate system; 

and wherein said correction-amount calculation means (R8) 
calculates the correction amount for the position and attitude  

 
of the arm in the robot coordinate system by comparing the 

converted ideal position and attitude of the arm end with said 
reference position and attitude of the arm end on said 

standard path. 
</CLAIMS>
</TEXT>
</DOC>
