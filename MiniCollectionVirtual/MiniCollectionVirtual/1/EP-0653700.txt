<DOC>
<DOCNO>EP-0653700</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Network printer apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F312	G06F312	G06K1500	G06K1500	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F3	G06F3	G06K15	G06K15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A high-speed network printer apparatus can be 
used in common by clients having different communication 

protocols and can sort out printing jobs into the 
order of clients. Printing information is supplied from a 

client 52 which may be a personal computer or a work station 
through a connector of the printer apparatus. A LAN 

interface driver 21b receives the printing information and 
identifies a communication protocol by which the printing 

information is transferred. A communication protocol 
controller 21-3 to 21-6 receives printing information in 

accordance with 
a predetermined protocol. A spooling controller 21-8, which is 

coupled to a storage unit 24 which stores the received printing 
information, creates a queue for printing jobs. A printer 

controller reads out from the storage unit the printing 
information corresponding to a printing job of the highest 

priority which is designated by the queue, and forms a dot 
image on the basis of the printing information. A printing 

mechanism 23 prints the image on paper. A mailbox (51, Fig. 40) stores 
printed paper into a designated bin. A printing job table JBTB 

is provided in the printer apparatus, in which each row is 
allotted to one printing job which includes a field for 

storing an emulation program name. A registering unit 122 
judges whether or not there is a another printing job having 

the same emulation program name to expedite the printing 
process. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
FUJITSU LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
FUJITSU LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ABE FUMITAKE
</INVENTOR-NAME>
<INVENTOR-NAME>
ISHIGURO KEIJI
</INVENTOR-NAME>
<INVENTOR-NAME>
ITO MARI
</INVENTOR-NAME>
<INVENTOR-NAME>
KIDA YASUNARI
</INVENTOR-NAME>
<INVENTOR-NAME>
MORI YOSHIO
</INVENTOR-NAME>
<INVENTOR-NAME>
SAITOH YASUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SATO TOSHIMI
</INVENTOR-NAME>
<INVENTOR-NAME>
UEYAMA SATORU
</INVENTOR-NAME>
<INVENTOR-NAME>
ABE, FUMITAKE
</INVENTOR-NAME>
<INVENTOR-NAME>
ISHIGURO, KEIJI
</INVENTOR-NAME>
<INVENTOR-NAME>
ITO, MARI
</INVENTOR-NAME>
<INVENTOR-NAME>
KIDA, YASUNARI
</INVENTOR-NAME>
<INVENTOR-NAME>
MORI, YOSHIO
</INVENTOR-NAME>
<INVENTOR-NAME>
SAITOH, YASUSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SATO, TOSHIMI
</INVENTOR-NAME>
<INVENTOR-NAME>
UEYAMA, SATORU
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a network printer
apparatus and a LAN network system and, more particularly,
to a network printer apparatus which realizes the
communication function and a full-scale server function
between the network printer apparatus and a LAN by adding a
LAN adapter portion (Front End Processor) to the printer
apparatus itself, and a LAN network system comprising
such a network printer apparatus.A network printer apparatus is an apparatus connected
to a plurality of personal computers or work stations
through a LAN so as to store printing files (printing
information) transferred from the personal computers or work
stations in a storage unit, to register printing jobs in a
printing job table, to form an image on the basis of the
printing information which corresponds to the printing job,
and to print the image on paper.Such a conventional network printing apparatus executes
printing operations in the order of receipt of printing
information from a client or user (personal computer or work
station).The ways of description of printing data are different
in personal computers or workstations which are produced by
different makers. As a countermeasure, a network printer
apparatus is provided with emulation programs for 
interpreting various types of printing data, and when
printing information is transferred to the apparatus, the
apparatus starts the emulation program designated by the
printing information (emulation designation data) so as to
interpret the printing data. In order to switch emulation
programs, it is necessary to initialize the contents of the
memory, which takes a considerable time.The network printer apparatus has a printing function
using a form overlay (a blank form, sometimes called merely
overlay). This is a function of printing an image on paper
overlaid with the form which is stored in advance. The
form overlay is not constant but is changed in accordance
with the printing job. When the overlay is changed, it is
necessary to download the corresponding form overlay from a
form overlay storing device of a hard disk or the like or a
personal computer or the like for storing form overlays,
which takes a considerable time.When the printing jobs having the same emulation and
the same overlay are executed in series, it is not necessary
to change the emulation programs or overlays.However, since personal computers or work stations made
by different makers are connected to a LAN, and the form
overlays differ with clients, it is scarcely the case that
printing operations
</DESCRIPTION>
<CLAIMS>
A network printer apparatus (20) for
connection to a plurality of clients (52) such as

personal computers or work stations through a LAN
network system (53, 30, 130), the apparatus comprising:


a storage means (24, 159) for storing printing
information transferred from the clients;
a printer controller (22) coupled to said storage
means, for forming an image on the basis of the

printing information;
a printing mechanism (23) for printing said
image ;
a connector (26, 151) for connecting the apparatus
to the LAN network system; and
a LAN adaptor means (21) including a LAN interface
driver (21b) for receiving printing information from a

client through said LAN network system and said
connector ;

the apparatus being 
characterised in that
 said LAN adaptor means (21). Further includes a multiprotocol controller (21-3 to 21-6) for
identifying a communication protocol of the client by

which said printing information is transferred, by reference to data included in said received printing information for specifying said communication protocol, and for
controlling communication between the apparatus and the

client (52) in accordance with the identified
communication protocol.
A network printer apparatus according to
claim 1, in which the LAN adapter means (21) includes a

spooling controller (21-8) coupled to the storage means
for storing printing information and creating a queue

for printing jobs to be executed; and

   the printer controller (22) reads out from the
storage means printing information corresponding to the

printing job of the highest priority designated by the
queue, and forms and outputs a dot image for each page

to be printed on the basis of the printing information.
A network printer apparatus according to 
claim 2, wherein the printer controller (22) includes

the storage means (24) and a means for storing the
queue, and the LAN adapter means (21) and the printer

controller (22) are connected to each other through a
memory bus and an SCSI bus so that information other

than printing data is received and transmitted
therebetween through the memory bus and the printing

data are stored in the storage means through the SCSI
bus.
A network printer apparatus according to
claim 2 or 3, wherein the storage means (24) is adapted

to store fonts and overlays which are to be downloaded
through the LAN network system from the client.
A network printer apparatus according to any
of claims 2 to 4, wherein:


the LAN adapter means (21) further includes a
controller for identifying an inquiry from the client

about the state of the apparatus and the printing jobs,
and a communication response controller (21-7) for

supplying a response to the inquiry to the client in
accordance with a predetermined communication protocol;

and
the printer controller (22) further includes a
status controller (22-9) for collecting information on

the state of the apparatus and the printing jobs in
response to the inquiry and transmitting the collected

information to the communication response controller
(21-7).
A network printer apparatus according to any
of claims 2 to 4, wherein the LAN adapter means further

includes a communication response controller for
transmitting to the client a notice of the end of

printing or of an error in apparatus functions, by an
original communication protocol which is different from

the said communication protocol.
A network printer apparatus according to any 
preceding claim, and further comprising:


a means for storing a job table (123) including a
plurality of rows and in which each row is allotted to

one printing job and includes a field for storing the
name of a printing job, a field for storing a storage

location in the storage means at which the printing
information is stored, a field for storing the name of

an emulation program for interpreting printing
information, a field for storing the name of a form

overlay, and a job designation field for storing data
which designate another printing job using the same

emulation program and/or the same form overlay as those
of the corresponding printing job entered in the row;
a printing job registering means (122) for
extracting the name of the emulation program and the

name of the form overlay from newly input printing
information, judging whether or not there is a printing

job having the same name of the emulation program
and/or the same name of the form overlay as the

extracted name of the emulation program and of the form
overlay in the job table, retrieving the printing job

if the answer is affirmative, entering the data for
designating the newly input printing information in the

job designation field of the row of the retrieved

printing job, and registering the printing job
corresponding to the newly input printing information

in the job table; and
a printing order decision means (124) for judging,
when a printing operation is finished in accordance

with a predetermined printing job, whether or not
another printing job is designated in the job

designation field of the row of the predetermined
printing job, and executing the printing operation

corresponding to the designated job if the answer is
affirmative, while executing printing operations in

sequence in the order of receipt of printing 
information if the answer is negative.
A network printer apparatus according to
claim 7, wherein:


each row of the job table (123) further includes a
second job designation field for designating another

printing job using a different emulation program but
the same form overlay as that of the corresponding

printing job entered in the row;
the printing job registering means (122) extracts
the name of the emulation program and the name of the

form overlay from the newly input printing information,
judges whether or not there is a printing job having a

different name of the emulation program but the same
name of the form overlay as the extracted name of the

form overlay in the job table, and retrieves the
printing job if the answer is affirmative, and the

printing job registering means enters the name of the
printing job corresponding to the newly input printing

information in the second job designation field of the
row of the retrieved printing job; and
the printing order decision means judges, when a
printing operation is finished in accordance with a

predetermined printing job, whether or not another
printing job is designated in the first job designation

field of the said row of the predetermined printing
job, and if the answer is negative, the printing order

decision means judges whether or not another printing
job is designated in the second job designation field

of the row of the predetermined printing job, and if
the answer is affirmative, the printing order decision

means commands the relevant designated job to be
executed, while if the answer is negative the printing

order decision means commands printing operations to be
executed in sequence in the order of receipt of the

printing information.
A network printer apparatus according to any 
preceding claim, wherein the LAN adapter means (21)

includes a center routine controller (21-10).
A network printer apparatus according to
claim 9, in which the center routine controller (21-10)

has a reception examination function for prohibiting
the receipt of a request for printing when the request

is supplied from a client other than the clients who
are registered in advance.
A network printer apparatus according to
claim 9 or 10, wherein the center routine controller

(21-10) is adapted to edit a banner page and insert the
banner page into printing data either at the beginning

or at the end when a request for printing is received
from a client.
A network printer apparatus according to any
of claims 9-11, wherein the center routine controller

(21-10) is adapted to register in advance a number (N)
of permissible sheets to be printed in total and a

number (n) of permissible sheets to be printed in one
cycle, and to decide the number of sheets to be

printed, in a range which does not exceed the number of
permissible sheets to be printed in total and the

number of permissible sheets to be printed in one
cycle, taking into consideration the number (m) of

pages which are required to be printed, the total
number (M) of sheets which have actually been printed,

the number of permissible sheets to be printed in total
and the number of permissible sheets to be printed in

one cycle.
A network printer apparatus according to any
of claims 9 to 12, wherein the center routine

controller (21-10) is adapted to eliminate from the
queue a predetermined printing job whose execution is

held and in a hold state after the lapse of a
designated holding time, without cancelling the hold

state. 
A network printer apparatus according to any
of claims 9 to 13, wherein the center routine

controller (21-10) is adapted to take up a new center
routine function from a floppy disc or one of the

clients.
A network printer apparatus according to any
preceding claim, wherein the printer controller (22)

includes an emulation controller (22-3) for
interpreting the printing information, and an image

processor (22-6) for converting the printing
information into a dot image for each page being

processed in the printer apparatus.
A network printer apparatus according to
claim 15, wherein the emulation controller (22-3) is

provided with a plurality of emulations and operates to
interpret the printing information in accordance with

an emulation which is designated by the printing
information.
A network printer apparatus according to
claim 1, wherein the LAN adapter means (21) further

includes an account log controller (21-9) for storing
the result of printing as account information,

including printing data, the name of the client, the
name of the printing job, the number of sheets to be

printed, the address of the client and the paper size.
A network printer apparatus according to
claim 1, wherein the LAN adapter means (21) includes a

filter controller (21-11) for converting data or a code
in the printing information, and is operable to add a

new filtering function from a floppy disc or a client. 
A network printer apparatus according to
claim 1, wherein the LAN adapter means (21) includes a

first microprocessor unit, and the printer controller
(22) includes a second microprocessor unit, commands

for printing the image on the basis of the printing
information being received and transmitted between the

first and second microprocessor units.
A LAN network system comprising:

a plurality of clients (52) including personal
computers or work stations; and
a network printer apparatus (20), as claimed in
any preceding claim, connected to the personal 

computers or work stations.
A LAN network system according to claim 20,
wherein each client (52) includes:


a menu controller (31a) for creating printing
data, inquiry data for inquiring about the state of the

apparatus and printing job information and data for
changing or registering printing attributes by an

operation on a menu screen; and
a communication controller (31e) for transmitting
a request for printing in accordance with a

predetermined communication protocol, and supplying the
inquiry data for inquiring about the state of the

apparatus and printing job information and the data for
changing or registering printing attributes, to the

network printer apparatus in accordance with an
original communication protocol which is different from

the predetermined communication protocol.
A LAN network system according to claim 21,
wherein each client further includes a storage

designation controller (52b) for designating storage
into the mailbox (51).
A LAN network system according to any of
claims 20-22, wherein the client receives a response to

an inquiry and displays the response data.
A LAN network system according to any of
claims 20-23, wherein the network printer apparatus

transmits information on paper shortage and network
printer apparatus operation failure to the client by

the original communication protocol, and the client
displays the information.
A LAN network system according to any of
claims 20-24, wherein the network printer apparatus

includes a server accommodating the LAN adapter means
for controlling communication in accordance with a

communication protocol and a spooling control function
(21-8) for creating a queue of printing jobs.
</CLAIMS>
</TEXT>
</DOC>
