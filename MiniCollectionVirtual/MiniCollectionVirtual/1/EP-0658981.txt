<DOC>
<DOCNO>EP-0658981</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Digital correction for missing codes caused by capacitive mismatching in successive approximation analog-to-digital converters
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M138	H03M106	H03M138	H03M106	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H03M	H03M	H03M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M1	H03M1	H03M1	H03M1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An ADC, comprising an internal DAC, driven by a 
successive approximation SAR, and a comparator, is 

provided with a correction logic circuit that controls 
the execution of a verifying and correcting routine at 

the end of each conversion routine. Master-Slave cells 
that compose the SAR are provided with a dedicated circuitry, 

responding to said correction control circuit, 
for confirming, incrementing or decrementing the bit 

stored in the cell by at least an LSB. An extremely 
simple routine, performed at the end of each conversion 

cycle, permits to correct incorrectly converted digital 
data because of the occurrence of 
missing codes
 in the 
internal DAC. The corrector does not require the use of 

memories and/or analog circuits and is very cost-effective 
and permits to greatly improve production 

yield of complex devices containing ADCs. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ST MICROELECTRONICS SRL
</APPLICANT-NAME>
<APPLICANT-NAME>
STMICROELECTRONICS S.R.L.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MORONI ANGELO
</INVENTOR-NAME>
<INVENTOR-NAME>
MORONI,ANGELO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method and to a
relative device for verifying and correcting data
resulting from a conversion process of an analog value
in a digital value through a so-called successive approximation
technique, employing an analog-digital converter
(ADC) liable to introduce an error of a certain
entity because of the process spread or of other
imprecisions in its circuit.Analog-to-digital converters (ADC) are of fundamental
importance in control, regulation, data collection
and processing systems, by constituting conversion
interfaces of analog entities (real-world
parameters) in digital data that can be easily processed
by digital circuits, such as combinative logic
networks, memories, microprocessors and the like. Among
these, analog-to-digital converters (ADC), that work
according to a technique based on a certain number of
successive approximation steps, cover a large portion
of applications.The document FR-A-2 349 239 discloses an analog-to-digital converter given by a successive approximation register (SAR).In successive approximation ADCs, an analog input
voltage is compared with a voltage that is synthetized
by an internal digital-to-analog converter (DAC) contained
within the ADC converter. A digital input to
said internal DAC is provided by a register (SAR) that
stores the current digital value of the successive approximation
process, which is updated step by step
depending on the result of the last comparison carried
out. After a number of comparisons equal to or greater
than the number of bits handled by the converter, the
data stored in the SAR register represents the digital
result of the completed conversion. Commonly, at the start of any new conversion process,
a certain code or digital value, for example
100..0, that may represent the intermediate code (value
or digital data) as referred to the range of convertible
digital values, is provided to the internal DAC.
This is effected by "setting" to such an intermediate
value the SAR. The result of a first comparison will
define the successive content of the SAR which may become
for example either 110..0 or 0100..0, and therefore,
through successive bi-sections, the code or
digital data that represents the converted input analog
value will be reached, within the theoretical approximation
limit defined by the number of bits of the
converter.Fig. 1 is a functional diagram of a successive approximation
ADC. As may be observed, the internal DAC
may be constituted by an array of capacitances: C, C/2,
C/4, C/8 and C/16, that
</DESCRIPTION>
<CLAIMS>
A correction process for a single missing code of
a digital data produced by a conversion process of an

input analog value in a digital value through successive
approximations, performed in an analog-to-digital converter (ADC) comprising an

internal digital-to-analog converter (DAC), a comparator and a register of successive approximations (SAR),
said digital-to-analog converter (DAC) converting into an analog value,

a digital value stored in the said register (SAR), which, compared with
said input analog value, determines an updating either in an

incrementing or in a decrementing direction of the
digital value present in said register (SAR), the process being

repeated for a number of times equal at least to the
number of bits of said register (SAR), characterized by comprising

the following steps:

a) decrementing by an LSB the digital value produced by
the conversion process and stored in said (SAR);
b) converting the decremented digital value stored in
said register (SAR) into an analog value;
c) comparing said converted analog value with the input
analog value;
d) incrementing the digital value stored in said register (SAR) by
an LSB if the analog value corresponding to the

converted digital value is less than said input
analog value;
e) using the digital value stored in said register (SAR) as the
correct digital result of the analog-digital

conversion of said input analog value.
A correction process for a double missing code of
a digital data produced by a conversion process of an

input analog value in a digital value through successive

approximations, performed in an analog-to-digital converter (ADC) comprising an
internal digital-to-analog converter (DAC), a comparator and a analog-to-digital converter (SAR) of successive

approximation, said digital-to-analog converter (DAC) converting into an analog
value, a digital value stored in the said register (SAR), which, 

compared with said input analog value, determines an
updating in either an incrementing or in a decrementing

direction of the digital value present in said register (SAR), the conversion
process being repeated for a number of times equal at

least to the number of bits of said register (SAR), characterized
by comprising the following steps:


a) decrementing by two LSBs the digital data produced
by the conversion process and stored in the SAR;
b) converting the digital value stored in said register (SAR) in an
analog value;
c) comparing said converted analog value with the input
analog value;
d) incrementing by an LSB the digital value stored in
said register (SAR) if the analog value corresponding to the

converted digital value is less than said input
analog value;
e) repeating the steps b), c) and d) ;
f) incrementing the digital value stored in said register (SAR) by
two LSBs;
g) repeating the steps b) and c) ;
h) decrementing the digital value stored in said register (SAR) by
two LSBs if the analog value corresponding to the

converted digital value is greater or equal to said
input analog value or decrementing by one LSB the

digital value stored in said register (SAR) if the analog value
corresponding to the converted digital value is less

than said input analog value;
i) using the digital value stored in said register (SAR) as the
correct digital result of the analog-to-digital converter

conversion of said input analog value.
</CLAIMS>
</TEXT>
</DOC>
