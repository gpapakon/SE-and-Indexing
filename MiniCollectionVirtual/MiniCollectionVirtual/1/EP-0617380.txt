<DOC>
<DOCNO>EP-0617380</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Forming method of composite discriminating function, character recognition method and pre-processing method of character recognition using the forming method.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K920	G06K920	G06K932	G06K932	G06K962	G06K962	G06K970	G06K970	G06K972	G06K972	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06K	G06K	G06K	G06K	G06K	G06K	G06K	G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K9	G06K9	G06K9	G06K9	G06K9	G06K9	G06K9	G06K9	G06K9	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A forming method of a synthetic discriminant function for use 
in discriminating characters when each of the character is 

correlatively calculated with a character pattern. The 
synthetic discriminant function is formed in the manner that a 

Fischer ratio shown by the below equation is applied to a 
criterion for evaluation; 


in which 
y₁
, 
y₂
 represent the expectation value of correlation 
output value of each class when the character patterns are 

discriminated into two classes by the synthetic discriminant 
function, and σ₁ represents the variance of correlation output 

value. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
KONISHIROKU PHOTO IND
</APPLICANT-NAME>
<APPLICANT-NAME>
KONISHIROKU PHOTO IND
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
IWATA TETSUYA C O KONICA CORPO
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUI MITAKE C O KONICA CORPO
</INVENTOR-NAME>
<INVENTOR-NAME>
SATOH YOSHINORI C O KONICA COR
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMANAKA YASUSHI C O KONICA CO
</INVENTOR-NAME>
<INVENTOR-NAME>
IWATA TETSUYA C O KONICA CORPO
</INVENTOR-NAME>
<INVENTOR-NAME>
MATSUI MITAKE C O KONICA CORPO
</INVENTOR-NAME>
<INVENTOR-NAME>
SATOH YOSHINORI C O KONICA COR
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMANAKA YASUSHI C O KONICA CO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a forming method of a 
synthetic discriminant function having high discrimination 
performance, a character recognition method and a pre-processing 
method for character recognition using the formed 
synthetic discriminant function, in a recognition system in 
which characters of character information and the like written 
in an X-ray film are recognized using the synthetic 
discriminant function. Recently, the X-ray film is used for photographing 
various medical images, and digitalizing of an image on the X-ray 
film is automatically conducted by a digitizer. However, 
an inputting oppperation of character information, in which an 
attribute such as an ID number of the film or a name of a 
patient is written, is manually conducted now. In a large 
hospital, hundreds of X-ray films should be processed a day,  
 
and in the existing circumstances, a great amount of labor is 
necessary for inputting character information of the film. 
Accordingly, the development of a system, which can 
automatically recognize character information, is desired. Conventionally, various character recognition methods 
have been tried with respect to the character recognition. 
However, in the character recognition, it is very difficult 
that a recognition ratio is increased to 100%. Further, when 
the recognition ratio is tried to be increased using a widely 
known Bays's decision rule and the like, a remarkably long 
period of time is necessary for recognition, which is a 
problem. The character information in the X-ray film is recorded 
in an outside portion of a subject area, that is, in a 
circumferential portion. However, recorded portions are 
different depending on types of systems, and therefore, it is 
necessary that the area, in which character information is 
recorded, is detected prior to character recognition of the 
character information. Further, for example, a recording system of character 
information which is commonly adopted now is the following 
system in which: an X-ray inspection engineer manually inserts 
a card, which is called a name card, and in which attribute 
information of a patient is written, into a recording device; 
and the X-ray film is optically printed-in and the information 
of the patient is recorded on the film. Accordingly,  
 
sometimes, the character is remarkably inclined with respect 
to the film, and that is sometimes attributed to a failure of 
detection of each character image area (division of the image 
area of each character). Therefore, it
</DESCRIPTION>
<CLAIMS>
A character recognition method of synthetic 
discriminant function for use in discriminating characters by 

conducting correlation calculation of the synthetic 
discriminant and a character pattern, comprising the steps of: 


(a) forming a synthetic discriminant function by using a 
Fischer ratio indicated in the following equation as a 

criterion for evaluation; 
 

in which y₁, y₂ represent the expectation value of correlation 
output value of each class when the character patterns are 

discriminated into two classes by the synthetic discriminant 
function, and σ₁ represents the variance of correlation output 

value. 
The forming method of claim 1 further comprising the 
steps of: 


(a) classifying types of characters to be recognized into 
two classes; 
(b) forming synthetic discriminant functions so that each 
of Fischer ratio to each combination of the classified classes 

is made maximum; 
(c) selecting a synthetic discriminant function 
corresponding to a predetermined classified combination in 

which Fischer ratio is maximum; 
(d) further classifying a class, which can be classified, 
in previously classified two classes into two classes; 
(e) further selecting, in the same way as the step of 
(c), a synthetic discriminant function corresponding to the 

predetermined classified combination; 
(f) forming a group of synthetic discriminant functions 
by repeating the step of (e) so that all types of characters 

can be recognized. 
The forming method of claim 2, wherein the step of (f) 
further comprises: 


(g) forming a first synthetic discriminant function to 
discriminate a first single character from remaining 

characters; 
(h) then forming a second synthetic discriminant function 
to discriminate
 a second single character out of the remaining 
characters from remaining characters excluding the second 

single character; and 
(i) repeating the same step as the step (h) so that all 
characters can be recognized. 
The forming method of claim 1 further comprising the 
step of:

 
   forming synthetic discriminant functions each to 

discriminate each character to be recognized from characters 
other than the character so that each Fischer ratio is 

maximum, thereby all characters can be recognized. 
A character recognition method comprising the steps 
of: 


(a) classifying types of characters to be recognized into 
two classes; 
(b) forming synthetic discriminant functions so that each 
of Fischer ratio to each combination of the classified classes 

is made maximum, 
   wherein the Fischer ratio is satisfied with the following 

equation as a criterion for evaluation; 
 

in which y₁, y₂ represent the expectation value of correlation 
output value of each class when the character patterns are 

discriminated into two classes by the synthetic discriminant 
function, and σ₁ represents the variance of correlation output 

value; 
(c) selecting a synthetic discriminant function 
corresponding to a predetermined classified combination in 

which Fischer ratio is maximum; 
(d) further classifying a class, which can be classified, 
in previously classified two classes into two classes; 
(e) further selecting, in the same way as the step of 
(c), a synthetic discriminant function corresponding to the 

predetermined classified combination; 
(f) forming a group of synthetic discriminant functions 
by repeating the step of (e) so that all types of characters 

can be recognized; 
(g) conducting a correlation calculation with a character 
to be recognized, using the synthetic discriminant functions 

formed by the steps (a) through (f); 
(h) selecting a class having a larger correlation value; 
and 
(i) classifying and discriminating classes in succession 
from a class having a larger correlation value to a class 

having a smaller correlation value so that the character can 
be recognized as a specific character. 
The character recognition method of claim 5, further 
comprising: 


(j) storing a probability of occurrence of errors with 
respect to the discrimination result, according to the 

correlation value obtained by the correlation calculation with 
each of synthetic discriminant functions which has been used 

until characters have been recognized. 
The character recognition method of claim 6 further 
comprising the steps of: 


(k) detecting a synthetic discriminant function in which 
the probability of occurrence of errors in the discriminating 

result is maximum when found that the character has been 
erroneously recognized; and 
(l) re-discriminating the discrimination result so that 
the character is newly recognized. 
A character recognition method comprising the steps 
of: 


(a) forming synthetic discriminant functions each to 
discriminate each character to be recognized from characters 

other than the character so that each Fischer ratio is 
maximum, thereby all characters can be recognized, 

   wherein the Fischer ratio is satisfied with the following 
equation as a criterion for evaluation; 

 
in which y₁, y₂ represent the expectation value of correlation 

output value of each class when the character patterns are 
discriminated into two classes by the synthetic discriminant 

function, and σ₁ represents the variance of correlation output 
value; 
(b) conducting correlation calculation of each of the 
formed composite discriminations with the characters to be 

recognized so that each of correlation values is obtained; and 
(c) selecting a character in which the obtained 
correlation value is maximum. 
The character recognition method of claim 8 further 
comprising the step of: 

   selecting a character corresponding to the character, the 
correlation value of which is next to the maximum, when found 

that the character has been erroneously recognized. 
The character recognition method of claim 5 further 
comprising the step of: 

   comparing a combination of characters obtained by the 
recognition of each character with a recorded data indicating 

a combination of correct characters so that characters 
erroneously recognized can be found. 
A pre-processing method of character recognition, 
comprising the steps of: 


(a) drawing a line-shaped mark on either an upper side or 
a lower side of a group of characters recorded on a recording 

medium, the line-shaped mark being provided in a direction 
parallel to an array of characters; 
(b) drawing a line-shaped mark on either a left side or a 
right side of the group of characters, the line-shaped mark 

being provided in a direction perpendicular to the direction 
of the array of characters; 
(c) detecting an inclination angle of one of the line-shaped 
marks as a pre-processing to recognize the characters 

recorded on the recording medium; 
(d) correcting an inclination angle of the group of 
characters according to the detected result of (c); 
(e) detecting a position of the other line-shaped mark 
thereby detecting a direction and a position of the group of 

characters; and 
(f) correcting image data of the group of characters to 
direct to a normal direction and position according to the 

detected result of the step (e). 
The pre-processing method of claim 11, wherein the 
step of (c) comprises the steps of: 


(g) obtaining image density distribution when the mark is 
projected either in a horizontal direction or a vertical 

direction corresponding to the direction of the line-shaped 
mark; and 
(h) processing based on the obtained data when the 
obtained density distribution data is projected in the 

direction of an angle in which the density distribution data 
is inclined by every unit angle within a pre-setting angle. 
A character recognition method, comprising the steps 
of: 


(a) forming a synthetic discriminant function by using a 
Fischer ratio indicated in the following equation as a 

criterion for evaluation; 
 

in which y₁, y₂ represent the expectation value of correlation 
output value of each class when the character patterns are 

discriminated into two classes by the synthetic discriminant 
function, and σ₁ represents the variance of correlation output 

value; and 
(b) recognizing the character by correlation calculation 
of the synthetic discriminant function and a character 

pattern. 
The character recognition method of claim 13, wherein 
the step (a) comprises the steps of: 


(c) classifying types of characters to be recognized into 
two classes; 
(d) forming synthetic discriminant functions so that each 
of Fischer ratio to each combination of the classified
 classes 
is made maximum; 
(e) selecting a synthetic discriminant function 
corresponding to a predetermined classified combination in 

which Fischer ratio is maximum; 
(f) further classifying a class, which can be classified, 
in previously classified two classes into two classes; 
(g) further selecting, in the same way as the step of 
(e), a synthetic discriminant function corresponding to the 

predetermined classified combination; 
(h) forming a group of synthetic discriminant functions 
by repeating the step of (g) so that all types of characters 

can be recognized. 
The forming method of claim 14, wherein the step of 
(h) further comprises: 


(i) forming a first synthetic discriminant function to 
discriminate a first single character from remaining 

characters; 
(j) then forming a second synthetic discriminant function 
to discriminate a second single character out of the remaining 

characters from remaining characters excluding the second 
single character; and 
(k) repeating the same step as the step (j) so that all 
characters can be recognized. 
The forming method of claim 13, wherein the step (a) 
comprises the step of:

 
   forming synthetic discriminant functions each to 

discriminate each character to be recognized from characters 
other than the character so that each Fischer ratio is 

maximum, thereby all characters can be recognized. 
The character recognition method of claim 14, wherein 
the step (b) comprises the steps of: 


(l) conducting a correlation calculation with a character 
to be recognized, using the synthetic discriminant functions 

formed by the steps (c) through (h); 
(m) selecting a class having a larger correlation value; 
and 
(n) classifying and discriminating classes in succession 
from a class having a larger correlation value to a class 

having a smaller correlation value so that the character can 
be recognized as a specific character. 
The character recognition method of claim 17, further 
comprising: 

   storing a probability of occurrence of errors with 
respect to the discrimination result, according to the 

correlation value obtained by the correlation calculation with 
each of synthetic discriminant functions which has been used 

until characters have been recognized. 
The character recognition method of claim 18 further 
comprising the steps of: 


(o) detecting a synthetic discriminant function in which 
the probability of occurrence of errors in the discriminating 

result is maximum when found that the character has been 
erroneously recognized; and 
(p) re-discriminating the discrimination result so that 
the character is newly recognized. 
The character recognition method of claim 16, wherein 
the step (b) comprises the steps of: 


(q) conducting correlation calculation of each of the 
formed composite discriminations with the characters to be 

recognized so that each of correlation values is obtained; and 
(r) selecting a character in which the obtained 
correlation value is maximum. 
The character recognition method of claim 20 further 
comprising the step of: 

   selecting a character corresponding to the character, the 
correlation value of which is next to the maximum, when found 

that the character has been erroneously recognized. 
The character recognition method of claim 17 further 
comprising the step of:

 
   comparing a combination of characters obtained by the 

recognition of each character with a recorded data indicating 
a combination of correct characters so that characters 

erroneously recognized can be found. 
The character recognition method of claim 1, wherein 
the step (b) comprises the steps of: 


(1) drawing a line-shaped mark on either an upper side or 
a lower side of a group of characters recorded on a recording 

medium, the line-shaped mark being provided in a direction 
parallel to an array of characters; 
(2) drawing a line-shaped mark on either a left side or a 
right side of the group of characters, the line-shaped mark 

being provided in a direction perpendicular to the direction 
of the array of characters; 
(3) detecting an inclination angle of one of the line-shaped 
marks as a pre-processing to recognize the characters 

recorded on the recording medium; 
(4) correcting an inclination angle of the group of 
characters; 
(5) detecting a position of the other line-shaped mark 
thereby detecting a direction and a position of the group of 

characters; and 
(6) correcting image data of the group of characters to 
direct to a normal direction and position according to the 

detected result of the step (5). 
The character recognition method of claim 23, wherein 
the step of (3) comprises the steps of: 


(7) obtaining image density distribution when the mark is 
projected either in a horizontal direction or a vertical 

direction corresponding to the direction of the line-shaped 
mark; and 
(8) processing based on the obtained data when the 
obtained density distribution data is projected in the 

direction of an angle in which the density distribution data 
is inclined by every unit angle within a pre-setting angle. 
The character recognition method of claim 13, wherein 
the step (b) comprises the pre-processing steps of: 


(1) detecting a position of a line-shaped mark drawn on a 
first side of a group of characters, and a position of a 

second line-shaped mark dawn on a perpendicular side to the 
first side of the group of characters; and 
(2) correcting the group of characters to a normal 
direction and position according to the result of the step 

(1). 
</CLAIMS>
</TEXT>
</DOC>
