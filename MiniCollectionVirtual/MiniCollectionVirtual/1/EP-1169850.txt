<DOC>
<DOCNO>EP-1169850</DOCNO> 
<TEXT>
<INVENTION-TITLE>
NARROW BAND, ANISOTROPIC STOCHASTIC HALFTONE PATTERNS AND METHODS OF CREATING AND USING THE SAME
</INVENTION-TITLE>
<CLASSIFICATIONS>B41J252	H04N160	G03F100	H04N160	B41J2525	H04N1405	G03F100	B41J2485	G06T500	H04N152	B41J252	H04N1405	G06T500	H04N152	B41J2525	B41J2485	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>B41J	H04N	G03F	H04N	B41J	H04N	G03F	B41J	G06T	H04N	B41J	H04N	G06T	H04N	B41J	B41J	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>B41J2	H04N1	G03F1	H04N1	B41J2	H04N1	G03F1	B41J2	G06T5	H04N1	B41J2	H04N1	G06T5	H04N1	B41J2	B41J2	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A stochastic halftone pattern has been invented which has a narrow band power spectrum due to the incorporation of a dot growth process. The narrow band power spectrum may be matched to the resolution characteristics of specific printers, resulting in smoother printed halftone textures. The spectrum of a halftone pattern may be made anisotropic (angularly dependent), helping to de-couple sets of patterns for color printing with reduced color noise or mottle.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
3M INNOVATIVE PROPERTIES CO
</APPLICANT-NAME>
<APPLICANT-NAME>
3M INNOVATIVE PROPERTIES COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
RYLANDER RICHARD L
</INVENTOR-NAME>
<INVENTOR-NAME>
RYLANDER, RICHARD, L.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present inventions relates to halftone patterns generally used for printing and
image display, and in particular, to stochastic halftone patterns.Most printers (and some displays) are binary - they can either print a fixed-size dot
on the paper or not at each point in a discrete array. There is no inherent gray scale
capability. See R. Rylander, "Electronic Halftones", presented at the "Lasers in Graphics"
conference, ca. 1990, which is incorporated herein by reference.Virtually all images, on the other hand, contain a continuum of shades from black
to white (or a full range of colors). To simulate these varying shades (or colors), binary
printers and displays either adjust the size of dots, or adjust the spacing between the dots.
Halftone screens are used to determine how large to make the dots or how far apart to
space them to represent a particular image.Most conventional halftone screens use fixed spot positions at a well defined pitch
(frequency), and vary the size of the spot to change shade. The high level of periodicity in
conventional halftone screens can produce significant moiré or interference effects when
an image having strong periodic structures is halftoned, or screens are superimposed for
multi-color printing.Stochastic screens greatly reduce, or even eliminate, this periodicity. Removing
the periodicity from the halftone texture in turn greatly reduces the appearance of moiré or
interference effects. Moiré effects can also be reduced or eliminated when multiple
stochastic halftone screens are combined for color printing.The term "stochastic screening" can be applied to any halftone process that is
aperiodic in nature, producing random or pseudo-random, irregular textures. Most
stochastic screens can also be categorized as "dispersed dot" screens, representing
different shades by varying the number of isolated, same-size spots per unit area, rather
than using different size spots at fixed locations, as with conventional halftone screens. A widely used form of stochastic screening is the "error diffusion" process
introduced by Floyd and Steinberg, (R. Floyd and L. Steinberg, "An Adaptive Algorithm
for Spatial Grey Scale", SID Digest, pp. 36-37 (1975)), and the various modifications that
have since appeared in the literature. The original error diffusion algorithm was not in
itself "stochastic", but completely deterministic. The dot pattern of a halftone raster image
was determined by comparing the value of each continuous tone pixel of the input image
added to an accumulated error
</DESCRIPTION>
<CLAIMS>
A halftone pattern having a power spectrum which has a low spectral energy level at
low frequencies, a high spectral energy level at frequencies corresponding to mid-tone

ranges, and a low to moderate level at high frequencies, and wherein the peak energy
level of the spectrum corresponds to a mean dot-to-dot distance just above the

minimum spot size of the imaging engine with which the halftone pattern is to be used.
The halftone pattern of claim 1, wherein the halftone pattern is anisotropic.
A set of halftone patterns for use in multiple separation printing, each pattern in the set
comprising a pattern according to claim 2, wherein the anisotropy of

each halftone pattern in the set is different from the other halftone patterns in the set,
thereby de-coupling the patterns and minimizing pattern-to-pattern interference effects.
The set of halftone patterns of claim 3, wherein the anisotropy of the patterns differs
by a its angular orientation or peak frequency.
The set of halftone patterns of any of claims 3 or 4, wherein each halftone pattern in
the set is used for a different color separation.
A method of creating a halftone mask for use in generating halftone images for use
with an imaging engine which represents images using a plurality of spots, the method

comprising:

a) define a threshold matrix comprising a plurality of elements;
b) arbitrarily select a first one of the elements and assign it the lowest or highest
ranked threshold value for the matrix;
c) select a next one of the elements by identifying the element having the minimum
accumulated bias relative to all other elements previously selected, where the

minimum accumulated bias is determined according to a bias value formula which limits the
minimum mean dot-to-dot spacing before existing dots start to grow by treating

previously selected elements as having a repulsive effect over relatively larger distances,
and an attractive effect over relatively smaller distances, and assign such next element

the next lowest or highest ranked threshold value for the matrix; 
d) repeat step (c) until all elements have been assigned a threshold value, thereby
generating a matrix of elements, each having an assigned value, which matrix can

serve as a halftone mask screen pattern.
The method of claim 6, wherein the formula comprises a first formula
used until n elements have been ranked, and a second formula used after n elements

have been ranked.
The method of any of claims 6 or 7, wherein the portion of the formula representing
repulsive effects over relatively larger distances substantially follows an inverse-square

law.
The method of any of claims 6 - 8, wherein the formula for accumulated bias is:

f
(
d
)=
a
+
bd
2
a
+
d
4

with a and b representing constants selected to optimize the mask for the imaging
engine with which the mask will be used, and where d represents
 the distance from the
element for which the accumulated bias is being determined each previously selected

element.
The method of claim 9, in which:

a
=
u
4
3-2
2

where u is proportional to 
d
, which is the mean dot-to-dot spot size for the printer
with which the mask will be used, and u is set such that 
d
 is slightly greater than the
imaging engine's minimum spot size.
The method of any of claims 9 or 10, in wluch 
b
 = 
a
.
The method of any of claims 9 - 11, further comprising determining the value of d in
the formula such that the resulting halftone pattern is anisotropic.
The method of any of claims 9 - 12, further comprising determining the value of d in
the formula for accumulated bias by combining in an unequal fashion the x and y

positions of the element for which the accumulated bias is being determined.
The method of claim 12, wherein: 

d=
(
s
*
x
)
2
 + (
y
/
s
)
2

with s representing a scale factor selected to control the degree to which the resulting
mask is elliptical.
The method of claim 12, further comprising calculating a matrix as set forth in claim
13 for each of a plurality of separations, and setting the x and y coordinates for each

separation at a distinct angle from the x and y coordinates of the other separations.
The method of any of claims 6 - 15, wherein duplicates of the matrix are to be
arranged in an array, and the bias calculation includes effects from the values of the

elements in at least part of the adjacent duplicates.
The method of claim 16, wherein the bias calculation for an element incorporates the
effects of elements in the duplicates within one matrix width of the element for which

the bias calculation is being made.
The method of any of claims 6 - 17, further comprising:

a) defining an accumulated bias matrix having elements corresponding to all of the
elements in the threshold matrix;
b) in step (c), each time a new element is ranked in the threshold matrix, determining
according to the formula the bias effect of that element on each other element in

the threshold matrix;
c) keeping a running total of the thus calculated bias effect for the new element in the
accumulated bias matrix for at least the elements of the accumulated bias matrix

corresponding to as yet unranked elements in the threshold matrix, so that the
value in each element of the accumulated bias matrix corresponding to an

unranked element of the threshold matrix represents the accumulated bias value for
the element in the threshold matrix.
The method of any of claims 6 - 18, further comprising slightly jittering the position of
each of at least the initial portion of the elements to be ranked.
The method of any of claims 6 - 19, further comprising mapping the resulting matrix
values to a grayscale of an image to be imaged to generate a threshold matrix.
The method of claim 20, wherein the matrix values are mapped by:

a) dividing the value in each element in the matrix by the number of elements in the
matrix,
b) truncating the result; 
c) generating an intermediate matrix of elements filled with the truncated results;
d) printing a grayscale using the intermediate matrix as a threshold matrix;
e) measuring the resulting printout to determine correction factors for at least a
representative sample of elements in the grayscale;
f) adjusting the values in the intermediate matrix based on the correction factors to
generate the final mapped threshold matrix.
The method of any of claims 6 - 21, wherein the imaging engine is selected from the
group consisting of printers and display screens.
The halftone mask generated according to the method of any of claims 6 - 22, wherein
the mask is included in a printer driver.
The matrix generated according to the method of any of claims
6 - 22.
The matrix of claim 24, wherein
the matrix is included in a printer driver.
A method of using the matrix of any of claims 24 - 25, comprising:

a) providing an image engine for which a threshold matrix has been prepared;
b) providing an image to be imaged on the image engine;
c) dividing the image into pixels;
d) comparing the value of each pixel to the threshold value in a corresponding
element in the threshold matrix;
e) if the threshold value is greater than the value of the pixel, setting the bitmap value
for pixel to a value selected from the group consisting of 1 or 0;
f) if the threshold value is less than the value of the pixel, setting the bitmap value for
pixel to the other value in the group consisting of 1 or 0;
g) repeating steps (d) to (f) for each pixel in the image;
h) providing the thus-determined bitmap values to the image engine to generate an
image.
The method of claim 26, wherein the imaging engine is selected from the group
consisting of printers and display screens.
</CLAIMS>
</TEXT>
</DOC>
