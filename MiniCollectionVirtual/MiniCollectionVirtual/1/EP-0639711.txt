<DOC>
<DOCNO>EP-0639711</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Engine knock control using an inference engine
</INVENTION-TITLE>
<CLASSIFICATIONS>F02D4500	F02P5152	F02D4500	F02P5152	G05B1302	G05B1302	F02P5153	F02P5153	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>F02D	F02P	F02D	F02P	G05B	G05B	F02P	F02P	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>F02D45	F02P5	F02D45	F02P5	G05B13	G05B13	F02P5	F02P5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Internal combustion engine ignition timing 
is adjusted in response to a sensed knock condition 

and in response to a determination of engine knock 
tendency through application of fuzzy logic, wherein 

an inference engine formed from a predetermined 

knowledge rule base generates a set of truths in 
response to application of a set of input signals from 

a set of membership functions. The set of truths are 
combined according to both relative and absolute 

strength in indicating engine knock tendency. 

 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SATURN CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SATURN CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BOLANDER WILLIAM JOSEPH
</INVENTOR-NAME>
<INVENTOR-NAME>
MILUNAS RIMAS STASYS
</INVENTOR-NAME>
<INVENTOR-NAME>
BOLANDER, WILLIAM JOSEPH
</INVENTOR-NAME>
<INVENTOR-NAME>
MILUNAS, RIMAS STASYS
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a method of
controlling ignition timing and to a method of
modifying internal combustion engine timing.Detection of cylinder knock in internal
combustion engines is known. For example, it is known
that the amplitude and duration of engine vibration at
certain frequencies can indicate the presence of
cylinder knock. Accordingly, conventional knock
detection approaches may measure radiation from the
engine at certain calibrated frequencies and diagnose
knock from the duration and magnitude of such
radiation. Spark timing adjustments are made in a
manner as to reduce or eliminate the diagnosed knock.
Such adjustments generally compromise other control
goals, such as engine performance or fuel economy and
thus should be made with discretion. For example,
such adjustments should only be made when truly needed
to mitigate the well-known negative effects of knock.
Accurate knock detection is therefore desirable to
diagnose when spark timing adjustments are truly
needed.Conventional knock detection approaches
which diagnose knock from simple frequency analysis
are susceptible to noise at the frequencies of
interest. In typical internal combustion engine
applications, this noise may be caused from periodic
events such as piston bore contact or valve seating
contact. False knock detection may result from this
susceptibility to noise, resulting in unnecessary and
detrimental spark timing adjustment.It has been proposed that a functional
relationship exists between an engine's tendency for
knock and certain engine operating conditions. An
estimate of an engine's tendency to knock at its 
present operation level, as indicated by sensed
operating conditions, can be used to determine the
degree of confidence that a sensed vibration indicates
knock and not simply noise.Comparison of sensed engine operating
conditions to fixed thresholds has been proposed for
estimation of engine knock tendency. A series of
binary conclusions, based on whether the sensed
condition falls above or below the magnitude of the
corresponding fixed threshold, are used to estimate
knock tendency. Such binary conclusions discard
valuable information on the magnitude of the
difference between the sensed parameters and their
fixed thresholds, reducing the accuracy of the
estimate of knock tendency and increasing the
potential that ignition timing may be retarded
unnecessarily, degrading engine performance.The present invention seeks to provide an
improved method of controlling ignition timing.According to an aspect of the
</DESCRIPTION>
<CLAIMS>
A method of controlling ignition timing
in response to a sensed knock condition in a cylinder

of an internal combustion engine, comprising the steps
of determining a spark retard command in response to

the sensed knock condition; sensing a predetermined
set of engine operating conditions; setting a

plurality of membership functions based on the sensed
predetermined set of engine operating conditions;

applying the set plurality of membership functions to
a fuzzy inference engine having a knowledge rule base

for generating a set of truths responsive to the
application of the set plurality of membership

functions; calculating a spark retard adjustment as a
predetermined function of the set of truths; and

adjusting the spark retard command on the basis of the
calculated spark retard adjustment.
A method according to claim 1,
comprising the steps of adapting a learned spark

retard value by (a) selecting an active learning cell,
(b) adjusting a learned spark retard value

corresponding to the active learning cell as a
predetermined function of both the sensed knock

condition and the set of truths; and (c) modifying the
spark retard command on the basis of the adjusted

learned spark retard value.
A method of modifying internal
combustion engine ignition timing through application

of input values to an inference engine including a
predetermined rule base, comprising the steps of

sensing engine knock; sensing a predetermined set of
engine operating conditions; generating a set of input

values through application of the predetermined set of
engine operating conditions to a corresponding set of

predetermined membership functions; applying the set 
of input values to the inference engine to form a

corresponding set of truth values; estimating engine
knock tendency as a predetermined function of the set

of truth values; modifying ignition timing in response
to the sensed knock and in response to the estimate of

engine knock tendency.
A method according to claim 3, wherein
the step of estimating engine knock tendency comprises

the steps of normalising the set of truth values
according to the relative degree by which each truth

value indicates an engine knock condition; positioning
the normalised set of truth values according to the

absolute degree by which each truth value indicates an
engine knock condition; and estimating engine knock

tendency as a predetermined function of the
positioned, normalised set of truth values.
A method according to claim 3,
comprising the steps of adapting a learned spark

retard value by (a) selecting an active learning cell,
(b) adjusting a learned spark retard value

corresponding to the active learning cell-as a
predetermined function of both the sensed knock and

the estimated knock tendency; and (c) modifying
ignition timing on the basis of the adjusted learned

spark retard value.
</CLAIMS>
</TEXT>
</DOC>
