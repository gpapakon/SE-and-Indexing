<DOC>
<DOCNO>EP-0650130</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for specifying layout processing of structured documents
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1727	G06F1722	G06F1722	G06F1727	G06F1721	G06K920	G06F1721	G06K920	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	G06F	G06F	G06F	G06K	G06F	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F17	G06F17	G06F17	G06F17	G06F17	G06K9	G06F17	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method and apparatus are provided for specifying layout processing of structured 
documents in computer-based document handling systems. The method and apparatus allow 

the specification of the generic logical structure of the structured document in terms of 
relational attribute grammars. According to the invention, these relational attributes have a 

binary relationship. The generic layout structure for a class of structural documents is also 
represented in terms of relational attribute grammars. Coordination grammars, also 

represented in terms of relational attribute grammars, link the elements of the generic logical 
structure to the generic layout structure. By coordinating the layout and logical structures, 

many solutions are available. Preferential specifications are developed to resolve any potential 
ambiguities between the many solutions, and to select a preferred solution. The logical 

structure is then converted to a layout structure using the preferential specifications to resolve 
any ambiguities occurring as a result of the coordination. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
XEROX CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
XEROX CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BROWN ALLEN L JR
</INVENTOR-NAME>
<INVENTOR-NAME>
MANTHA SURYANARAYANA M
</INVENTOR-NAME>
<INVENTOR-NAME>
WAKAYAMA TOSHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
BROWN, ALLEN L., JR.
</INVENTOR-NAME>
<INVENTOR-NAME>
MANTHA, SURYANARAYANA M.
</INVENTOR-NAME>
<INVENTOR-NAME>
WAKAYAMA, TOSHIRO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to the specification of layout processing of structured
documents in computer-based document handling systems. Specifically, the invention is
directed to a method and apparatus for specifying the layout of structured documents using
relational attributed grammars and coordination grammars among the relational attribute
grammars. In addition, the present invention is directed to a method and apparatus for
specifying preferential constraints to resolve the potential ambiguities in layout structures
derived from logical structures and coordination grammars, and using these preferential
constraints to reject sub-optimal solutions.Computer based document handling systems are generally divided into four broad
categories: text editors and word processing systems; formatters; syntax directed editors; and
specialized tools. Most systems have features from more than one of these four broad
categories. For documents in which presentational considerations are important, the
documents must be submitted to a formatter for preparation prior to presentation.Formatters are non-interactive tools that process a document to produce either a
display independent or a device dependent layout specification. Documents are submitted to
formatters in the form of descriptions on file and they carry out the processing and return the
overall results after a certain period of time. Highlevel formatters work on the basis of a logical
description of the document. The user is not required to specify the presentation details
desired. The user deals with the logical organization of the document, i.e., the different types
of elements that appear in the document, such as, for example, section, paragraph, heading,
summary, etc. The formatter handles the layout presentation of these elements. Low-level
formatters make it possible to include commands within the document description to enable
changes in other characteristics of the document, such as, for example, font, spacing, margins
and justification. The present invention is directed primarily to high-level formatters.Most interactive systems allow the user to see the layout of a document as it is being
prepared. These interactive systems also separate the logical structure of the documents from
the specification of the presentation details. Typically, interactive systems, as well as highlevel
formatters, use a grammatical notation to describe the logical structure of documents. These
logical structures are mostly hierarchial in nature and tree structures are
</DESCRIPTION>
<CLAIMS>
A finite state machine implemented method of determining optimal layout
structures of a structured document given a generic logical structure (fig. 2) specifying said

structured document in terms of relational attribute grammars (fig. 3), said relational attributes
being specified in terms of binary relationships the method including:


specifying a generic layout structure (fig. 4) for said structured document in
terms of relational attribute grammars;
determining coordination grammars for said generic logical structure and said
generic layout structure (fig. 6) and expressing said coordination grammars in terms of relational

attribute grammars; and,
linking said layout structure to said generic logical structure based on said
coordination grammars, 
characterized in that
 the method further includes:

determining preference specifications for use in resolving potential ambiguities
in an output layout structure; and
converting said logical structure to the linked layout structure (fig. 10) using
said preference specifications to resolve any ambiguities generated during said linking step.
A method according to claim 1, wherein said step of converting said logical
structure to the linked layout structure further comprises a step of parsing a plurality of linked

layout structures based on a set of context free grammars. 
A method according to either one of claims 1 or 2, wherein during said step of
determining coordination grammars for said generic logical structure and said generic layout

structure, said coordination grammars are based on linking like generic logical elements and like
generic layout elements (figs. 8, 9 and 10).
A method as claimed in claim 2, wherein said step of parsing includes the steps of:

constructing a tree structure over a string, said tree representing a member of a
context free grammar, wherein a root node of said tree structure is a start symbol of said context

free grammar;
determining a plurality of nodes for said tree structure, said nodes conforming
to productions of said context free grammar; and
outputting a failure signal if a tree structure cannot be constructed based on
said contact free grammar.
A method according to claim 2, including 

for each of said layout structures, evaluating said layout structures based on a
weighted value of selected attributes, said weighted value being based on a preference

specification; and,
determining the optimal layout tree based on said weighted values.
An apparatus for outputting layout structures of a structured document in terms of:
relational attribute grammars, said relational attributes being specified in terms of binary

relationships; including:

means for specifying a generic layout structure (fig. 4) for a class of structured
documents in terms of relational attribute grammars; and
means for determining coordination grammars for said generic logical structure of said
structured document and said generic layout structure of said structured document (fig. 6), and

for expressing said coordination grammars in terms of relational attribute grammars,

characterized in that
 it further includes:

means for determining preference specifications to resolve potential ambiguities in said
layout structures; and ,
means for converting said logical structure of said structured document to an output
layout structure of said structured document (fig. 10) using said preference specifications to

resolve any ambiguities generated by said linking means.
An apparatus as claimed in claim 6, wherein said means for converting said
logical structure of said structured document comprising means for parsing said structured

document into a plurality of output layout structures based on a context free grammar.
An apparatus according to claim 7, wherein said step of parsing includes the steps of:

constructing a tree structure over a string, said tree structure representing a
member of a context free grammar, wherein a root node of said tree structure is a start symbol of

said context free grammar (fig. 10);
determining a plurality of nodes for said tree structure (fig. 9), said nodes
conforming to productions of said context free grammar.
An apparatus according to any one of claims 6 to 8, wherein, in terms of relational
attribute grammar, logical structure information of said document is separated from processing

information of said document.
An apparatus according to claim 7,
the apparatus including: 


processing means for evaluating, for each of said layout structures, said layout
structures based on a computing weighted value of selected attributes, said weighted value being

based on a preference specification; and
means for determining the optimal layout tree based on said weighted values.
</CLAIMS>
</TEXT>
</DOC>
