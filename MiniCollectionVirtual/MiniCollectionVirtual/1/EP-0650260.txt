<DOC>
<DOCNO>EP-0650260</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for analog to digital conversion
</INVENTION-TITLE>
<CLASSIFICATIONS>H03M114	H03M114	H03M112	H03M112	H03M136	H03M136	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03M	H03M	H03M	H03M	H03M	H03M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03M1	H03M1	H03M1	H03M1	H03M1	H03M1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Analog to digital conversion of signals at rates 
higher than can be accomplished by a monolithic flash 

analog to digital converter is achieved using multiple 
flash analog to digital converters operated in a parallel 

architecture. Sample timing of the multiple converters 
is skewed by selecting subfrequencies of a control clock 

or different phases of a control clock as the source for 
the sample control signal. The multiple flash converter 

outputs are then digitally recombined to produce a single 
output identical to a flash converter operating at a 

higher speed than could be obtained for a given set of 
circuit parameters. 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES INC
</APPLICANT-NAME>
<APPLICANT-NAME>
ADVANCED MICRO DEVICES INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
MOYAL MIKI
</INVENTOR-NAME>
<INVENTOR-NAME>
STEWART BRETT
</INVENTOR-NAME>
<INVENTOR-NAME>
MOYAL, MIKI
</INVENTOR-NAME>
<INVENTOR-NAME>
STEWART, BRETT
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention deals generally with analog to digital
data conversion and, preferably, with a method and
apparatus for multiplexing a plurality of flash analog to
digital converter sections to obtain highly accurate data
conversion at high speeds.Systems which process signals using digital signal
processing techniques require that analog signals be
converted to digital form. Such conversions have been
accomplished using analog to digital converters.
Techniques employed in analog to digital converters have
included successive approximation and subranging
techniques. Time delays inherent in apparatus
implementing such techniques have given rise to the
development of the flash analog to digital converter.A diagram of a relatively simple 2-bit flash analog
to digital converter is shown in Figure 1. An analog
input signal, which is to be converted to digital form,
is applied at Vin and transmitted over input channel 101
to a first input of comparators 102-105. A voltage
reference Vref is applied across a voltage divider
network 106, shown in Figure 1 as having resistors 107-111.
Voltages Vref1 - Vref4 are developed at the
junctions of the resistors and are applied to second 
inputs of comparators 102-105. The output of each
comparator is a logical 1 or logical 0 depending on
whether the voltage applied at the first input exceeds
the reference voltage applied to that comparator. The
logical ones and zeros output by comparators 102-105 are
then applied to a digital output encoder 112 which
includes a logic block to encode the four comparators
outputs into a 2-bit digital output on signal lines 113
and 114.As illustrated in Figure 1, a 2-bit flash analog to
digital converter has five resistors in the voltage
divider network 106. A flash analog to digital converter
of necessity uses a large resistive voltage divider to
generate multiple reference voltages to compare against
the input during the conversion process. As the number
of output bits increases, the number of resistors in the
voltage divider also increases. Typically, the resistive
voltage divider is the largest and hence, most expensive
silicon structure of the converter.Digital to analog converters have been implemented
with resistive divider networks and switches which switch
in various points on a ladder network in response to
digital codes. Thus resistive voltage dividers find use
in both analog to digital and digital to analog
converters.Sample timing generator 116 provides a signal on line
117 which tells digital encoder circuit 112 when to
select
</DESCRIPTION>
<CLAIMS>
A flash analog to digital converter circuit comprising:

a plurality of N banks of comparators (A, 102-105; B, 202-205);
an analog input channel (602) for receiving an analog signal and routing said
analog signal to first inputs of said comparators; and
a plurality of voltage references (Vref1-Vref4), a different one of each of said
plurality of voltage references being routed to a second input of ones of said comparators

in each of said N comparator banks;
characterised in that
the convener circuit comprises a comparator bank activation circuit (501) for
providing activation signals (208,209) to said comparator banks responsive to a control

clock (502) having a pulse rate equal to N times the pulse rate of a system clock, N
control clock pulses of the control clock causing said comparator banks to output digital

signals each of which represents an amplitude of said analog signal, wherein each of said
N banks of comparators is activated responsive to a corresponding control clock pulse at

a selected time within one cycle of said system clock; and
the convener circuit is a multi-channel circuit wherein said analog input channel
(602) includes a multiplexer (601) for receiving said analog signal as N analog signals

from N channels, and routing said N analog signals to said first inputs of said
comparators in each of said N banks of comparators, said multiplexer outputting a drive

signal (603); and wherein said activation signals are also based on the drive signal received
by said comparator bank activation circuit (501) from said multiplexer.
The convener circuit as claimed in claim 1, wherein said comparator bank
activation circuit includes circuitry for activating said comparator banks at times when

said voltage references are stable.
A convener circuit as claimed in claim 1 or claim 2, the convener circuit being
a multi-stage circuit having at least a first stage and a second stage; 


wherein said first stage has a first said plurality of N banks of comparators (A,403-406;
B, 503-506) and said second stage has a second said plurality of N banks of

comparators (A, 407-410; B, 507-510);
wherein said analog input channel (602) provides said analog signal to first inputs
of said comparators in said first stage at first time periods and switches (411, 701) said

analog signal to first inputs of said comparators in said second stage at second time
periods;
wherein a first said plurality of voltage references (Vref1-Vref4) is provided for
said first plurality of comparators (403-406, 503-506) and a second said plurality of

voltage references (Vref5-Vref8) is provided for said second plurality of comparators
(407-410, 507-510), said second voltage references being equal in number to said first

voltage references;
wherein a switch matrix (425) is provided between said first plurality of voltage
references (Vref1-Vref4) and said second plurality of voltage references (Vref5-Vref8),

said switch matrix including a plurality of switches (S3-S6) for respectively
connecting/disconnecting a particular one of said first plurality of voltage references

to/from a particular one of said second plurality of voltage references based on a plurality
of switch control signals received by said switch matrix;
wherein a switch logic unit (424) is provided for outputting said plurality of switch
control signals to said switch matrix based on output values of said first plurality of N

banks of comparators; and
wherein said comparator bank activation circuit (501) is operatively connected to
said switch logic unit (424), said comparator bank activation circuit provides said

activation signals to said first plurality of N banks of comparators in said first time
periods, and said comparator bank activation circuit provides said activation signals to

said second plurality of N banks of comparators in said second time periods.
The convener circuit as claimed in claim 3, wherein said comparator bank
activation circuit comprises circuitry to activate said comparator banks during time

periods when said voltage references on said second inputs of said comparators as a result 
of switching between stages has essentially no effect on outputs of said comparators.
The convener circuit as claimed in claim 1 or claim 2, wherein said analog input
channel further comprises N sample and hold circuits (215,216), one said sample and hold

circuit being provided for each of the N comparator banks, each said sample and hold
circuit routing samples of said analog input signal to said first inputs of said comparators

in one of said comparator banks.
The convener circuit as claimed in claim 3 or claim 4, wherein said analog input
channel further comprises N sample and hold circuits (215,216), one said sample and hold

circuit being provided in common for each of the corresponding N comparator banks in
said first and second stages, each said sample
 and hold circuit routing samples of said
analog input signal to said first inputs of said comparators in one of said comparator banks

in said first and second stages.
The convener circuit as claimed in claim 5 or claim 6, wherein said comparator
activation circuit triggers each said sample and hold circuit to sample said analog input at

selected times.
The convener circuit as claimed in any preceding claim, wherein the or
respectively each said plurality of voltage references is formed by a voltage divider

network.
The convener circuit as claimed in any preceding claim, further comprising:

a plurality of switches (804-807), each of said switches being connected between
one of said second inputs of said comparators and an analog output, said analog output

providing an analog representation of digital inputs; and
a timing controller (810,803) controlling each of said switches to connect one of
said second inputs of said comparators to said analog output in response to a logic

condition of said digital inputs.
A method of performing flash analog to digital conversion of signals, the method
comprising the steps of:


receiving an analog signal in an analog input channel (602) and routing said analog
signal to first inputs of comparators arranged in a plurality of N banks of said comparators

(A, 102-105; B, 202-205); and
routing a plurality of voltage references (Vref1-Vref4) to said comparators, a
different one of each of said plurality of voltage references being routed to a second input

of ones of said comparators in each of said N comparator banks;
characterised in that
the method comprises generating a control clock (502) having a pulse rate equal
to N times a system clock, and activating (208,209) said comparator banks responsive

to said control clock pulses at selected times within one cycle of said system clock to
output digital signals each representing an amplitude of said analog signal; and
the method performs a multi-channel flash analog to digital conversion by
providing a multiplexer (601) in said analog input channel, said multiplexer receiving said

analog signal as N analog signals from N channels, said multiplexer routing said N analog
signals to said first inputs of said comparators in each of said N banks of comparators,

said multiplexer outputting a drive signal (603); and said activating of said comparator
banks being also responsive to the drive signal outputted by said multiplexer.
The method as claimed in claim 10, wherein said comparator banks are activated
at times when said voltage references are stable.
The method as claimed in claim 10 or claim 11, wherein a multi-stage analog to
digital conversion is performed in at least a first stage and a second stage, the method

further comprising:

providing said first stage with a first said plurality of N banks of comparators
(A,403-406; B, 503-506) and providing said second stage with a second said plurality of

N banks of comparators (A, 407-410; B, 507-510);
routing said analog signal to first inputs of said comparators in said first stage at 
first time periods and switching said analog signal to first inputs of said comparators in

said second stage at second time periods;
providing a first said plurality of voltage references (Vref1-Vref4) for said first
plurality of comparators (403-406, 503-506) and providing a second said plurality of

voltage references (Vref5-Vref8) for said second plurality of comparators (407-410, 507-510),
said second voltage references being equal in number to said first voltage references;
providing a switch matrix (425) between said first plurality of voltage references
(Vref1-Vref4) and said second plurality of voltage references (Vref5-Vref8), said switch

matrix including a plurality of switches (S3-S6) which respectively connect/disconnect
a particular one of said first plurality of voltage references to/from a particular one of said

second plurality of voltage references based on a plurality of switch control signals
received by said switch matrix;
providing a switch logic unit (424), said switch logic unit outputting said plurality
of switch control signals to said switch matrix based on output values of said first plurality

of N banks of comparators; and
in co-operation with said switch logic unit, activating said first plurality of N banks
of comparators in said first time periods, and activating said second plurality of N banks

of comparators in said second time periods.
The method as claimed in claim 12, wherein said comparator banks are activated
during time periods when disturbances in said voltage references on said second inputs of

said comparators as a result of switching between stages has essentially no effect on
outputs of said comparators.
The method as claimed in claim 10 or claim 11, the method further comprising:

providing N sample and hold circuits (215,216) in said analog input channel, one
said sample and hold circuit being provided for each of the N comparator banks; and
routing samples of said analog input signal to said first inputs of said comparators
in each of said comparator banks from a corresponding said sample and hold circuit.
The method as claimed in claim 12 or claim 13, the method further comprising:

providing N sample and hold circuits (215,216) in said analog input channel, one
said sample and hold circuit being provided in common for each of the corresponding N

comparator banks in said first and second stages; and
routing samples of said analog input signal to said first inputs of said comparators
in each of said comparator banks in said first and second stages from a corresponding said

sample and hold circuit.
The method as claimed in claim 14 or claim 15, wherein each said sample and hold
circuit is triggered to sample said analog input at selected times.
The method as claimed in any one of claims 10 to 16, further comprising:

providing digital inputs to a plurality of switches (804,807) each of said switches
being connected between one of said second inputs of said comparators and an analog

output, said analog output providing an analog representation of digital inputs; and
controlling each of said switches to connect one of said second inputs of said
comparators to said analog output in response to a logic condition of said digital inputs.
</CLAIMS>
</TEXT>
</DOC>
