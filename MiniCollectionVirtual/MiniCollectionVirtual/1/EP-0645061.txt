<DOC>
<DOCNO>EP-0645061</DOCNO> 
<TEXT>
<INVENTION-TITLE>
POWER MANAGEMENT FOR PROGRAMMABLE LOGIC DEVICES.
</INVENTION-TITLE>
<CLASSIFICATIONS>H01L2170	H01L2182	H03K1900	H03K1900	H03K190175	H03K190175	H03K190185	H03K190185	H03K19177	H03K19177	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H01L	H01L	H03K	H03K	H03K	H03K	H03K	H03K	H03K	H03K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H01L21	H01L21	H03K19	H03K19	H03K19	H03K19	H03K19	H03K19	H03K19	H03K19	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A programmable circuit is provided with a number of current regulating circuits, such as sense amplifiers, by which the user can regulate the amount of current drawn by any of a number of circuit functions within the programmable circuit. Additional current regulating circuits are associated with circuit elements which can be programmably shared between one or more circuit functions. The user can therefore programmably control the current consumption, and thereby the speed, of each circuit function as well as circuit functions interacting via the shared circuit elements.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
XILINX INC
</APPLICANT-NAME>
<APPLICANT-NAME>
XILINX, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CHIANG DAVID
</INVENTOR-NAME>
<INVENTOR-NAME>
CHIANG, DAVID
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
 POWER MANAGEMENT FOR PROGRAMMABLE LOGIC DEVICESDavid Chiang BACKGROUND OF THE INVENTION This invention relates to the implementation of custom logic functions in an integrated circuit device and more particularly to the allocation of power resources therein.Description of the Prior Art Programmable Logic Devices (PLD's) , notably those that are based on EPROM or EEPROM-based product terms, typically draw DC current. Some also have large internal drivers that may also draw large AC current during switching. Circuits that can draw substantial DC current include (1) EPROM sense amplifiers ("sense amps") which act as passive pullup devices on the EPROM bitlines in order to sense the logic state of the bitlines, and (2) gates with passive pullups (or pulldowns) . There is a strong tradeoff relationship between the DC current drawn by a sense amp and its speed (performance) ; in general, the higher the current, the faster the circuit performance. It is also well known in the art that higher current through PLD circuits enables bit line capacitances to discharge faster, thereby increasing the speed of the circuit. Figure la illustrates the relationship between power and speed in a conventional EPROM sense amplifier. When biasing transistor 1 is switched on by voltage V ias the voltage of input line 2, determined by transistors 3, is sensed by the gate and drain of P-channel pullup transistor 4. (The gates of transistors 3 are each connected to the input signal terminal of the sense amp) . Transistor 4 will turn on at a predetermined voltage input of (bit line) line 2 voltage, establishing a particular voltage for output line 5. By increasing voltage VDD on the source of transistor 4, all transistors 1, 3 and 4 draw more current, resulting in higher switching speeds, thereby increasing the speed of the circuit. Also, increasing the channel width of transistors 4, 1, and 3 draws more current and increases switching 

speed. The charge stored by the capacitance of bitline 2 discharges faster due to the increased current drawn by the circuit, enabling faster signal propagation. Figure lb further illustrates the speed-power correlation for a conventional NOR gate circuit. Gate input signals a, b, c, d for respective transistors 7, 8, 9, 10 determine the voltage of line 6 and hence the NOR gate output. The P-channel pullup transistor 11 remains on until line 6 achieves a predetermined voltage. By increasing voltage VDD at the source of transistor 11, transistors 7, 8, 9, 10 and 11 draw more current, resulting in
</DESCRIPTION>
<CLAIMS>
I Claim: 1. A programmable circuit comprising: a plurality of circuit blocks for performing logic functions on input signals, each block receiving the input data signals on at least one private input line connected to that block and to no other block, and on at least one shared input line also connected to at least one other block; at least one current regulating circuit for regulating said at least one shared input line, each current regulating circuit having two states, a first state causing said at least one shared input line to output a first current for providing a first operation speed of a logic function of a data signal thereon and a second state causing said at least one shared input line to output a second current greater than the first for providing a second higher operation speed of said logic function of the same data signal thereon; and a control circuit for setting the state of the current regulating circuit.
2. The programmable circuit of Claim 1, wherein the control circuit includes a single memory element for storing a configuration bit for setting the state of the current regulating circuit.
3. The programmable circuit of Claim 1, wherein each current regulating circuit is a sense amplifier.
4. A programmable circuit according to Claim 3 wherein said sense amplifier comprises: a first signal line; a second signal line; a circuit coupled between said first signal line and said second signal line, said circuit switchable between a low resistance state and a high resistance state. 


 5. A programmable circuit according to Claim 3 wherein each said sense amplifier comprises: a first current drawing element coupled between a shared input line and a line which is branched to circuit blocks sharing said shared input line, said first current drawing element switchable between an open circuit resistance state and a predetermined high resistance state; and a second current drawing element coupled between a shared input line and a line which is branched to circuit blocks sharing said shared input line, said second current drawing element switchable between an open circuit state and a predetermined low resistance state.
6. A programmable circuit according to Claim 3 wherein each said sense amplifier comprises: a first transistor having a first terminal and a second terminal, said first transistor having a gate; a second transistor having a first terminal and a second terminal, said second transistor having a gate; a first bit line connected to said first terminals of said first and second transistors; a second bit line connected to said second terminals of said first and second transistors; a third transistor having a first terminal connected to said second transistor gate, and a second terminal connected to said first transistor gate, said third transistor having a gate; an inverter having an input terminal and an output terminal, said input terminal connected to said third transistor gate; a fourth transistor having a first terminal connected to ground and a second terminal connected to said second transistor gate, said fourth transistor having a gate connected to said inverter output terminal; a first voltage terminal connected to said second terminals of said first and second transistors providing 


power to said first and second transistors; a second voltage terminal connected to said first transistor gate to provide a bias voltage for said first transistor; and a control terminal connected to said third transistor gate.
7. A programmable circuit comprising: a plurality of electrical circuits, each electrical circuit having a plurality of private resource input lines, each said private input line having a private line current regulating circuit, each said electrical circuit having a plurality of shared resource input terminals, each private line current regulating circuit having a control terminal; a plurality of private configuration circuits each associated with one of said electrical circuits, each said private configuration circuit connected to the control terminal of each of said private line current regulating circuits of said associated electrical circuit, each said private configuration circuit having two programmable states, the first causing said private line current regulating circuit of said associated electrical circuit to operate at a first current level, the second causing said private line current regulating circuits of said associated electrical circuit to operate at a second current level higher than the first; a plurality of shared lines, each of said plurality of shared lines having a shared line current regulating circuit, each shared line current regulating circuit having a control terminal; a shared configuration circuit connected to each of said shared line current regulating circuit control terminals, said shared configuration circuit having two programmable states, the first causing said shared line current regulating circuit of said associated electrical circuit to operate at the first current level, the second causing said shared line current regulating circuit of said 


associated electrical circuit to operate at the second higher current level; and a plurality of programmable switches, each having an input terminal and an output terminal, said output terminals of each said switch connected to an associated shared resource input terminal, said input terminal of each switch connected to an associated shared line, each of said switches having two programmable states, the first causing an open circuit between said associated resource line and said associated shared resource input terminal, the second causing a closed circuit between said associated shared resource line and said associated shared input terminal.
8. A programmable circuit according to Claim 7 wherein said electrical circuits are configurable macrocells.
9. A programmable circuit according to Claim 8 wherein said private line current regulating circuits and said shared line current regulating circuits are each sense amplifiers.
10. A programmable circuit comprising: a plurality of electrical circuit elements, each electrical circuit element having a plurality of private resource input lines, each said private input line having a private line current regulating circuit, each said electrical circuit element having a plurality of shared resource input terminals, each private line current regulating circuit having a control terminal; a plurality of private configuration circuits each connected to the control terminal of an associated private line current regulating circuit, each said private configuration circuit having two programmable states, the first causing said associated private line current regulating circuit to operate at a first current level, the second causing said associated private line current 


regulating circuit to operate at a second current level higher than the first; a plurality of shared lines, each of said plurality of shared lines having a
'
 shared line current regulating circuit, each shared line current regulating circuit having a control terminal; a plurality of shared configuration circuits, each connected to the control terminal of an associated shared line current regulating circuit, each of said shared configuration circuits having two programmable states, the first causing said associated shared line current regulating circuit to operate at a first current level, the second causing said associated shared line current regulating circuit to operate at a second current level higher than the first; and a plurality of programmable switches, each having an input terminal and an output terminal, said output terminals of each said switch connected to an associated shared resource input terminal, said input terminal of each switch connected to an associated shared line, each of said switches having two programmable states, the first causing an open circuit between said associated resource line and said associated shared resource input terminal, the second causing a closed circuit between said associated shared resource line and said associated shared input terminal.
11. A programmable circuit according to Claim 10 wherein said electrical circuits are configurable macrocells.
12. A programmable circuit according to Claim 11 wherein said private line current regulating circuits and said shared line current regulating circuits are each sense amplifiers.
13. A method of regulating signal propagation speed and power consumption in an integrated circuit comprising: 


 coupling a plurality of circuit elements from a first signal line to ground; connecting a supply voltage line to a second signal line; coupling a second signal line to said first signal line with a first current drawing element and a second current drawing element, said first current drawing element switchable between an open circuit resistance state and a predetermined high resistance state, said second current drawing element switchable between an open circuit state and a predetermined low resistance state; and regulating current flow by selectively switching said current drawing elements, selecting a low speed low power mode by switching said first current drawing element to said predetermined high resistance state and switching said second current drawing element to said open circuit state, selecting a high speed high power mode by switching of said second current drawing element to said predetermined low resistance state and switching said first current drawing element to said open circuit state.
14. A method of regulating signal propagation speed and power consumption in an integrated circuit having a plurality of blocks, each block receiving signals on a plurality of private input lines connected to that block and to no other block, and a plurality of shared input lines also connected to at least one other block, comprising: providing an individual current regulating circuit for each private input line and each shared input line; providing a first control circuit for setting a state of the current regulating circuit for at least one of the private input lines for a particular block; providing a second control circuit for setting a 
,
 state of the current regulating circuit for at least one of the shared input lines for the particular block; and operating each of the first and second control 


 circuits in one of two states, a first state being a high current output by the associated current regulating circuit, and a second state being a lower current output by the associated current regulating circui .
15. -An integrated circuit comprising: a plurality of blocks, each block receiving signals on a plurality of private input lines connected to that block and to no other block, and a plurality of shared input lines also connected to at least one other block; an individual current regulating circuit for each private input line and each shared input line; a first control circuit setting a state of the current regulating circuit for at least one of the private input lines for a particular block; 
'
and a second control circuit setting a state of the current regulating circuit for at least one of the shared input lines for the particular block; wherein each of the first and second control circuits operates in one of two states, a first state being a high current output by the associated current regulating circuit, and a second state being a lower current output by the associated current regulating circuit. 

</CLAIMS>
</TEXT>
</DOC>
