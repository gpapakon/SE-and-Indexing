<DOC>
<DOCNO>EP-0628921</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method of partitioning a circuit.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1750	G06F1750	H01L2170	H01L2182	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	H01L	H01L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F17	G06F17	H01L21	H01L21	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Interconnected cells, (101-104), such as gates, are partitioned into 
blocks (100), such as integrated circuits, wherein the blocks have at least one 

constraint, such as number of pins available, (110-112), on the placement of cells 
therein. The cells are initially assigned to blocks at random or in accordance with a 

previously-determined initial partition. A quality factor, such as the total number of 
pins on all blocks, is determined for the initial partition and cells are moved from 

block to block to form a new partition. The cell moves are selected so as not to 
violate the constraints and in accordance with the likelihood of improving the overall 

quality of the partition. Such partitioning is repeated and the overall quality factor is 
recalculated for each new partition. When the quality factor does not improve 

substantially from partition to partition, the last partition for which the quality factor 
improved is selected as the best. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
AT 
&
 T CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
AT
&
T CORP.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
JAESEOK KIM
</INVENTOR-NAME>
<INVENTOR-NAME>
NAM-SUNG WOO
</INVENTOR-NAME>
<INVENTOR-NAME>
JAESEOK, KIM
</INVENTOR-NAME>
<INVENTOR-NAME>
NAM-SUNG, WOO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to partitioning cells into blocks in circuit 
networks and more particularly to performing such partitioning with constraints such 
as the number of cells and number of terminal pins permitted for each block. Electronic circuits are often made up of gates or other circuit elements 
connected in networks. In some kinds of electronic circuits, multiple copies of gates 
or other circuit elements are typically implemented as integrated circuits and the 
overall electronic circuit consists of multiple integrated circuits assembled on one or 
more printed wiring boards. The connections among the integrated circuits are 
provided by wiring paths on the printed wiring boards. One typical electronic circuit 
of this kind uses devices called programmable gate arrays in which a relatively large 
number of gates is provided in an integrated circuit and the functions of and 
connections among the individual gates in the integrated circuit are specified by a 
"program." In some kinds of programmable gate arrays, the program is made part of 
the array during fabrication. In other kinds, known as field programmable gate 
arrays (FPGAs), the program is contained in a memory, such as a random-access or 
read-only memory associated with the array, or the program is "burned" into the 
array by electrically opening or closing fusible links. In gate arrays and similar devices including multiple circuit elements, 
each gate or other circuit element can be thought of as a "cell" and the integrated 
circuits in which such gates are fabricated can be thought of as "blocks." In 
designing a circuit, a designer has the problem of partitioning the circuit by 
assigning the cells into blocks so that physical constraints, such as the number of 
cells in a block or the number of terminal pins on a block, are not violated. With 
programmable gate arrays, in which connections between cells can be made within a 
block, the choice of which cells in a circuit can be placed in a given block is often 
limited by the number of pins on the blocks. Blocks can also contain more than one 
type of cell, for example the Xilinx 4000 series FPGAs contain both configuration 
logic blocks and decoders. There may be other constraints to be imposed, such as 
limitations on types of cells or total power dissipated by cells.  The problem of partitioning a circuit into two or more blocks has 
received much attention. For example, see "A Linear-Time Heuristic for Improving 
Network Partitions" by C. M. Fiduccia and R. M. Mattheyses,
</DESCRIPTION>
<CLAIMS>
A machine method of partitioning interconnected cells (e.g. 101-104) 
into blocks (e.g. 100), said blocks having at least one constraint on the placement of 

cells therein, which includes the steps of: 
   assigning said cells to said blocks to form an initial partition; 

   calculating an overall quality factor for said initial partition; 
   finding a new partition by moving cells from block to block, said moves 

being selected so as not to violate said constraints and in accordance with the 
likelihood of improving said quality factor; 

   recalculating said overall quality factor for said new partition; and 
   repeating said finding and recalculating steps until said quality factor 

ceases to improve substantially; 
   CHARACTERIZED IN THAT 

   said finding step further comprises: 
   calculating a benefit value for each possible cell move, each said benefit 

value being indicative of the likelihood that said cell move will improve said quality 
factor; 

   executing said cell moves in rank order of said benefit values, omitting 
cell moves that violate said constraints; 

   after each cell move: 
   locking said cell to prevent moving said cell again during the current 

finding step; 
   modifying said quality factor to reflect the quality of the partition 

resulting from said cell move and associating said modified quality factor with said 
cell move; and 

   recalculating the benefit values for remaining possible cell moves to 
reflect the effect of said executed cell move; 

   after the last cell move is executed: 
   selecting the cell move associated with the best quality factor; and 

using the partition resulting from said selected cell move as the new 
partition. 
The method of claim 1 
   FURTHER CHARACTERIZED IN THAT said quality factor is the 

total number of terminal pins on said blocks and the object of said partitioning 
method is to minimize said total number. 
The method of claim 1 
   FURTHER CHARACTERIZED IN THAT 

   one of said constraints is the number of cells in each block. 
The method of claim 1 
   FURTHER CHARACTERIZED IN THAT 

   one of said constraints is the number of terminal pins on each block. 
The method of claim 1 
   FURTHER CHARACTERIZED IN THAT 

   said method further includes performing at least one repetition of said 
finding step with at least one of said constraints relaxed. 
The method of claim 1 
   FURTHER CHARACTERIZED IN THAT 

   if one or more of said constraints is violated after the last repetition of 
said finding and recalculating steps, reassigning said cells to said blocks at random to 

form a new initial partition and reiterating said calculating, finding, recalculating and 
repeating steps. 
The method of claim 1 
   FURTHER CHARACTERIZED IN THAT 

   if one or more of said constraints is violated after a repetition of said 
finding and recalculating steps and none of said constraints were violated in the 

preceding repetition of said finding and recalculating steps, selecting the partition 
resulting from said preceding repetition as the result of said method. 
The method of claim 1 
   FURTHER CHARACTERIZED IN THAT 

   said benefit-value calculating step comprises: 
   for each possible cell move, calculating a separate benefit value for each 

net connected to the cell being moved, and 
   combining the separate benefit values for each net (e.g. 120-122) to 

obtain the overall benefit value for said cell move. 
The method of claim 8
 

   FURTHER CHARACTERIZED IN THAT 
   said benefit-value calculating step comprises: 

   calculating each benefit value for said net based on one or more of the 
following factors: 

   the number of locked cells on said net in the source block where said 
cell is located before said move; 

   the number of locked cells on said net in the destination block where 
said cell will be located after said move; 

   the number of locked cells on said net outside said source block; 
   the number of locked cells on said net outside said destination block; 

   the total number of cells on said net; 
   the total number of cells on said net in said source block; and 

   the total number of cells on said net in said destination block. 
The method of claim 8 
   FURTHER CHARACTERIZED IN THAT 

   said benefit-value calculating step further comprises: 
   calculating a primary benefit value reflecting the actual benefit of said 

cell move; 
   calculating a secondary benefit value reflecting the possible future 

benefit of said cell move and 
   combining said primary benefit value and said secondary benefit value 

to obtain said separate benefit value. 
The method of claim 10 
   FURTHER CHARACTERIZED BY 

   before said combining step, applying a weighting factor to at least one 
of said said primary benefit value and said secondary benefit value. 
The method of claim 1 
   FURTHER CHARACTERIZED BY 

   in said recalculating step, for each net connected to the moved cell: 
   calculating incremental benefit values for moving an additional cell 

from each block to each other block, each incremental benefit value being based on 
the benefit of moving said additional cell before said completed move and the benefit 

of moving said additional cell after said completed move; and
 

   for each remaining possible move of a free cell connected to said moved 
cell, combining the present benefit value of said possible move with the incremental 

benefit values for such move calculated for the net or nets connecting said free cell to 
said moved cell. 
The method of claims 8, 10 or 12 
   FURTHER CHARACTERIZED IN THAT 

   each benefit-value calculating step comprises calculating said benefit 
value as a scalar quantity and each combining step comprises adding said benefit 

values. 
The method of claim 1 
   FURTHER CHARACTERIZED BY 

   changing the method of calculating said benefit values in accordance 
with the number of repetitions of said finding step completed. 
The method of claim 11 
   FURTHER CHARACTERIZED BY 

   changing said weighting factors in accordance with the number of 
repetitions of said finding step completed. 
A machine method of partitioning interconnected cells into blocks, 
said blocks having at least one constraint on the placement of cells therein, including 

the steps of: 
   assigning said cells to said blocks to form an initial partition, 

   calculating an overall quality factor for said initial partition; 
   finding a new partition by moving cells from block to block, said moves 

being selected in accordance with the likelihood of improving said quality factor; 
   recalculating said overall quality factor for said new partition, 

   repeating said finding and recalculating steps until said quality factor 
ceases to improve substantially 

   CHARACTERIZED IN THAT 
   at least one of said repetitions is performed with at least one of said 

constraints relaxed, and
 

   at least the last of said repetitions is performed with all of said 
constraints observed. 
</CLAIMS>
</TEXT>
</DOC>
