<DOC>
<DOCNO>EP-0612028</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image Processing.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T1500	G06T1500	G06T1510	G06T1540	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T15	G06T15	G06T15	G06T15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The generation of rendering order lists, trees or 
directed graphs is performed as a pre-process for an 

interactive three-dimensional graphics system. Notional 
viewing axes are selected and a rendering order list, 

tree or directed graph is produced for each of these 
axes. 
A polygon is selected as a favourite for placing on 
a list, tree or graph, wherein each list, tree or graph 

relates to a set of viewable directions bounded by 
planes. The extents of a point on the favourite polygon 

to a bounding plane are compared with the extent of a 
point on a candidate polygon to the bounding plane. 
If a nearest point of a favourite polygon to a 
bounding plane is further away from the plane than a 

furthest point of the candidate polygon, the favourite 
polygon may be placed on the rendering order list, tree 

or graph. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OTTO GERHARDT PAUL
</INVENTOR-NAME>
<INVENTOR-NAME>
OTTO GERHARDT PAUL C OCANON RE
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a method and 
apparatus for image processing. In particular, the 
present invention relates to a method and apparatus for 
processing data representing the position of surface 
primitives such as polygons in three-dimensional space, 
for example to produce an ordered list for rendering 
views of said primitives in two-dimensional space. In an interactive three-dimensional graphics system, 
such as a system of the type disclosed in the Applicant's 
copending European Patent Publication No. EP-A-0531157 
(not published at the first claimed priority date), data 
representing polygons is manipulated in three-dimensional 
space interactively, in response to input commands from 
an operator. Two-dimensional images are presented to an 
operator at a rate sufficient to maintain a closed 
feedback loop between the operator and the virtual three-dimensional 
environment. A two-dimensional image is generated by rendering the 
three-dimensional image data onto a two-dimensional 
plane. For each view, "hidden surface removal" can be 
performed by ensuring that primitives which occlude other 
primitives are rendered into the two-dimensional plane 
either instead of the primitives which they occlude or 
at least after said occluded polygons. Often the  
 
occlusions are partial, therefore it is preferable to 
render occluded polygons prior to rendering the occluding 
polygons. In addition, totally invisible primitives may 
be culled and do not require further consideration during 
the rendering process. Thus, it can be appreciated that 
a very important aspect of the rendering process involves 
ensuring that the primitives are rendered in the correct 
order. However, determining the correct order for 
rendering, repeatedly for each iteration, would account 
for a considerable proportion of the available processing 
time. A system for producing rendering order lists is 
disclosed in the aforesaid copending European Patent 
Publication, in which said lists are produced as a pre-process, 
using a topological sort, prior to interactive 
operation. If necessary, a plurality of view 
orientations are selected and a rendering order list is 
produced for each of these views. During interactive 
operation, one of these rendering order lists is selected 
by comparing the actual view orientation with the pre-processed 
orientations, to determine which is the closest 
fit. Thus, the computational overhead required during 
interactive operation is reduced significantly. According to one aspect of
</DESCRIPTION>
<CLAIMS>
A method of processing data defining surface 
primitives in three-dimensional space, to produce a 

rendering order list, tree or directed graph associated 
with a set of viewable directions bounded by planes in 

a viewing direction space, in which method a favourite 
primitive is selected for placing on the list, tree or 

graph, and the extent of a point on said favourite 
primitive in a direction normal to a bounding plane is 

compared with the extent of a point on a candidate 
primitive in said normal direction. 
A method according to Claim 1 wherein a 

favourite primitive is determined as not occluding a 
candidate primitive, such that said favourite primitive 

may be placed on a rendering order list, if a nearest 
point on a favourite primitive to any bounding plane is 

further in said normal direction than a furthest point 
of said candidate primitive. 
Apparatus for producing a rendering order list, 
tree or directed graph associated with a set of viewable 

directions bounded by planes in a viewing direction 
space, the apparatus comprising means for selecting a 

favourite primitive for placing on a list, tree or graph 
and means for comparing the extent of a point on said 

 
favourite primitive in a direction normal to a bounding 

plane with the extent of a point on a candidate primitive 
in said normal direction. 
Apparatus according to Claim 3 wherein a 
favourite primitive is determined as not occluding a 

candidate primitive, such that said favourite primitive 
may be placed on a rendering order list, tree or graph, 

if a nearest point on a favourite primitive to a bounding 
plane is further away from said plane than a furthest 

point of said candidate primitive. 
In an interactive graphics system, in which 
surface primitives defined in three dimensions are 

rendered to produce a two-dimensional image, a method of 
rendering said image by identifying a viewing direction 

and selecting a rendering order list, tree or directed 
graph associated with said viewing direction, wherein to 

produce a list, tree or graph relating to a set of 
viewable directions bounded by planes in a viewing 

direction space, a primitive is selected as a favourite 
for placing on the list, tree or graph and the extent of 

a point on said favourite primitive in a direction normal 
to a bounding plane is compared with the extent of a 

point on a candidate primitive in said normal direction. 
A method according to claim 5 wherein a 
 

plurality of sets of viewable directions bounded by 
planes are defined, a rendering order list, tree or 

directed graph is produced and stored for each set of 
viewable directions, and wherein said rendering step is 

performed so as to render a plurality of images in 
sequence, identifying for each image a respective viewing 

direction and selecting accordingly a rendering order 
list, tree or directed graph from among the stored 

lists. 
An apparatus comprising means for rendering a 
two-dimensional image representing surface primitives 

defined in three dimensions, including means for 
rendering said image by identifying a viewing direction 

and selecting a rendering order list, tree or directed 
graph associated with said viewing direction, wherein to 

produce said list, tree or graph relating to a set of 
viewable directions bounded by planes in a viewing 

direction space, a primitive is selected as a favourite 
for placing on the list, tree or graph and the extent of 

a point on said favourite primitive in a direction normal 
to a bounding plane is compared with the extent of a 

point on a candidate primitive in said normal direction. 
Apparatus according to claim 7, wherein a 
plurality of sets of viewable directions are defined, a 

rendering order list, tree or directed graph is produced 
 

and stored for each set of viewable directions, and 
wherein a plurality of images are rendered in sequence, 

the rendering means identifying for each image a 
respective viewing direction and selecting accordingly 

a rendering order list, tree or directed graph from among 
the stored lists. 
A signal or storage medium conveying a two-dimensional 
image representing objects defined in three 

dimensions, wherein the image has been rendered by 
identifying a viewing direction and selecting a rendering 

order list, tree or directed graph associated with said 
viewing direction, wherein to produce a list, tree or 

graph relating to a set of viewable directions bounded 
by planes in a viewing direction space, a surface 

primitive is selected as a favourite for placing on the 
list, tree or graph and the extent of a point on said 

favourite primitive in a direction normal to a bounding 
plane is compared with the extent of a point on a 

candidate primitive in said normal direction. 
A signal or storage medium according to claim 
9 wherein said image has been rendered by selecting a 

rendering order list, tree or directed graph associated 
with said viewing direction from among a plurality of 

rendering order lists, trees or directed graphs produced 
and stored prior to definition of the viewing direction 

 
for rendering the image, and wherein a succession of 

images are rendered for a succession of viewing 
directions, selecting each time from the stored set of 

rendering order lists, trees or directed graphs. 
A data carrying medium conveying instructions 
for programmable processing apparatus such that, when 

loaded into said apparatus, said apparatus is programmed 
to produce a rendering order list, tree or directed 

graph, wherein said list, tree or graph relates to a set 
of viewable directions bounded by planes in a viewing 

direction space and is produced by selecting a favourite 
primitive for placing on a list, tree or graph, and 

comparing the extent of a point on said favourite 
primitive in a direction normal to a bounding plane with 

the extent of a point on a candidate primitive in said 
normal direction. 
</CLAIMS>
</TEXT>
</DOC>
