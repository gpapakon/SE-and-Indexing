<DOC>
<DOCNO>EP-0636778</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and apparatus for correcting the injection time as a function of the purge flow of a canister purge system in a fuel injected engine
</INVENTION-TITLE>
<CLASSIFICATIONS>F02M2508	F02M2508	F02D4100	F02D4100	F02B7502	F02B7502	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>F02M	F02M	F02D	F02D	F02B	F02B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>F02M25	F02M25	F02D41	F02D41	F02B75	F02B75	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
According to the invention, there is applied to the injectors (2) of an engine (1) for which the injection period as a function of the engine requirements (T inj M) is calculated by a computer (21) is an injection period (T inj A) = T inj M - TI CAN, where TI CAN corresponds to the contribution of the cannister-type bleed circuit (16) expressed by the amount of fuel introduced in the form of vapour between two consecutive injections and calculated as a function of the estimated fuel content of the bleed circuit (16, 17, 19) and of the amount of air/fuel-vapour mixture, this amount being controlled by the cannister (16) bleed valve (20). This amount is calculated on the basis of the pressure difference to which the valve (20) is subjected and of its period of opening between the two injections. Application to the correction of the injection period and to measuring the actual fuel consumption of fuel-injected engines. 
<
IMAGE
>
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MAGNETI MARELLI FRANCE
</APPLICANT-NAME>
<APPLICANT-NAME>
MAGNETI MARELLI FRANCE
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
COLOMBY MARCEL
</INVENTOR-NAME>
<INVENTOR-NAME>
COLOMBY, MARCEL
</INVENTOR-NAME>
</INVENTORS>
<CLAIMS>
Method of correcting the injection time, as a function
of the purge flow of a purge system (16, 17, 19) having a

canister (16), in an injection engine (1), in which the
canister (16), which collects fuel vapours coming from a

tank (11), is connected to an inlet manifold (4) of the
engine (1), which manifold is provided with an obturator

or butterfly valve (5) for controlling the flow of air,
by way of an electrically controlled valve (20) for

purging the canister (16), the flow through which is
controlled by a computer (21) which is connected to

sensors (26, 28) which detect operating parameters of the
engine (1), from which it receives at least signals (30)

relating to the rotation of the engine and signals (27,
30, 31) allowing the pressure (P man) in the inlet

manifold (4) to be known, as well as to an oxygen probe
(32) in the exhaust gases of the engine, the said

computer (21) calculating an injection time that is
representative of the needs of the engine (T inj E),

which injection time is obtained from a base injection
time (T inj B) that is expressed with the aid of at least

one chart as a function at least of the engine speed
(N), and that is corrected, on the one hand, by taking

into account a coefficient of richness (KO2) to which
there are applied value transitions (35, 37, 39, 41, 43)

as a function of the richness signal (R) from the oxygen
probe (32) in the areas in which the engine (1) operates

in a closed loop, and fixed to be equal to a nominal
value in the areas in which the engine (1) operates in an

open loop, in order to centre operation of the engine (1)
on a richness equal to 1, and, on the other hand, by

cyclic self-adaptation in order to ensure that the
coefficient of richness (KO2) remains close to its

nominal value, by correction of any deviation in the
coefficient of richness (KO2), the method of correction 

comprising calculating an injection time (T inj A) that
is applied to each injector (2) of the engine by subtracting

from the injection time that is representative of
the needs of the engine (T inj E) a time (TI CAN) that

corresponds to the contribution of the purge system (16,
17, 19) expressed by the quantity of fuel that is

equivalent to the supply of vapour from the purge system
between two consecutive injections, and calculating the

said quantity of fuel by making the product of the
quantity of air-fuel vapour mixture (Q a-v) controlled by

the purge valve (20) between the said injections by a
coefficient (K CAN) of estimation of the content of fuel

in the purge system (16, 17, 19), the method comprising a
step which consists in defining the said coefficient

(K CAN) such that it is applicable under any operating
conditions of the engine, and is worked out continuously

when purging is authorised, from the deviation in the
coefficient of richness (KO2), such that K CAN is

increased or reduced, respectively, if KO2 is less than
or greater than its nominal value, and in correcting the

coefficient K CAN either by means of a slow adaptation,
in order to allow its fine and continuous adaptation, by

applying to the current value of K CAN a correction that
is proportional to a difference in the coefficient of

richness KO2 relative to its nominal value, or by means
of a rapid adaptation, after discontinuing the slow

adaptation, characterised in that, in the case of the
slow adaptation of K CAN, the method consists in using as

the proportional correction difference the difference
between the nominal value and an average value of KO2,

calculation of that correction being re-started after a
predetermined number m of transitions (35, 37, 39, 41,

43) of KO2, and, in the case of the rapid adaptation of
K CAN, in applying to its current value a correction

proportional to the difference between the nominal value
and the current value of the coefficient of richness KO2, 

when the latter progresses without transition for a
period of time that is greater than a predetermined

threshold (Δ1T or Δ'1T), then re-starting calculation of
the rapid correction of K CAN every n top dead centre

(T.D.C.), 
n
 being a predetermined number, as long as a
transition (43) of KO2 is not obtained.
Method according to claim 1, characterised in that it
consists in authorising the slow adaptation of K CAN only

if the average value of KO2 is outside a dead enrichment
band and a dead depletion band, located on either side of

the nominal value of KO2.
Method according to claim 2, characterised in that it
consists in adopting a dead enrichment band the width of

which is greater than that of the dead depletion band.
Method according to any one of claims 1 to 3, characterised
in that, in the case of the rapid adaptation of

K CAN, it consists in applying the said proportional
correction when the coefficient of richness KO2

progresses without transition while differing from its
nominal value for a period of time that is greater than

the said predetermined threshold (Δ1T), for example of
approximately 3 seconds.
Method according to any one of claims 1 to 3, characterised
in that, in the case of the rapid adaptation of

K CAN, it consists in applying the said proportional
correction provided that at the end of the said predetermined

threshold (Δ'1T), KO2 is divergent relative to its
nominal value, otherwise no rapid adaptation of K CAN is

carried out and the hold is re-started during the said
predetermined threshold (Δ'1T).
Method according to any one of claims 1 to 5, characterised 
in that it cons
ists in storing the value of the
coefficient K CAN when the engine (1) stops (breaking of

the contact) and in adopting as the value of the coefficient
K CAN following re-starting of the engine (1) the

said value which has been stored and corrected by a
coefficient that depends on the change in the thermal

condition of the vehicle during the stoppage.
Method according to claim 6, characterised in that the
coefficient of correction that depends on the change in

the thermal condition of the vehicle is a function of the
temperature of the cooling liquid (29) of the engine (1).
Method according to any one of claims 1 to 7, characterised
in that it consists in interrupting the continuous

working-out of K CAN in the areas in which the
engine (1) operates in an open loop.
Method according to any one of claims 1 to 8, characterised
in that it consists in subtracting the time

(TI CAN), which corresponds to the said quantity of air-fuel
vapour mixture controlled by the purge valve, in two

instalments, at the time of two consecutive injection
phases, in such a manner that during the first injection,

a first partial subtraction is commanded, which is
defined by a percentage of the said time (TI CAN), and

during the second injection a second partial subtraction
is commanded, which is defined by the remainder of the

time (TI CAN).
Method according to any one of claims 1 to 9,
characterised in that it consists in determining the

quantity of air-fuel vapour mixture (Q a-v) controlled by
the purge valve (20) from the pressure difference

(P atm - P man) to which it is subjected and from the
opening time (t C.O.R.) of the purge valve (20) since the 

preceding injection, by reference to the flow characteristic
of the valve (20) stored in the computer (21).
Method according to any one of claims 1 to 10,
characterised in that it consists in expressing the base

injection time (T inj B), for a given engine speed (N),
as a substantially linear increasing function of the

pressure in the manifold (P man), with an offset (D) at
the origin and a gain (G) which are taken from charts as

a function at least of the engine speed (N), and in
ensuring its cyclic self-adaptation by the self-adaptation

of the offset (D) and of the gain (G).
Method according to any one of claims 1 to 11,
characterised in that it consists in expressing the

quantities of fuel directly by weight and in converting
into injection time at the end of a chain of calculation

through a known injector (2) quantity-opening time
characteristic.
Apparatus for correcting the injection time as a
function of the purge flow of a purge system (16, 17, 19,

20) having a canister (16), in an injection engine (1),
comprising a computer (21) which is connected to sensors

(26, 28) which detect operating parameters of the engine
(1), as well as to an oxygen probe in the exhaust gases

of the engine (1), and which controls an electrically
controlled valve (20) connecting the canister (16) to an

inlet manifold (4) provided with an obturator (5) for
controlling the flow of air, the said computer (21)

calculating especially an injection time (T inj E) that
is representative of the needs of the engine (1) from a

base injection time (T inj B) that is expressed with the
aid of at least one chart stored in the computer (21)

and that is corrected with the aid of a coefficient of
richness (KO2) which is determined by the computer (21) 

as a function of the richness signal (R) from the oxygen
probe in the case of operation in a closed loop and equal

to a nominal value in the case of operation in an open
loop, in order to centre operation of the engine (1) on a

richness equal to 1, the computer (21) carrying out a
cyclic self-adaptation of the base injection time

(T inj B) in order to ensure that KO2 remains close to
its nominal value, by correcting any deviation in KO2,

and applying to at least one injector (2) of the engine
(1) an applied injection time (T inj A), the computer

(21) comprising at least one microprocessor, characterised
in that the latter is programmed and/or constructed

in such a manner as to control the progress of the
method according to any one of claims 1 to 12.
</CLAIMS>
</TEXT>
</DOC>
