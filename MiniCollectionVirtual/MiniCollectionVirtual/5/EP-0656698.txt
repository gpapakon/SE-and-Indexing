<DOC>
<DOCNO>EP-0656698</DOCNO> 
<TEXT>
<INVENTION-TITLE>
A frequency error correction in a DSSS receiver
</INVENTION-TITLE>
<CLASSIFICATIONS>H04J1304	H04B1707	H04J1302	H04B1707	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04J	H04B	H04J	H04B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04J13	H04B1	H04J13	H04B1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A frequency correction device for a spread-spectrum 
communication receiver requiring no high-accuracy, 

high-stable VCO as a local signal 
oscillator. It includes a quasi-coherent quadrature 

detector (12) detecting an intermediate frequency 
signal using a local signal from a fixed frequency 

local oscillator (41), a correlation detector (17) 
producing a despread signal by demodulating the 

output of the detector, a clock signal generating 
portion (47) generating a pair of clock signals 

whose frequency is deviated a little with respect to 
a clock signal for driving the correlation detector 

(17). The pair of clock signals are used to drive 
two correlation detectors (48 and 49), and the 

amplitude of the outputs of the correlation 
detectors are squared, and then subtracted, thereby 

generating a correlation output error signal. Since 
the correlation output error signal has one to one 

correspondence with the frequency difference between 
the chip frequency of the spread spectrum signal 

outputted from the quasi-coherent quadrature 
detector and the frequency of the clock signal, a 

frequency correction signal can be generated by 
converting the correlation output error signal into 

the frequency error. The frequency difference 
between despread signal and the clock signal, which 

arises from the difference between the center 
frequency of a received signal and the local signal, 

can be corrected by correcting the frequency of the 
despread signal by the frequency correction signal. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NTT DOCOMO INC
</APPLICANT-NAME>
<APPLICANT-NAME>
NTT DOCOMO, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DOHI TOMOHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
SAWAHASHI MAMORU
</INVENTOR-NAME>
<INVENTOR-NAME>
DOHI, TOMOHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
SAWAHASHI, MAMORU
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to
a frequency error correction device for a spread-spectrum
communication receiver which corrects a frequency error
between a transmitter and the receiver in a baseband
signal range.Recently, intensive research and development of
CDMA systems have been carried out. The access
method of the CDMA systems are roughly divided into
direct sequence (DS) multiple access and frequency
hopping (FH) multiple access. The FH multiple
access, however, is seldom used today. This is
because although it is necessary for the FH multiple
access to divide a symbol into units called a chip,
and switch the frequency of a carrier signal to
different frequencies for each chip at a high speed,
a frequency synthesizer for switching the carrier
frequency at a high speed is difficult to realize in
the state of the art.Accordingly, the DS multiple access is usually
used. A DS multiple access system carries out, at a
transmission side, a primary modulation of original 
data by QPSK or the like, and a secondary modulation
(spreading) of the primary modulation signal into a
wideband signal using a spreading code, and
transmits the secondary modulation signal on a
carrier. At a receiving side, on the other hand,
the carrier signal is removed, and then, the
wideband signal is despread using the same spreading
code as at the transmission side, and subsequently
the original data is restored.Let us consider problems which can arise when
the CDMA system is applied to mobile communication
system such as pocket telephones. A base station of
the current mobile communications has a highly-stable
reference oscillator, and the Japanese
Standard for Digital Carphones requires absolute
accuracy less than 0.005 ppm. On the other hand,
since a mobile station cannot use a highly-stable
reference oscillator with a thermostat, it usually
uses a temperature compensated crystal oscillator
(TCXO). The frequency accuracy of the crystal
oscillator is 3 ppm in terms of absolute accuracy at
800 MHz.Therefore, the frequency of a local signal of a
mobile station will deviate from the center
frequency of the transmission signal of a base
station (that is, the received signal of the mobile
station). In addition, the chip frequency at the
receiving side will also deviate from the chip
frequency at the transmission side. Furthermore,
since the mobile station moves with respect to the
base station, the center frequency of the received
signal changes by an amount corresponding to the
Doppler frequency.Thus, the frequency error between
</DESCRIPTION>
<CLAIMS>
A frequency error correction device for a spread-spectrum
receiver which receives a spread-spectrum

signal, said frequency error correction device
comprising:


a first correlation detector (17) for despreading
the spread-spectrum signal;
a first clock signal generating portion (46) for
producing a first clock signal (CK1) for driving said

first correlation detector; and
a frequency error detection circuit (47-59) for
detecting a frequency error between a chip frequency of

said spread-spectrum signal and a frequency of said first
clock signal, thereby producing a frequency correction

signal;

   characterised by:

   a frequency drift correction portion (25) for
performing frequency correction of an output of said

first correlation detector (17) in accordance with said
frequency correction signal outputted from said frequency

error detection circuit (47-59).
The frequency error correction device as claimed in
claim 1, characterised in that said frequency error

detection circuit (47-59) comprises:

a second clock signal generating portion (47) for
producing a second clock signal (CK2) whose frequency is

higher than the frequency of said first clock signal by 
a predetermined value;
a third clock signal generating portion (47) for
producing a third clock signal (CK3) whose frequency is

lower than the frequency of said first clock signal by a
predetermined value;
a second correlation detector (48) for despreading
said spread-spectrum signal by using said second clock

signal; and
a third correlation detector (49) for despreading
said spread-spectrum signal by using said third clock

signal,
wherein said frequency error detection circuit (47-59)
is adapted to detect said frequency error on the

basis of a correlation output from said second
correlation detector (48) and a correlation output from

said third correlation detector (49).
The frequency error correction device as claimed in
claim 2, characterised in that said frequency error

detection circuit (47-59) further comprises:

an adder (57) for subtracting the correlation output
from said third correlation detector (49) from the

correlation output from said second correlation detector
(48), thereby producing a correlation output error; and
a correlation output error/frequency drift converter
(58) for producing a frequency drift signal which becomes

zero when said correlation output error is zero, and
which changes in accordance with an S-curve

characteristic as the absolute value of said correlation 
output error increases.
The frequency error correction device as claimed in
claim 3, characterised in that said correlation output

error/frequency drift converter (58) comprises a memory
circuit which stores said S-curve characteristic,

receives said correlation output error as an address
input, and produces said frequency drift signal as a data

output.
The frequency error correction device as claimed in
claim 4, characterised in that said frequency error

detection circuit (47-59) further comprises:

a first magnitude squared component generating
portion (51) for producing a squared component of the

magnitude of the correlation output of said second
correlation detector (48);
a second magnitude squared component generating
portion (52) for producing a squared component of the

magnitude of the correlation output of said third
correlation detector (49),
a first comparator (53) for comparing an output
signal from said first magnitude squared component

generating portion with a predetermined reference level,
and producing a component that exceeds the reference

level; and
a second comparator (54) for comparing an output
signal from said second magnitude squared component

generating portion with the predetermined reference 
level, and producing a component that exceeds the

reference level,
wherein said adder (51) is adapted to subtract an
output from said second comparator from an output from

said first comparator, and to output said correlation
output error.
The frequency error correction device as claimed in
claim 5, characterised in that said frequency error

detection circuit (47-59) further comprises:

a first hold circuit (55) connected between said
first comparing circuit and said adder, and for holding

an output of said first comparing circuit; and
a second hold circuit (56) connected between said
second comparing circuit and said adder, and for holding

an output of said second comparing circuit,
wherein said adder (57) is adapted to subtract an
output of said second hold circuit from an output of said

first hold circuit, and to output said correlation output
error.
The frequency error correction device as claimed in
claim 6, characterised in that said frequency error

detection circuit (47-59) further comprises an averaging
circuit (59) for averaging the data output of said memory

circuit to produce said frequency correction signal.
A method of frequency correcting and despreading a
received spread-spectrum signal comprising: 


a step of despreading the received spread-spectrum
signal using a clock at a first frequency (CK1); and
a step of detecting an error between the chip
frequency of said received spread-spectrum signal and

said clock frequency thereby generating an error signal;

   characterised by

   a step of correcting the despread received signal in
dependence upon said error signal.
</CLAIMS>
</TEXT>
</DOC>
