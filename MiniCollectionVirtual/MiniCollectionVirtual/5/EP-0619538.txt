<DOC>
<DOCNO>EP-0619538</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Control apparatus for an automated production system workcell.
</INVENTION-TITLE>
<CLASSIFICATIONS>B23Q4100	B23Q4100	B65G6100	B65G6100	G05B1502	G05B1502	G05B19418	G05B19418	G06Q5000	G06Q5000	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>B23Q	B23Q	B65G	B65G	G05B	G05B	G05B	G05B	G06Q	G06Q	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>B23Q41	B23Q41	B65G61	B65G61	G05B15	G05B15	G05B19	G05B19	G06Q50	G06Q50	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A robot, DI/DO devices, and an operation panel in an automated 
production system workcell are controlled by a single workcell controller 

17. Workcell operation software 31, a workcell operation language 
processor 32 and a workcell control driver 33 for realtime control run 

on the controller 17. The workcell operation language processor 32 
interprets the workcell operation software 31 and provides commands to 

the workcell control driver 33. Smooth installation of a workcell, easy 
maintenance of a workcell, and flexible programming of operation software 

for a workcell are thus enabled. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OBATA MASATOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SAWADA CHIHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKATA MASAYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
TERAWAKI NOBUYOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
OBATA, MASATOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
SAWADA, CHIHIRO
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKATA, MASAYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
TERAWAKI, NOBUYOSHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an automated production system or 
factory automation (FA) system and a workcell included therein, and more 
specifically, to a control apparatus for device control and information 
handling for the workcell. A conventional factory automation (FA) system is shown 
schematically in Figure 1. A plurality of workcells 1 of the FA system 
are connected to each other and to an upper controller (FA PC) 3 via a 
communication network 2. The following device control and information 
handling tasks are performed in the workcell 1: 
Control of an industrial robot 4 and DI/DO devices 5 Control of an operation panel 6 that is an interface device for an 
operator Collection, analysis, and storage of such information as workcell 
operation status, and communication with the other workcells 1 and the 
upper controller 3 The above device control and information handling tasks are 
performed by the following devices: 
I. A robot controller 7, for the control of the industrial robot 4 II. A programmable logic controller (PLC) 8, for the sequence control 
of the DI/DO devices 5 
The PLC 8 performs the following operations: 
Receiving, as DI signals, the statuses of the sensors provided in 
the devices Determining output signals according to registered conditions Controlling the actuators, valves, and relays provided in the 
devices by outputting DO signals  The DI/DO (digital-in/digital out) signals are digital signals that 
take two states: on and off. III. FA personal computer 9 
This device performs the following operations: 
Controlling the operation panel 6 (namely, the display or handy 
terminal) provided for the interface with an operator Collecting, analyzing, and storing various items of information Communicating with the other workcells 1 and the upper controller 3 As shown in Figure 1, the conventional workcell 1 has a plurality 
of control devices for device control and information handling. 
Therefore, the operation software inherent in the workcell 1 needs to be 
separated into a program written in a robot language that runs on the 
robot controller 7, a ladder chart that runs on the PLC 8, and a program 
written in an ordinary high-level programming language such as C language 
that runs on the FA personal computer 9. Consequently, the programs for 
many control devices used in one workcell 1 must be prepared 
independently. Further, the programming must be conducted so as to 
ensure that the robot 4 and the DI/DO devices 5 operate, when viewed as a 
whole, at high speed, in
</DESCRIPTION>
<CLAIMS>
Control apparatus for controlling the operation of a robot and a 
digital input/output (DI/DO) device in a workcell of an automated 

production system, the control apparatus being characterised in that it 
includes workcell operation control means responsive to control commands 

generated in the control apparatus to issue device specific commands to a 
robot controller and a DI/DO device controller for individual control of 

the robot and DI/DO device. 
Control apparatus as claimed in claim 1, the workcell operation 
control means including a workcell operation language processor, workcell 

control driver means including robot control driver means for realtime 
control of said robot, and DI/DO control driver means for realtime 

control of said DI/DO device, the workcell operation language processor 
interpreting commands defined by workcell operation software running on 

processor means in the control apparatus to send commands to the robot 
control driver and the DI/DO control driver. 
Control apparatus as claimed in claim 2, wherein the workcell 
operation software is described procedurally in a single programming 

language. 
Control apparatus as claimed in claim 2 or claim 3, wherein the 
workcell operation software defines device control operations and 

information handling operations which are specific to said workcell. 
Control apparatus as claimed in any preceding claim, further 
including communication means for allowing connection, for information 

exchange, to other workcells and an upper control apparatus via a 
network, said workcell control driver means comprising a network 

interface for interfacing with the network according to a predetermined 
protocol. 
Control apparatus as claimed in any preceding claim, further 
comprising, on a common bus, a CPU card, a memory card, a robot card for 

interfacing with said robot on a signal level, and a DI/DO card for 
interfacing with said DI/DO device on a signal level. 
Control apparatus as claimed in any of claims 2 to 6, further 
comprising operation panel interconnection means for connecting to a 

workcell operation panel which provides an interface with an operator of 
said workcell, the interconnection means comprising a portion of said 

workcell operation software defining control messages for said operation 
panel, and an operator interface component of the workcell control driver 

means for outputting text or figure information to a display device of 
said operation panel and for receiving the operator's instructions 

through an input device of said operation panel. 
Control apparatus as claimed in any of claims 2 to 7, further 
comprising workcell terminal communication means for connecting to a 

workcell terminal for use in the development, debugging, and maintenance 
of said workcell operation software, the terminal communication means 

comprising a workcell terminal interface component of the workcell 
control driver means for interfacing with said workcell terminal, a 

workcell monitor logger for logging the operation commands of said robot, 
and DI/DO signal processing means for debugging and maintaining said 

workcell operation software. 
Control apparatus as claimed in any preceding claim, the DI/DO 
control driver means comprising: 

   means for receiving commands from an upper control means, for 
registering in or erasing from a condition and action table a set of DI 

signal conditions and actions to be performed when said conditions are 
satisfied; and 

   means for periodically activating a signal processing task which 
operates to read a current value of the DI signal, evaluate said 

conditions registered in said condition and action table, and perform an 
action corresponding to a satisfied condition. 
A control apparatus as claimed in claim 9, in which said actions 
include task activation and task erasure. 
Control apparatus as claimed in any of claims 7 to 10, wherein said 
operator panel interface means controls a corresponding relationship 

between keys and action outputs of said operation panel to provide 
messages in response to key input by an operator:

 
   said operator interface means operates to access a key binding 

definition table that describes keys and action outputs bound thereto; 
   said interface means comprises a means for responding to messages 

including the name of a key binding definition file sent from an upper 
control means, and for activating a new key-handle task with new key 

bindings after erasing a previously activated key-handle task if one 
exists; 

   and in which said key-handle task produces, from said key binding 
definition file having said name, an array of structures including keys 

and text describing action outputs bound to said keys, and, in response 
to key input, interprets text of an action output bound to said key. 
Control apparatus as claimed in claim 11 wherein the operation 
panel is provided with a display screen; 

   said interface means is further capable of accessing a base screen 
file that defines a base screen; 

   said message from said upper control means further includes the 

name of a base screen file; and 
   said key-handle task further outputs said base screen file having 

said name included in said message to said display screen. 
A workcell for use in an automated production system, comprising: 
   a robot, a DI/DO device for inputting and outputting DI/DO signals, 

an operation panel for interfacing with an operator, and a single control 
apparatus as claimed in any preceding claim. 
An automated production system comprising a plurality of 
interconnected workcells as claimed in claim 13, and an upper control 

apparatus for controlling the entire system. 
</CLAIMS>
</TEXT>
</DOC>
