<DOC>
<DOCNO>EP-0633548</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and device for determining a contour in a space having a density distribution
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T500	G06T500	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T5	G06T5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In a space having a density variation of a certain parameter, a contour 
(10) is defined consisting of vertices (11, 12, 13) connected by edges (14, 15, 16). By 

variation of the position and number of the vertices as a function of the density variation 
in the space, the contour (10) is determined to follow features in the density variation. 

The movement of vertices is restricted to a direction 
(
i
)perpendicular 
to the local direction (
i
) 
of the contour (10). For smoothening the contour (10), an internal force or 

energy is applied to each of the vertices (11, 12, 13) which force or energy depends on 
the angle (
c
i
) between the edges at the vertex, or of the variation of the angles along a 
sequence of adjacent vertices. A direct interaction between vertices is thereby avoided. 
</ABSTRACT>
<APPLICANTS>
</APPLICANTS>
<INVENTORS>
</INVENTORS>
<DESCRIPTION>
The invention relates to a method for determining a contour in a space with a
density variation, comprising:
defining a plurality of initial vertices being located on a seed contour, said
vertices being connected by edges to neighbouring vertices;defining an energy function comprising an internal portion which is a function
of the curvature at each of the vertices and an external portion determined by the density
variation at the location of each of said vertices;determining a final contour by continuously varying the position of the
vertices till the energy function reaches a minimum.
Such a method can, for example, be used in a medical environment for (semi-)automatically
defining the outline of a region of interest or of an object, such as an organ or a tumour, in a 2
or 3 dimensional image. Images of clinical importance can be obtained by a variety of
modalities for example, a conventional X-ray technique, a CT-scanner, magnetic resonance
imaging, single photon emission computerised tomography, positron emission tomography or
by means of ultrasound echoscopy. Other areas in which deformable contours can be used
are, for example, computer graphics and animation. The defined outline of the object can, for
example, be used as a basis for providing quantitative information to a physician, for surface
extraction for visualisation or for volume definition.The term energy function is not related to physical energy, but is used because
the procedure of contour definition has some resemblance to a string of interconnected
masses moving in a field of varying potential energy and trying to establish a stable situation
of minimum energy. In this similarity the external portion of the energy function corresponds
to the density or potential energy and the internal portion to the mutual interaction of the
elements of the string.Such a method for defining is known from an article by J.V. Miller et al.,
entitled "Geometrically deformed models: A method for extracting closed geometric models
from volume data", published in Computer Graphics, Vol. 25, No. 4, (1991), pages 217-226. 
In that article a contour is described as a set of vertices connected by edges. The energy
function comprises a topology preserving energy term, dependent on an estimation of local
curvature and the distance between a vertex and its neighbours, an image event energy term,
derived from the density (or pixel values), and a locally defined deformation potential driving
the vertices outward or inward. The energy function is evaluated for the
</DESCRIPTION>
<CLAIMS>
Method for determining a contour (10) of an object in a space with a density
variation, said density variation representing the object, comprising:


defining a plurality of initial vertices (11,12,13) being located on a seed contour, said
vertices being connected by edges (14,15,16) to neighbouring vertices;
starting from the seed contour, derive a dynamic contour that modifies its shape,
defining an energy function comprising an internal portion which is a function of the
local curvature of the dynamic contour at each of the vertices and an external portion

determined by the density variation at the location of each of said vertices;
determining a final contour by continuously varying the position of the vertices till the
energy function reaches a minimum,

   
characterized in that
 for each of the vertices,

the internal portion of the energy function is dependent on the angle between the edges
connecting the respective vertex to neighbouring vertices and 
in that
the external portion of the energy function is related to the density variation along a
direction having equal angles with each of said edges connecting the respective vertex to

neighbouring vertices.
Method according to claim 1, 
characterised in that
 the internal energy portion is
derived from the difference in angles of the edges at a series of adjacent vertices.
Method according to claim 2, 
characterised in that
 said internal energy portion
is obtained by the convolution of said difference in angles with a symmetric discrete

filter having a zero frequency component equal to zero.
Method according to claim 1, 2 or 3, 
characterised in that
 the seed contour is
open.
Method according to claim 1, 2, 3 or 4, 
characterised in that
 if during
minimization of the energy function an edge length exceeds a first predetermined

threshold, the edge is replaced by an additional vertex and connecting edges.
Method according to claim 1, 2, 3, 4 or 5, 
characterised in that
 if during
minimization of the energy function an edge length falls below a second predetermined

threshold, the edge and the connected vertices are replaced by a single vertex. 
Method according to any one of the preceding claims, 
characterised in that
 a
user defined energy distribution is added to the external portion of the energy function.
Method according to claim 1, 
characterised in that
 firstly a contour is
determined in a first space and that, secondly, a contour is determined in a second space

having a density variation having similar features to the density variation in the first
space whereby the seed contour in the second space is defined by transfer of the final

contour obtained in the first space.
Arrangement (50) for determining a contour of an object in a space in which a
given parameter has a value varying throughout said space, said parameter representing the

object and the arrangement comprising

a memory (52) for storing parameter values in said space in the form of a matrix of pixel
values;
a display (51) having a two-dimensional matrix of pixels;
pointer means for indicating initial vertex positions for the definition of a seed contour;
computing means (53), having access to said memory (52) and said vertex positions, said computing means being adapted to
derive a dynamic contour that modifies its shape starting from the seed contour,said computing means being adapted to
evaluae an energy function comprising an internal portion which is a function of
the local curvature of the dynamic contour at each of the vertices and an external portion

determined by the density variation at the location of each of said vertices;
said computing means being further adapted to
determine a final contour by continuously varying the position of the vertices till the
energy function reaches a minimum, said arrangement being 
characterised in that
for each of the vertices the internal portion of the energy function is dependent on the

angle between the edges connecting the respective vertex to neighbouring vertices and the
external portion of the energy function is related to the density variation in a direction

having equal angles with each of said edges connecting the respective vertex to
neighbouring vertices.
</CLAIMS>
</TEXT>
</DOC>
