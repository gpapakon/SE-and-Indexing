<DOC>
<DOCNO>EP-0647069</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Adaptive video signal compression
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N968	H04N968	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N9	H04N9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In a video signal processing circuit, an adaptive signal compression is 
realised by correcting the color saturation by means of multiplication of color difference 

signals (R-Y, G-Y) by a same correction factor in such a way that color signal values 
(R, G, B) remain below their respective maximally allowed values without the 

luminance (Y) being limited as well. Preferably, the correction factor is obtained in 
dependence upon a non-linearly compressed luminance signal (Y'). 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
KONINKL PHILIPS ELECTRONICS NV
</APPLICANT-NAME>
<APPLICANT-NAME>
KONINKLIJKE PHILIPS ELECTRONICS N.V.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
VAN ROOIJ JOHANNES HENRICUS JO
</INVENTOR-NAME>
<INVENTOR-NAME>
VAN ROOIJ, JOHANNES HENRICUS JOZEF MARIA
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to a method and apparatus for realising an adaptive
signal compression. The invention also relates to a camera including such an adaptive
video signal compression circuit.GB-A-2,198,008 discloses a method of limiting component video signals,
in which component color video signals Y, R-Y and B-Y (Y, U and V) are limited in
such a manner that the corresponding RGB components lie within specified limits. A
two-dimensional range of values of valid U and V components is defined for values of
constant luminance. An input signal is compared with the maximum and minimum U
and V values in the valid range for the appropriate luminance value. If the U, V values
of the input signals are outside the valid range thay are moved within the valid range by
multiplying both signals by the same attenuation factor K determined in accordance with
the results of the comparison.US-A-4,499,486 (EP-A-0,067,083) discloses a device for correcting color
information supplied by a television camera with a view to improving the perception of
pictures. The correction consists in correcting the overall luminance, while retaining the
original chromaticity of the analyzed picture. For this purpose, the device comprises a
correcting circuit receiving the color signals and supplying corrected color signals, a
matrixing circuit supplying the overall luminance signal, and a control circuit. The
matrixing circuit may contain a circuit that determines the maximum of the color
signals. The control circuit transforms the overall luminance signal into a signal
covering the scale of luminances in accordance with an equal distribution in order to
satisfy the optimum vision conditions, and produces the quotient of the latter signal
divided by the overall luminance signal. The correcting circuit supplies corrected color
signals respectively corresponding to the color signals multiplied by this quotient.In current television cameras the three color signals red (R), green (G)
and blue (B) are limited at a range between the minimally (0%) and the maximally
(100%) allowed color signal values before encoding to luminance (Y) and color
difference signals (R-Y, B-Y). The cameraman controls the aperture of his camera and
hence the color signal values in R, G, B, dependent on the value of the luminance
signal Y. Since luminance Y = 0.30.R + 0.59.G + 0.11.B, there are colors for which
a color signal value R, G, B will exceed its respective maximally allowed value,
whereas the luminance signal value Y is still smaller than the maximally
</DESCRIPTION>
<CLAIMS>
A video signal processing circuit for realising an adaptive signal
compression, comprising:


first means (1) for supplying color difference signals (R-Y, G-Y); and
color saturation control means (3-11) coupled to said first means (1) for
limiting at least one color signal (R, G, B) exceeding a corresponding maximum value

by multiplying the color difference signals (R-Y, G-Y) by a same correction factor,
wherein the color saturation control means (3-11) comprise:
means (5; 5A + 5B) for obtaining a maximum value (MAXCOLDIF) of
three color difference signals (R-Y, G-Y, B-Y);
means (3) for determining a difference between a maximally allowed
luminance signal value (Ymax) and a luminance signal (Y, Y'); and
means (7; 9, 17) for obtaining the correction factor in dependence on the
difference between the maximally allowed luminance signal value (Ymax) and the

luminance signal (Y, Y'), and the maximum value (MAXCOLDIF) of the three color
difference signals (R-Y, G-Y, B-Y).
A video signal processing circuit as claimed in Claim 1, wherein said
means (5A + 5B) for obtaining the maximum value (MAXCOLDIF) of the three color

difference signals (R-Y, G-Y, B-Y) comprise:

means (5A) for obtaining a maximum value (RGB-MAX) of the three
color signals (R, G, B); and
means (5B) for subtracting the luminance signal (Y) from the maximum
value (RGB-MAX) of the three color signals (R, G, B).
A video signal processing circuit as claimed in Claim 1, wherein the
means (7; 9, 17) for obtaining the correction factor in dependence on the difference

between a maximally allowed luminance signal value (Ymax) and the luminance signal
(Y, Y'), and the maximum value (MAXCOLDIF) of the three color difference signals

(R-Y, G-Y, B-Y), comprise:

a divider (7) for obtaining a quotient (K) of an output signal (Ymax-Y) of
the subtracter circuit (3) and the maximum value (MAXCOLDIF) of the three color

difference signals (R-Y, G-Y, B-Y);
means (9; 17) for obtaining said correction factor from the quotient (K);
and
wherein the color saturation control means (3-11) further comprise a
multiplier circuit (11) for multiplying the color difference signals (R-Y, G-Y, B-Y) by

said quotient (K).
A video signal processing circuit as claimed in Claim 1, further provided
with a non-linear compression circuit (2; 2 + 15 + 2A) for compressing the luminance

signal (Y) and for applying a compressed luminance signal (Y') to the difference
determining means (3).
A video signal processing circuit as claimed in Claim 4, wherein the non-linear
compression circuit (2, 15, 2A) comprises:


means (2) for obtaining a compressed (X') signal from an uncompressed
(X) signal, in which the uncompressed signal (X) is a luminance signal (Y) or the

maximum value (RGB-MAX) of the three color signals (R, G, B);
means (15) for obtaining and applying to said correction factor obtaining
means (17), the quotient (X'/X) of the compressed (X') and the uncompressed (X)

signal, in which the correction factor also depends on said quotient (X'/X).
A video signal processing circuit as claimed in Claim 5, wherein the non-linear
compression circuit (2, 15, 2A) further comprises means (2A) for multiplying the

luminance signal (Y) by said quotient (X'/X) for obtaining the compressed luminance
signal (Y'). 
A camera comprising an image pick-up device for supplying color signals

(R, G, B), and a video signal processing circuit coupled to the image pick-up device for
realising an adaptive signal compression, the video signal processing circuit comprising:


first means (1) for supplying color difference signals (R-Y, G-Y), and
color saturation control means (3-11) coupled to said first means (1) for
limiting at least one color signal (R, G, B) exceeding a corresponding maximum value

by multiplying the color difference signals (R-Y, G-Y) by a same correction factor,
wherein the color saturation control means (3-11) comprise:
means (5; 5A + 5B) for obtaining a maximum value (MAXCOLDIF) of
three color difference signals (R-Y, G-Y, B-Y);
means (3) for determining a difference between a maximally allowed
luminance signal value (Ymax) and a luminance signal (Y, Y'); and
means (7; 9, 17) for obtaining the correction factor in dependence on the
difference between the maximally allowed luminance signal value (Ymax) and the

luminance signal (Y, Y'), and the maximum value (MAXCOLDIF) of the three color
difference signals (R-Y, G-Y, B-Y).
A method of processing a video signal for realising an adaptive signal
compression, comprising the steps of:


supplying color difference signals (R-Y, G-Y); and
limiting at least one color signal (R, G, B) exceeding a corresponding
maximum value by multiplying the color difference signals (R-Y, G-Y) by a same

correction factor, wherein the limiting step comprises the further steps of:
obtaining a maximum value (MAXCOLDIF) of three color difference
signals (R-Y, G-Y, B-Y);
determining a difference between a maximally allowed luminance signal
value (Ymax) and a luminance signal (Y, Y'); and
obtaining the correction factor in dependence on the difference between
the maximally allowed luminance signal value (Ymax) and the luminance signal (Y,

Y'), and the maximum value (MAXCOLDIF) of the three color difference signals (R-Y,
G-Y, B-Y).
</CLAIMS>
</TEXT>
</DOC>
