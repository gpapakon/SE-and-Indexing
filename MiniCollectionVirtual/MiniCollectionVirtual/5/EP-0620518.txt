<DOC>
<DOCNO>EP-0620518</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Methods and apparatus for generating linear-feedback-shift-register sequences
</INVENTION-TITLE>
<CLASSIFICATIONS>H03K300	H03K384	G01R313183	G06F1127	H04L100	G06F758	H04L100	H03K5156	G06F758	G01R313181	H03K5156	G06F1127	G01R3128	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03K	H03K	G01R	G06F	H04L	G06F	H04L	H03K	G06F	G01R	H03K	G06F	G01R	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03K3	H03K3	G01R31	G06F11	H04L1	G06F7	H04L1	H03K5	G06F7	G01R31	H03K5	G06F11	G01R31	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A circuit for generating a linear-feedback-shift-register sequence in accordance with 
a variable characteristic polynomial has multiple stages (102) each including a latch (104), 

an exclusive-OR gate (108) and a multiplexer (106) for coupling to the input of the latch 
either the output signal from the exclusive-OR gate or the signal from the preceding stage's 

latch. The exclusive-OR gate receives as inputs the signal from the preceding stage's latch 
and an output signal from the complete circuit. 
The multiplexers are controlled to select which exclusive-OR gates are coupled to 
their associated latches in accordance with the characteristic polynomial of the desired shift 

register sequence to be generated. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
JEDWAB JONATHAN
</INVENTOR-NAME>
<INVENTOR-NAME>
MULLEN SEAN FRANCIS
</INVENTOR-NAME>
<INVENTOR-NAME>
JEDWAB, JONATHAN
</INVENTOR-NAME>
<INVENTOR-NAME>
MULLEN, SEAN FRANCIS
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to methods and apparatus for generating linear-feedback-shift-register
sequences, including pseudo-random binary sequences (PRBS's), and to bit error
rate testing using such methods and apparatus.An important parameter for assessing the quality of a binary digital communications
link is its bit error rate (BER), that is the probability that a bit is incorrectly detected by
a receiver. The BER is typically measured by transmitting over the link a long test
sequence of bits, in principle selected at random, and counting how many are incorrectly
received. A convenient method of both generating a test sequence and checking for correct
reception is to use a PRBS.A PRBS can be generated using a linear feedback shift register, as shown in Figure
1. The output signal of the shift register is summed, modulo 2, with the outputs of
selected intermediate stages of the register (e.g. using exclusive-OR gates), and the
resulting signal is fed back to the input of the shift register. Appropriate selection of the
stages whose outputs are combined by the exclusive-OR gates enables an n-stage shift
register to generate a maximal length sequence with a period of 2n-1 bits, i.e. a PRBS.
For example the feedback arrangement shown in Figure 1 enables an 8-stage shift register
to produce a maximal length sequence containing 255 bits. Since such a sequence is
pseudo-random, it provides an effective test for exercising a communications link with a
wide variety of bit patterns; nonetheless, the sequence is in fact fully deterministic, so it
can be readily generated independently at the receiving end of the link to enable
comparison of the sequence as received with an error-free reference version.In the course of generating the PRBS the contents of the shift register will have as
many different states (defined by the combination of the values in each of the shift-register
stages) as there are bits in the maximal length sequence. Generation of the maximal length
sequence can be commenced from any bit position in the sequence by initializing
('seeding') the shift register with the set of values for its stages corresponding to that bit
position.The identity of the shift-register stages which provide feed-back to the input can
be characterized by means of a polynomial expression with a coefficient of unity for each
term corresponding to a stage which provides feedback. Thus the characteristic polynomial
for the PRBS generator of Figure 1 is:
x8 + x6 + x5 + x4 + 1The shift register arrangement shown in Figure 1
</DESCRIPTION>
<CLAIMS>
Apparatus for generating a pseudo-random binary pattern having a variable
characteristic polynomial, comprising a plurality of LFSR sequence generators each for

generating a respective LFSR sequence having a variable characteristic polynomial related
to said pattern polynomial, each said generator being arranged to generate bits for one bit

position of said pattern, and each comprising an input stage, at least one intermediate
stage, and an output stage, said stages of each generator being coupled for sequential

propagation of signals through those stages, and at least one of said stages in each
generator being responsive to a respective control signal (P[]
) for that stage of that
generator to determine whether signal propagation through that stage is influenced by a

feedback signal (S[1]) for that generator, said control signal being related to said

characteristic polynomial for the LFSR sequence, and wherein said control signal for each
stage is derived by:


producing a portion of predetermined length of the bit sequence occurring at a
selected bit position in said binary pattern; and
deriving said control signal from said portion.
The apparatus of claim 1, wherein said pseudo-random binary pattern is 2
n
-1 bits
in length, and said portion comprises at least 2
n
 bits.
The apparatus of claim 2, wherein said control signal for each stage is derived

from said portion in accordance with the Berlekamp-Massey algorithm.
The apparatus of any one of the preceding claims, including means (140) for
detecting occurrence of a maximal length sequence of bits of a predetermined value.
The apparatus of any one of the preceding claims, wherein said control signal
(P[]
) is related to said characteristic polynomial for the LFSR sequence such that signal
propagation through a stage corresponding to a term of the polynomial having a non-zero

coefficient is influenced by said feedback signal (S[1]).
The apparatus of claim 5, wherein said feedback signal (S[1]) for a generator

comprises an output signal from said output stage of that generator.
The apparatus of claim 6, wherein each stage comprises:

store means (104) for storing a signal representative of the operational state of the
stage; 
means for summing, modulo-2, (108) an input signal for the stage and said output
signal (S[1]
) from said output stage to produce a sum signal; and
switch means (106) responsive to said control signal (P[]) for said stage to couple

a selected one of said input signal and said sum signal to said store means;

each of said intermediate and output stages receiving as its said input signal an output
signal from its respective preceding stage.
The apparatus of claim 7, wherein said summing means (108) comprises an
exclusive-OR gate.
The apparatus of claim 7 or claim 8, wherein said switch means (106) comprises
a multiplexer.
The apparatus of any one of claims 7 to 9, wherein said store means (104)
comprises a D-type latch circuit.
The apparatus of any one of the preceding claims, wherein said output stage
includes output switch means (112) for selecting one of a signal representative of the

operational state of said output stage and a signal at an input terminal (118), said output
signal (S[1]
) from the output stage being derived from the signal selected by said output
switch means (112).
The apparatus of claim 11 when dependent upon any one of claims 7 to 10,
wherein said signal representative of the operational state of said output stage is taken

from the switch means (106) in said output stage.
A method for generating a pseudo-random binary pattern having a variable
characteristic polynomial, comprising generating a plurality of LFSR sequences each

having a variable characteristic polynomial related to said pattern polynomial, each said
LFSR sequence contributing bits for one bit position of said pattern, and generation of

each LFSR sequence being responsive to a respective control signal (P[]) to determine

whether bit signal propagation contributing to that sequence is influenced by a feedback
signal (S[1]
) for that sequence, said control signal being related to said characteristic
polynomial for the LFSR sequence, and wherein said control signal is derived by:


producing a portion of predetermined length of the bit sequence occurring at a
selected bit position in said binary pattern; and
deriving said control signal from said portion.
The method of claim 13, wherein said pseudo-random binary pattern is 2
n
-1 bits
in length, and said portion comprises at least 2
n
 bits.
The method of claim 14, wherein said control signal is derived from said portion
in accordance with the Berlekamp-Massey algorithm.
The method of any one of claims 13 to 15, wherein said bit signal propagation is
influenced by said feedback signal in respect of propagation steps for which said control

signal (P[]) has a value indicative of a non-zero coefficient in the corresponding term of

said characteristic polynomial for the LFSR sequence.
</CLAIMS>
</TEXT>
</DOC>
