<DOC>
<DOCNO>EP-0642029</DOCNO> 
<TEXT>
<INVENTION-TITLE>
A hall-voltage slope-activated sensor
</INVENTION-TITLE>
<CLASSIFICATIONS>G01R3307	G01P342	G01P3488	G01R3306	G01D512	G01D5245	G01P3487	G01D514	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01R	G01P	G01P	G01R	G01D	G01D	G01P	G01D	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01R33	G01P3	G01P3	G01R33	G01D5	G01D5	G01P3	G01D5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The Hall sensor circuit includes a Hall 
element (10) that is preferably followed by a Hall-voltage 

amplifier (11), and a pole end of a magnet is 
preferably fixed adjacent to the Hall element. The 

amplifier output is connected directly to one of a pair 
of differential inputs of a Schmitt trigger circuit (29) 

and is also connected, via a single or a dual-polarity 
track and hold circuit (18,19,20), to the other of the 

differential Schmitt inputs. The dual-polarity track 
and hold circuit (18,19,20) causes the voltage across a 

capacitor (20) to track positive and negative Hall 
voltage slopes, and to hold the positive-going peaks and 

negative-going peaks of the Hall voltage presented to 
the fore-mentioned other Schmitt input so that when the 

difference voltage between the Hall voltage and the held 
voltage of the capacitor (20) exceeds a positive or 

negative threshold of the Schmitt circuit, the Schmitt 
circuit (29) output changes binary state indicating the 

approach or the receding of a ferrous-gear tooth. The 
dual-polarity track and hold circuit is made up of two 

complementary plus and a minus peak detector circuits 
(Fig.11), each including a bipolar transistor (53,83) 

having an emitter connected to the voltage-holding 
capacitor (54), an operational amplifier (52,80) with an 

output connected to the base of the transistor (53,83), 
the amplifier having a negative input connected to the 

transistor emitter and a positive input serving as the 
input of the each Hall voltage tracking and holding 

circuit. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
ALLEGRO MICROSYSTEMS INC
</APPLICANT-NAME>
<APPLICANT-NAME>
ALLEGRO MICROSYSTEMS INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
BILOTTI ALBERTO
</INVENTOR-NAME>
<INVENTOR-NAME>
VIG RAVI
</INVENTOR-NAME>
<INVENTOR-NAME>
YABUSAKI HITOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
BILOTTI, ALBERTO
</INVENTOR-NAME>
<INVENTOR-NAME>
VIG, RAVI
</INVENTOR-NAME>
<INVENTOR-NAME>
YABUSAKI, HITOSHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a Hall proximity detector, and especially
to a Hall ferrous-gear-tooth sensor with an attached magnet capable of
detecting the near presence of each tooth of an adjacent rotating
ferrous gear, and more particularly relates to such a Hall sensor
capable of detecting the leading and trailing edge of each passing tooth
while being insensitive to DC components of the Hall signal within the
sensor circuit including that caused by the magnet and those
attributable to DC offsets in the Hall element(s) and the Hall-signal
amplifiers.It is known to provide a Hall sensor circuit that detects a passing
magnetic or a ferromagnetic article wherein the amplified Hall signal is
amplified and then filtered by an AC coupling means such as a high-pass
filter to remove the DC component of the Hall signal. Removal of the DC
component is especially necessary when a magnet is attached to the Hall
sensor to provide a magnetic field that will be distorted when a ferrous
article passes by the sensor, which distortion is to be sensed by the
Hall sensor.A number of such AC-coupled Hall sensors are disclosed in the
patent US 4,218,659, issued August 19, 1980. Another such AC-coupled
Hall sensor employs a differential high-pass filter having but one
filter capacitor in the Hall-signal path, and is described in the patent
to Ramsden US 4,982,155, issued January 1, 1991 and assigned to the same
assignee as is the present invention.
From this US patent specification, the preamble of present claim
1 has been derived. These Hall sensors with high pass filters tend to produce a false
triggering and false output when the power is turned on, because the filter
capacitor(s) must charge to the appropriate DC level before normal operation can
proceed. What DC level is appropriate cannot be sensed, e.g. because at power up
it is not known whether the Hall signal level first existing is attributable to peaks,
i.e. a tooth or valley, of the gear or how much of the first seen signal level reflects
amplifier off-set. There are no known supplementary power-up fast-charge circuits
that will solve this problemFurther, the voltage of the high pass filter capacitor during sensor
operation at low frequencies will decay tending to cause the sensor circuit to false
trigger. It is much preferred that a sensor fail to produce an output at all, rather
than to produce a false output.It is an object of this invention to provide a Hall sensor that
overcomes the above-noted short-comings of the prior art.It is another object of this
</DESCRIPTION>
<CLAIMS>
A Hall-voltage slope-activated sensor comprising:

a) a Hall detector (10,11) including at least one Hall element (10);
b) a comparator means (14,15,45) having an output, and having one
and another differential input conductors, for producing a binary output voltage

that changes from one binary level to the other when the magnitude of the voltage
appearing between said differential input conductors exceeds a predetermined

magnitude;
c) a first circuit branch means (16), connected between the output
of said Hall detector and said one comparator input conductor, for applying the

Hall voltage at the output of said Hall detector to said one comparator input
conductor; and
d) a second circuit branch means (18,19,20) connected between said

Hall detector output and said another comparator input conductor;
characterised in that said second circuit branch means is arranged to

track positive slope and to hold the subsequent positive-going peak of the Hall
voltage at said detector output, and to apply the held voltage to said another

comparator input conductor,
so that when, after a positive-going Hall-voltage peak begins to fall,
increasing difference between the Hall voltage and the held voltage exceeds said

predetermined magnitude, the ensuing comparator output pulse indicates the
beginning of a change in the strength of an ambient magnetic field at said Hall

element.
The Hall sensor of claim 1 wherein said second circuit branch means
comprises a plus-Hall-voltage track and hold circuit means (21) including a

voltage-holding capacitor (20) for tracking positive slopes and holding positive-going
peaks of the Hall voltage. 
The Hall sensor of claim 1 wherein said second circuit branch means
comprises a symmetrical-dual-polarity track and hold circuit (21) including a plus

Hall voltage track and hold circuit means having a voltage-holding capacitor (20,54)
for tracking positive slopes and holding positive-going peaks of the Hall voltage,

and a minus Hall-voltage track and hold circuit means including and sharing said
voltage-holding capacitor (20) for tracking negative slopes and holding

negative-going peaks of the Hall voltage.
The Hall sensor of claim 3 wherein said comparator is a
symmetrical-dual-polarity Schmitt trigger circuit having operate and release

voltages of opposite polarities and equal value, namely said predetermined value.
The Hall sensor of claim 3 wherein each of said plus and minus Hall-voltage
track and hold circuit means comprises a bipolar transistor (53,57)

having an emitter connected to said voltage-holding capacitor (54), a differential
operational amplifier (52,56) having an output connected to the base of said

transistor (53,57), said transistor emitter connected to the negative input of said
amplifier, the positive input of said amplifier serving as the input of said each Hall

voltage track and hold circuit means at which said Hall voltage is to be
applied.
The Hall sensor of claim 5 wherein the collector of said bipolar
transistor (53,57) is connected to said positive input (69) of said operational amplifier

(52,56) in said each track and hold circuit means.
The Hall sensor of claim 3 wherein said Hall sensor is formed in an
integrated circuit chip, and wherein said Hall detector (136) comprises two

essentially identical Hall elements (138,139) spaced apart in the face of said chip;
and a difference voltage circuit means (145) having two inputs receiving signals 

respectively derived from the output signals of said two Hall elements, and having an output serving

as said Hall detector output for generating the Hall voltage that is proportional to
the difference between the output voltages of said two Hall elements.
The Hall sensor of claim 7 further comprising
two Hall voltage amplifiers (141,142) each having an input

connected to the output respectively of one and the other of said Hall elements
(138, 139), and wherein said difference voltage circuit means is connected to the

outputs of said Hall-voltage amplifiers for more particularly producing the Hall
voltage that is the difference between the voltages appearing respectively at the

outputs of said two Hall-voltage amplifiers.
A Hall-voltage slope-activated gear-tooth sensor comprising:

a) Hall element (10,34);
b) a magnet (38) having a pole end to which said Hall element is
mounted,
c) a Hall-voltage amplifier (11) connected to the output of said
Hall-element;
d) a symmetrical differential Schmitt trigger circuit (29) having
positive and negative threshold voltages of opposite polarities and equal value,

said Schmitt trigger circuit having first and second input conductors;
e) a first circuit branch (16), connected directly between the output
of said amplifier (11) and said first input conductor; and
f) a second circuit branch (18,19,20,24,25,26) which is connected between
said amplifier output and said second Schmitt trigger circuit input conductor, said

second circuit branch composed of a dual-polarity tack and hold circuit (21)
which comprises first and second track and hold circuit means, and which is

also connected to the output of said Schmitt trigger circuit,

said first track and hold circuit means for tracking the Hall 
voltage during each period when the slope of the Hall voltage is positive and for

holding the Hall voltage at positive-going peaks until the Hall voltage begins to
fall and the voltage difference between said first and second Schmitt trigger circuit

input conductors reaches the threshold voltage of said Schmitt trigger circuit, to
trigger said Schmitt trigger circuit and generate a binary output pulse at the one

level that disables said first and enables said second track and hold circuit
means, and
said second track and hold circuit means for tracking the Hall
voltage during each period when the slope of the Hall voltage is negative and for

holding the Hall voltage at negative-going peaks until the Hall voltage begins to
rise and the voltage difference between said first and second Schmitt trigger circuit

input conductors reaches the threshold voltage of said Schmitt trigger circuit, to
trigger said Schmitt trigger circuit and generate a binary output pulse at the other

level that disables said second and enables said first track and hold circuit
means,
so that when the teeth (42) of a ferrous gear (40) pass by said Hall
element (34), the Schmitt trigger circuit output voltage has a waveform that

corresponds in time to the profile of the teeth of the passing gear teeth.
</CLAIMS>
</TEXT>
</DOC>
