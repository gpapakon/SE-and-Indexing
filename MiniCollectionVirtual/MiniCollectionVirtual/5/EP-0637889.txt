<DOC>
<DOCNO>EP-0637889</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Device for converting the frame rate of an image
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N701	H04N726	H04N701	H04N726	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N7	H04N7	H04N7	H04N7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
This invention relates to a device for converting image 
signal frame format including a motion compensation means for 

restoring image signals by carrying out motion compensations 
employing motion information, variable length decoded and 

inverse multiplex converted, and displaced frame difference, 
variable length decoded and inverse multiplex, inverse 

quantization and inverse discrete cosine converted, and a 
first frame ratio conversion means for classifying areas by 

pixels employing the motion information, variable length 
decoded and inverse multiplex converted, macroblock type 

information and the displaced frame difference, variable 
length decoded and inverse multiplex, inverse quantization and 

inverse discrete cosine converted, and for converting frame 
ratios of image signals received from the motion compensation 

means according to the classified areas. 
Accordingly, this invention provides users with 
advantages of watching natural display picture having good 

picture quality by carrying out classification of the 
corresponding pixel areas and subsequent interpolation easily 

utilizing various informations applied from an image signal 
decoder. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
LG ELECTRONICS INC
</APPLICANT-NAME>
<APPLICANT-NAME>
LG ELECTRONICS INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
LEE DONG HO
</INVENTOR-NAME>
<INVENTOR-NAME>
LEE, DONG HO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a device for converting the frame rate of
an image signal, more particularly to a device for
converting image signal frame format which can convert frame
rate through frame interpolation.In general, digital transmission of image signal
requires high compression. For example, in transmission
methods of image signals, there are H.261 for
teleconferencing, MPEG I for multimedia, MPEG II for
multipurpose use such as for a digital TV etc., and, besides,
a compression method for HDTV, all of which employ, for a high
compression, a method for compressing through compensation of
motion so as to eliminate duplication existing on time base.Especially, in order to raise compression ratio of H.261
and MPEG I, a dessimination is carried out lowering frame
rate for a coding, other than the method for compression
through compensation of motion explained above. That is, the
compression is carried out with a lowered frame rate to 25Hz
or 30Hz. However, even though a transmission has been carried out
compressed with a lowered frame rate to 25Hz ot 30Hz, signals
transmitted compressed with a lowered frame rate to 25Hz or
30Hz should be converted into signals with a frame rate of
50Hz or 60Hz for displaying on a monitor at the stage of final
display.And to accommodate film modes with a frame rate of 24Hz
or 30Hz, film mode signals transmitted compressed to a frame
rate 24Hz or 30Hz should be converted into signals with a
frame rate of 60Hz to facilitate displaying on a monitor at
the final display stage.The object of this invention for the foregoing can be
achieved by providing a device for converting the frame rate of an image signal
which can convert frame rates through
classification of areas by pixels, and carrying out
compensation of motion and averaging interpolation according
to the classified areas.These and other objects and features of this invention
can be achieved by providing a device having the features of appended claim 1. FIG.1 is a block diagram of a device for converting image
signal frame rates in accordance with this invention.FIG.2 shows area markings of pixels classified in
accordance with this invention.FIG.3 shows a basic unit for coding.FIG.4 shows details of the frame rate converter of 
FIG.1.FIG.5 shows signal wave patterns for each part of FIG.4.FIG.6 shows details of the pixel area classification part
of FIG.4.FIG.7 shows details of another embodiment of the frame
rate conversion part of FIG.1.FIG.8 shows details of a 60Hz/59.94Hz frame rate
conversion part.FIG.9 shows
</DESCRIPTION>
<CLAIMS>
A device for converting the frame rate of an image signal
comprising:


decoding means (100) for decoding an incoming compressed bit
stream, and for performing a classification into motion

information, macroblock type (1) information, a quantum
coefficient, and control parameters, which classification is

performed by carrying out an inverse multiplex operation;
quantization means (200) for inverse quantizing signals
outputted from the decoding means (100) according to the

quantum coefficient;
conversion means (300) for carrying out an inverse discrete cosine
conversion of the inverse quantized signal supplied by the

quantization means (200), and thereby generating a displaced
frame difference (DFD) based on motion rate estimation;
motion compensation means (500) for decoding image signals
using the motion information supplied from the decoding means

(100) and the displaced frame difference (DFD) supplied from
the conversion means (300); and 
first frame rate conversion means (400) for classifying areas
(4, 5, 6, 7) by pixels using the motion information, the

macroblock type information, and the displaced frame
difference (DFD), and for converting the frame rate of the

decoded image signals from the motion compensation means
(500), which frame rate is converted based on the classified

areas (4, 5, 6, 7) by carrying out corresponding interpolations according to
the result of the classification.
A device as claimed in claim 1, wherein the areas
classified by pixels are still areas (4), motion compensation

areas (5), covered areas (7) and uncovered areas (6).
A device as claimed in claim 1,

wherein the motion compensation means (500) includes,

a motion compensator (501) for compensating motion using the
motion information, variable length decoded and inverse

multiplex converted,
an adder (502) for adding the displaced frame difference
(DFD), variable length decoded and inverse multiplex, inverse

quantization and inverse discrete cosine converted, and
signals received from and motion compensated at the motion

compensator (501), and for transmitting the image signals to
the frame conversion means, and a frame memory (503) for

storing image signals received from the adder (502), and for
transmitting the stored image signals to the motion

compensator (501).
A device as claimed in claim 1,

wherein the frame rate conversion means (400) includes,

a summer (401) for summing up the displaced frame difference
(DFD), variable length decoded and inverse multiplex, inverse

quantization and inverse discrete cosine converted, in
macroblock units (1),
a first latch (402) for temporary storing the displaced frame
difference (DFD) received from the summer (401) in macroblock

units (1),
a second latch (403) for temporary storing the motion
information, variable length decoded and inverse multiplex

converted, in order to compensate for a delay at the summer
(401),
a third latch (404) for temporary storing the macroblock type
information, and variable length decoded and inverse

multiplex converted, in order to compensate for the delay at
the summer (401), and
a frame rate converter (405) for receiving the output signals
transmitted from the first, second and third latches (402,

403, and 404) and classifying into still areas (4), motion
compensation areas (5), covered areas (7) and uncovered areas

(6) by pixels, and converting the frame rate using the
signals received from the motion compensation means (500).
A device as claimed in claim 4, wherein the frame rate
converter (405) includes,


a first frame memory (410) for storing image signals received
from the motion compensation means (500),
a first divider (420) for dividing the motion information
received from the second latch (403) by 2,
an interpolation control means (440) for classifying areas
into still areas (4), motion compensation areas (5), covered

areas (7) and uncovered areas (6) by pixels using signals
received from the first and the third latches (402, 404) and

the first divider (420),
an interpolation means (430) for carrying out interpolation
to complete one frame using image signals received from the

first frame memory (410) and signals received from the first
divider (420) under the control of the interpolation control

means (440), and
a first multiplexer (470) for selecting and transmitting one

of the image signals received from the first frame memory
(410) and the interpolation means (430) under the control of

the interpolation control means (440).
A device as claimed in claim 5, further including a
second frame memory (450) for temporary storing the image 

signals received from the first frame memory (410) to match
the synchronization, and a third frame memory (460) for

temporary storing the image signals received from the
interpolation means (430) to match the synchronization.
A device as claimed in claim 5,

wherein the interpolation control means (440) includes,

a first comparator (441) for comparing the displaced frame
difference (DFD) received from the first latch (402) to a

first preset critical value,
a pixel area classification means (442) for controlling the
interpolation means (430) by classifying an area into still

areas (4), motion compensation areas (5), covered areas (7)
and uncovered areas (6) by pixels using signals received from

the first divider (420), the third latch (404) and the first
comparator (441), and
a scene change detection means (443) for controlling the
output of the first multiplexer (470) through detecting

changes of scenes using signals received from the first
comparator (441).
A device as claimed in claim 7, wherein the scene change
detection means (443) includes,


a summer (444) for summing signals received from the first
comparator (441) in frame units, 
a second comparator (445) for comparing the signals received
from the summer (444) to a second preset critical value, and
a first delay compensator (446) for compensating delays by
temporarily storing signals received from the second

comparator (445), and for controlling the output of the first
multiplexer (470).
A device as claimed in claim 7, wherein the
interpolation means (430) includes,


a second frame memory (431) for storing the image signals
received from the first frame memory (410),
an averaging interpolation means (432) for carrying out an
interpolation with the average of two frames using the image

signals received from the first and second frame memories
(410, 431),
a motion compensation region interpolation means (434) for
carrying out motion compensation using signals received from

the first divider (420) under the control of the pixel area
classification means (442),
a third frame memory (435) for storing signals received from
the motion compensation region interpolation means (434), and 
a second multiplexer (433) for selecting and transmitting
signals received from the first, second and third frame

memories (410, 431, 435) and the averaging interpolation
means (432) under the control of the pixel area

classification means (442).
A device as claimed in claim 9, wherein the pixels area
classification means (442) classifies the area into still

areas (4), motion compensation areas (5), covered areas (7)
and uncovered areas (6) classified by pixels.
A device as claimed in claim 9, wherein the averaging
interpolation means (432) includes an adder (436) for adding

the image signals received from the first and second frame
memories (410, 431) and a second divider (437) for dividing

signals received from the adder (436) by 2.
A device as claimed in claim 10, wherein the pixel area
classification means (442) includes,


a macroblock type classifier (481) for classifying the
macroblock type information received from the third latch

(404) into intraframe information and motion compensation
information,
an inverter (485) for inverting signals received from the
first comparator (441), 
an AND gate (486) for determining a motion compensation area
by logic multiplying of the signals received from the

inverter (485) and the motion compensation information
received from the macroblock type classifier (481), and for

transmitting the motion compensation area to the motion
compensation region interpolation means (434),
a memory (487) for storing the position of the corresponding
pixel using signals received from the first divider (420) in

response to the signal received from the AND gate (486),
a second delay compensator (482) for compensating delays by
storing signals received from the macroblock type classifier

(481),
an interpolation selection controller (483) for controlling
the second multiplexer (433) in response to the signals

stored in the memory (487) and the signals received from the
second delay compensator (482), and
a third delay compensator (484) for compensating delays by
storing the signals received from the interpolation selection

controller (483) and transmitting the delay compensated
signals to the second multiplexer (433).
A device as claimed in claim 12, wherein the
interpolation selection controller (483) controls the second

multiplexer (433) to interpolate with the average of both
frames in case the signals received from the second delay 

compensator (482) shows that the corresponding pixel is a
still area (4), to interpolate through motion compensation in

case the signals received from the second delay compensator
(482) and the memory (487) show that the corresponding pixel

is a motion compensation area (5), to interpolate using the
image signals of a rear frame or (n+1)th frame in case the

signals received from the second delay compensator (482) and
the memory (487) show that the corresponding pixel is a

covered area (7), and to interpolate using the image signals
of the front frame or (n)th frame in case the signals

received from the second delay compensator (482) show that
the corresponding pixel is an uncovered area (6).
A device as claimed in claim 13, wherein the
interpolation selection controller (483) controls the second

multiplexer (433) to interpolate using the image signals of
the front frame in case the signals received from the second

delay compensator (482) show that the corresponding pixel is
a still area (4).
A device as claimed in claim 13, wherein the
interpolation selection controller (483) controls the second

multiplexer (433) to interpolate using the image signals of
the rear frame in case the signals received from the second

delay compensator (482) show that the corresponding pixel is
a still area (4).
A device as claimed in claim 1, wherein the first frame
rate conversion means (400) classifies the area into still 

areas (4), motion compensation areas (5), covered areas (7)
and uncovered areas (6) by pixels by estimating the motion

information and the displaced frame difference (DFD) using
image signals of two adjoining frames received from the

motion compensation means (500), and converts the frame rate
of image signals received from the motion compensation means

(500) according to the classified areas.
A device as claimed in claim 16, wherein the areas
classified by pixels are still areas (4), motion compensation

areas (5), covered areas (7) and uncovered areas (6).
A device as claimed in claim 17, wherein the frame rate
conversion means (400) includes,


a first and a second frame memories (610, 620) connected in

series for storing the image signals in frame units received
from the motion compensator (500),
a motion estimation means (600) for estimating motion
information and displaced frame difference (DFD) using image

signals of two adjoining frames received from the first and
the second frame memories (610, 620),
a first divider (680) for dividing the motion information
received from the motion estimation means (600) by 2,
an interpolation control means (670) for classifying areas by
pixels using the motion information received from the motion 

estimation means (600) and the signals received from the
first divider (680),
an interpolation means (630) for completing one frame by
carrying out interpolation using the image signals received

from the first and the second frame memories (610, 620) and
the signals received from the first divider (680) under the

control of the interpolation control means (670), and
a first multiplexer (660) for selecting and transmitting one
of the image signals received from the first frame memory

(610) and the interpolation means (630) under the control of
the interpolation control means (670).
A device as claimed in claim 18, further including a
third frame memory (640) for temporary storing of the image

signals received from the first frame memory (610) to match
the synchronization, and a fourth frame memory (650) for

temporary storing of the image signals received from the
interpolation means (630) to match the synchronization.
A device as claimed in claim 18, wherein the
interpolation control means (670) includes,


a first comparator (671) for comparing the displaced frame
difference (DFD) received from the motion estimation means to

a first critical value, 
a pixel area classification means (672) for controlling the
interpolation means (630) through classifying the areas into

still areas (4), motion compensation areas (5), covered areas
(7) and uncovered areas (6), by pixels using signals received

from the first divider (680) and the comparator (671), and
a scene change detection means (676) for detecting changes of
scenes using signals received from the first comparator (671)

for controlling output of the first multiplexer.
A device as claimed in claim 20, wherein the scene
change detection means (676) includes,


a summer (673) for summing signals received from the first
comparator (671) in frame units,
a second comparator (674) for comparing the signals received
from the summer (673) to a second preset critical value, and
a first delay compensator (675) for compensating delays by
temporarily storing signals received from the second

comparator (674), and for controlling the output of the first
multiplexer (660).
A device as claimed in claim 20, wherein the
interpolation means (630) includes,


an averaging interpolation means (631) for carrying out an
interpolation with the average of two frames using the image 

signals received from the first and second frame memories
(610, 620),
a motion compensation region interpolation means (633) for
carrying out motion compensation using signals received from

the second frame memory (620) and the second divider (680)
under the control of the pixel area classification means

(672),
a fourth frame memory (634) for storing signals received from
the motion compensation region interpolation means (633), and
a second multiplexer (632) for selecting and transmitting
signals, received from the first, second and third frame

memories (610, 620, 634) and the averaging interpolation
means (631) under the control of the pixel area

classification means (672).
A device as claimed in claim 22, wherein the pixel area
classification means (672) classifies the areas into still

areas (4), motion compensation areas (5), covered areas (7)
and uncovered areas (6) classified by pixels.
A device as claimed in claim 22, wherein the averaging
interpolation means (631) includes an adder (635) for adding

the image signals received from the first and second frame
memories (610, 620) and a second divider (636) for dividing

signals received from the adder (635) by 2.
A device as claimed in claim 23, wherein the pixel area
classification means (672) controls the second multiplexer

(632) to interpolate with the average of both frames in case
the corresponding pixel is determined to be a still area (4), 

to interpolate through motion compensation in case the
corresponding pixel is determined to be a motion compensation

area (5), to interpolate using the image signals of a rear
frame in case the corresponding pixel is determined to be a

covered area (7), and to interpolate using the image signals
of a front frame in case the corresponding pixel is

determined to be an uncovered area (6).
A device as claimed in claim 25, wherein the pixel area
classification means (672) controls the second multiplexer

(632) to interpolate using the image signals of the front
frame in case the corresponding pixel is determined to be a

still area (4) .
A device as claimed in claim 25, wherein the pixel area
classification means (672) controls the second multiplexer

(632) to interpolate using the image signals of the rear
frame in case the corresponding pixel is determined to be a

still area (4).
A device as claimed in claim 1, further including a
second frame rate conversion means (700) for converting image

signals with a 60 Hz frame rate received from the first frame
rate conversion means (400) into image signals with a 59.94

Hz frame rate.
A device as claimed in claim 28, wherein the second
frame rate conversion means (700) includes,


a FIFO memory (710) for storing and transmitting one frame of
image signals of the image signals with the 60 Hz frame rate

received from the first frame rate conversion means,
a control means (720) for controlling the FIFO memory (710)
using a frame synchronization signal at 60 Hz, and 
a 59.94 Hz frame synchronization signal generation means
(730) for generating frame synchronization signals at 59.94

Hz using a 60 Hz frame synchronization signal and a 59.94 Hz
clock.
A device as claimed in claim 29, wherein the control
means (720) includes,


a counter (721) for counting the 60 Hz frame synchronization
signals applied thereto, and
a comparator (722) for comparing the counted value received
from the counter (721) to 1000 for controlling the FIFO

memory (710).
A device as claimed in claim 30, wherein the counter
(721) is a 10 bit counter.
A device as claimed in claim 1, further including a
second frame rate conversion means (800) for converting image

signals with a 59.94 Hz frame rate received from the first
frame rate conversion means (400) into image signals with a

60 Hz frame rate.
A device as claimed in claim 32, wherein the second
frame rate conversion means (800) includes,


a FIFO memory (810) for storing temporarily and transmitting

one frame of image signals of the image signals with the
59.94 Hz frame rate received from the first frame rate

conversion means (400), 
a frame memory (820) for storing one frame of image signals
received from the FIFO memory (810) and for transmitting

image signals at the 60 Hz frame rate,
a 60 Hz frame synchronization signal generation means (840)
for generating frame synchronization signals at 60 Hz using a

59.94 Hz frame synchronization signal and a 60 Hz clock, and
a control means (830) for controlling the FIFO memory (810)
and the frame memory (820) using frame synchronization

signals at 60 Hz received from the 60 Hz frame
synchronization signal generation means (840).
A device as claimed in claim 33, wherein the control
means (830) includes a counter (831) for receiving and

counting the 60 Hz frame synchronization signals transmitted
from the 60 Hz frame synchronization signal generation means

(840), and a comparator (832) for comparing the counted value
received from the counter (831) to 999 for controlling the

FIFO memory (810) and the frame memory (820).
A device as claimed in claim 34, wherein the counter
(831) is a 10 bit counter.
</CLAIMS>
</TEXT>
</DOC>
