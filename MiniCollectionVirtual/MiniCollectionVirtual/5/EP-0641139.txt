<DOC>
<DOCNO>EP-0641139</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Merging audio and telephone data for a computer
</INVENTION-TITLE>
<CLASSIFICATIONS>H04M1253	G06F1300	G06F1300	H04Q1104	G06F1338	G06F1312	H04Q1104	H04M1100	G06F1336	G06F1336	G06F1312	G06F1338	H04M1100	H04M1253	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04M	G06F	G06F	H04Q	G06F	G06F	H04Q	H04M	G06F	G06F	G06F	G06F	H04M	H04M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04M1	G06F13	G06F13	H04Q11	G06F13	G06F13	H04Q11	H04M11	G06F13	G06F13	G06F13	G06F13	H04M11	H04M1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A computer Input/Output (I/O) subsystem providing communication and control 
between a computer (100) and external audio (108) and telephone devices (106). The 

external signals include stereo audio input signals, stereo audio output signals for 
headphones, monaural audio microphone input signal, monaural audio output signal for a 

speaker, analog telephone lines and ISDN. Data to and from the multiple computer I/O 
ports (120, 122, 124) and data to and from the multiple external devices is all merged for 

communication over a single time-domain-multiplexed full-duplex serial bus (134). The 
telephone circuit is designed as an option and is either analog or ISDN. When the 

telephone circuit is installed, the serial bus is automatically reconfigured to accommodate 
the additional data and control information. The telephone circuit transparently merges 

serial telephone data and serial audio data. For example, MODEM data I/O can occur 
simultaneously with audio sample data. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
HEWLETT PACKARD CO
</APPLICANT-NAME>
<APPLICANT-NAME>
HEWLETT-PACKARD COMPANY
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ARNOLD BRIAN K
</INVENTOR-NAME>
<INVENTOR-NAME>
ARNOLD, BRIAN K.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates generally to computer input/output and more specifically to
audio and telephone services for a computer.The role of computers is expanding from simple data processing to more generalized
information processing and communication. For example, computers are being used to
process more abstract information such as audio, images, and video and to control the
communication of information such as control of facsimile and telephone services.
The need for Input/Output (I/O) is expanding at the same time that more computer
functionality is being integrated onto one or a few integrated circuits with increasingly
limited connection availability. There is a need for efficient and cost effective data
transfer and control between the central processing units and external devices such as
analog audio microphones and speakers and analog telephone signals. In addition,
there is need to interface to digital telephone systems such as the Integrated Services
Digital Network (ISDN), which carries a mixture of voice, computer and video
signals. Finally, there is a need to minimize the number of integrated circuit
connections required to provide all these services.US-A-5,072,442 teaches time division muluplexing (TDM), where the TDM
communication pipeline bus carrying all the multiplexed data has a dedicated time slot
available for any data from any node. Plural node sites operating at different clock
rates are coupled to the bus. The TDM communication pipeline bus comprises a
video/PC file data bus and an audio/ command data bus and operates at a clock rate
that is multiple of the number of nodes in the network times the highest clock
frequency of any node in the network. Thus, no data that has been transmitted from
any node will be lost. According to US-A-5,072,442 video/PC file signal packets are
placed onto the video/PC file data bus during a dedicated one of a plurality of fixed
video/PC file data bus time slots. In a similar way, digitized audio/command data
packets are placed onto the audio/command data bus during a dedicated one of a
plurality of audio/command data bus time slots. Thus, multiplexed data is transmitted
at the same rate. There are fixed time slots for each data types and time slots repeat at
a fixed rate. US-A-4,488,287 teaches that voice and data can be combined in a common
information field and transmitted in the same channel, frame by frame. A fixed
number of speech bits is combined with a fixed number of data bits into one frame.It is the object of the present invention to
</DESCRIPTION>
<CLAIMS>
A computer system comprising:

a computer (100);
a first peripheral device (108);
a second peripheral device (106);
a first bus (138) that is full-duplex serial, connected to the first peripheral
device;
a second bus (134) that is full-duplex serial, connected to the computer, to

the second peripheral device and to the first bus;
the first peripheral device transferring first peripheral data over the first bus,
the first peripheral data formatted into first data frames (502) having a first

frame rate;
the second peripheral device transferring second peripheral data over the
second bus, the second peripheral data formatted into second data frames

(514); and
the computer transferring computer data over the second bus, the computer

data formatted into computer data frames (500) being transferred over the
second bus at the first frame rate, each of the computer data frames

comprising one of the first data frames concatenated with one or more of
the second data frames.
A computer system as in claim 1:

the computer data frames comprising one of the first data frames
concatenated with more than one of the second data frames, the second data

frames thereby being transferred at a rate higher than the first frame rate.
A computer system as in claim 2:

the first frame rate being an audio rate.
A computer system as in claim 1:

the computer having one or more computer interfaces (120, 122, 124);
the second peripheral device having one or more peripheral data ports; 
each of the second data frames further comprising an address (518), a
plurality of data bits (514) and a ready bit (520), the address in each of the
second data frames from the second peripheral device to the computer
designating one of the computer interfaces, the address in each of the
second data frames from the computer to the second peripheral device
designating one of the peripheral data ports;

wherein when one of the second data frames is being sent from the
computer to the second peripheral device, another one of the second data

frames is simultaneously being sent from the second peripheral device to
the computer; and

wherein the ready bit in each of the second data frames from the computer
to the second peripheral device indicates whether the computer interface,

designated by the address in the simultaneous data frame from the second
peripheral device to the computer, is ready to receive data; and

wherein the ready bit in each of the second data frames from the second
peripheral device to the computer indicates whether the peripheral data port,

designated by the address in the simultaneous data frame from the computer
to the second peripheral device, is ready to receive data.
A computer system comprising:

a computer (100);
a first peripheral device (108);
a second peripheral device (106) that is removable;
a first bus (138) that is full-duplex serial, connected to the first peripheral
device;
a second bus (134) that is full-duplex serial, connected to the computer;

wherein the second bus automatically connects the computer directly to the
first bus if the second peripheral device is not present;

wherein the second bus automatically connects the computer to the second
peripheral device and to the first bus if the second peripheral device is

present; 

the first peripheral device transferring first peripheral data over the first bus,
the first peripheral data formatted into first data frames (502) having a first

frame rate;
the computer transferring computer data over the second bus, the computer
data formatted into computer data frames (500) being transferred over the

second bus at the first frame rate;
the second peripheral device, if present, transferring second peripheral data
over the second bus, the second peripheral data formatted into second data

frames (514);
each of the computer data frames comprising one of the first data frames if
the second peripheral device is not present; and
each of the computer data frames comprising one of the first data frames
concatenated with one or more of the second data frames if the second

peripheral device is present.
A method of merging data on a first bus (138) with data on a second bus (134),
the first bus connected to a first peripheral device (108), the second bus

connected to a computer (100), to a second peripheral device (106), and to the
first bus, the method comprising the following steps:


(a) formatting data for the first peripheral device into first data frames
(502);
(b) transferring the first data frames over the first bus at a first frame rate;
(c) formatting data for the second peripheral device into second data frames
(514);
(d) concatenating one of the first data frames with one or more of the
second data frames to form each one of a plurality of computer data frames

(500); and
(e) transferring the computer data frames over the second bus at the first
frame rate.
</CLAIMS>
</TEXT>
</DOC>
