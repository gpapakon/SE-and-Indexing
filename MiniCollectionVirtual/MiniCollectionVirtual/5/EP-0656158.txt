<DOC>
<DOCNO>EP-0656158</DOCNO> 
<TEXT>
<INVENTION-TITLE>
METHOD OF AND APPARATUS FOR DETERMINING A ROTOR DISPLACEMENT PARAMETER
</INVENTION-TITLE>
<CLASSIFICATIONS>H02P600	H02P614	H02P618	H02P620	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H02P	H02P	H02P	H02P	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H02P6	H02P6	H02P6	H02P6	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The invention relates to a motor monitoring and control circuit in which a value parameter is calculated for a position of the motor at given instants. The same parameter (which may be position or speed of a rotor) is then measured at subsequent instants. These values are used to compute a future value of the parameter. The advantage of the invention is that it can be used for any type of motor and that it can be easily and quickly fitted to a motor without the need for expensive and time consuming initial measurements and computation of characteristic properties of the motor in order to calibrate it. Similarly automatic compensation is made during operation.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
BRITISH TECH GROUP
</APPLICANT-NAME>
<APPLICANT-NAME>
BRITISH TECHNOLOGY GROUP LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ACARNLEY PAUL PHILIP
</INVENTOR-NAME>
<INVENTOR-NAME>
ACARNLEY, PAUL, PHILIP
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a method of and apparatus for
determining a rotor displacement parameter (such as position or
speed) for an electric motor, and to apparatus incorporating the
electric motor. The invention has particular application to the
continuous determination, by electrical rather than mechanical
means, of rotor angular position, and the use of such position
data in controlling the electric motor.Many types of electric motor incorporate an electronic
commutator which adjusts the winding excitation according to the
instantaneous position of the rotor. The position of the rotor
may be determined mechanically, but is advantageously deduced
from the motor's current and voltage waveforms. Mechanical
determination can involve complex and expensive equipment, and
may detrimentally affect the rotor's inertia and friction
characteristics.A paper entitled "Application of stochastic filtering to a
permanent magnet synchronous motor-drive system without
electro-mechanical sensors", by Dhaouadi, R. etal. (Proc. ICEM,
Boston, 1990) discloses a method of determining rotor position
which involves detecting electrical characteristics (phase
voltages and currents) of the motor at given instants and
estimating rotor position from these characteristics using an
extended Kalman filter algorithm. An initial estimate of rotor
position is provided by solving the mechanical equation of motion
for the rotor. Phase flux linkage, the value for which is
utilised in the determination of rotor position, is modelled as
being linearly dependent on phase current.A paper entitled "A state observer for variable reluctance
motors: analysis and experiments", by Lumsdaine, A. etal.
(Proc. ASILOMAR Conference on Circuits, Systems and Computers,
Pacific Grove, 1985) discloses a similar method in which rotor
position is estimated from the electrical characteristics using a
state observer model. The disadvantages with these techniques are that they
are limited to specific types of electric motor and that
they are limited to specific operating condition ranges.The present invention seeks to solve these problems.
In its various aspects, the invention provides techniques
which can be applied to virtually any type of motor having
phase flux linkage varying with rotor position. Such motor
types include switched and variable reluctance motors,
hybrid stepping motors, permanent magnet synchronous motors,
brushless alternating and direct current motors, and
sinusoidal and trapezoidal permanent magnet motors. In
particular, the invention
</DESCRIPTION>
<CLAIMS>
A method of determining a rotor displacement parameter
of the rotor of an electric motor (10), the method

comprising the steps of:

measuring electrical characteristics of the motor (10)

at given instants;
obtaining a first estimate of said parameter on the
basis of values of the parameter at previous instants;
obtaining an estimate of at least one of the electrical
characteristics on the basis of said first estimate of said

parameter and the measured electrical characteristics; and,
obtaining a corrected estimate of said parameter by
correcting said first estimate of said parameter on the

basis of the difference between said estimate of at least
one of the electrical characteristics and the measured value

of said at least one electrical characteristic.
A method according to claim 1, wherein said measured
electrical characteristics comprise the voltage and current

of a phase of the electric motor (10), said at least one
electrical characteristic being the phase current, and

comprising the step of:

obtaining an estimate of the phase flux linkage on the
basis of said measured voltage and current;
said estimate of the phase flux linkage being used with
the first estimate of said parameter to provide the estimate

of the phase current.
A method according to claim 2, comprising the further
step of:


correcting the estimate of the phase flux linkage on
the basis of the difference between the corrected estimate

of said parameter and said first estimate of said parameter;
said corrected estimate of the phase flux linkage being
used to provide the estimate of the phase current.
A method according to claim 2, comprising the further
step of:


correcting the estimate of the phase flux linkage on
the basis of the difference between the measured value of

the phase current and the estimated value of the phase
current;
said corrected estimate of the phase flux linkage being
used to provide the estimate of the phase current.
A method according to any of claims 1 to 4, wherein the
first estimate of said parameter is obtained on the basis of

the values of the parameter at the three immediately
preceding instants.
A method according to claim 5, wherein the updated
value is predicted in accordance with an equation of the

form 
a
k
 = 3a
k-1
 - 3a
k-2
 + a
k-3
, where 
a
k
 is the updated
value, and a
k-1
, a
k-2
 and a
k-3
 are the values of the
parameter at three preceding instants.
A method according to any of claims 1 to 6, wherein
said parameter is the angular displacement of the rotor.
A method of determining a rotor displacement parameter
for an electric motor (10), the method comprising the steps

of:

measuring an electrical characteristic of the motor
(10) at a given instant;
predicting a value representative of flux linkage from
the characteristic;
correcting the predicted flux linkage value in
dependence on the difference between the actual value of the

characteristic and a value estimated using the predicted
flux linkage value; and,
determining the rotor displacement parameter using the
corrected flux linkage value.
A method according to claim 8, wherein the correction
is determined in dependence on said difference multiplied by

the differential of flux linkage with respect to current.
A method according to claim 8 or claim 9, wherein the
correction is determined from the difference between the

actual and estimated values of such electrical
characteristic for a plurality of phases of the motor (10).
A method according to any of claims 8 to 10, wherein
values representative of the non-linear variation of flux

linkage with current are stored and employed in the
determination of the parameter value.
A method according to claim 11, wherein a value
representative of current is estimated from flux linkage

according to said stored representative values, and the
parameter value is determined in dependence on the estimated

current value.
A method according to any of claims 1 to 12, for
determining the rotor displacement parameter for an electric

motor (10) having a plurality of windings sharing a common
connection, wherein the electrical characteristics are

measured from points other than the common connection.
A method of controlling an electric motor (10), wherein
the motor (10) is controlled in dependence on the value of

the rotor displacement parameter determined in accordance
with any of claims 1 to 13.
Apparatus for determining a rotor displacement
parameter of a rotor of an electric motor (10), the

apparatus comprising:

means (12,14) for measuring electrical characteristics
of the motor (10) at given instants; 
means (16) for obtaining a first estimate of said
parameter on the basis of values of the parameter at

previous instants;
means (16) for obtaining an estimate of at least one of
the electrical characteristics on the basis of said first

estimate of said parameter and the measured electrical
characteristics; and,
means (16) for obtaining a corrected estimate of said
parameter by correcting said first estimate of said

parameter on the basis of the difference between said
estimate of at least one of the electrical characteristics

and the measured value of said at least one electrical
characteristic.
Apparatus for determining a rotor displacement
parameter of a rotor of an electric motor (10), the

apparatus comprising:

means (12,14) for measuring the voltage and current of
a phase of an electric motor (10) at given instants;
means (16) for obtaining a first estimate of said
parameter on the basis of values of the parameter at

previous instants;
means (16) for obtaining an estimate of the phase flux
linkage on the basis of said measured voltage and current;
means (16) for obtaining an estimate of the phase
current on the basis of said first estimate of said

parameter and the estimate of the phase flux linkage; and,
means (16) for obtaining a corrected estimate of said
parameter by correcting said first estimate of said

parameter on the basis of the difference between said
estimate of the phase current and the measured value of the

phase current.
Apparatus for determining a rotor displacement
parameter for an electric motor (10), the apparatus

comprising:

means (12,14) for measuring an electrical
characteristic of the motor (10) at a given instant; 
means (16) for predicting a value representative of
flux linkage from the characteristic;
means (16) for correcting the predicted flux linkage
value in dependence on the difference between the actual

value of the characteristic and a value estimated using the
predicted flux linkage value; and,
means (16) for determining the rotor displacement
parameter using the corrected flux linkage value.
Apparatus according to claim 17, wherein the correcting
means is arranged to determine the correction in dependence

on said difference multiplied by the differential of flux
linkage with respect to current.
Apparatus according to claim 17 or claim 18, wherein
the determining means is arranged to determine the parameter

in dependence on the differentials with respect to current
of the flux linkages for a plurality of phases of the motor

(10).
Apparatus according to any of claims 17 to 19,
comprising means for storing values representative of the

non-linear variation of flux linkage with current, said
values being employed by the determining means in the

determination of the parameter value.
Apparatus for controlling an electric motor (10),
including means (18) for controlling a motor (10) in

dependence on the value of a rotor displacement parameter
and apparatus for determining the rotor displacement

parameter according to any of claims 15 to 20.
Apparatus according to any of claims 15 to 21,
including an electric motor (10).
</CLAIMS>
</TEXT>
</DOC>
