<DOC>
<DOCNO>EP-0651209</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Control for HVAC sytems
</INVENTION-TITLE>
<CLASSIFICATIONS>F24F1100	F24F1100	F24F1102	F24F1102	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>F24F	F24F	F24F	F24F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>F24F11	F24F11	F24F11	F24F11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A HVAC control program stored in each of the control 
units (56, 58, 60) need not be specially customised to 

the particular heating/cooling elements (20-54, 62-74) 
associated with the heating/cooling units (10, 12, 14). 

Instead, the same general control program is run in each 
control unit (56, 58, 60) to calculate various control 

variables, and each control unit (56, 58, 60) has its 
own particular configuration data stored therein for 

associating the control variables with the 
heating/cooling elements (20-54, 62-74) interfaced to 

it. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CARRIER CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
CARRIER CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CHAN CHI-PING
</INVENTOR-NAME>
<INVENTOR-NAME>
DESMARAIS BRETT ALEXANDER
</INVENTOR-NAME>
<INVENTOR-NAME>
FRIDAY ARTHUR FRANKLIN
</INVENTOR-NAME>
<INVENTOR-NAME>
CHAN, CHI-PING
</INVENTOR-NAME>
<INVENTOR-NAME>
DESMARAIS, BRETT ALEXANDER
</INVENTOR-NAME>
<INVENTOR-NAME>
FRIDAY, ARTHUR FRANKLIN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to the programmed control of
heating and cooling systems utilizing one or more
programmed microprocessors. In particular, this
invention relates to the manner in which the programmed
control in the microprocessors interfaces with various
elements in the heating and cooling systems.Programmed control of heating and cooling systems
using microprocessors is well known. The programmed
control normally includes stored instructions which
either send or await the receipt of communications from
various elements in the heating and cooling systems.
These elements include temperature sensors, control
valves, as well as fan and compressor motors. In each
instance, an input or output (I/O) channel associated
with the microprocessor is specifically identified in
the software for use in communicating with a particular
element. When communication is to take place, the
element either receives an output signal or transmits an
input signal over the designated I/O channel. The
programmed control within the microprocessor proceeds on
the assumption that all control functions are being
properly executed by the elements.The above described program control can pose
problems when making any changes to the software
residing in the microprocessor. In this regard, one
must maintain an accurate accounting at all times of the
I/O channel assignments to the elements when making any
changes or revisions to the software.One must also be careful when attempting to use the
program control for what is believed to be a similar
heating and cooling system having a similar
configuration of elements. In this regard any
differences in the elements in the second system must be
carefully noted in the instructions for these particular 
elements.US-A-4674291 discloses a control apparatus for an
air conditioning or a refrigerating apparatus having an
input/output interface between the control apparatus and
various loads of the air conditioning or the
refrigerating apparatus.It is an object of the invention to provide a
programmable control for a heating or cooling system
wherein changes may be easily made to the software
affecting one or more elements in the system.It is another object of the invention to provide a
programmable control for a general configuration of
hardware elements in a heating or cooling system that
may be easily adapted to a number of different versions
of the system.The above and other objects are achieved by
providing a method for controlling a heating or cooling
system having a programmable control unit
</DESCRIPTION>
<CLAIMS>
A method for controlling a heating or cooling
system having a programmable control unit (56,58,60)

interfacing with a set of discrete elements (20-54, 62-74)
that implement the prescribed heating or cooling for

the system, characterised in that the programmable
control unit (56,58,60) carries out the steps of:


controlling the heating or cooling to be performed
by the heating or cooling system through a set of

control variables corresponding to a
given set of discrete elements (20-54, 62-74);
accessing configuration data defining the
relationships between the set of control variables

and the discrete elements (20-54, 62-74)
of the heating or cooling system when communication is

to occur between the programmable control unit
(56,58,60) and the discrete elements (20-54, 62-74) of

the heating or cooling system.
A method of controlling a system having a plurality
of individual heating or cooling units (10,12,14) each

controlled by the method of claim 1.
The method of claim 1 or 2, wherein the
configuration data includes a set of first indicia

corresponding to the control variables
and a set of second indicia corresponding to the

discrete elements (20-54, 62-74) that are actually
interfaced with the programmable control unit

(56,58,60), each of said second indicia being linked to
a respective first indicia, and wherein said step of

accessing configuration data comprises the steps of:

using a first indicia to identify a linked second
indicia corresponding to a particular discrete element

(20-54, 62-74) when communication is initiated by the
programmable control unit (56, 58, 60); and 
using a second indicia corresponding to a
particular discrete element (20-54, 62-74) so as to

identify a linked first indicia corresponding to a
particular control variable when

communication is initiated by the particular discrete
element (20-54, 62-74).
The method of claim 1, 2 or 3, further comprising
the steps of:


transferring information from at least one storage
location associated with a first indicia to at least one

storage location associated with a second indicia when
communication is initiated by the programmable control

unit (56, 58, 60); and
transferring information from at least one storage
location associated with a second indicia to a storage

location associated with a first indicia when
communication is initiated by a discrete element (20-54,

62-74).
The method of any preceding claim, further
comprising the steps of:


calculating a value for at least one control
variable ;
noting when the calculation for the control
variable is complete;
accessing the configuration data to identify the
particular discrete element (20-54, 62-74) to which the

updated calculated value is to be transferred; and
transferring the calculated value from a storage
location associated with the control variable

to a storage location associated with the
identified discrete element (20-54, 62-74).
The method of any preceding claim, further
comprising the steps of:


interrupting the programmable control unit 
(56,58,60) when a communication is received from a

discrete element (20-54, 62-74);
accessing the configuration data to identify the
particular control variable that is

to receive the communication previously received from
the discrete element (20-54, 62-74); and
transferring the communication from a storage
location associated with the discrete element (20-54,

62-74) to a storage location associated with the
particular control variable.
A programmable control unit (56,58,60) for a set of
discrete elements (20-54. 62-74) within a heating or

cooling system, said programmable control unit
(56,58,60) characterised by:


a control program stored in memory for controlling
the heating or cooling to be performed by the system,

the control program having a set of control variables;
configuration data stored in memory for defining
relationships between the set of control variables

in the control program and the discrete
elements (20-54, 62-74) of the heating or cooling

system; and
a configuration program stored in memory which
accesses the configuration data when communication is to

occur between the programmable control unit (56,58,60)
and the discrete elements (20-54, 62-74) of the heating

or cooling system.
A system having a plurality of individual heating
or cooling units (10,12,14) each having a programmable

control unit (56,58,60) of claim 7 interfacing with a
set of discrete elements (20-54, 62-74) that implement

the prescribed heating or cooling for the individual
heating or cooling unit (56,58,60). 
The system or control unit of claim 7 or 8, wherein
the stored configuration data comprises:


a set of first indicia corresponding to the control
variables in the control program, and
a set of second indicia corresponding to discrete
elements (20-54, 62-74) interfaced with a or the control

unit (56,58,60), each of said second indicia being
linked to a respective first indicia.
The system or control unit (56,58,60) of claim 9,
wherein said set of second indicia furthermore include

specially coded indicia indicating the lack of presence
of certain discrete elements (20-54, 62-74) from

interface with the or a control unit (56,58,60).
The system or control unit (56,58,60) of any of
claims 7 to 10, wherein the configuration program

comprises:

an instruction for noting when the control program

has completed the updating of any calculated values for
any control variables;
an instruction for accessing the configuration data
to identify the particular discrete elements (20-54, 62-74)

to which the updated calculated values are to be
transferred; and
an instruction for transferring the updated values
from storage locations associated with the control

elements to storage locations
associated with the identified discrete elements (20-54,

62-74).
The system or control unit (56,58,60) of any of
claims 7 to 11, wherein the configuration program

comprises:

an instruction for interrupting the control program
when a communication is received from a discrete element

(20-54, 62-74); 
an instruction for accessing the configuration data
to identify the particular control variable

that is to receive the communication previously
received from the discrete element (20-54, 62-74); and
an instruction for transferring the communication
from a storage location associated with the discrete

element (20-54, 62-74) to a storage location associated
with the particular control variable.
The method of claim 1 further comprising the steps
of:


computing values for the discrete elements (20-54,
62-74) that are to receive communications;
storing the computed values in a series of first
storage locations in a memory associated with the

programmable computing unit (56,58,60);
identifying communication channels associated with
the discrete elements (20-54, 62-74) that are to receive

the computed values; and
transferring the computed values from the first
storage locations to a series of second storage

locations in the memory associated with the programmable
computing unit (56,58,60) whereby the stored values at

the second storage locations are available for
communication to the discrete elements (20-54, 62-74).
The method of claim 13, further comprising the
steps of:


receiving values from certain discrete elements
(20-54, 62-74) transmitting information to the

programmable computing unit (56,58,60);
storing the received values in the series of second
storage locations based upon the identification of the

communication channels transmitting the information to
the programmable computing unit (56,58,60);
transferring the values previously received and
stored in the second storage locations to the series of 

first storage locations for subsequent use by the
programmable computing unit (56,58,60).
The method of claim 14, wherein said step of
storing computed values in a series of first storage

locations comprises the steps of:

identifying indicia reserved for control variables
within a control program executing in

the programmable control unit (56,58,60); and
storing the computed values in the first storage
locations for access in accordance with the indicia

reserved for the control variables.
The method of claim 14 or 15, wherein said step of
transferring the values previously received and stored

in the second storage locations to the series of first
storage locations comprises the step of:


identifying indicia reserved for control variables
within the control program executing

in the programmable control unit; and
transferring each received value to a first storage
location associated with the identified indicia reserved

for the control variable that is to
ultimately receive the value from the discrete element

(20-54, 62-74) transmitting information to the
programmable control unit (56,58,60).
The method of any of claims 13 to 16, wherein said
step of storing the computed values in a series of first

storage locations comprises the steps of:

identifying indicia reserved for control variables
within a control program executing in

the programmable control unit (56,58,60); and
storing each computed value in a first storage
location for access in accordance with the indicia

reserved for the corresponding control variable
for which the value was computed.
The method of any of claims 13 to 17, wherein said
step of transferring the computed values from the first

storage locations to the series of second storage
locations comprises the step of:

   transferring each computed value to one of said
second storage locations based upon an identification of

the communication channel for the discrete element (20-54,
62-74) that is to be in communication with the

programmable computing unit (56,58,60) concerning the
computed value.
The method of claim 18, wherein said step of
transferring each computed value to one of said second

storage locations based upon an identification of the
communication channel for the discrete element (20-54,

62-74) that is to be in communication with the
programmable unit (56,58,60) concerning the computed

value comprises the steps of:

accessing an identification of the communication
channel stored in association with the control variable

for which the value was computed; and
identifying the correct second storage location
based upon the accessed identification of the

communication channel stored in association with the
control variable (20-54, 62-74) for which the value was

computed.
</CLAIMS>
</TEXT>
</DOC>
