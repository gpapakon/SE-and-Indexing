<DOC>
<DOCNO>EP-0640839</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Apparatus and method for evaluating audio distortions.
</INVENTION-TITLE>
<CLASSIFICATIONS>G01H1700	G01H1700	G01R2320	G01R2320	G11B2022	G11B2022	H04R2900	H04R2900	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01H	G01H	G01R	G01R	G11B	G11B	H04R	H04R	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01H17	G01H17	G01R23	G01R23	G11B20	G11B20	H04R29	H04R29	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An improved apparatus and method utilizes both frequency 
and time masking effects to evaluate an audio distortion so 

that the results obtained thereby have a best matchup with 
actual human auditory perception. The apparatus comprises a 

first estimator for estimating a power density spectrum for 
the input digital audio signal; determination block for 

determining a frequency masking threshold based on the power 
density spectrum for the input digital audio signal; a second 

estimator for estimating a power density spectrum of a 
difference signal representing the difference between the 

input digital audio signal and the output digital audio 
signal; a third estimator for estimating a perceptual spectrum 

distance based on the power density spectrum of the difference 
signal and the frequency masking threshold; and a fourth 

estimator for estimating the audio distortion between the 
input digital audio signal and the output digital audio signal 

by multiplying the estimated perceptual spectrum distance with 
a weight factor calculated by using the power density 

spectrums of a current frame and its at least one previous 
frame of the input digital audio signal. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
DAEWOO ELECTRONICS CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
DAE WOO ELECTRONICS CO LTD
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KWON SOON-KEON SSANGYONG APT
</INVENTOR-NAME>
<INVENTOR-NAME>
KWON SOON-KEON SSANGYONG APT -
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an apparatus and method 
for evaluating an audio distortion in an audio system; and, 
more particularly, to an improved apparatus and method for 
providing an evaluation of an audio distortion consistent with 
actual human auditory perception by using both frequency and 
time masking effects. An audio distortion measuring device is normally used to 
evaluate the performance of an audio system: for the 
performance or quality of an audio system is generally 
measured based on the level of "distortions". The audio 
distortions are usually measured in terms of "Total Harmonic 
Distortion (THD)" and "Signal to Noise Ratios (SNR)", wherein 
said THD is a RMS (root-mean-square) sum of all the individual 
harmonic-distortion components and/or IMD's(Intermodulation 
Distortions) which consist of sum and difference products 
generated when two or more signals pass through an audio 
system; and said SNR represents the ratio, in decibels, 
between the amplitude of an input signal and the amplitude of 
an error signal.  However, such THD or SNR measurement is a physical value 
which has no direct bearing on the human auditory faculty or 
perception. As a result, a listener may feel that a sound 
produced by an audio system having a greater THD (or less SNR) 
is less distorted than the one produced by a system having a 
lower THD (or greater SNR). Consequently, various techniques or devices for 
realistically evaluating audio distortions have been proposed. 
One of such devices is disclosed in U.S. Patent No. 4,706,290, 
which comprises a primary and a secondary networks for the 
measurement of loudspeaker subharmonics so that the results 
obtained will approximate the human auditory perception. However, as this apparatus serves to measure weighted 
harmonic distortions in the time domain, the results do not 
best reflect how the human auditory faculty actually 
functions Further, the apparatus has to employ various 
analog circuitries, rendering it rather difficult to precisely 
adjust the circuit parameters up to a desired level in, e.g., 
a high fidelity stereo system.  It is, therefore, a primary object of the invention to 
provide an improved apparatus and method for evaluating an 
audio distortion by considering both the frequency and the 
time masking effects of the audio distortion so that the 
results obtained thereby have a realistic correspondence to 
the actual human auditory perception. As used herein, the term "time masking effect" represents 
a phenomenon wherein the
</DESCRIPTION>
<CLAIMS>
An apparatus for use in an audio system for evaluating an 
audio distortion, on a frame-by-frame basis, arising between 

an input digital audio signal to the audio system and an 
output digital audio signal from the audio system wherein said 

input and output digital audio signals include a plurality of 
frames, respectively, which comprises: 

   first estimation means for estimating a power density 
spectrum for a current frame of the input digital audio 

signal; 
   means for determining a frequency masking threshold based 

on the power density spectrum for the current frame of the 
input digital audio signal; 

   second estimation means for estimating a power density 
spectrum of a difference signal representing the difference 

between the current frame of the input digital audio signal 
and its corresponding frame of the output digi
tal audio 
signal; 

   third estimation means for estimating a perceptual 
spectrum distance based on the power density spectrum of the 

difference signal and the frequency masking threshold, and 
   fourth estimation means for estimating the audio 

distortion between the current frame of the input digital 
audio signal and its corresponding frame of the output digital 

audio signal by multiplying the estimated perceptual spectrum 
 

distance with a weight factor calculated by using the power 
density spectrums of the current frame and its at least one 

previous frame of the input digital audio signal. 
The apparatus as recited in claim 1, wherein each of the 
frames has N audio samples and the perceptual spectrum 

distance(PSD) is calculated as: 
 

wherein k = 0, 1,...,(N/2)-1 with N being a positive integer, 
E(k) is the power density spectrum of the difference signal, 

and M(k) is the frequency masking threshold. 
The apparatus as recited in claim 2, wherein the first 
and the second estimation means include means for windowing 

the input digital audio signal and the difference signal. 
The apparatus as recited in claim 3, wherein the power 
density spectrum for the current frame of the input digital 

audio signal, X(k), is determined as: 
 

wherein 
w(n) = x(n)·h(n)  

, h(n) is a hanning window for the 
windowing mean, ω is 2πkn/N, k=0,1,2,.., (N/2)-1 and 

 
n=0,1,2,..., N-1. 
The apparatus as recited in claim 4, wherein the hanning 
window for the windowing means, h(n), is represented as:h(n) = 0.5 √8/3{1 - cos(2πn/N)} 
The apparatus as recited in claim 5, wherein the fourth 
estimation means includes: 

   weight factor calculation means for calculating the 
weight factor based on a maximum power density level of each 

of the power density spectrums of the current frame and its at 
least one previous frame of the input digital audio signal; 

   delay means for delaying the weight factor for a 
predetermined time period to thereby generate a delayed weight 

factor synchronized with the perceptual spectrum distance; and 
   means for multiplying the perceptual spectrum distance 

with the delayed weight factor. 
The apparatus as recited in claim 6, wherein the weight 
factor for the current frame, W(i), is determined as: 

 
wherein i is an index denoting the current frame; (i-1), an 

 
index denoting the previous frame; MP(i), the maximum power 

density level of the current frame of the input digital audio 
signal; and MP(i-1), the maximum power density level of the 

previous frame of the input digital audio signal. 
A method for use in an audio system for evaluating an 
audio distortion, on a frame-by-frame basis, arising between 

an input digital audio signal to the audio system and an 
output digital audio signal from the audio system wherein said 

input and output digital audio signals include a plurality of 
frames, respectively, comprising the steps of: 

   estimating a power density spectrum for a current frame 
of the input digital audio signal; 

   determining a frequency masking threshold based on the 
power density spectrum for the current frame of the input 

digital audio signal; 
   estimating a power density spectrum of a difference 

signal representing the difference between the current frame 
of the input digital audio signal and its corresponding frame 

of the output digital audio signal; 
   estimating a perceptual spectrum distance based on the 

power density spectrum of the difference signal and the 
frequency masking threshold; and estimating the audio 

distortion between the current frame of the input digital 
audio signal and its corresponding frame of the output digital 

audio signal by multiplying the estimated perceptual spectrum 
 

distance with a weight factor calculated by using the power 
density spectrums of the current frame and its at least one 

previous frame of the input digital audio signal. 
The method as recited in claim 8, wherein each of the 
frames has N audio samples and the perceptual spectrum 

distance(PSD) is calculated as; 
 

wherein k = 0, 1,...,(N/2)-1 with N being a positive integer, 
E(k) is the power density spectrum of the difference signal, 

and M(k) is the frequency masking threshold. 
The method as recited in claim 9, wherein both of the 
steps of estimating the power density spectrums of the input 

digital audio signal and the difference signal include steps 
for windowing the input digital audio signal and the 

difference signal, respectively. 
The method as recited in claim 10, wherein the power 
density spectrum for the current frame of the input digital 

audio signal, X(k), is determined as: 

 

wherein 
w(n) = x(n)·h(n)  

, h(n) is a hanning window, ω is 
2πkn/N, k=0,1,2,.., (N/2)-1 and n =0,1,2,..., N-1. 
The method as recited in claim 13, wherein the hanning 
window, h(n), is represented as:h(n) = 0.5√8/3{1 - cos(2πn/N)} 
The method as recited in claim 12, wherein the step of 
estimating the audio distortion of the current frame includes 

the steps of: 
   calculating the weight factor based on a maximum power 

density level of each of the power density spectrums of the 
current frame and its at least one previous frame of the input 

digital audio signal; 
   delaying the weight factor for a predetermined time 

period to thereby generate a delayed weight factor 
synchronized with the perceptual spectrum distance; and 

   multiplying the perceptual spectrum distance with the 
delayed weight factor. 
The method as recited in claim 13, wherein the weight 
factor for the current frame, W(i), is determined as: 


 
wherein i is an index denoting the current frame; (i-1), an 

index of the previous frame; MP(i), the maximum power density 
level of the current frame of the input digital audio signal; 

and MP(i-1), the maximum power density level of the previous 
frame of the input digital audio signal. 
</CLAIMS>
</TEXT>
</DOC>
