<DOC>
<DOCNO>EP-0636299</DOCNO> 
<TEXT>
<INVENTION-TITLE>
A METHOD FOR DETECTING AND REMOVING ERRORS EXCEEDING A SPECIFIC CONTRAST IN DIGITAL VIDEO SIGNALS
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N593	H04N521	H04N521	H04N592	H04N594	G11B2018	H04N593	H04N5945	H04N592	G11B2018	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	G11B	H04N	H04N	H04N	G11B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N5	H04N5	H04N5	H04N5	H04N5	G11B20	H04N5	H04N5	H04N5	G11B20	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A method for detecting and removing errors in pictures associated with a picture sequence in digital video signals is disclosed. For this purpose an error detector and a filter for continuous processing of pixels associated with said pictures is used. The error detector detects an error if at least one error pixel, being a pixel with a specific contrast, i.e. difference in pixel intensities, is found when comparing the pixel intensities of pixels belonging to at least two pictures in said picture sequence. The error detector determines an error shape, and the filter which is an adaptive filter, replaces the intensity of a current error pixel with a mathematical function of pixel intensities of the current pixel and pixels surrounding the error shape.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
DV SWEDEN AB
</APPLICANT-NAME>
<APPLICANT-NAME>
DV SWEDEN AB
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
CHRISTENSSON BJOERN
</INVENTOR-NAME>
<INVENTOR-NAME>
WEISS PETER
</INVENTOR-NAME>
<INVENTOR-NAME>
CHRISTENSSON, BJOERN
</INVENTOR-NAME>
<INVENTOR-NAME>
WEISS, PETER
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates generally to a method for detecting and 
removing errors exceeding a specific contrast in digital video 
signals. This is achieved by using an error detector and a 
filter, which continuously process pixels (picture elements) 
associated with pictures in a picture sequence in said digital 
video signals. Digital video signals usually consist of a sequence of 
pictures, whereat the pictures are made up of pixels of interlaced 
video fields. The characteristics of such digital video 
signals are determined by how they were originated, processed, 
transmitted, etc. Below, a picture will be referred to as a 
film frame if the original source material is film, whereas a 
picture will be referred to as a video field if the original 
source is video. Conversely, the word "picture" will in some 
cases mean a "field". Dependent upon the origin, the digital video signals may contain 
various characteristic high contrast, peak white or peak 
black errors. More specifically this may refer to the presence 
of areas with large differences in pixel values, where the 
areas are adjacent within one picture, or where the areas have 
corresponding coordinates in different pictures. Film originated errors, when film has been transferred to 
video, usually belong to two or three consecutive fields and 
are usually caused by scratches or dust. Such film originated 
errors differ from video originated errors, which are normally 
part of only one field, e.g. video transmission errors caused 
by FM-threshold noise resulting in a typical one-dimensional 
pattern when the picture sequence is monitored.  
 Known methods for detecting and removing errors exceeding a 
specific contrast in digital video signals include linear and 
non-linear processing within one picture or between pictures 
in the picture sequence. These methods usually include an 
error detection part and a filtering part such as in US-A- 4 825 440. There are methods 
wherein the filtering part is controlled by an external 
triggering device. A difficulty in known methods is that the detection is 
incapable of accurately separating image and error information 
contained in the video signals, thus giving large side-effects 
in loss of resolution or distortion, as well as inability to 
adapt the filtering in real-time according to specific shapes 
of errors which are to be removed. The present invention concerns an improved method for detecting 
and removing errors exceeding a specific contrast in 
digital video signals and is specially adapted
</DESCRIPTION>
<CLAIMS>
A method for detecting and removing errors in pictures 
associated with a picture sequence (102) in digital video 

signals, by using an error detector (107) and a filter (103) 
for continous processing of pixels associated with said pictures,
characterized
 in that said error detector (107) 
detects an error if at least one error pixel, being a pixel 

with a contrast above a specific contrast, i.e. difference in pixel intensities, 
is found when comparing the pixel intensities of pixels 

belonging to at least two pictures (201, 202, 204) in said 
picture sequence, and in that said error detector determines 

an error shape of a detected error, said error shape being a 
group of pixels consisting of said error pixel and adjacent 

pixels with said specific contrast, if any, and in that said 
filter (103) is an adaptive filter which, on the basis of said error shape and when a current pixel 

is an error pixel, replaces the intensity of said current 
pixel with an intensity being a mathematical function of pixel 

intensities of pixels within and outside said error shape as well as pixels associated with at least one preceding picture and at least one following picture in the picture sequence, 
whereas a current pixel that is not an error pixel is bypassed 

through said adaptive filter. 
A method as defined in claim 1, wherein said error 
detector (107) uses an analysing window (203) centered around 

the position of said current pixel, in three consecutive 
pictures (201, 202, 204) in said picture sequence (102). 
A method as defined in claim 2, wherein said error 
detector (107), for said analysing window, calculates two 

difference matrices (207, 206) describing differences in pixel 
intensities for a current picture (202) in relation to a previous 

picture (204) and to a following picture (201) of said 
three consecutive pictures, wherein immediately adjacent 

pixels giving differences, which exceed a predetermined level 
and have corresponding signs in both said difference matrices, 

correspond to said error shape.  
 
A method as defined in claim 2, wherein said error detector 
(107) for said analysing window (203), calculates a difference 

matrix (210) describing inter-picture activity which is 
used in order to improve error detection accuracy. 
A method as defined in claim 1, wherein said error 
detector (107) also uses motion information (111) about said 

pictures in order to improve error detection accuracy, said 
information being supplied by a motion vector estimator (110). 
A method as defined in claim 2, wherein said error 
detector (107) also uses motion information (111) belonging to 

said analysing window (203) in said pictures in order to improve 
error detection accuracy, said information being 

supplied by a motion vector estimator (110). 
A method as defined in claim 1, wherein said pixels surrounding 
said current pixel, are distributed isotropically, 

i.e. in all three dimensions, relatively to said current 
pixel. 
A method as defined in claims 1, wherein the origin of 
said picture sequence determines expected characteristics of 

errors as well as in what order pixels associated with said 
three consecutive pictures are located in said digital video 

signals, and wherein said origin is input to said error detector 
and to said adaptive filter for the purpose of selecting 

which pixels to include in processing, calculation, and 
filtering, respectively. 
A method as defined in claim 1, wherein said mathematical 
function is a mathematical median value of said pixel intensities 

of said pixels, of which a greater number are located 
outside than within said error shape.  

 
A method as defined in any of the above claims, wherein 
said error detector (107) calculates a confidence
 value 
corresponding to the likelihood that a current pixel has been 

correctly detected as an error pixel, the calculation of said 
confidence value being based on said difference matrices and 

said motion information, if any, whereon said confidence value 
is used for controlling a mixing of unprocessed pixels and 

pixels resulting from said continous processing. 
</CLAIMS>
</TEXT>
</DOC>
