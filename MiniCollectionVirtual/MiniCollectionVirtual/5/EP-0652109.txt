<DOC>
<DOCNO>EP-0652109</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Device and method for printing characters on tape
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F312	B41J530	B41J530	G06F312	B41J2485	B41J336	B41J3407	B41J2485	B41J2100	B41J2100	B41J336	B41J3407	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	B41J	B41J	G06F	B41J	B41J	B41J	B41J	B41J	B41J	B41J	B41J	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F3	B41J5	B41J5	G06F3	B41J2	B41J3	B41J3	B41J2	B41J21	B41J21	B41J3	B41J3	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A tape printing device which prints an input text 
consisting of one or more lines of characters on tape. 

In case of this tape printing device, a judgement portion 
(21a) judges whether the number of lines of characters of 

the input text is not less than two, and whether or not 
a character-size entrusting mode, in which a character 

size to be assigned to each line is automatically 
determined, is selec
ted. Subsequently, in case where the 
character-size entrusting mode is selected and the number 

of lines of characters of the input text is not less than 
two, a character-size determination portion (21b, 22a) 

generates length information representing a length of 
each line, to which a same character size is assigned, 

and determines the character-size attribute of each line 
according to the length information in such a manner to 

equalize lengths of at least two longest lines of 
characters of the input text. Thereafter, a print 

portion (31, 32) performs a printing of the input text 
according to the determined character-size attribute of 

each line (112). 

 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
KING JIM CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
SEIKO EPSON CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
KING JIM CO., LTD.
</APPLICANT-NAME>
<APPLICANT-NAME>
SEIKO EPSON CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
TOYOSAWA YOSHIYA
</INVENTOR-NAME>
<INVENTOR-NAME>
WATANABE KENJI
</INVENTOR-NAME>
<INVENTOR-NAME>
TOYOSAWA, YOSHIYA
</INVENTOR-NAME>
<INVENTOR-NAME>
WATANABE, KENJI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention generally relates to a device and a
method for printing characters on tape (hereunder
sometimes referred to simply as a tape printing device
and a tape printing method, respectively), by which an
input "text" consisting of a plurality of lines (or rows)
of characters (incidentally, in the instant application,
the term "text" means one or more lines of characters)
can be printed on the tape, thereby creating a label.
More particularly, this invention relates to a tape
printing device being capable of determining the size of
characters to be printed (hereunder sometimes referred to
simply as the character size) on each line of an input
text automatically (incidentally, a line pitch (namely,
the distance between adjacent lines of a text) may be
also determined). Further, this invention relates to a
tape printing method, by which the character size (and
the line pitch) can be automatically determined.
Additionally, in the instant application, the term "a
character" should be interpreted as a letter, digit or
any other symbol.Generally, a tape printing device is operative to
print an input text on a part of continuous tape if
necessary, and is also operative to cut off a printed 
part (or piece) from the tape and thereafter eject the
cut part of the tape therefrom. Recently, in view of the
fact that a piece cut off from tape (hereunder sometimes
referred to simply as a label) is put to a number of use,
there has been proposed a tape printing device which can
print not only an input text consisting of a single line
of characters but another input text consisting of two or
more lines of characters on a label.In case of such a tape printing device, a user can
designate or specify the number of lines of characters of
an input text, the size of the characters and a line
pitch, freely. However, in case of the conventional tape
printing device, the size of the characters of and the
line pitch corresponding to each line are designated
separately from each other. Therefore, especially, in
case where an input text consists of a large number of
lines of characters, it takes a great deal of time to
perform the designating of the character sizes and the
line pitches on all of the lines of the characters of the
text. Thus, the conventional tape printing device is
very inconvenient to use. Practically, in case where the
tape loaded in the device is changed into another tape of
different width, a user often wishes that a label
produced from the latter tape has the similar layout of
the text printed thereon.
</DESCRIPTION>
<CLAIMS>
A tape printing device for printing an input text
consisting of one or more lines of characters on tape,

for cutting off a printed part of the tape therefrom and
for ejecting the cut part of the tape, the tape printing

device, comprising:

judgement means (21a) for judging whether the number
of lines of characters of the input text is not less than

two, and whether or not a character-size entrusting mode,
in which a character size corresponding to each line is

automatically determined, is selected;
character-size determination means (21b, 22a) for
generating length information representing a length of

each line, to which a same character size is assigned, in
case where it is judged by the judgement means that the

character-size entrusting mode is selected and the number
of lines of characters of the input text is not less than

two, and for determining character-size attribute of each
line according to the length information to equalize

lengths of at least two longest lines of characters of
the input text; and
print means (31, 32, 33, 34) for printing the input
text according to the character-size attribute of each

line, which is determined by the character-size
determination means.
The tape printing device as set forth in claim 1, 
wherein the character-size determination means (21b, 22a)

includes:

first means (101, 102) for generating the length
information representing the length of each of the lines,

which is obtained in case where the same character size
is assigned to all of the lines;
second means (103 to 108) for tentatively
determining a character size to be assigned to each of

remaining lines other than the longest lines according to
the length information so as to make the length of each

of the remaining lines, which is calculated on the basis
of the character size assigned thereto, equal to the

length of the longest line;
second judgement means (109, 110) for judging
whether or not a total sum of transverse sizes of all of

the lines exceeds a predetermined limited size, the total
sum being calculated on the basis of the character size

assigned by the first means (101, 102) to the longest
line and the character sizes which are respectively

assigned to the remaining lines and determined
tentatively by the second means (103 to 108);
means (110) for determining the character size
assigned by the first means (101, 102) to the longest

line and the character sizes respectively assigned to the
remaining lines and determined tentatively by the second

means (103 to 108) as the character size attributes of
the lines in case where it is judged by the second

judgement means (109, 110) that the total sum of the 
transverse sizes of all of the lines does not exceed the

predetermined limited size; and
means (111) for multiplying each of the character
size, which is assigned by the first means (101, 102) to

the longest line, and the character sizes, which are

respectively assigned to the remaining lines and
determined tentatively by the second means (103 to 108),

by a coefficient, which is determined according to the
limited size and the total sum of the transverse sizes of

the lines, in case where it is judged by the second
judgement means (109, 110) that the total sum of the

transverse sizes of all of the lines exceeds the
predetermined limited size, and for determining values,

which are obtained by multiplying each of the character
sizes by the coefficient, as character-size attributes of

the lines.
The tape printing device as set forth in claim 1,
wherein the character-size determination means (21b, 22a)

includes:

first means (101, 102) for generating the length
information representing the length of each of the lines,

which is obtained in case where the same character size
is assigned to all of the lines;
second means (103 to 108) for tentatively
determining a character size to be assigned to each of

remaining lines other than the longest lines according to
the length information so as to make the length of each 

of the remaining lines, which is calculated on the basis
of the character size assigned thereto, equal to the

length of the longest line; and
means (120, 121) for dividing a predetermined
limited size of a width of the tape into values

respectively corresponding to all of the lines in
proportion to a ratio among the character size assigned

by the first means (101, 102) to the longest line and the
character sizes of the remaining lines determined by the

second means (103 to 108), and for determining the values
as character sizes assigned to all of the lines,

respectively.
The tape printing device as set forth in claim 1,
wherein the character-size determination means (21b, 22a)

includes:

first means (101, 102) for generating the length
information representing the length of each of the lines,

which is obtained in case where the same character size
is assigned to all of the lines;
second means (103, 104, 131 to 134) for tentatively
determining a character size to be assigned to each of

remaining lines other than the longest lines according to
the length information so as to make the length of each

of the remaining lines, which is calculated on the basis
of the character size assigned thereto, become as close

as possible to the length of the longest line; and
means (150 to 155) for selecting a combination of 
the character sizes, the ratio among which is closest to

a ratio among the character size assigned by the first
means (101, 102) to the longest line and the character

sizes of the remaining lines tentatively determined by
the second means (103, 104, 131 to 134), from permissive

combinations of character sizes preliminarily determined
depending on the number of lines of characters of the

input text, and for determining the character sizes of
the selected combination as the character sizes assigned

to all of the lines, respectively.
The tape printing device as set forth in claim 1,
wherein the character-size determination means (21b, 22a)

includes:

means (101, 102) for generating the length
information representing the length of each of the lines,

which is obtained in case where the same character size
is assigned to all of the lines;
selection means (160 to 165) for selecting, from
predetermined combinations of character sizes

respectively corresponding to the lines, one of the
combination of the character sizes corresponding to the

smallest difference in length between the longest line
and a second longest line determined according to the

length information, the length of the longest line being
calculated on the basis of a smallest character size

among the character sizes of the predetermined
combinations, the length of the second longest line being 

calculated on the basis of a second smallest character
size among the character sizes of the predetermined

combinations; and
means (166) for determining a smallest character
size and a second smallest character among the character

sizes of the selected combination as character-size
attributes of the longest line and the second line

determined according to the length information,
respectively.
The tape printing device as set forth in claim 5,
wherein the character-size determination means (21b, 22a)

further comprises means (167, 168) for determining the
character-size attributes of remnant lines, to each of

which no character size has already been assigned, in
case where the number of lines of characters of the input

text is not less than three, by iteratively assigning a
smallest one of current unassigned character sizes of the

selected combination to a longest one of current remnant
lines until the character sizes are assigned to all of

the lines of characters of the input text.
A tape printing method for printing an input text
consisting of one or more lines of characters on tape,

for cutting off a printed part of the tape therefrom and
for ejecting the cut part of the tape, the tape printing

method, comprising the steps of:

generating length information representing a length 
of each line, to which a same character size is assigned,

in case where the character-size entrusting mode is
selected and the number of lines of characters of the

input text is not less than two, and determining
character-size attribute of each line according to the

length information to equalize lengths of at least two
longest lines of characters of the input text (101 to

111, 120, 121, 130 to 140, 150 to 155); and
printing the input text according to the character-size
attribute, which is determined by the step (101 to

111, 120, 121, 130 to 140, 150 to 155) of determining the
character-size attribute of each line (112).
The tape printing method as set forth in claim 7,
wherein the step (101 to 111, 120, 121, 130 to 140, 150

to 155) of generating length information representing a
length of each line and determining character-size

attribute of each line includes:

a first sub-step (101, 102) of generating the length
information representing the length of each of the lines,

which is obtained in case where the same character size
is assigned to all of the lines;
a second sub-step (103 to 108) of tentatively
determining a character size to be assigned to each of

remaining lines other than the longest lines according to
the length information so as to make the length of each

of the remaining lines, which is calculated on the basis
of the character size assigned thereto, equal to the 

length of the longest line;
a third sub-step (109, 110) of judging whether or
not a total sum of transverse sizes of all of the lines,

which is calculated on the basis of the character size
assigned in the first sub-step (101, 102) to the longest

line and the character sizes respectively assigned to the
remaining lines and determined tentatively in the second

sub-step (103 to 108), exceeds a predetermined limited
size;
a fourth sub-step (110) of determining the character
size assigned in the first sub-step (101, 102) to the

longest line and the character sizes respectively
assigned to the remaining lines and determined

tentatively in the second sub-step (103 to 108) as the
character size attributes of the lines, in case where it

is judged in the third sub-step (109, 110) that the total
sum of the transverse sizes of all of the lines does not

exceed the predetermined limited size; and
a fifth sub-step (111) of multiplying each of the
character size, which is assigned in the first sub-step

(101, 102) to the longest line, and the character sizes,
which are respectively assigned to the remaining lines

and determined tentatively in the second sub-step (103 to
108), by a coefficient, which is determined according to

the limited size and the total sum of the transverse
sizes of the lines, in case where it is judged in the

third sub-step (109, 110) that the total sum of the
transverse sizes of all of the lines exceeds the 

predetermined limited size, and of determining values,
which are obtained by multiplying each of the character

sizes by the coefficient, as character-size attributes of
the lines.
The tape printing method as set forth in claim 7,
wherein the step (101 to 111, 120, 121, 130 to 140, 150

to 155) of generating length information representing a
length of each line and determining character-size

attribute of each line includes:

a first sub-step (101, 102) of generating the length
information representing the length of each of the lines,

which is obtained in case where the same character size
is assigned to all of the lines;
a second sub-step (103 to 108) of tentatively
determining a character size to be assigned to each of

remaining lines other than the longest lines according to
the length information so as to make the length of each

of the remaining lines, which is calculated on the basis
of the character size assigned thereto, equal to the

length of the longest line; and
a third sub-step (120, 121) of dividing a
predetermined limited size of a width of the tape into

values respectively corresponding to all of the lines in
proportion to a ratio among the character size assigned

in the first sub-step (101, 102) to the longest line and
the character sizes of the remaining lines determined in

the second sub-step (103 to 108), and of determining the 
values as character sizes assigned to all of the lines,

respectively.
The tape printing method as set forth in claim 7,
wherein the step (101 to 111, 120, 121, 130 to 140, 150

to 155) of generating length information representing a
length of each line and determining character-size

attribute of each line includes:

a first sub-step (101, 102) of generating the length
information representing the length of each of the lines,

which is obtained in case where the same character size
is assigned to all of the lines;
a second sub-step (103, 104, 131 to 134) of
tentatively determining a character size to be assigned

to each of remaining lines other than the longest lines
according to the length information so as to make the

length of each of the remaining lines, which is
calculated on the basis of the character size assigned

thereto, become as close as possible to the length of the
longest line; and
a third sub-step (150 to 155) of selecting a
combination of the character sizes, the ratio among which

is closest to a ratio among the character size assigned
in the first sub-step (101, 102) to the longest line and

the character sizes of the remaining lines tentatively
determined in the second sub-step (103, 104, 131 to 134),

from permissible combinations of character sizes
preliminarily determined depending on the number of lines 

of characters of the input text, and of determining the
character sizes of the selected combination as the

character sizes assigned to all of the lines,
respectively.
The tape printing method as set forth in claim 7,
wherein the step (101 to 111, 120, 121, 130 to 140, 150

to 155) of generating length information representing a
length of each line and determining character-size

attribute of each line includes:

a first sub-step (101, 102) of generating the length
information representing the length of each of the lines,

which is obtained in case where the same character size
is assigned to all of the lines;
a second sub-step (160 to 165) of selecting, from
predetermined combinations of character sizes

respectively corresponding to the lines, one of the
combination of the character sizes corresponding to the

smallest difference in length between the longest line
and a second longest line determined according to the

length information, the length of the longest line being
calculated on the basis of a smallest character size

among the character sizes of the predetermined
combinations, the length of the second longest line being

calculated on the basis of a second smallest character
size among the character sizes of the predetermined

combinations; and
a third sub-step (166) of determining a smallest 
character size and a second smallest character among the

character sizes of the combination, which is selected in
the second sub-step, as character-size attributes of the

longest line and the second line determined according to
the length information, respectively.
The tape printing method as set forth in claim 11,
wherein the step (101 to 111, 120, 121, 130 to 140, 150

to 155) of generating length information representing a
length of each line and determining character-size

attribute of each line further includes a sub-step (167,
168) of:


determining the character-size attributes of remnant
lines, to each of which no character size has already

been assigned, in case where the number of lines of
characters of the input text is not less than three, by

iteratively assigning a smallest one of current
unassigned character sizes of the combination, which is

selected in the second sub-step, to a longest one of
current remnant lines until the character sizes are

assigned to all of the lines of characters of the input
text.
The tape printing method as set forth in claim 7,
wherein the step (101 to 111, 120, 121, 130 to 140, 150

to 155) of generating length information representing a
length of each line and determining character-size

attribute of each line include: 

a first sub-step (101, 102) of generating the length
information representing the length of each of the lines,

which is obtained in case where the same character size
is assigned to all of the lines;
a second sub-step (103, 104, 131 to 134) of
tentatively determining a character size to be assigned

to each of remaining lines other than the longest lines
according to the length information so as to make the

length of each of the remaining lines, which is
calculated on the basis of the character size assigned

thereto, become as close as possible to the length of the
longest line;
a third sub-step (135, 136) of judging whether or
not a total sum of transverse sizes of all of the lines,

which is calculated on the basis of the character size
assigned in the first sub-step (101, 102) to the longest

line and the character sizes respectively assigned to the
remaining lines and determined tentatively in the second

sub-step (103, 104, 131 to 134), exceeds a predetermined
limited size;
a fourth sub-step (136) of determining the character
size assigned in the first sub-step (101, 102) to the

longest line and the character sizes respectively
assigned to the remaining lines and determined

tentatively in the second sub-step (103, 104, 131 to 134)
as the character size attributes of the lines in case

where it is judged in the third sub-step (135, 136) that
the total sum of the transverse sizes of all of the lines 

does not exceed the predetermined limited size;
a fifth sub-step (137, 138) of judging whether or
not there is a combination of the character sizes, each

of which is smaller than and is ranked next to the

character size tentatively determined, and which
combination satisfies a condition that a ratio among the

character sizes of the combination is equal to a ratio
among the character size assigned in the first sub-step

(101, 102) to the longest line and the character sizes
respectively assigned to the remaining lines and

determined tentatively in the second sub-step (103 to
108), in case where it is judged in the third sub-step

(135, 136) that the total sum of the transverse sizes of
all of the lines exceeds the predetermined limited size;
a sixth sub-step (139) of determining the
combination of the character sizes, each of which is

smaller than and is ranked next to the character size
tentatively determined, as character size attributes of

all of the lines, in case where it is judged in the fifth
sub-step (137, 138) that there is the combination of the

character sizes; and
a seventh sub-step (140) of replacing the character
size assigned in the first sub-step (101, 102) to the

longest line with a character size which is smaller than
and is ranked next to the character size assigned in the

first sub-step, and of repeatedly performing processes of
the third sub-step to the sixth sub-step, in case where

it is judged in the fifth sub-step (137, 138) that there 
is not the combination of the character sizes.
</CLAIMS>
</TEXT>
</DOC>
