<DOC>
<DOCNO>EP-0621458</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Electronic survey Instrument
</INVENTION-TITLE>
<CLASSIFICATIONS>G09B2500	G01C1500	G06F130	G01C100	G01C1500	G06F130	G09B2506	G01C102	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G09B	G01C	G06F	G01C	G01C	G06F	G09B	G01C	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G09B25	G01C15	G06F1	G01C1	G01C15	G06F1	G09B25	G01C1	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An electronic survey instrument which is 
controlled in accordance with a computer program to 

restore normally a display image and a count value 
immediately before a power cut-off time when a power 

source is cut off and then resumed. The instrument 
includes a main system for operating in accordance with 

a survey program, and plural subsystems for operating 
based on a control signal from the main system. The 

main system includes resume means for saving 
information into a memory immediately before a power-off 

time and restoring the information saved in the 
memory at the next power-on time; means for storing end 

information representing that information has been 
saved into a memory to cut normally a power source off; 

and means for canceling an information restoring 
process by the resume means at the next power-on time 

when the end information has not been stored in the 
memory means. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NIPPON KOGAKU KK
</APPLICANT-NAME>
<APPLICANT-NAME>
NIKON CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KISHIMOTO HIROSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
KISHIMOTO, HIROSHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an electronic
survey instrument.Recently, as for various survey instruments having
distance and angle measuring functions, many electronic
survey instruments which are controlled based on a
computer program have been proposed.In the conventional electronic survey instruments,
since a data recorder connected to a survey instrument
records survey data, when the power source therefor is
cut off during surveying or after a surveying
completion, the measurement data are stored on a
recording portion in the data recorder. However, a
display image and count values displayed on a display
device of the survey instrument are cleared due to a
power-off operation. Hence, when the system is resumed
by the next power-on operation, it is needed to update
a display image and to load it to a predetermined count
value. GB-A-2 229 822 discloses an electronic survey instrument having a main system
operating according to a surveying program, subsystems connected to the main
system, a keyboard and a display. Such systems usually comprise a resume
function intended to save current data immediately prior to a power cut-off.EP-A-0 415 376 discloses a system having a resume function for saving data in
case of a power turn-off. Even when the system is not in the resume mode, the
main system (CPU) data are saved and the power supply is turned off, if the
battery is dismounted or the display section is removed from the body of the
computer unit. The present invention
provides an electronic survey instrument which can
restore normally a display image, count values and so
on immediately before a power-off time, when a power
source is cut off and then resumed.Particularly, in the case where a power source is
unexpectedly cut off or a battery, for example, is
suddenly taken out, a runaway (or a crush) may occur at
the time of the next power-on operation because a
program will seek for information which should be
restored from a memory in vain or will find improper
information.The object of the present invention to provide
an electronic survey instrument which can restore
information saved in a memory at the following power-on
time only in the case that the latest power-off
operation was normally effected.The electronic survey instrument according to the
present invention includes the features of claim 1. The main system includes resume means for saving
information into a memory immediately before a power
source is cut off and for restoring the information
stored in the memory at the next power-on time;
</DESCRIPTION>
<CLAIMS>
An electronic survey instrument comprising:

a main system which is operated based on a survey program by a main
CPU and produces an operational command;
plural subsystems, each including a respective sub-CPU connected to
said main CPU and comprising a survey subsystem for surveying in

accordance with said operational command, a display subsystem for
displaying a survey result obtained by said survey subsystem in

accordance with said operational command, and a power source
subsystem for controlling power sources for said main CPU, said survey

system, and said display subsystem, in accordance with said operational
command;
resume means having a memory which stores information immediately
before a power source is controllably cut off with said power source

subsystem; and
means for storing end information representing that information has been
stored into said memory while said power source has been normally cut

off;
wherein said resume means restores information stored in said memory
during a control process for turning on said power source again with said

power source subsystem if said end information is being stored in said
memory means, and
wherein establishment of communication of the main CPU with all of the
subsystems is checked and zero point crossing of the elevation angle of 

the instrument is awaited before the resume process of the resume
means is initiated.
An electronic survey instrument according to claim 1, further comprising
cancelling means for invalidating a process done by said resume means

when said power source is turned on again if there is no end information
stored in said memory means.
An electronic survey instrument according to claim 1, wherein said power
source subsystem has a first process mode for cutting off at least one of

said plural subsystems and a second process mode for cutting off all
power sources of said main system and said plural subsystems, and

wherein said resume means operates during a control process for cutting
off said power source under said second process mode.
</CLAIMS>
</TEXT>
</DOC>
