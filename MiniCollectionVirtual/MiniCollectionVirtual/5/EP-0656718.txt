<DOC>
<DOCNO>EP-0656718</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Dual port interface for a computer-based multifunction personal communication system.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04J9900	H04J9900	H04L1264	H04L1264	H04M300	H04M300	H04M342	H04M342	H04M350	H04M353	H04M3533	H04M356	H04M356	H04M700	H04M700	H04M1106	H04M1106	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04J	H04J	H04L	H04L	H04M	H04M	H04M	H04M	H04M	H04M	H04M	H04M	H04M	H04M	H04M	H04M	H04M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04J99	H04J99	H04L12	H04L12	H04M3	H04M3	H04M3	H04M3	H04M3	H04M3	H04M3	H04M3	H04M3	H04M7	H04M7	H04M11	H04M11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A personal communications system enables the 
operator to simultaneously transmit voice and data 

communication to a remote site. The personal 
communications system is equipped with two telephone 

line interfaces to allow connection between two remote 
sites. The connection between the first remote site 

and the local site may operate in a voice over data 
communications mode to simultaneously send compressed 

voice and data. The connection between the local site 
and a second site is a voice only connection allowing 

the first remote site to talk to the second remote 
site without breaking the data communication 

connection between the first site and the local site. 
The second remote site amy be a public telephone 

network. The communication between the first remote 

site and the second remote site through the local site 
may also be a data communication connection, or it may 

also be a voice over data communication connection. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MULTI TECH SYSTEMS INC
</APPLICANT-NAME>
<APPLICANT-NAME>
MULTI-TECH SYSTEMS INC
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DAVIS JEFFREY P
</INVENTOR-NAME>
<INVENTOR-NAME>
SHARMA RAGHU
</INVENTOR-NAME>
<INVENTOR-NAME>
DAVIS, JEFFREY P.
</INVENTOR-NAME>
<INVENTOR-NAME>
SHARMA, RAGHU
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to 
communications systems and in particular to computer 
assisted digital communications having a voice over 
data communications ability which allows feed-through 
communications to a third party. A wide variety of communications 
alternatives are currently available to 
telecommunications users. For example, facsimile 
transmission of printed matter is available through 
what is commonly referred to as a stand-alone fax 
machine. Alternatively, fax-modem communication 
systems are currently available for personal computer 
users which combine the operation of a facsimile 
machine with the word processor of a computer to 
transmit documents held on computer disk. Modem 
communication over telephone lines in combination with 
a personal computer is also known in the art where 
file transfers can be accomplished from one computer 
to another. Also, simultaneous voice and modem data 
transmitted over the same telephone line has been 
accomplished in several ways. There is a need in the art, however, for a 
personal communications system which combines a wide 
variety of communication functions into an integrated 
hardware-software product such that the user can 
conveniently choose a mode of communication and have 
that communication automatically invoked from a menu 
driven selection system. There is a further need in the art for a 
personal communications system which provides a voice 
over data communications mode between a first and 
second party, while allowing a voice communications 
mode between a second and third party thereby allowing  
 
a voice connection between the first and third 
parties. The present disclosure describes a complex 
computer assisted communications system. The subject 
of the present invention is a personal communications 
system which includes components of software and 
hardware operating in conjunction with a personal 
computer. The user interface control software 
operates on a personal computer, preferably within the 
Microsoft Windows® environment. The software control 
system communicates with hardware components linked to 
the software through the personal computer serial 
communications port. The hardware components include 
telephone communication equipment, digital signal 
processors, and hardware to enable both fax and data 
communication with a hardware components at a remote 
site connected through a standard telephone line. The 
functions of the hardware components are controlled by 
control software operating within the hardware
</DESCRIPTION>
<CLAIMS>
A method of making a conference connection in a multifunction 
communications system, comprising the steps of: 


(a) invoking a voice over data communication connection 
between a local site equipped with a local modem and a 

first remote site equipped with a first remote modem; 
(b) receiving a command from the first remote site to 
connect the local site to a second remote site; 
(c) enabling a first voice connection between the local 
modem and the second remote site; and 
(d) enabling a second voice connection between the 
voice portion of the voice over data connection and the 

first voice connection such that a voice path is 
established between the first remote site and the second 

remote site through the local modem. 
A method of switching from data communication to voice-over-data 
communication in a multi-function communications 

system comprising the steps of: 

(a) invoking a voice over data communication connection 
between a local site equipped with a local modem and a 

first remote site equipped with a first remote modem; 
(b) receiving a command from the first remote site to 
connect the local site to a second remote site; 
(c) enabling a voice connection between the local modem 
and the second remote site; 
(d) enabling a voice connection between 
(1) the voice portion of the voice over data 
connection between the first remote modem and the local 

modem, and 
(2) the voice connection between the local modem 
and the second remote site, 

such that a voice path is established between the first 
remote site and the second remote site through the local 

modem. 
A method as claimed in claim 2, in which the step of 
invoking a data communication connection further comprises the 

step of sending CCITT standard modem data packets and 
supervisory packets constructed as a CCITT standard modem 

standard data packet using a header undefined by the CCITT 
standard. 
A method as claimed in claim 2 or claim 3, in which the 
step of enabling a voice over data connection between a local 

site equipped with a local modem and a first remote site 
equipped with a first remote modem, includes the steps of: 


(a) creating an outgoing data packet containing 
conventional digital data; 
(b) creating an outgoing voice packet containing 
digital voice data; 
(c) detecting substantially silent periods having 
absence of voice information in the digital voice data 

and producing in response thereto a silence flag; 
(d) transmitting only outgoing data packets when the 
silence flag indicates the absence of voice information; 

and 
(e) transmitting both the outgoing voice packets and 
the outgoing data packets when the silence flag indicates 

the presence of voice information. 
A method as claimed in any one of claims 2 to 4, in which 
the step of enabling a voice over data connection between a 

local site equipped with a local modem and a first remote site 
equipped with a first remote modem further includes the steps 

of: 

(a) receiving local voice signals from a local user; 
(b) digitizing the voice signals to produce the digital 
voice data; 
(c) compressing the digital voice data into compressed 
digital voice data; and placing the compressed digital 

voice data into the outgoing data packet. 
A method as claimed in any one of claims 2 to 5, in which 
the step of invoking a data communication connection between a 

local site equipped with a local modem and a first remote site 
equipped with a first remote modem further includes the steps 

of invoking a cellular telephone link and periodically 
transmitting a cellular supervisory packet to maintaining the 

connection. 
A personal communication system for use with a telephone 
network and a personal computer, comprising: 


(a) data interface means connected for transferring 
data to and from the personal computer; 
(b) first telephone line interface means for connection 
to a first telephone line; 
(c) second telephone line interface means for 
connection to a second telephone line; 
(d) telephone handset means for receiving local voice 
signals from a local user and for conveying remote voice 

signals from a remote user to the local user; 
(e) full-duplex conversion means connected to the 
telephone handset means for converting the local voice 

signals into outgoing digital voice data and for 
converting incoming digital voice data into the remote 

voice signals; 
(f) voice compression means connected to the full-duplex 
conversion means for compressing the outgoing 

digital voice data into compressed outgoing digital voice 
data, and for decompressing compressed incoming digital 

voice data into the incoming digital voice data; 
(g) main control means connected for: 
   receiving the compressed outgoing digital voice 

data from the voice compression means, 
   receiving outgoing conventional digital data from 

the personal computer through the data interface means, 
   multiplexing and transmitting compressed outgoing 

digital voice data with the outgoing conventional digital 
data, and 

   passing the remote voice signals to the second 
telephone line. 
A system as claimed in claim 7, in which the main control 
means is further operable for detecting silent periods in the 

outgoing digital voice data and for producing in response 
thereto a silence flag, and wherein the main control means is 

further operable for transmitting outgoing conventional digital 
data on the telephone line when the silence flag indicates the 

absence of voice information, and wherein the main control 
 

means is further operable for multiplexing and transmitting 
both the compressed outgoing digital voice data and the 

outgoing conventional digital data on the telephone line when 
the silence flag indicates the presence of voice information. 
A module as claimed in claim 7 or claim 8, in which the 
telephone line includes a cellular telephone link, and wherein 

the main control means is further operable for periodically 
transmitting a cellular supervisory packet on the telephone 

line and for maintaining the link to the remote site over the 
telephone line if the remote site acknowledges receipt of the 

cellular supervisory packet within a predetermined period of 
time and for dropping the link to the remote site over the 

telephone line if the remote site fails to acknowledge receipt 
of the cellular supervisory packet within a predeterm
ined 
period of time. 
A module as claimed in any one of claims 7 to 9, in which 
the digital signal processor means is further operable for 

compressing the outgoing digital voice data into compressed 
outgoing digital voice data by performing the steps of: 


(a) removing any DC bias in the outgoing digital voice 
data to produce a normalized outgoing digital voice 

signal; 
(b) pre-emphasizing the normalized outgoing digital 
voice signal to produce a pre-emphasized outgoing digital 

voice signal; 
(c) dividing the pre-emphasized outgoing digital voice 
signal into segments to produce a current segment and a 

past segment; 
(d) predicting the pitch of the current speech segment 
to form a pitch prediction; 
(e) calculating the gain of the pitch of the current 
speech segment to form a prediction gain; 
(f) reconstructing the past speech segment from a 
compressed past segment to produce a reconstructed past 

segment; 
(g) finding the innovation in the current speech 
segment by comparing the pitch prediction to the 

reconstructed past segment to produce an error signal; 
(h) determining the maximum amplitude in the current 
speech segment; 
(i) quantizing the error signal using a code book 
generated from a representative set of speakers and 

environments to produce a minimum mean squared error 
matching the form of an index into the code book; and 
(j) recording the pitch prediction, the prediction 
gain, the maximum amplitude and the index into the code 

book in a packet as the compressed outgoing digital voice 
data. 
</CLAIMS>
</TEXT>
</DOC>
