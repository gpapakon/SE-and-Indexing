<DOC>
<DOCNO>EP-0637138</DOCNO> 
<TEXT>
<INVENTION-TITLE>
A lock detect circuit.
</INVENTION-TITLE>
<CLASSIFICATIONS>H03L708	H03L7089	H03L7095	H03L7107	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03L	H03L	H03L	H03L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03L7	H03L7	H03L7	H03L7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A lock detect circuit (18) determines when a reference 
frequency and a feedback frequency are frequency locked using a 

reference counter (32) and a feedback counter (36). The reference 
counter (32) and the feedback counter (36) are clocked by the 

reference frequency and the feedback frequency, respectively. 
After a first period of time, the outputs of the counters are 

compared. The outputs of the counters are also compared at the 
end of a second period of time. To be frequency locked, the two 

count values must be equal at both the end of the first and the 
second periods of time. A count window is generated from the 

reference frequency signal to indicate a range of frequencies for 
which the feedback frequency is locked. Once lock is achieved, 

the count window is widened such that the feedback frequency is 
still within a lock range when some aliasing occurs. A phase-locked 

loop (PLL) (10) comprising a phase comparator (12) and a charge pump 
circuit (14) uses an output signal generated by the lock detect circuit 

to enhance the operation of the charge pump circuit so that the PLL (10) 
achieves lock more efficiently. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MOTOROLA INC
</APPLICANT-NAME>
<APPLICANT-NAME>
MOTOROLA, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
SILVEY JOHN M
</INVENTOR-NAME>
<INVENTOR-NAME>
SMALLWOOD J
</INVENTOR-NAME>
<INVENTOR-NAME>
SILVEY, JOHN M.
</INVENTOR-NAME>
<INVENTOR-NAME>
SMALLWOOD, J
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates generally to a phase locked loop, and 
more particularly to a lock detect circuit for detecting a lock 
condition in a phased lock loop. Phase locked loop circuits are well known in the data 
processing art as clock generators which provide stable clock 
signals having predetermined, stable frequencies. The stability 
of each frequency is provided as a result of an iterative process 
which uses a feedback path to compare an output of the phase lock 
loop circuit with an input signal typically provided by a crystal 
oscillator. During execution of this iterative process, a lock detect 
circuit generally indicates that a lock condition has been 
satisfied when the feedback provided by the phase lock loop 
circuit is at a level which is within a certain percentage of a 
crystal oscillator frequency. When lock is first detected, the 
feedback frequency may surpass, or overshoot, the crystal 
oscillator frequency. The feedback frequency is then decreased 
until it is lower than the crystal oscillator frequency. In such a 
case, the feedback frequency continues to oscillate around the 
crystal oscillator frequency of the crystal oscillator until it is 
within the certain percentage of the frequency of the crystal 
oscillator. At that point in time, the phase lock loop is said to 
have achieved lock. However, during the period of time in which 
the feedback frequency is overshooting and undershooting the 
frequency of the crystal oscillator, the lock detect circuit may 
erroneously indicate that lock is achieved. Many variations of the phase lock loop circuit have been 
developed to provide improvements over this technology. For 
example, U.S. Patent 4,929,916, describes a phase lock detection 
circuit which does not generate an erroneous lock signal during  
 
the transient process of the output of the phase lock loop circuit 
towards the crystal oscillator. The phase lock detection circuit 
disclosed in U.S. Patent 4,929, 916 generates a phase lock signal 
only when the output of the phase lock loop circuit satisfies the 
lock condition for a predetermined period of time. If the lock 
condition has been satisfied for the predetermined period of time, 
it may be concluded that a stable locked condition has been 
realized. While the invention described in U.S. Patent 4,929,916 
provides a unique solution to determining a stable lock condition, 
the implementation of the invention requires the use of analog 
signals to perform a phase lock operation. Such use of analog 
signals is well
</DESCRIPTION>
<CLAIMS>
A lock detect circuit (18), comprising: 
   first input means (26) for receiving a reference 

frequency; 
   second input means (30) for receiving a feedback 

frequency; 
   a reference counter (32) coupled to the first input 

means for receiving the reference frequency, the 
reference counter counting to a reference count 

value during a first period of time, the reference 
counter providing a freeze signal to indicate the 

reference counter has reached the reference 
count value; 

   a feedback counter (36) coupled to the second input 
means for receiving the feedback frequency, the 

feedback counter counting for the first period of 
time to generate a feedback count value; 

   comparison means (40) for comparing the feedback 
count value to the reference count value, the 

comparison means asserting the match signal 
when the feedback count value is equal to the 

reference count value and a locked signal is 
negated, the comparison means also asserting 

the match signal when the feedback count value 
is one of a range of lock values and the locked 

signal is asserted, the comparison means being 
coupled to the feedback counter for receiving the 

feedback count value; and 
   a match detector (48) coupled to the comparison 

means for providing the locked signal, the match 
detector asserting the locked signal when the 

comparison means asserts the match signal for 
both a second period of time and a third period 

of time, the third period of time successively 
following the second period of time. 
The lock detect circuit of claim 1 further comprising: 
   a counter control circuit (34) coupled to the reference 

counter for receiving the freeze signal, the 
counter control circuit providing a toggle signal 

to indicate the reference count value is one of a 
first count value and a second count value, 

wherein the first count value is not 
harmonically related to the second count value. 
The lock detect circuit of claim 2 wherein the match signal 
is asserted during the second period of time when the 

feedback count value is equal to the first count value. 
The lock detect circuit of claim 2 wherein the match signal 
is asserted during the third period of time when the 

feedback count value is equal to the second count value. 
A method for detecting lock in a phase lock loop circuit 
(10), comprising the steps of: 


i) receiving a reference frequency signal; 
ii) receiving a feedback frequency signal; 
iii) enabling a reference counter (32) to count for a 
first period of time using the reference 

frequency signal, the reference counter 
providing a first reference count value; 
iv) concurrently enabling a feedback counter (36) to 
count for the first period of time using the 

feedback frequency signal, the feedback counter 
providing a first feedback count value; 
v) comparing (40) the first reference count value 
and the first feedback count value to provide a 

first match signal, the first match signal being 
asserted when the first feedback count value is 

equal to the first reference count value and a 
locked signal is negated; 
vi) providing the first match signal to a match 
detect circuit (48), the match detect circuit 

storing the first match signal therein; 
vii) enabling the reference counter to count for a 
second period of time using the reference 

frequency signal, the reference counter 
providing a second reference count value; 
viii) concurrently enabling the feedback counter to 
count for the second period of time using the 

feedback frequency signal, the feedback counter 
providing a second feedback count value; 
ix) comparing the second reference count value and 
the second feedback count value to provide a 

second match signal, the second match signal 
being asserted when the second feedback count 

value is equal to the second reference count 
value and the locked signal is negated; and 
x) providing the second match signal to the match 
detect circuit, the match detect circuit 

 
asserting the locked signal when both the first 

match signal and the second match signal are 
asserted. 
The method of claim 5 further comprising the steps of: 

xi) enabling the reference counter to count for the 
first period of time using the reference 

frequency signal, the reference counter 
providing the first reference count value; 
xii) concurrently enabling the feedback counter to 
count for the first period of time using the 

feedback frequency signal, the feedback counter 
providing a third feedback count value; 
xiii) comparing the first reference count value and 
the third feedback count value to provide a third 

match signal, the third match signal being 
asserted when the third feedback count value is 

one of a first count value range and the locked 
signal is asserted, the third match signal being 

negated when the third feedback count value is 
not one of the first count value range; 
xiv) if the third match signal is negated, repeating 
each of steps i) through x); 
xv) if the third match signal is asserted, providing 
the third match signal to the match detect 

circuit, the match detect circuit storing the 
third match signal therein; 
xvi) enabling the reference counter to count for the 
second period of time using the reference 

frequency signal, the reference counter 
providing the second reference count value; 
xvii) concurrently enabling the feedback counter to 
count for the second period of time using the 

feedback frequency signal, the feedback counter 
providing a fourth feedback count value; 
xviii) comparing the second reference count value and 
the fourth feedback count value to provide a 

fourth match signal, the fourth match signal 
being asserted when the fourth feedback count 

value is one of a second count value range and 
the locked signal is asserted; and 
xix) if the fourth match signal is negated, repeating 
each of steps i) through x); 
xx) if the fourth match signal is asserted, providing 
the fourth match signal to the match detect 

circuit, the match detect circuit allowing the 
locked signal to remain asserted when both the 

third match signal and the fourth match signal 
are asserted; and 
xxi) repeating each of steps xi) through xx). 
The method of claim 6 wherein the first count value range 
comprises a first plurality of count values wherein each of 

the first plurality of count values corresponds to a 
preselected percentage of the first reference count value. 
The method of claim 6 wherein the second count value range 
comprises a second plurality of count values wherein each 

of the second plurality of count values corresponds to a 
preselected percentage of the second reference count value. 
A phase lock loop system (10), comprising: 
   first interface means (26) for receiving a reference 

frequency signal; 
   second interface means (30) for receiving a feedback 

frequency signal; 

   a phase comparator (12) for comparing a phase of the 
reference frequency signal to a phase of the 

feedback frequency signal, the phase comparator 
providing a frequency control signal in response 

to a difference between the phase of the 
reference frequency signal and the phase of the 

feedback frequency signal, the phase comparator 
having a first input coupled to the first interface 

means for receiving the reference frequency 
signal, the phase comparator having a second 

input coupled to the second interface means for 
receiving the feedback frequency signal; 

   a charge pump (14) coupled to the phase comparator for 
receiving the frequency control signal, the charge 

pump providing a voltage value in response to the 
frequency control signal; 

   a voltage controlled oscillator (16) coupled to the 
charge pump for receiving the voltage value, the 

voltage controlled oscillator providing the 
feedback frequency signal, the feedback 

frequency signal being determined in response to 
the voltage value; and 

   a lock detect circuit (18) for detecting when the 
feedback frequency signal is locked to the 

reference frequency signal, the lock detect 
circuit asserting a locked signal to indicate when 

the feedback frequency signal is locked to the 
reference frequency signal, wherein the lock 

detect circuit comprises: 
   a reference counter (32) coupled to the 

first interface means for receiving 
the reference frequency signal, the 

 
reference counter counting to a 

reference count value during a first 
period of time, the reference counter 

providing a freeze signal to indicate 
the reference counter has reached 

the reference count value; 
   a feedback counter (36) coupled to the 

second interface means for receiving 
the feedback frequency signal, the 

feedback counter counting for the 
first period of time to generate a 

feedback count value; 
   comparison means (40) for comparing the 

feedback count value to the reference 
count value, the comparison means 

asserting a match signal when the 
feedback count value is equal to the 

reference count value and a locked 
signal is negated, the comparison 

means also asserting the match 
signal when the feedback count value 

is one of a range of lock values and 
the locked signal is asserted, the 

comparison means being coupled to 
the feedback counter for receiving 

the feedback count value; 
   a match detector (48) coupled to the 

comparison means for providing the 
locked signal, the match detector 

asserting the locked signal when the 
comparison means asserts a first and 

a second match signal, the first and 
the second match signals being 

successively asserted; and 
   an auxiliary control generator (46) for 

generating an auxiliary control signal 
for enhancing operation of the charge 

 
pump, the auxiliary control signal 

being asserted when the feedback 
count value is equal to an auxiliary 

count value. 
The phase lock loop circuit of claim 9 further comprising: 
   a status register (22) for storing a lock status bit, the 

lock status bit corresponding to a logic state of 
the locked signal, the status register being 

coupled to the lock detect circuit for receiving 
the locked signal. 
</CLAIMS>
</TEXT>
</DOC>
