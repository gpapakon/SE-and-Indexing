<DOC>
<DOCNO>EP-0610688</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processor
</INVENTION-TITLE>
<CLASSIFICATIONS>G06T120	G06F1516	G06T520	G06T520	G06F1576	G06F1580	G06T120	G06F1516	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06T	G06F	G06T	G06T	G06F	G06F	G06T	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06T1	G06F15	G06T5	G06T5	G06F15	G06F15	G06T1	G06F15	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image processor comprising a plurality of processor elements (PE) each having a 
product sum calculating function. Input switching means are incorporated for selection 

of image data so that the desired data in an arbitrary processing step of any one 
processor element can be transferred to an arbitrary processing step of the other 

processor element. Each processor element includes a data writing line memory (LM), 
a multiplier (MPY) for multiplying the output data of the line memory (LM), a register 

file (RF) for storing the multiplied output therein, and an accumulator (ALU) for 
calculating the output of the register file (RF). Pipeline processing of the data can be 

executed in such constitution, and due to the provision of the input switching means in 
the preceding stage of each processing circuit, the image data can be transferred 

between the processor elements to consequently realize enhanced general usability for 
the image processing. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SONY CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SONY CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ANDO TATSUNOBU
</INVENTOR-NAME>
<INVENTOR-NAME>
KUROKAWA NOBORU
</INVENTOR-NAME>
<INVENTOR-NAME>
ANDO, TATSUNOBU
</INVENTOR-NAME>
<INVENTOR-NAME>
KUROKAWA, NOBORU
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a general-purpose
image processor adapted for use in an image data
filtering process or the like.It is customary that an image processor is
designed for exclusive use so as to be suited for a
special processing purpose. Regarding the parallel
processor for dealing with two-dimensional image, there
are known some conventional examples as disclosed in
Japanese Patent Laid-open No. Sho 62 (1987)-208158.The technology described in the above is
concerned with a contrivance where image processing
algorithms are formed into individual circuits according
to the respective functions and are integrated to
constitute a single LSI, so that any specific algorithm
for calculation of a product sum or the like can be
executed fast by inputting parameters.As for the processor operated under
microprogram control, there are also known some 
conventional examples as disclosed in Japanese Patent
Laid-open No. She 63 (1988)-118885. The technology
described in the above is so contrived that four local
processor units are incorporated in a single LSI in such a
manner that each processor unit serves as a multiprocessor
on the basis of a microprogram.Further, there is known from PROC. OF THE IEEE 1998
CUSTOM INTEGRATED CIRCUITS CONFERENCE; 15 May 1989 SAN
DIEGO, CA, USA pages 24.4.1-24.4.4 a image processor with a
reconfigurable pipeline architecture for transferring data
between processor elements. Particularly, this document
discloses a image processor with a common bus for data input
to a plurality of processing elements and a common bus for
collecting the results of said plurality of processing
elements.Since any of such conventional image processors is
designed for a predetermined purpose alone, a fast operation
can be performed in executing a specific algorithm, but
execution of any other algorithm is impossible. And even by
combining a plurality of processors mutually, the
multiprocessor constitution is adapted merely for a specific
algorithm alone due to the disadvantage that data
communication is not realizable between the processors.Because of such lack of the general usability, it
is impossible to attain extension of the processor from a
product sum calculation of, e.g., (3 x 3) size to that of a
(5 x 5) or greater size, or to achieve a higher operation
speed either by employing a plurality of processors for
split processing.If data communication is rendered possible between
processors, it follows that mutual processes of the data in,
e.g., two image memories can be executed to 
consequ
</DESCRIPTION>
<CLAIMS>
An image processor including at least one general-purpose processor unit (PU), each
said general-purpose processor unit (PUi, i= 1, 2, 3...) comprising:


a plurality of processor elements (PEi, i= 1, 2, 3...) each having a product sum
calculating function,
connection means (MUX1, MUX2, MUX10,...) for transferring data between
said plurality of said processor elements (PEi);
each of said processor element (PEi) being adapted to control in time said
connection means (MUX1, MUX2, MUX10,...) such that the data in an arbitrary

processing step during the operation of anyone of said processor elements (PE) can be
transferred to an arbitrary processing step during the operation of any other processor

element (PE) via said connection means.
The image processor according to claim 1, wherein each of said processor elements
comprises a line memory(LM) for writing the data therein, a multiplier (MPY) for

multiplying the output data of said line memory (LM), a register file (RF) for storing
the multiplier output and so forth, and an accumulator (ALU) for calculating the output

of said register file (RF);

   said image processor further having input switching means (MUX) disposed in the
respective preceding stages of the individual processing circuits so as to perform

selection of data.
The image processor according to claim 2, wherein the product sum calculation of
the data is executed by pipeline processing.
The image processor according to claim 2, wherein three general-purpose processor
units (PU) are employed for executing the product sum calculation of image data of (5

pixels x 5 lines), and two of such processor units (PU) are used for the intra-line data 
processing, while the remaining processor unit (PU) is used for the inter-line data

processing.
The image processor according to claim 2, wherein two or more processor elements
(PE) for inputting the data from two or more image memories, respectively, are

employed in processing the mutual data of said two or more image memories, and the
data loaded in the register file of any processor element (PE) can be selectively fed into

the accumulator (ALU), which is incorporated in the other processor element (PE),
through control of the input switching means (MUX) disposed in the preceding stage of

the relevant multiplier (MPY).
The image processor according to claim 5, wherein status data derived from the
calculation results in the accumulators (ALU) incorporated in the two processor

elements (PE) are combined with each other and are used as address data of a
microprogram for the branch condition to be processed next.
The image processor according to claim 1, wherein, when said processor unit (PU)
is used as an image-memory control circuit, the two processor elements (PE) included

therein serve as address generators for said image memories, and the image data read
from said image memories are once stored in the line memories of said processor unit

(PU) while being controlled by the remaining processor element (PE).
</CLAIMS>
</TEXT>
</DOC>
