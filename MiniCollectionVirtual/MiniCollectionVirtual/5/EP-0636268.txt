<DOC>
<DOCNO>EP-0636268</DOCNO> 
<TEXT>
<INVENTION-TITLE>
APPARATUS, METHOD, AND SYSTEM FOR COMPRESSING A DIGITAL INPUT SIGNAL IN MORE THAN ONE COMPRESSION MODE
</INVENTION-TITLE>
<CLASSIFICATIONS>G11B27031	G11B2730	G11B2010	H03M750	G11B27031	G11B2000	H04B166	H03M730	H04B166	H03M730	G11B2000	G11B2730	H03M750	G11B2010	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G11B	G11B	G11B	H03M	G11B	G11B	H04B	H03M	H04B	H03M	G11B	G11B	H03M	G11B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G11B27	G11B27	G11B20	H03M7	G11B27	G11B20	H04B1	H03M7	H04B1	H03M7	G11B20	G11B27	H03M7	G11B20	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An apparatus, method, and system in which a compressed digital signal is derived from a digital input signal (67) by compressing the digital input signal in a selected one of plural compression modes. The digital output signal has a different bit rate in each compression mode, but the digital input signal is received at the same bit rate in all the compression modes. In the method, spectral coefficients are derived from the digital input signal, and are grouped by frequency and by time into bands. Each band has a frequency width, and the frequency width of at least one of the bands is set according to the selected compression mode. The spectral coefficients in each band are quantized to provide quantized spectral coefficients. Finally, the quantized spectral coefficients in each band are included in the compressed digital signal, together with sub information for each band.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SONY CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
SONY CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
AKAGIRI KENZO
</INVENTOR-NAME>
<INVENTOR-NAME>
AKAGIRI, KENZO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to an apparatus, method, and system
in which a compressed digital signal is derived from a digital
input signal using more than one compression mode. The
compressed digital signal has a different bit rate in each
compression mode, but the digital input signal is received at the
same bit rate in all compression modes.The inventor's assignee has proposed in, e.g., United States
Patent Nos. 5,243,588 and 5,244,705, and pending United States
Patent Application serial no. 07/736,046
a technique for
compressing a digital audio input signal and recording the
resulting compressed recording signal in bursts with a
predetermined number of bits of the compressed recording signal
as a recording unit.With this technique, the compressed recording signal is an
adaptive differential PCM (ADPCM) audio signal, and a magneto-optical
disc is used as the recording medium for recording the 
compressed recording signal according to the so-called CD-I
(CD-Interactive) or CD-ROM XA recording signal format. The
compressed recording signal is recorded in bursts on the
magneto-optical disc, with, e.g., 32 sectors of the compressed
recording signal plus several linking sectors as a recording
unit. The linking sectors
are used to accommodate the additional signal generated by
interleaving the compressed recording signal in the 32 sectors.A recording and reproducing apparatus for a magneto-optical
disc may employ one of several recording and reproduction modes
for the compressed recording signal. In the CD-I and CD-XA
formats, recording modes A, B, and C have been defined in which
an uncompressed PCM audio signal, similar to that recorded on a
normal Compact Disk (CD) but with a lower sampling frequency, is
compressed to provide the compressed recording signal for
recording on the magneto-optical disc. Recording mode A has a
sampling frequency of 37.8 kHz, and the PCM audio signal is
compressed by a compression ratio of two; recording mode B has
the same sampling frequency as mode A and compression ratio of
four; and recording mode C has a sampling frequency of 18.9 kHz,
and a compression ratio of eight. In recording mode B, for
example, the PCM audio input signal is compressed by a
compression ratio of four, so that the playback time of a compact
disc on which a mode B recording signal is recorded is four times
that of a disc recorded according to the standard CD format (CD-DA 
format). Using a recording mode in which the PCM audio signal
is compressed enables the size of the recording and reproducing
apparatus
</DESCRIPTION>
<CLAIMS>
Apparatus for compressing a digital input signal in a
selected one of plural compression modes to provide a

compressed digital signal, the plural compression modes
including a first compression mode and a second compression

mode, the compressed digital signal having a higher bit
rate in the first compression mode than in the second

compression mode, the apparatus being characterised by:

deriving means (11-15, 41-45) for deriving from the
digital input signal spectral coefficients grouped by

frequency and time into bands, each band having a frequency
width, the deriving means including frequency width setting

means (40,41) for setting the frequency width of at least
one of the plural bands according to the selected

compression mode and for forming the signal frequency bands
into respective blocks, transform means (13-15) for

generating the spectral coefficients of each set of signal
frequency band blocks, and block length decision means (45)

for setting the block length of the frequency band blocks;
a quantizer (18) receiving the bands of spectral
coefficients from the deriving means (11-15, 41-45), and

providing bands of quantized spectral coefficients; and
combining means (51) for including in the compressed
digital signal the quantized spectral coefficients from the

quantizer (18) and sub information for each band;
wherein, in the first compression mode, the frequency
width setting means (40, 41) sets the frequency width of 

the at least one band to a first frequency width, and, in
the second compression mode, sets the frequency width of

the at least one band to a second frequency width, the
second frequency width being greater than the first

frequency width, wherein the second frequency width is an
integral number of times greater than the first frequency

width, and wherein the block length decision means (45) is
operable to set the block length of the fr
equency band
blocks in accordance with the selected compression mode.
Apparatus according to claim 1, wherein:

the digital input signal is a digital audio signal;
and
the deriving means (11-15, 41-45) groups selected ones
of the spectral coefficients by frequency into bands for

determining quantizing noise and masking, a majority of the
bands having frequency widths set to be broader towards

higher frequencies.
Apparatus according to claim 2, wherein the deriving
means (11-15, 41-45) includes means (40) for receiving the

digital input signal at a fixed sampling frequency, the
sampling frequency being invariable between the compression

modes.
Apparatus according to claim 1 or claim 2, wherein the
deriving means includes:


a low-pass filter (40) having a cut-off frequency set 
according to the selected one of the plural compression

modes, the low-pass filter (40) receiving the digital input
signal, and providing a frequency-limited signal, the cut-off

frequency of the low-pass filter (40) being set to a
higher frequency in the first compression mode than in the

second compression mode; and
means for deriving the spectral coefficients from the
frequency-limited signal.
Apparatus according to claim 4, wherein the deriving
means additionally includes means for receiving the digital

input signal at a fixed sampling frequency, the sampling
frequency being invariable between the compression modes.
Apparatus according to claim 4, wherein:

the quantizer (18) includes adaptive bit allocating
means (20) for allocating quantizing bits among the bands,

the adaptive bit allocating means (20) allocating no
quantizing bits to bands at frequencies substantially

higher than the cut-off frequency of the low-pass filter
(40); and
the combining means (51) includes in the compressed
digital signal no sub information for bands at frequencies

substantially higher than the cut-off frequency of the low-pass
filter (40).
Apparatus according to any one of the preceding
claims, wherein: 


the apparatus additionally includes frequency range
dividing means (11, 12) for dividing the digital input

signal in frequency into a frequency range signal in each
of plural frequency ranges; and
the transform means (13-15) is operable to
orthogonally transform each block of each frequency range

signal to provide the spectral coefficients.
Apparatus according to claim 7, wherein the frequency
range dividing means (11, 12) divides the digital input

signal in frequency into a frequency range signal in each
of plural frequency ranges, each frequency range having a

bandwidth, the frequency ranges including a lowest
frequency range, and a next-lowest frequency range, the

next-lowest frequency range having a bandwidth equal to the
bandwidth of the lowest frequency range.
Apparatus according to claim 7, wherein the frequency
range dividing means (11, 12) divides the digital input

signal in frequency into a frequency range signal in each
of plural frequency ranges, the bandwidth of the frequency

ranges increasing with increasing frequency.
Apparatus according to claim 8 or claim 9, wherein the
deriving means divides the frequency range signal in each

of the frequency ranges above the lowest frequency range
into blocks, each block having a maximum block length, the

maximum block lengths of the blocks being invariable 
between the compression modes.
Apparatus according to claim 7, wherein the deriving
means divides each frequency range signal into blocks, each

block having a block length, the block lengths of the
blocks having a maximum block length depending on the

selected one of the compression modes, the maximum block
length being greater in the second compression mode than in

the first compression mode.
Apparatus according to claim 7 or claim 11, wherein
the frequency range dividing means (11, 12) divides the

digital input signal in frequency into a frequency range
signal in each of plural frequency ranges, each frequency

range having a bandwidth, the frequency ranges including a
lowest frequency range, and a next-lowest frequency range,

the next-lowest frequency range having a bandwidth equal to
the bandwidth of the lowest frequency range.
Apparatus according to claim 12, wherein the frequency
range dividing means (11, 12) divides the digital input

signal in frequency into a frequency range signal in each
of plural frequency ranges, the bandwidth of the frequency

ranges increasing with increasing frequency.
Apparatus according to claim 12, wherein the deriving
means divides the frequency range signals in the frequency

ranges above the lowest frequency range into blocks having 
a maximum block length, the maximum block length being

invariable between the compression modes.
Apparatus according to claim 7 or claim 11, wherein
the apparatus is additionally for deriving an additional

compressed digital signal, the additional compressed
digital signal having a lower bit rate than the compressed

digital signal, and wherein:

the apparatus additionally comprises inverse
orthogonal transform means for inversely orthogonally

transforming the spectral coefficients obtained by
orthogonally transforming one of the frequency range

signals to provide a restored frequency range signal;
additional block dividing means for dividing the
restored frequency range signal in time into blocks, each

block having a block length, the block lengths of the
blocks having a maximum block length greater than the

maximum block length whereinto the block dividing means
divided the frequency range signal; and
additional orthogonal transform means for orthogonally
transforming each block of the restored frequency range

signal from the additional block dividing means.
Apparatus according to claim 7, wherein the frequency
range dividing means comprises:


a low-pass filter (40) having a cut-off frequency set
according to the selected one of the plural compression

modes, the low-pass filter (40) receiving the digital input 
signal and providing a frequency-limited signal, the cut-off

frequency of the low-pass filter (40) being set to a
higher frequency in the first compression mode than in the

second compression mode; and
means (11, 12) for dividing the frequency-limited
signal by frequency to provide the frequency range signal

in each of the plural frequency ranges.
Apparatus according to claim 16, wherein:

the quantizer (18) includes adaptive bit allocating
means (20) for allocating quantizing bits among the bands,

the adaptive bit allocating means (20) allocating no
quantizing bits to bands at frequencies substantially

higher than the cut-off frequency of the low-pass filter
(40) ; and
the combining means (51) includes in the compressed
digital signal no sub information for bands at frequencies

substantially higher than the cut-off frequency of the low-pass
filter (40).
Apparatus according to any one of the preceding

claims, wherein the transform means (13-15) is operable to
perform a modified discrete cosine transform.
A method for compressing a digital input signal in a
selected one of plural compression modes to provide a

compressed digital signal, the plural compression modes
including a first compression mode and a second compression 

mode, the compressed digital signal having a higher bit
rate in the first compression mode than in the second

compression mode, the method being characterised by the
steps of:


deriving from the digital input signal spectral
coefficients grouped by frequency and by time into bands,

each band having a frequency width, the frequency width of
at least one of the bands being set according to the

selected one of the compression modes, the signal frequency
bands being formed into respective blocks before being

transformed to generate the spectral coefficients;
quantizing the spectral coefficients in each band to
provide quantized spectral coefficients; and
combining the quantized spectral coefficients in each
band in the compressed digital signal, together with sub

information for each band;
wherein, in the step of deriving spectral
coefficients, the frequency width of the at least one band

is set to a first frequency width in the first compression
mode and is set to a second frequency width in the second

compression mode, the second frequency width being greater
than the first frequency width, wherein the second

frequency width is an integral number of times greater than
the first frequency width, and wherein the block length of

the frequency band blocks is set in accordance with the
selected compression mode.
A method according to claim 19, wherein:

the digital input signal is a digital audio signal;
and
in the step of deriving spectral coefficients,
selected ones of the spectral coefficients are grouped by

frequency into bands for determining quantizing noise and
masking, and a majority of the bands have frequency widths

set to be broader towards higher frequencies.
A method according to claim 20, wherein the step of
deriving spectral coefficients includes the step of

receiving the digital input signal at a fixed sampling
frequency, the sampling frequency being invariable between

the compression modes.
A method according to claim 19 or claim 20, wherein
the step of deriving spectral coefficients includes the

steps of:

providing a low-pass filter (40) having a cut-off
frequency;
setting the cut-off frequency of the low-pass filter
according to the selected one of the plural compression

modes, the cut-off frequency being set to a higher
frequency in the first compression mode than in the second

compression mode;
filtering the digital input signal using the low-pass
filter to provide a frequency-limited signal; and
deriving the spectral coefficients from the frequency-limited 
signal.
A method according to claim 22, wherein the step of
deriving spectral coefficients additionally includes the

step of receiving the digital input signal at a fixed
sampling frequency, the sampling frequency being invariable

between the compression modes.
A method according to claim 22, wherein:

the step of quantizing the spectral coefficients
includes the step of adaptively allocating quantizing bits

among the bands, the quantizing bits being allocated such
that no quantizing bits are allocated to bands at

frequencies substantially higher than the cut-off frequency
of the low-pass filter; and
in the step of combining the quantized spectral
coefficients and sub information in the compressed digital

signal, no sub information is included in the compressed
digital signal for bands at frequencies substantially

higher than the cut-off frequency of the low-pass filter.
A method according to claim 19, wherein the step of
deriving spectral coefficients from the digital input

signal includes the steps of:

dividing the digital input signal in frequency into a
frequency range signal in each of plural frequency ranges;
orthogonally transforming blocks of the frequency
range signals to provide the set of spectral coefficients; 

and
grouping the spectral coefficients in the set of
spectral coefficients by frequency into the bands.
A method according to claim 25, wherein, in the step
of dividing the digital input signal in frequency, each of

the frequency ranges has a bandwidth, and the digital input
signal is divided into frequency range signals in frequency

ranges including a lowest frequency range and a next-lowest
frequency range, the next-lowest frequency range having a

bandwidth equal to the bandwidth of the lowest frequency
range.
A method according to claim 25, wherein, in the step
of dividing the digital input signal in frequency into

frequency range signals in plural frequency ranges, the
frequency ranges include a lowest frequency range, each of

the frequency ranges has a bandwidth, and the bandwidth of
the frequency ranges increase with increasing frequency.
A method according to claim 25, claim 26 or claim 27,
wherein, in the step of dividing each frequency range

signal in time into blocks, the frequency range signal in
each of the frequency ranges above the lowest frequency

range is divided into blocks, each block having a maximum
block length, the maximum block lengths of the blocks being

invariable between the compression modes. 
A method according to claim 25, wherein, in the step
of dividing each frequency range signal into blocks, each

block has a block length, the block lengths of the blocks
have a maximum block length, and each frequency range

signal is divided into blocks having a maximum block length
depending on the selected one of the compression modes, the

maximum block length being greater in the second
compression mode than in the first compression mode.
A method according to claim 29, wherein in the step of
dividing the digital input signal in frequency, each of the

frequency ranges has a bandwidth, and the digital input
signal is divided into frequency range signals in frequency

ranges including a lowest frequency range and a next-lowest
frequency range, the next-lowest frequency range having a

bandwidth equal to the bandwidth of the lowest frequency
range.
A method according to claim 29, wherein the frequency
range dividing means divides the digital input signal in

frequency into a frequency range signal in each of plural
frequency ranges, the bandwidth of the frequency ranges

increasing with increasing frequency.
A method according to claim 29, claim 30 or claim 31,
wherein, in the step of dividing each frequency range

signal in time into blocks, the frequency range signals in
the frequency ranges above the lowest frequency range are 

divided into blocks having a maximum block length, the
maximum block length being invariable between the

compression modes.
A method according to claim 25 or claim 29, wherein
the method is additionally for deriving an additional

compressed digital signal, the additional compressed

digital signal having a lower bit rate than the compressed
digital signal, and wherein the method additionally

comprises the steps of:

inversely orthogonally transforming the spectral
coefficients provided by orthogonally transforming one of

the frequency range signals to provide a restored frequency
range signal;
dividing the restored frequency range signal in time
into blocks, each block having a block length, the block

lengths of the blocks having a maximum block length greater
than the maximum block length whereinto the step of

dividing each frequency range signal into blocks divided
the frequency range signal; and
orthogonally transforming each block of the restored
frequency range signal from the additional block dividing

means.
A method according to claim 25, wherein the step of
dividing the digital input signal in frequency includes the

steps of:

providing a low-pass filter (40) having a cut-off 
frequency;
setting the cut-off frequency of the low-pass filter
according to the selected one of the plural compression

modes, the cut-off frequency of the low-pass filter being
set to a higher frequency in the first compression mode

than in the second compression mode;
filtering the digital input signal using the low-pass
filter to provide a frequency-limited signal; and
dividing the frequency-limited signal in frequency to
provide the frequency range signal in each of the frequency

ranges.
A method according to claim 34, wherein:

the step of quantizing the spectral coefficients
includes the step of adaptively allocating quantizing bits

among the bands, the quantizing bits being allocated among
the bands such than no quantizing bits are allocated to

bands at frequencies substantially higher than the cut-off
frequency of the low-pass filter; and
in the step of including the quantized spectral
coefficient in the digital output signal, no sub

information for bands at frequencies substantially higher
than the cut-off frequency of the low-pass filter is

included in the compressed digital signal.
A method according to any one of claims 25 to 35,
wherein, in the step of orthogonally transforming the

digital input signal, the digital input signal is 
orthogonally transformed using a modified discrete cosine

transform.
A method according to any one of claims 19 to 36,
additionally comprising the step of recording the

compressed digital signal on a recording medium.
A method according to claim 37, wherein, in the step
of recording the compressed digital signal on a recording

medium, the compressed digital signal is recorded on a
magneto-optical disc (1).
A method according to claim 37, wherein, in the step
of recording the compressed digital signal on a recording

medium, the compressed digital signal is recorded on a
semiconductor recording medium (2).
A method according to claim 37, wherein, in the step
of recording the compressed digital signal on a recording

medium, the compressed digital signal is recorded on an IC
memory card (2).
A method according to claim 37, wherein, in the step
of recording the compressed digital signal on a recording

medium, the compressed digital signal is recorded on an
optical disc. 
A digital signal processing system for compressing a
digital input signal to provide a compressed digital signal

and for expanding the compressed digital signal to provide
a digital output signal, the system operating in a selected

one of at least two different compression modes, including
a first compression mode and a second compression mode, the

compressed digital signal having a higher bit rate in the
first compression mode than in the second compression mode,

the system comprising:

an apparatus for compressing according to claim 1 and 
an expander (73) including

demultiplexing means for receiving the compressed
digital signal and extracting the quantized spectral

coefficients and the sub information therefrom,
dequantizing means for dequantizing the quantized
spectral coefficients in each band using the sub

information for the band to provide spectral coefficients,
the frequency width of at least one of the bands being set

according to the selected compression mode, and
output signal deriving means for deriving the
digital output signal from the spectral coefficients.
A system according to claim 42, wherein, in the
compressor (63):


the digital input signal is a digital audio signal;
and
the compressed signal deriving means (11-15, 41-45)
groups selected ones of the spectral coefficients by

frequency into bands for determining quantizing noise and
masking, a majority of the bands having frequency widths

set to be broader towards higher frequencies.
A system according to claim 42, wherein:

in the compressor (63), the transform means is an
orthogonal transform circuit (13-15) receiving each block

of the digital input signal from the block forming means,
and providing a set of spectral coefficients in respect of 

each block; and
in the expander (73), the output signal deriving
means includes an inverse orthogonal transform circuit, the

inverse orthogonal transform circuit receiving the spectral
coefficients from the dequantizing means and providing

blocks of the digital output signal.
A system according to claim 44, wherein:

in the compressor (63):

the compressor (63) additionally includes
frequency range dividing means (11, 12) for dividing the

digital input signal in frequency into a frequency range
signal in each of plural frequency ranges; and
in the expander (73):

the dequantizing means includes means for dividing
the spectral coefficients by frequency into frequency

ranges corresponding to the frequency ranges whereinto the
frequency range dividing means divides the digital input

signal,
the inverse orthogonal transform circuit includes
means for inversely orthogonally transforming the spectral

coefficients in each frequency range to provide blocks of
a restored frequency range signal, and
the output signal deriving means additionally
comprises means for synthesizing the blocks of the restored

frequency range signals to provide the blocks of the
digital output signal.
A system according to claim 45, wherein, in the
compressor (63), the block forming means divides each

frequency range signal into blocks, each block having a
block length, the block lengths of the blocks having a

maximum block length depending on the selected one of the
compression modes, the maximum block length being greater

in the second compression mode than in the first
compression mode.
A system according to claim 45, wherein, in the
compressor (63), the frequency range dividing means

comprises:

a low-pass filter (40) having a cut-off frequency set

according to the selected one of the plural compression
modes, the low-pass filter (40) receiving the digital input

signal, and providing a frequency-limited signal, the cut-off
frequency of the low-pass filter (40) being set to a

higher frequency in the first compression mode than in the
second compression mode; and
means (11, 12) for dividing the frequency-limited
signal by frequency to provide the frequency range signal

in each of the plural frequency ranges.
</CLAIMS>
</TEXT>
</DOC>
