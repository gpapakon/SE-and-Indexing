<DOC>
<DOCNO>EP-1190779</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Stamp detecting device and method, letter processing apparatus and method
</INVENTION-TITLE>
<CLASSIFICATIONS>B07C310	B07C314	G06K900	G06K900	G06K932	G06K932	G06T100	G06T100	G06T700	G06T700	G07B1700	G07B1700	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>B07C	B07C	G06K	G06K	G06K	G06K	G06T	G06T	G06T	G06T	G07B	G07B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>B07C3	B07C3	G06K9	G06K9	G06K9	G06K9	G06T1	G06T1	G06T7	G06T7	G07B17	G07B17	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image input section (101) inputs an image of a
letter (P) and stores the same into an image memory

(102). A stamp detecting section (103) detects a stamp
by a luminance projection value based on the image of

the letter stored in the image memory (102),
determining that an area is not an external area of the

stamp and determining the area as an internal area of
the stamp if the length of the area is smaller than a

stamp internal gap permissible threshold value used for
determining a stamp internal gap even in a case where

the area which is partly determined as an external area
of the stamp is present in an area which is determined

as the internal area of the stamp affixed to the letter
(P) based on the thus derived projection value.


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
TOKYO SHIBAURA ELECTRIC CO
</APPLICANT-NAME>
<APPLICANT-NAME>
KABUSHIKI KAISHA TOSHIBA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
YOKOI KENTARO
</INVENTOR-NAME>
<INVENTOR-NAME>
YOKOI, KENTARO
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a stamp detecting device,
stamp detecting method, letter processing apparatus and
letter processing method for detecting a stamp affixed
to a postal letter, for example.Further, this invention relates to a letter
processing apparatus and letter processing method for
sorting a postal letter by use of the above stamp
detecting device.In a stamp detecting device, as various threshold
values (for example, a threshold value used for
distinguishing the stamp area and the ground area of
the letter) used for detecting a stamp affixed to a
postal letter, predetermined values or values derived
by a statistical calculation based on an image of the
letter are used when the stamp is detected based on a
density projection value.Further, when the type of stamp affixed to the
postal letter is identified, the identification method
which is not influenced by the affixed orientation of
the stamp is used. Also, when the type of stamp
affixed to the postal letter is identified, the
identification method is effected without using
knowledge of the face value of the stamp.However, in the above conventional methods, it is
difficult to adequately set the threshold value used 
for detection of the stamp and if the threshold value
is not adequately set, it fails to correctly detect the
stamp in some cases.Further, the identification method which does not
depend on the affixed orientation of the stamp has a
problem that the identification performance is lower
than that of the identification method which depends on
the affixed orientation of the stamp. In addition,
since it does not utilize the knowledge of the face
value of the stamp, there occurs a problem that a lot
of identification errors are made.Accordingly, an object of this invention is to
provide a stamp detecting device, stamp detecting
method, letter processing apparatus and letter
processing method which makes it easy to set threshold
values used for detecting a stamp and can always stably
effect the stamp detecting operation.Further, another object of this invention is to
provide a stamp detecting device, stamp detecting
method, letter processing apparatus and letter
processing method capable of more precisely detecting a
stamp.A stamp detecting device according to one aspect
of this invention comprises an image input section
which inputs an image of a letter having at least one
stamp affixed thereto; and a stamp detecting section
which detects a stamp by determining a gap area as an
internal area of the stamp if the size of the gap area
is
</DESCRIPTION>
<CLAIMS>
A stamp detecting device characterized by
comprising:


an image input section (101) which inputs an image
of a letter having at least one stamp affixed thereto;

and
a stamp detecting section (103) which detects a
stamp by determining a gap area as an internal area of

the stamp if the size of the gap area is within a
preset permissible range in a case where the gap area

which is partly determined as an external area of the
stamp is present in an area which is determined as the

internal area of the stamp affixed to the letter based
on the image input from said image input section (101).
The stamp detecting device according to
claim 1, characterized in that said stamp detecting

section (103) derives a projection value of one of
density and luminance based on an image input from said

image input section (101), determines an internal area
of the stamp according to a stamp internal area

threshold value with respect to the projection value,
determines an external area of the stamp according to a

stamp external area threshold value with respect to the
projection value, and determines whether or not the gap

area lies within a preset permissible range according
to a gap permissible value with respect to the size of

the gap area.
The stamp detecting device according to
claim 2, characterized by further comprising a control

section (108) which changes conditions of the stamp
internal area threshold value, stamp external area

threshold value and gap permissible value based on the
size of the stamp detected by said stamp detecting

section (103) and causes said stamp detecting section
(103) to perform the stamp detecting process again.
A letter processing apparatus characterized by
comprising:


an image input section (101) which inputs an image
of a letter having at least one stamp affixed thereto;
a stamp detecting section (103) which detects a
stamp by determining a gap area as an internal area of

the stamp if the size of the gap area is within a
preset permissible range in a case where the gap area

which is partly determined as an external area of the
stamp is present in an area which is determined as the

internal area of the stamp affixed to the letter based
on the image input from said image input section (101);
a stamp identifying section (104) which identifies
a type of the stamp detected by said stamp detecting

section (103);
a stamp face value calculating section (105) which
derives a total face value of the stamps affixed to the

letter based the type of stamp identified by said stamp
identifying section (104); and
a sorting section (107) which sorts the letter

based on the total face value of the stamps derived by
said stamp face value calculating section (105).
The letter processing apparatus according to
claim 4, characterized in that said stamp detecting

section (103) derives a projection value of one of
density and luminance based on an image input from said

image input section (101), determines an internal area
of the stamp according to a stamp internal area

threshold value with respect to the projection value,
determines an external area of the stamp according to a

stamp external area threshold value with respect to the
projection value, and determines whether or not the gap

area lies within a preset permissible range according
to a gap permissible value with respect to the size of

the gap area.
The letter processing apparatus according to
claim 5, characterized by further comprising a control

section (108) which changes conditions of the stamp
internal area threshold value, stamp external area

threshold value and gap permissible value based on the
size of the stamp detected by said stamp detecting

section (103) and causes said stamp detecting section
(103) to perform the stamp detecting process again.
A letter processing apparatus characterized by
comprising:


an image input section (101) which inputs an image
of a letter having at least one stamp affixed thereto;
a stamp detecting section (103) which detects a
stamp affixed to the letter based on one of a density

projection value and luminance projection value derived
according to the image input by said image input

section (101);
a stamp identifying section (104) which identifies
the type of stamp detected by said stamp detecting

section (103);
a stamp face value determining section (105) which
derives a total face value of the stamps affixed to the

letter based on the type of the stamp identified by
said stamp identifying section (104); and
a sorting section (107) which sorts the letter
based on the total face value of the stamps derived by

said stamp face value determining section (105).
The letter processing apparatus according to
claim 7, characterized in that said identifying section

(104) identifies a type and affixed orientation of the
stamp by collating a pattern of the stamp detected by

said stamp detecting section (103) with a plurality of
standard patterns previously prepared for respective

rotational positions of the stamp.
The letter processing apparatus according to
claim 7, characterized by further comprising a memory

section (109) which previously stores noticed area
specifying information used for specifying a noticed

partial area at the time of identification of the stamp
by said stamp identifying section (104) and in which

said stamp identifying section (104) identifies the
type of stamp by collating a pattern of the stamp

detected by said stamp detecting section (103) with a
plurality of previously prepared standard patterns only

in a partial area specified by the noticed area
specifying information stored in said memory section

(109).
The letter processing apparatus according to
claim 7, characterized in that said stamp identifying

section (104) identifies an affixed orientation of the
stamp detected by said stamp detecting section (103),

changes the orientation of the noticed partial area
based on the identified affixed orientation and then

identifies the type of the stamp.
The letter processing apparatus according to
claim 7, characterized by further comprising a memory

section (109) which previously stores types of total
face values of permissible stamps; and a total face

value determining section (110) which determines a
total face value of stamps by collating total face

value amounts stored in said memory section (109) with
a total face value derived by said stamp face value

determining section (105) and in which said sorting
section (107) sorts the letter based on the total face

value determined by said total face value determining
section (110).
The letter processing apparatus according to
claim 7, characterized by further comprising a

determining section (108) which determines whether the
total face value derived by said stamp face value

determining section (105) is adequate or not and an
imprinting section (106) which postmarks the letter

based on position information of the stamp detected by
said stamp detecting section (103) when it is

determined by said determining section (108) that the
total face value derived by said stamp face value

determining section (105) is adequate and in which said
sorting section (107) sorts the letter based on the

total face value of the stamps derived by said stamp
face value determining section (105) when it is

determined by said determining section (108) that the
total face value derived by said stamp face value

determining section (105) is adequate.
A stamp detecting method characterized by
comprising:


inputting an image of a letter having at least one
stamp affixed thereto; and
detecting a stamp by determining a gap area as an
internal area of the stamp if the size of the gap area

is within a preset permissible range in a case where
the gap area which is partly determined as an external

area of the stamp is present in an area which is
determined as the internal area of the stamp affixed to

the letter based on the image input in said image
inputting step.
A letter processing method characterized by
comprising:


inputting an image of a letter having at least one
stamp affixed thereto;
detecting a stamp by determining a gap area as an
internal area of the stamp if the size of the gap area

is within a preset permissible range in a case where
the gap area which is partly determined as an external

area of the stamp is present in an area which is
determined as the internal area of the stamp affixed to

the letter based on the image input in said image
inputting step;
identifying the type of stamp detected in said
stamp detecting step;
deriving a total face value of the stamps affixed
to the letter based on the type of the stamp identified

in said identifying step; and
sorting the letter based on the total face value
of the stamps derived in said deriving step.
A letter processing method characterized by
comprising:


inputting an image of a letter having at least one
stamp affixed thereto;
deriving a density projection value based on the
input image;
detecting a stamp affixed to the letter based on
the thus derived projection value;
identifying the type of the detected stamp;
deriving a total face value of the stamps affixed
to the letter based on the type of the stamp thus

identified; and
sorting the letter based on the thus derived total
face value of the stamps.
The letter processing method according to
claim 15, characterized in that said stamp type

identifying step identifies the type and affixed
orientation of the stamp by collating a pattern of the

stamp detected by said stamp detecting step with a
plurality of standard patterns previously prepared for

respective rotational positions of the stamp.
The letter processing method according to
claim 15, characterized in that said stamp type

identifying step identifies a type of the stamp by
collating a pattern of the stamp detected by said stamp

detecting step with a plurality of previously prepared
standard patterns only in a partial area specified by

noticed area specifying information previously stored
in a memory section (109) and used for specifying a

noticed partial area at the time of identification.
The letter processing method according to
claim 15, characterized in that said stamp type

identifying step identifies the affixed orientation of
the stamp detected by said stamp detecting step,

changes the orientation of the noticed partial area
based on the identified affixed orientation and then

identifies the type of stamp.
The letter processing method according to
claim 15, characterized by further comprising

determining a total face value of stamps by collating
total face value amounts determined based on the types

of permissible total face value amounts of the stamps
previously stored in a memory section (109) with a

total face value derived by said stamp face value
determining step and in which said sorting step sorts

the letter based on the total face value determined by
said total face value determining step.
The letter processing method according to
claim 15, characterized by further comprising

determining whether the total face value of the stamps
derived by said stamp face value determining step is

adequate or not and postmarking the letter based on
position information of the stamp detected by said

stamp detecting step when it is determined by said
determining step that the total face value derived by

said stamp face value determining step is adequate and
in which said sorting step sorts the letter based on

the total face value of the stamps derived by said
stamp face value determining step when it is determined

by said determining step that the total face value of
the stamps derived by said stamp face value determining

step is adequate.
</CLAIMS>
</TEXT>
</DOC>
