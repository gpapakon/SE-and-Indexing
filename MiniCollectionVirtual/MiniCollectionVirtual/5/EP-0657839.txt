<DOC>
<DOCNO>EP-0657839</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Methodsand apparatus for recognizing a specific image from an imput image signal
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K946	G06K946	G06K920	G06K920	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06K	G06K	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K9	G06K9	G06K9	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A circumscribing rectangle is obtained for a 
black continuous image part using a two-tone image 

signal. If it is determined (in S105) that the image 
part is possibly one which is obtained as a result of 

rotating the object, lengths of sides of the image 
part are compared with threshold values (in S106 and 

S108). If it is determined (in S105) that the image 
part is not one which is obtained as a result of 

rotating the object, the height and horizontal length 
of the circumscribing rectangle are compared with the 

threshold values (in S107 and S108). Thus, it is 
determined (in S115 and S116) whether or not the image 

part is identical to the object. An RGB chromaticity 
histogram is 
produced for each of small regions of an 
input color image (in S202A). Each of the 

chromaticity histograms of the small regions is 
compared with reference ones (in S202A). As a result 

of the comparison, an identification number of the 
reference histogram having the highest similarity to 

that of the small region among those constituting the 
input image is given to the small region (in S204). A 

histogram of the identification numbers thus is 
produced for the input color image (in S204). The 

thus-produced histogram is used to determine (in S205)  
 

which one of a plurality of objects is identical to 
the input color image. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
RICOH KK
</APPLICANT-NAME>
<APPLICANT-NAME>
RICOH COMPANY, LTD
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HIRANO AKIHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
MIYAZAWA TOSHIO
</INVENTOR-NAME>
<INVENTOR-NAME>
TACHIKAWA MICHIYOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
HIRANO, AKIHIKO
</INVENTOR-NAME>
<INVENTOR-NAME>
MIYAZAWA, TOSHIO
</INVENTOR-NAME>
<INVENTOR-NAME>
TACHIKAWA, MICHIYOSHI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to object
extraction method and apparatus for extracting a
specific image from color images or black-and-white
images. Further present invention relates to color-image
recognition method and apparatus for determining
whether the thus-extracted specific image is an image
from given images. In practice, such a specific-image
extraction is performed as follows: Data representing
a specific image is extracted from data representing
color images or black-and-white images. Further, data
representing a specific image part is extracted from
data representing a specific color image or a black-and-white
image.Each of the color-image recognition method
and apparatus uses the thus-extracted specific image
and then determines whether the specific image
corresponds to an image included in given images,
which are, for example, images constituting an image
database, in particular, color-image database.In an example, such a technique may be
applied to works in a police office. The police
office may have a database of criminals' face
photographs. When a montage picture (composite 
picture) is given by a witness, the police officer
attempts to determine whether the image of thus-given
picture is an image included in the database.In another example, an intelligent building
may use such a technique. A microcomputer is provided
inside a door of a room of a firm and the
microcomputer uses a database of employees' face
photographs. If a person comes in front of the door,
the microcomputer uses a CCD camera to take image data
of the person's face and, by using the thus-taken
image data, the microcomputer attempts to determine
whether the same image data is included in the
database. If the microcomputer has succeeded in
determining the same image data is in the employees'
face database, the microcomputer opens the door for
the person and if not, the microcomputer does not open
it. Thus, no real key is needed for the door.In another example, such a technique may be
used to prevent bank notes and securities from being
replicated. A duplicator may have image data of bank
notes and securities and if an operator sets an
original image on the duplicator to obtain a copy
thereof, the duplicator checks if data of the thus-set
original image is included in the image data of bank
notes and securities. Apparatuses processing color images such as
a color duplicator, a color printer, a color scanner,
a color-image communication apparatus, and so forth
are expected to be further developed in the future.
It has
</DESCRIPTION>
<CLAIMS>
A color image recognition method, 
characterized in that
:

said method comprises steps of:

a) (S202A, S202B) extracting characteristics from an input color image signal;
b) (S101 through S108) finding a candidate image part corresponding to a plurality of
possible objects from an input color image represented by said input color image signal,

in parallel with said step a) by means of an object extraction method; and
c) (S205) selecting one of said plurality of possible objects as relevant by using said
extracted characteristics which correspond to the candidate image part.
The color image recognition method according to claim 1, 
characterized in that
:

said step c) is executed only after a time said step b) had found said candidate image part.
The color image recognition method according to claim 1 or 2 wherein said step b)
comprises the steps of:


ba) (S102) determining a circumscribing rectangle from an input two-tone image signal;
said circumscribing rectangle being a rectangle circumscribing an image part which consists
of continuous pixels, each of said pixels being a pixel of a predetermined same tone;
bb) (S102) detecting contact positions at which said circumscribing rectangle comes into
contact with said image part; and
bc) (S106, S107, S108, S115, S116) determining whether or not said image part is identical
to a given object, the determination being performed using said contact positions.
The color image recognition method of claim 3, 
characterized in that
:

said given object has a rectangular shape, said rectangular shape of said given object having
predetermined lengths of sides thereof; and 
said step bc) comprises steps of:

bc-1) (S106, S107) determining, based on an assumption that said image part has a
rectangular shape, lengths of sides
 of said rectangular shape of said image part;
bc-2) (S108) comparing said lengths of sides of said rectangular shape of said image part
with said predetermined lengths of sides of said rectangular shape of said objects, and
bc-3) (S115, S116) determining whether or not said image part is identical to said given
object, based on a result of comparison performed through said step bc-2).
The color image recognition method of claim 4, 
characterized in that
:

said step b) further comprises a step of
bd) (S105) determining whether or not said image part is an image part obtained as a result
of rotating said rectangular shape of said object;
and wherein:

said step bc-1) can properly determine lengths of sides of said rectangular shape of
said image part using a determination result given by said step bd).
The color image recognition method according to claim 3, 
characterized in that
:

said step b) further comprises steps of:

be-1) (S101) obtaining a first one of said input two-tone image signal from an input color
image signal, in a first manner, as a result of comparing a lightness value represented by

said input color image signal with a first threshold value;
be-2) (S101) obtaining a second one of said input two-tone image signal from said input
color image signal, in a second manner, as a result of comparing said lightness value

represented by said input color image signal with a second threshold value;
and wherein said step ba) determines a first one of said circumscribing rectangle from said
first one of said input two-tone image signal, and determines a second one of said

circumscribing rectangle from said second one of said input two-tone image signal.
The object extraction method according to claim 6, 
characterized in that
:

said step b) further comprises steps of
bf) determining whether or not said first one of said circumscribing rectangle geometrically
completely includes said second one of said circumscribing rectangle, and determining 

whether or not said second one of said circumscribing rectangle geometrically completely
includes said first one of said circumscribing rectangle; and
be) removing a certain one of said first one and second one of said circumscribing
rectangles from undergoing said steps bb) and bc), if said step bf) has determined that said

certain one geometrically completely includes a remaining one of said first one and second
one of said circumscribing rectangles.
A color image recognition method according to claim 1, 
characterized in that
:

a step a) comprises the substeps of
a1) (S201) dividing an input color image into small regions;
a2) (S202A) extracting characteristics from said small regions of said input color image signal;

a step c) comprises the substeps of:

c1) (S204) selecting a reference characteristic collection from among a plurality of reference
characteristic collections for each of said small regions, such that the thus-selected reference

characteristic collection has characteristics having the highest degree of similarity to said
characteristics extracted from said each of said small regions;

each of said plurality of reference characteristic collections having an identification number
and thus the identification number of the thus-selected reference characteristic collection

being given to said each of said small regions;

and
c2) (S205) selecting an object from among said plurality of possible objects as relevant such
that:


the thus-selected object is previously divided into the small regions,
the identification number of a reference characteristic collection among said plurality of
reference characteristic collections is previously given to each of said small regions of

said thus-selected object, and
characteristics of a set of the identification numbers given to said small regions of said thus-selected
object have the highest degree of similarity to characteristics of a set of the

identification numbers corresponding to the thus-selected object.
The color image recognition method according to claim 8, 
characterized in that
:

said step a2) comprises steps of: 

a2-1) sampling pixels from among pixels constituting each of said small regions which
constitutes said input color image, and
b-2) using image data of the thus-sampled pixels to extract said characteristics from said
small regions.
The color image recognition method according to claim 8, 
characterized in that
:

said method further comprises a step of

e) converting said characteristics, which have been extracted by said step a2), so that a date
amount of said characteristics is reduced.
The color image recognition method according to claim 8, 
characterized in that
:

said method further comprises steps of:

f) obtaining a value for each of said plurality of objects, said value representing how the
reference characteristic collections given to said small regions of said each of said plurality

of objects is similar to the reference characteristic collections given to said small regions of
said input color image; and
g) comparing said value obtained through said step f) with a threshold value so as to
determine whether or not said each of said plurality of objects is a candidate of objects

among said plurality of objects, said candidate of objects being those each of which have a
possibility of being determined to be identical to said input color image.
The color image recognition method according to claim 11, 
characterized in that
:

said threshold value used in said step g) is determined individually for each of said plurality
of objects based on features of said plurality of objects.
The color image recognition method according to claim 8, wherein a manner of said
step c1) varies among said small regions constituting said input color image, depending on

the characteristics extracted through said step a2) for each of said small regions constituting
said input color image.
The color image recognition method according to claim 8, 
characterized in that
:

each of the characteristic collections comprises a histogram of appearance frequencies, 
the identification numbers of characteristic collections among said characteristic collections
being given to the small regions of said input color image and said plurality of objects,
each of said appearance frequencies being an appearance frequency of pixels having same
characteristics.
The color image recognition method according to claim 14, 
characterized in that
:

said characteristics extracted through said step a2) comprise chromaticities.
The color image recognition method according to claim 14, 
characterized in that
:

said method further comprises a step of

h) preventing said step c1) from being executed if the appearance frequency of the
histogram of a small region among said small regions constituting said input color image

exceeds a predetermined value.
The color image recognition method according to claim 16, 
characterized in that
:

said method further comprises a step of

i) giving a predetermined number to said small region, said appearance frequency of which
exceeds said predetermined value in said step
The color image recognition method according to claim 14, 
characterized in that
:

said method further comprises a step of

j) preventing said step c1) from being executed if only a number of appearance frequencies
among the appearance frequencies constituting the histogram of a small region among said

small regions constituting said input color image have significant values,

said number of appearance frequencies being those of the characteristics approximating one
another, and said number being less than a threshold value.
The color image recognition method according to claim 18, 
characterized in that
:

said method further comprises a step of

k) giving a predetermined number to said small region, said step j) having prevented said
step c1) from being executed for said small region.
The color image recognition method according to claim 8, 
characterized in that
:

said method further comprises a step of:

l) preventing said step cl) from being executed

if the characteristics of each reference characteristic collection among the plurality of
reference characteristic collections has similarity to said characteristics extracted from said

each of said small regions, said similarity being one of less than a predetermined degree;
and
m) giving a predetermined number to said small region, said step 1) having prevented said
step c1) from being executed for said small region.
The color image recognition method according to claim 8, 
characterized in that
:

said step c2) selects the object from among said plurality of objects such that:

the thus-selected object being previously divided into the small regions;
the identification number of a reference characteristic collection among said plurality of
reference characteristic collections being previously given to each of said small regions of

said thus-selected object,
a histogram of a set of the identification numbers given to said small regions of said thus-selected
object having the highest degree of similarity to a histogram of a set of the

identification numbers corresponding to the thus-selected object;
each of the histograms comprising a histogram of appearance frequencies, each of said
appearance frequencies being an appearance frequency of the small regions having the same

identification number.
A color image recognition apparatus, 
characterized in that
:

said apparatus comprises:

means (37) for extracting characteristics from an input color image signal;
means (22) for finding a candidate image part corresponding to a plurality of possible
objects from an input color image represented by said input color image signal, in parallel

with said extracting means by means of an object extracting means; and
means (41) for selecting one of said plurality of possible objects as relevant by using said
extracted characteristics which correspond to the candidate image part.
The color image recognition apparatus according to claim 22 
characterized in that
:

said means (22) for finding a candidate image part comprises:

means (2) for determining a circumscribing rectangle from an input two-tone image signal;
said circumscribing rectangle being a rectangle circumscribing an image part which consists
of continuous pixels, each of said pixels being a pixel of a predetermined same tone;
means (2) for detecting contact positions at which said circumscribing rectangle comes into
contact with said image part; and
means (4) for determining whether or not said image part is identical to a given object, the
determination being performed using said contact positions.
A color image recognition apparatus according to claim 22, 
characterized in that
:

said means for extracting comprises:

means (36) for dividing an input color image into small regions;
means (37) for extracting characteristics from said small regions;
said means for selecting comprises:

means (38) for selecting a reference characteristic collection from among a plurality of
reference characteristic collections for each of said small regions, such that the thus-selected

reference characteristic collection has characteristics having the highest degree of similarity
to said characteristics extracted from said each of said small regions;
each of said plurality of reference characteristic collections having an identification number
and thus the identification number of the thus-selected reference characteristic collection

being given to said each of said small regions;
and
means (41) for selecting an object from among said plurality of objects as relevant such
that:


the thus-selected object being previously divided into the small regions,
the identification number of a reference characteristic collection among said plurality of
reference characteristic collections being previously given to each of said small regions of

said thus-selected object,
characteristics of a set of the identification numbers given to said small regions of said thus-selected
object having the highest degree of similarity to characteristics of a set of the

identification numbers corresponding to the thus-selected object.
</CLAIMS>
</TEXT>
</DOC>
