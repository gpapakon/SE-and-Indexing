<DOC>
<DOCNO>EP-0633700</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Method and device for the search for a prediction block in predictive video compression
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N726	H04N728	H04N734	H04N734	H04N726	G06T900	G06T900	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	H04N	G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N7	H04N7	H04N7	H04N7	H04N7	G06T9	G06T9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
The invention relates to a method and a device 
for the search for a prediction block in predictive 

video compression. In the method, a 
desired search area is searched for an image 

block resembling an image block (B) to be encoded 
as closely as possible for use as a prediction 

block for said image block. In order 
that the best possible prediction block could be 

located with considerably less calculation than 
previously, (a) image blocks (A) acting as prediction 

block candidates within the search area 
are classified by deriving an identifier (CA) 

from each image block (A) acting as a prediction 
block candidate, the identifier describing the 

image content of the concerned image block, and 
storing the location of the image block acting 

as a prediction block candidate in a memory (21) 
at an address determined by said identifier, 

whereby the storing takes place such that at 
least one location data item remains in the 

memory for each identifier; (b) an identifier 
(CB) is similarly derived from each image block 

(B) to be encoded, the identifier describing the 
image content of said block; and (c) the 

location of the prediction block for the block 
(B) to be encoded is fetched from said memory 

(21) from a memory position determined by the 

identifier (CB) describing the image content of 
the block. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
NOKIA OY AB
</APPLICANT-NAME>
<APPLICANT-NAME>
OY NOKIA AB
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HAIKONEN PENTTI
</INVENTOR-NAME>
<INVENTOR-NAME>
HAIKONEN, PENTTI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The invention relates to a method and a device for the search for a prediction block in
connection with predictive video compression, wherein a desired search area is searched for
a prediction block resembling as closely as possible to an image block to be encoded.Video compression aims at reducing the number of bits required in the transmission and/or
storing of a digitized image. Predictive video compression utilizes a prediction value derived
e.g. from previously transmitted image material, and only the difference between the prediction
value and an actual value is encoded.Predictive video compression methods presently in use divide the image to be encoded into
image blocks each comprising n x m, typically 8 x 8 pixels having the following positions:
Previously transmitted images (or fields) are searched for a prediction value for each image
block to be transmitted, i.e. a block resembling the image block 
to be transmitted as closely as possible. In motion-compensation
methods, it is assumed that an object in
the image moves in a certain direction, whereby the
prediction block can be found in the preceding transmitted
image in the immediate vicinity of the location
of the block to be encoded in the direction of movement.The above-described prior art method is illustrated
in Figure 1, where an image block to be encoded
(transmitted) in a new image B1 is indicated with the
reference B, and a prediction block candidate in an
old image A1 is indicated with the reference A. In a
so-called full-search motion compensation method the
displacement in the old image A1 to the new prediction
block candidate A takes place pixel by pixel within
the search area, and e.g. a quantity ε is calculated
for each pixel position:
 ε = i,jn,m |pai,j-pbi,j|,
where pai,j is the intensity value of the pixel of
block A, pbi,j is the intensity value of the pixel of
block B, and the vertical lines stand for the absolute
value of the difference between the intensity values.
As used herein, the intensity value means either a
grey intensity value or a colour intensity value (even
though in practice the search for the prediction block
in the motion compensation method, for instance, is
performed entirely on the basis of the monochrome
image, i.e. the grey intensity value).Block A producing the smallest value of ε is
accepted as the prediction block. The greatest allowable
value of ε determines the magnitude of the
matching error. In place of the sum of the absolute
values of the differences between the intensity 
values, it is
</DESCRIPTION>
<CLAIMS>
Method for the search for a prediction block in connection with predictive video
compression, wherein a desired search area is searched for a prediction block resembling

as closely as possible to an image block (B) to be encoded, whereby:

image blocks (A) acting as prediction block candidates within the search area are
subjected to classification by deriving an identifier (CA) from each image block (A)

acting as a prediction block candidate, the identifier describing the image content of the
concerned image block and each class being represented by its own identifier;
the location of each image block (A) acting as a prediction block candidate is stored in
a memory (21) at an address determined by said identifier (CA), whereby the storing

takes place such that at least one location data item remains in the memory for each
identifier (CA);
the image block (B) to be encoded is also subjected to said classification by deriving an
identifier (CB) from said image block (B) to be encoded, the identifier describing the

image content of said image block (B) to be encoded; and
the location of the prediction block for the image block (B) to be encoded is fetched
from said memory (21) from a memory position determined by the identifier (CB)

describing the image content of the image block (B) to be encoded.
Method according to claim 1, 
characterized

in that all image blocks within the
search area are subjected to said classification by a

pixel-by-pixel displacement to the new prediction
block candidate (A).
Method according to claim 1 or 2, 
characterized

in that only one location data item
remains in the memory for each identifier (CA).
Method according to claim 1, 
characterized
 
in that said identifier (CA) is derived

by filtering from the image content of each image
block (A) acting as a prediction block candidate.
Method according to claim 1, 
characterized

in that said identifier (CA) is derived
by subsampling and truncation from the image content

of each image block (A) acting as a prediction block
candidate.
Method according to claim 1, 
characterized

in that the search area consists of the
entire area of an image.
Method according to claim 1, 
characterized

in that the search area consists of the
area of more than one images.
Method according to claim 1, 
characterized

in that the image block to be encoded
is divided into sub-blocks, a prediction block is

located for each sub-block, and the located prediction
blocks are then combined into a single prediction

block for the entire image block.
Method according to claim 1, 
characterized

in that the image block to be encoded
is converted by affine transformation into a number of

new image blocks, a prediction block is located for
each new image block, and a prediction block is

derived for the block to be encoded from a prediction
block selected from among said prediction blocks for

the new image blocks by performing the inverse transformation
of said transformation on the selected

prediction block. 
Device for the search for a prediction block in predictive video compression, wherein
a desired search area is searched for a prediction block resembling as closely as possible

to an image block (B) to be encoded, comprising:

memory means (21) for storing the location of each image block (A) acting as a
prediction block candidate, and
a processing unit (22) for classifying each image block (A) acting as prediction block
candidate and the image block (B) to be encoded, each class being represented by its

own identifier, thereby deriving from each image block (A) acting as prediction block
candidate an identifier (CA) being a write address for writing into said memory means

(21) and from said image block (B) to be encoded an identifier (CB) being a read
address for reading from said memory means (21).
Device according to claim 10, 
characterized

in that said means comprise a filter
(22).
</CLAIMS>
</TEXT>
</DOC>
