<DOC>
<DOCNO>EP-0623231</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Circuitry and method for drawing lines in a video graphics system
</INVENTION-TITLE>
<CLASSIFICATIONS>G09G520	G06T1120	G06T1120	G09G520	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G09G	G06T	G06T	G09G	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G09G5	G06T11	G06T11	G09G5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Circuitry for drawing lines includes a video memory for storing pixel data and circuitry for generating a sequence of addresses defining a line of pixels in the video memory. A first memory stores a sequence of pattern units corresponding to the generated sequence of addresses. A second memory stores a value indicating a current pattern unit. Writing circuitry writes to the video memory at a generated address responsive to a current pattern unit. A third memory stores a control value which is accessed by update circuitry for updating the second memory to indicate the next pattern unit. The update circuitry may selectively update the second memory to the sequential pattern unit or reset the second memory to a predetermined pattern unit.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
COMPAQ COMPUTER CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
COMPAQ COMPUTER CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
ALBERS THOMAS M
</INVENTOR-NAME>
<INVENTOR-NAME>
BRESENHAM JACK E
</INVENTOR-NAME>
<INVENTOR-NAME>
EBERST JOHN V
</INVENTOR-NAME>
<INVENTOR-NAME>
FONTENOT DARWIN
</INVENTOR-NAME>
<INVENTOR-NAME>
PYRA RICHARD L
</INVENTOR-NAME>
<INVENTOR-NAME>
WELKER MARK W
</INVENTOR-NAME>
<INVENTOR-NAME>
WOOD PAUL B
</INVENTOR-NAME>
<INVENTOR-NAME>
ALBERS, THOMAS, M.
</INVENTOR-NAME>
<INVENTOR-NAME>
BRESENHAM, JACK, E.
</INVENTOR-NAME>
<INVENTOR-NAME>
EBERST, JOHN, V.
</INVENTOR-NAME>
<INVENTOR-NAME>
FONTENOT, DARWIN
</INVENTOR-NAME>
<INVENTOR-NAME>
PYRA, RICHARD L.
</INVENTOR-NAME>
<INVENTOR-NAME>
WELKER, MARK, W.
</INVENTOR-NAME>
<INVENTOR-NAME>
WOOD, PAUL, B.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates in general to computers, and 
more particularly to a graphics processor with improved 
circuitry for drawing lines. In order to communicate with a user, a computer must 
be able to output information to a display. In a graphics system, the display is defined by an 
array of pixels. For example, in a standard-mode VGA 
(Video Graphics Adapter) system, the screen is addressed 
as an array of 640 x 480 pixels. Each pixel on the 
display may be set to a desired color from a defined 
palette. Typically 16 or 256 color palettes are 
supported. The number of pixels which may be displayed 
is defined by the graphic subsystem. Typical VGA modes 
support 640 x 480, 800 x 600, and 1024 x 768 resolutions. 
VGA modes with resolution greater than 640 x 480 are 
generally referred to as "super VGA". Many of today's application programs are graphics 
intensive. For example, a computer-aided design program, 
such as AUTOCAD by AutoDesk, Inc., Sauseleto, California, 
may spend a substantial amount of time drawing a figure 
to the screen. In some cases, even a small change in the 
drawing will require the entire drawing to be redrawn.  
 
Consequently, the ability of the graphics processor to draw 
lines quickly becomes of critical importance. The problems associated with line drawing have been 
well documented for a number of years. Many of these 
problems are addressed in an article "Ambiguity in 
Incremental Line Rastering", by Jack E. Bresenham, IEEE 
CG&A, May, 1987, which is incorporated by reference herein. 
The Bresenham article describes problems in drawing a line 
using an array of pixels, since lines having real values 
between two discrete pixels will have to approximated using 
one pixel or the other. Because of the inaccuracies 
inherent in approximating the line, issues concerning the 
retraceability of lines and the handling symmetric figures 
made up of polylines become important. Consequently, the 
flexibility of a graphics processor, i.e., the ability of 
the graphics processor to facilitate modification of the 
line drawing parameters is highly desirable. Therefore, a need has arisen in the industry for a 
graphics processor which provides fast and flexibility 
processing of lines and polylines. US-A-4677573 discloses a circuit for generation of 
styled vectors in a graphics system comprising: 
a video memory for storing pixel data; a first memory for storing a sequence of pattern units; a second memory for storing a value indicating a current 
pattern unit; a third memory for
</DESCRIPTION>
<CLAIMS>
Circuitry (20) for drawing lines, comprising: 


a video memory (36) for storing pixel data; 
circuitry (64) for generating a sequence of addresses 
in the video memory in accordance with programmable line 

parameters, the sequence of addresses defining a line of 
pixels beginning with a first pixel and terminating with a 

last pixel; 
a first memory (36) for storing a sequence of pattern 
units defining pixel characteristics to be applied to the 

line of pixels; 
a second memory (36) for storing a value indicating a 
current pattern unit in the sequence of pattern units; 

circuitry (60) for writing to the video memory at a 
generated address responsive to the current pattern unit; 
a third memory (36) for storing a control value set by 
a user; and characterised by: 
circuitry (60) electrically connected to the third 
memory (36) for receiving the control value and 

electrically connected to the second memory (36) for 
updating the second memory to indicate a next sequential 

pattern unit or resetting the second memory to indicate a 
predetermined pattern unit after writing the last pixel of 

the first line to the video memory, the updating/resetting 
circuitry selectively continuing the sequence of pattern 

units at the start of a second line by updating the second 
memory to indicate the next sequential pattern unit after 

the current pattern unit if the control value is a first 
value, or resetting the pattern at the start of the second 

line, by resetting the second memory to indicate the 
predetermined pattern unit if the control value is a second 

value different from said first value. 
Circuitry (20) according to claim 1, wherein each 
pattern unit comprises a single bit.  

 
Circuitry (20) according to claim 2, wherein the first 
memory (36) comprises a plurality of bits and further 

comprising a foreground colour memory (36) for storing a 
value indicative of a foreground colour and a background 

colour memory (36) for storing a value indicative of a 
background colour, each bit of the first memory being 

indicative of one of the colour memories. 
Circuitry (20) according to claim 1, further 
comprising first endpoint memory (36) for storing 

coordinates of a first endpoint of a line. 
Circuitry (20) according to claim 4, further 
comprising circuitry (60) for transferring the coordinates 

of a last pixel to the first endpoint memory. 
Circuitry (20) according to claim 1, further 
comprising a fourth memory (36) for storing a second 

control value, the writing circuitry (60) selectively 
writing the last pixel of a line responsive to the second 

control value. 
Circuitry (20) according to claim 6, wherein the 
updating circuitry (60) selectively updates the second 

memory (36) responsive to the second control value. 
Circuitry (20) according to claim 1, further 
comprising: 


a fourth memory (36) for storing a pattern end pointer 
indicating the last pattern unit in a desired pattern; and 
circuitry (60) to update the second memory to a 
predetermined pattern unit responsive to the pattern end 

pointer. 
A method of drawing lines with a graphics processor 
(32) comprising the steps of: 


storing pixel data in a video memory (36);  
 
storing a sequence of pattern units in a first memory 
(36); 
storing a value in a second memory (36), the value 
indicative of the location of a current pattern unit in the 

first memory; 
writing to the video memory at a generated address 
dependent upon the current pattern unit; and characterised 

by the steps of: 
updating the second memory to indicate a next 
sequential pattern unit or resetting the second memory to 

indicate a predetermined pattern unit after writing the 
last pixel of the first line to the video memory; and 
selectively continuing the sequence of pattern units 
at the start of a second line by updating the second memory 

to indicate the next sequential pattern unit after the 
current pattern unit if the control value is a first value, 

or resetting the pattern at the start of the second line, 
by resetting the second memory to indicate the 

predetermined pattern unit if the control value is a second 
value different from said first value. 
A method according to claim 9, wherein the step of 
storing a sequence of pattern units comprises the step of 

storing a sequence of pattern bits. 
A method according to claim 10, further comprising the 
steps of storing foreground and background colours, wherein 

the writing step comprises the step of writing a foreground 
or background colour to the video memory (36) responsive to 

the current pattern unit. 
A method according to claim 9, further comprising the 
step of storing the coordinates of a first endpoint of a 

line in a first endpoint memory (36).  
 
A method according to claim 12, further comprising the 
step of transferring the coordinates of a last pixel of a 

line to the first endpoint memory (36). 
A method according to claim 9, further comprising the 
step of storing a second control value in a fourth memory 

(36), wherein the writing step comprises the step of 
writing to the video memory (36) at a generated address 

corresponding to the last pixel of a line dependent upon 
the second control value. 
A method according to claim 9, further comprising the 
steps of: 


storing a pattern end pointer indicating the last 
pattern unit in a desired pattern; and 
updating the second memory (36) to a predetermined 
pattern unit dependent upon the pattern end pointer 

location. 
A computer system (10) comprising: 

a processor (12); 
a display (23); and 
a graphics processor (32) coupled to the processor and 
the display, the graphics processor employing the 

circuitry of any of claims 1 to 8. 
</CLAIMS>
</TEXT>
</DOC>
