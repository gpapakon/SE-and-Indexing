<DOC>
<DOCNO>EP-0601260</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Full-duplex start-up method for modems
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L514	H04M1106	H04L2906	H04M1106	H04L2908	H04L514	H04L2906	H04L2908	H04M1100	H04M1100	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04M	H04L	H04M	H04L	H04L	H04L	H04L	H04M	H04M	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L5	H04M11	H04L29	H04M11	H04L29	H04L5	H04L29	H04L29	H04M11	H04M11	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
This invention concerns a method for the fast start-up of modems for full-duplex 
data transmission over the Public Switched Telephone Network (PSTN). The 

start-up time for typical current generation modems as specified in CCITT 
Recommendations V.32 and V.32bis is about 4 to 8 seconds. This invention allows 

to shorten that start-up time to about 0.5 to 1 second by applying interleaved and 
overlapping sending and receiving operations of two connected modems, the 

calling modem and the answering modem. In brief, both modems send and 
receive simultaneously in a predetermined sequence at different frequency 

ranges channel probing tones (e.g. for evaluating the channel bandwidth), 
repetitive identification messages (e.g. for determining reference times, 

identifying modulation rates and center frequencies), repetitive response 
messages (e.g. for transmitting the determined bandwidths and reference times 

to the other modem and determining round-trip delays), and training sequences 
(e.g. for determining echoes, frequency shifts, and receiver settings). 
The modems will then transmit data in a full-duplex mode at the modulation rate 
and center frequency appropriate for the channel and at an initial bit rate. The 

maximum achievable bit rate may be achieved later during the full-duplex 
transmission through rate negotiations. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
IBM
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL BUSINESS MACHINES CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
UNGERBOECK GOTTFRIED DR
</INVENTOR-NAME>
<INVENTOR-NAME>
UNGERBOECK, GOTTFRIED, DR.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention concerns a method for the fast start-up of modems for
full-duplex data transmission over the Public Switched Telephone Network
(PSTN).A particular type of modems for full-duplex data transmission over the PSTN has
been defined in the CCITT Blue Book, published by the CCITT in Geneva, 1989, in
Volume VIII, Fasc. VIII.1. The respective Recommendation V.32 is entitled "A
family of 2-wire, duplex modems operating at data signalling rates of up to 9600
bit/s for use on the general switched telephone network and on leased
telephone-type circuits". In this recommendation, a start-up procedure is
described for exchanging signals between a call mode modem and an answer
mode modem in order to train the echo cancellers and equalizers of these
modems. This procedure is based on sending essential parts of the training
signals in a half-duplex manner. The start-up time required for executing this
procedure is in the range of 4 to 8 seconds, which is considered too long for
many uses. The follow-on Recommentation V.32 bis, published by the CCITT in
1991, describes essentially the same start-up procedure, but allows for higher
data rates than V.32.A method suited for training echo cancellers in full-duplex modems faster than in
V.32 modems is described in a publication by J.M. Cioffi: "A Fast Echo Canceller
Initialization Method for the CCITT V.32 Modem", IEEE Transactions on
Communications, Vol.38, No.5, May 1990, pp.629-638. Some new aspects of full-duplex modem initialization are presented in a
publication by X. Chen at al. entitled "A Full-Duplex Fast Training Algorithm for
Simultaneously Estimating Echo and Channel Response", Proceedings
SUPERCOMM/ICC '92, Paper 351.1, pp.1503-1507. A technique for
simultaneously estimating the responses of near-end and far-end echo paths and
the signal path from the remote modem to the local modem is described. These
responses are then used to adjust the echo cancellers and the equalizer. The
authors propose to send for this purpose known periodic training sequences. One
reason for this is the difficulty for the receiving modem to determine the
beginning of a non-periodic training sequence sent by the remote modem. This is
one of the problems solved by the present invention.A high speed two wire modem communicating with another modem over a communication media in a Full-duplex mode using a common start-up procedure is further known from EP-A-0 513 527.The main object of this invention is to provide an initialization procedure for a
next generation of modems
</DESCRIPTION>
<CLAIMS>
A method of starting full-duplex communication between a first station with a
calling modem (CM) and a second station with an answering modem (AM),

the answering modem, when called, sending an answering tone (ANS) to the
calling modem (CM), the method comprising the following steps:


a1. sending from each of the modems to the other one, in an interleaved
and overlapping manner:


a set of channel probing tones (CM and AM tones) at predetermined
frequencies, and
repetitive identification messages (CIM, AIM) in a given frequency
range, containing the sending modem's local time (local CM time,

local AM time) when the message is sent, and characterizing the
sending modem by its capabilities in terms of parameters including

supported modulation rates, center frequencies, and supported
coding;
a2. at the respective other modem receiving said probing tones and
identification messages:


establishing a running time reference (relative CM or AM time,
respectively) from the remote modem's local time (local CM or AM

time, respectively) received in said identification message(s), and
determining transmission channel characteristics, in particular a
useful bandwidth (UB), from said received probing tones;
b1. sending from the respective other modem:

repetitive response messages (CRM, ARM), each containing the
relative time (relative CM or AM time, respectively) at this other

modem and transmission parameters selected from the parameters
supported by both modems, based on the determined channel

characteristics, in particular the modulation rate and center
frequency, for subsequent transmission of training and data signals

from the modem receiving said particular response message;
b2. at the modem receiving said response message (CRM, ARM):

determining the round trip delay (RTD) by comparing the received
relative time and the actual local time at the receiving modem;
extracting the information on the transmission parameters to be used
for subsequent transmission of training and data signals to the

modem sending said response message;
c1. sending from each modem, at the respective determined modulation
and coding parameters, full-band training sequences (CTRN, ATRN);
c2. determining, at each modem that now sends and receives training
sequences (CTRN, ATRN), the responses of the respective detected

near-end and far-end echo paths and of the signal paths from the
remote modem to adjust receiver settings, in particular echo cancellors

and equalizers as necessary for subsequent data transmission.
The method of claim 1, wherein

the calling modem (CM), after detecting the answering tone (ANS), waits for a
predetermined time and then sends the calling modem identification 

message (CIM) in a first frequency range and the channel probing tones (CM
tones) at given frequencies of a first set,
correspondingly, when the answering modem (AM), which is conditioned to
receive said calling modem identification message (CIM), detects the latter, it

stops sending said answering tone (ANS) and starts transmitting the
answering modem identification message (AIM) in a second frequency range

and the respective channel probing tones (AM tones) at given frequencies of
a second set.
The method of claim 1 or 2, wherein

said identification messages (CIM, AIM) consist of repetitively transmitted
blocks conveying at least information on:
modulation rates, center frequencies, and data rates, at which the modem
sending said identification message (CIM, AIM) can operate,
elapsed time (local CM or AM time, respectively) since beginning of said
identification message (CIM, AIM) transmission, allowing the respective

modem (CM or AM) to establish a time reference (relative AM or CM time,
respectively),
block boundaries and error detection.
The method of any preceding claim, wherein

the answering modem (AM) recognizes from at least one of said calling
modem identification messages (CIM) the capabilities of the calling modem

(CM), establishes the calling modem reference time (relative CM time), and
analyzes the calling modem channel probing tones (CM tones) to determine

appropriate modulation and coding parameters for transmission from the
calling modem (CM) to the answering modem (AM), 
correspondingly, the calling modem (CM) recognizes from at least one of

said answering modem identification messages (AIM) the capabilities of the
answering modem (AM), establishes the answering modem reference time

(relative AM time), and analyzes the answering modem channel probing
tones (AM tones) to determine appropriate modulation and coding

parameters for transmission from the answering modem (AM) to the calling
modem (CM),
each modem stops sending identification messages (CIM, AIM) and starts
transmitting response messages (ARM, CRM) upon


successful reception of an identification message (CIM, AIM) from the
other modem, and
completed analysis of the channel characteristics,
and, finally, each modem stops transmitting response messages (ARM, CRM)
upon


transmission of at least one complete response message, and
successful reception of at least one response message.
The method of claim 1 or 4, wherein

the response messages (ARM, CRM) consist of repetitively transmitted
blocks conveying at least information on:
selected modulation and coding parameters for subsequent transmissions, in
particular modulation rate, center frequency, transmit power, type of coding,

and initial bit rate,
the sending modem reference time (relative AM or CM time), when such
sending modem response message block is transmitted, to be used to

determine round-trip delay (RTD),
block boundaries and error detection.
The method of claim 1 or 5, wherein, subsequent to the response message
(CRM, ARM),


each modem (CM or AM) transmits the training sequence (CTRN or ATRN)
for the duration of the determined round-trip delay (RTD) plus a fixed time

period,
each modem determines, as necessary, channel responses, and receiver
settings from the received stationary composite signal comprising near-end

echo, far-end echo, and the training sequence (ATRN or CTRN) from the
remote modem, and
each modem is then ready for transmitting an ending delimiter (ED)
indicating the end of transmission of training signals to the remote modem

and conditioned to receive such a delimiter (ED) from the remote modem.
The method of claim 1, wherein the identification messages (CIM and AIM)
and/or the response messages (CRM and ARM) are transmitted in form of a

narrow-band modulated signal with a center frequency near mid-band of the
transmission channel bandwidth, in particular with differing mid-frequencies.
The method of any preceding claim, wherein the identification message (CIM
or AIM) has a block length of about 32 bits or more.
The method of any preceding claim, wherein the frequencies of the channel
probing tone sets (AM and CM tones) are selected outside the frequency

range of the identification messages, in particular towards both ends of the
transmission channel bandwidth.
The method of claim 9, wherein one set of probing tones is placed at
frequencies of 12.5+k×100 Hz and the other set at 62.5+k×100 Hz, k being

the ordinal number of the respective probing tone. 
The method of any preceding claim, wherein the training signals (ATRN or
CTRN) consist of a sequence of pseudo-random modulation symbols uniquely

associated with time, preferably generated by a scrambler which is initialized
at the start of the sending modem's first identification message (CIM or AIM),

such that the receiving modem can identify the transmitted modulation
symbols by referring to the sending modem's reference time at the receiving

modem (relative AM or CM time), as communicated in the identification
message (CIM or AIM).
The method of claim 11, wherein the modulation parameters of the training
sequences (CTRN, ATRN) are uniquely determined by the information

contained in the response messages (CRM, ARM).
</CLAIMS>
</TEXT>
</DOC>
