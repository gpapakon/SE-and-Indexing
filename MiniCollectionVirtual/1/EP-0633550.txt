<DOC>
<DOCNO>EP-0633550</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processing method and apparatus thereof
</INVENTION-TITLE>
<CLASSIFICATIONS>G01B1124	G06T100	G01B1124	G06T1720	G06T100	G06F1750	G06T1720	G06F1750	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G01B	G06T	G01B	G06T	G06T	G06F	G06T	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G01B11	G06T1	G01B11	G06T17	G06T1	G06F17	G06T17	G06F17	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image processing method and the apparatus thereof 
for approximating an object shape and reconstructing the 

corresponding image by subjecting a radial range image to 
approximating with polygons and reconstructing an image 

from these polygons execute the following processes. At 
block B210, reading a radial range image data is executed. 

At block B220, a plural of different resolution radial 
range images are generated based upon the read radial range 

image. At block B230, normal vectors, according to each 
resolution of a radial range image, are calculated. At 

block B240, an edge-map having a plural of edges is 
generated in such a manner that a plural of edges are 

generated depending upon the resulting normal vectors and 
the radial range images of different resolutions. At block 

B250, the edge-maps of all kinds of resolutions are ORed to 
form a synthesized map. The synthesized map is subjected 

to correcting crossing and isolated edges. At block B260, 
each polygon is divided into a plural of triangles. At 

block B270, assigning 3 dimensional coordinate values and 
the normal vector generated at block B230 to each apex and 

the corresponding triangle plane respectively, is executed. 
At block B280, eliminating unnecessary triangle gaps around 

a T-shaped point is executed. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OHSHIMA TOSHIKAZU
</INVENTOR-NAME>
<INVENTOR-NAME>
UCHIYAMA SHINJI
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMAMOTO HIROYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
OHSHIMA, TOSHIKAZU
</INVENTOR-NAME>
<INVENTOR-NAME>
UCHIYAMA, SHINJI
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMAMOTO, HIROYUKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a method and apparatus for
processing data defining a radial range image for an object to
generate data defining polygons corresponding to the surface shape
of the object.The image processing method and apparatus thereof
available in the prior art, in which an object data
approximating the surface shape of object is generated, by
first generating 2-dimensional range image data according
to the surface shape of the object viewed from a given
perspective and then arranging a field of polygons, each of
which is the same size, onto a 2-dimensional range image
data grid.Further, there is another image processing method and
apparatus thereof available in the prior art using radial
range image data, which is obtained by scanning the around-shape
of an object while either the object or an image
detector rotated, instead of the 2-dimensional range image
data, in which dots are arranged on a radial range image
data grid, in which four neighboring dots represent the 
apexes of a square, and the squares constructed by drawing
straight line between the neighboring dots approximate the
surface shape of the object.However, in the case of making use of 2-dimensional
range image data, only the front side of an object can be
processed.In the case of making use of radial range image data,
the data is generated by assigning square polygons, each of
which is the same size, onto the object. These are
translated onto a radial range image data grid, which
approximate the surface shape of the object.Here, there is a problem in that it is impossible to
accurately represent the surface shape of an object with a
high resolution when the object has a complicated shape,
and the number of polygons must be kept low due to data
storage restrictions and processing speed.Too many polygons are required when an accurate
approximation with high resolution is sought. Objects with
complicated surface shapes become extremely expensive to
reproduce (due to the cost of this data storage capability)
or extremely time-consuming to reproduce (due to the time
required to process this much data). EP-A-0526881 discloses an apparatus for converting
the format of input data defining a three-dimensional
model and for processing, displaying and editing the
converted data. In this way, data defining a three-dimensional
model can be processed, displayed and edited
irrespective of the format of the input data.EP-A-0600709 (published after the claimed priority
date for the present invention) discloses a range-image
processing
</DESCRIPTION>
<CLAIMS>
An image processing apparatus (1, 2, 3) for
processing data defining a radial range image of an

object to generate data defining polygons which
approximate the shape of the object surface, the

apparatus comprising:

input means (5) for receiving data defining an input
radial range image of an object comprising data defining

a distance value of points on the object surface indexed
to a rotation axis by angle and length;
generating means (p1, 3) for generating data
defining further radial range images each having

different resolutions based upon the input radial range
image;
calculating means (p2, 3) for calculating a normal
vector for respective parts of each of the further radial

range images;
edge-map calculation means (p3, 3) for generating
data defining respective edge-maps for the further radial

range images, the edge-map calculation means being
arranged to generate the data for each edge-map based on 

the normal vectors calculated by the calculating means;
synthesizing means (p4, 3) for synthesizing the
edge-maps generated by the edge-map calculation means

into a synthesized edge-map; and
polygon data generating means (p5, p6, 3) for
generating polygon data representing the object's shape

in dependence upon the synthesized edge-map.
The apparatus according to claim 1, wherein said
generating means (p1, 3) is arranged to generate a said

further radial range image by eliminating high frequency
components and thinning out the input radial range image.
The apparatus according to claim 1 or claim 2,
wherein said calculating means (p2, 3) is arranged to

calculate a said normal vector based upon a plane
approximating a part of the object surface, the plane

being identified based upon neighbouring points in the
further radial range image.
The apparatus according to any preceding claim,
wherein said synthesizing means (p4, 3) comprises means 

for ORing edge-maps from the edge-map calculating means
into an ORed edge-map and means for correcting crossing-edges

in the ORed edge-map.
The apparatus according to any preceding claim,
wherein said polygon data generating means (p5, p6, 3) is

arranged to generate data defining triangles by dividing
a polygon enclosed with edges generated by said

synthesizing means into triangles.
The apparatus according to claim 5, wherein said
polygon data generating means (p5, p6, 3) further

includes means (p7, 3) for filling gaps between the
triangles.
A method of processing data defining a radial range
image of an object to generate data defining polygons

which approximate the shape of the object surface, the
method comprising:


a receiving step of receiving data defining an input
radial range image of an object comprising data defining

a distance value of points on the object surface indexed 
to a rotation axis by angle and length;
a generating step of generating data defining

further radial range images each having different
resolutions based upon the input radial range image;
a calculating step of calculating a normal vector
for respective parts of each of the further radial range

images;
an edge-map calculation step of generating data
defining respective edge-maps for the further radial

range images, the data for each edge-map being generated
based on the calculated normal vectors;
a synthesizing step of synthesizing the edge-maps
generated in the edge-map calculation step into a

synthesized edge-map; and
a polygon data generating step of generating polygon
data representing the object's shape in dependence upon

the synthesized edge-map.
The method according to claim 7, wherein, in said
generating step, a said further radial range image is

generated by eliminating high frequency components and
thinning out the input radial range image. 
The method according to claim 7 or claim 8, wherein,
in said calculating step, a said normal vector is

calculated based upon a plane approximating a part of the
object surface, the plane being identified based upon

neighbouring points in the further radial range image.
The method according to any of claims 7 to 9,
wherein, in said synthesizing step, edge-maps from the

edge-map calculating step are ORed into an ORed edge-map
and crossing-edges in the ORed edge-map are corrected.
The method according to any of claims 7 to 10,
wherein, in said polygon data generating step, data

defining triangles is generated by dividing a polygon
enclosed with edges generated in said synthesizing step

into triangles.
The method according to claim 11, wherein, in said
polygon data generating step, gaps between the triangles

are filled.
A computer program product comprising instructions 
for causing a programmable processing apparatus to become

configured as an apparatus as set out in at least one of
claims 1 to 6.
A computer program product comprising instructions
for causing a programmable processing apparatus to be

able to execute a method as set out in at least one of
claims 7 to 12.
A computer program product according to claim 13 or
claim 14, when embodied as data stored on a data storage

device.
</CLAIMS>
</TEXT>
</DOC>
