<DOC>
<DOCNO>EP-0617860</DOCNO> 
<TEXT>
<INVENTION-TITLE>
INBOUND COMMUNICATIONS USING ELECTRICITY DISTRIBUTION NETWORK
</INVENTION-TITLE>
<CLASSIFICATIONS>H04B354	H04B354	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04B	H04B	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04B3	H04B3	</CLASSIFICATIONS-FOURTH>
<APPLICANTS>
<APPLICANT-NAME>
DISTRIBUTION CONTROL SYST INC
</APPLICANT-NAME>
<APPLICANT-NAME>
DISTRIBUTION CONTROL SYSTEMS, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
FRANZEN KEVIN J
</INVENTOR-NAME>
<INVENTOR-NAME>
MAK SIOE T
</INVENTOR-NAME>
<INVENTOR-NAME>
FRANZEN, KEVIN, J.
</INVENTOR-NAME>
<INVENTOR-NAME>
MAK, SIOE, T.
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to a system and method for
extracting information from a carrier wave and relates
generally to the method and apparatus described in United
States Patents 4,106,007 and 4,218,655, the disclosures of
which are incorporated herein by reference. As described
in those patents, it is known that a modulation signal can
be superimposed on a power system waveform, at specified
locations on the power system waveform such as a zero
crossing, to cause wave shape perturbations in the carrier
wave. The embodiment described herein uses electric load
pulses which are superimposed on the 60 Hz load current of
an electrical power distribution system.Communication over electric power distribution lines
is useful for signaling, meter reading, and load control,
among other uses. However, communication over an electric
distribution system is a complex undertaking. Each
customer service constitutes a branch in the distribution
feeder, and the branching is so extensive that it is
impractical to provide filter and by-pass circuitry at
each branch point. The distribution system is not an
attractive medium for conventional communications due to
the attenuation and dispersion of the signals and because
noise levels tend to be high. To overcome the high noise
levels, it is generally necessary to use narrow band
filtering, error-detecting and error-correcting codes, and
relatively high signal power levels at low bit rates.The aforementioned problems arise in two areas. The
first concerns transmitting information from the central
source in the direction of energy flow to the individual
customer premises. This transmission of information in 
the direction of energy flow is referred to as "outbound"
signaling. Functions such as automatic meter reading and
various alarm systems, however, require that information
pass not only from a single source to the end user, but
also from the end user back to the central station. This
transmission of information in the direction opposite to
that of the energy flow is referred to as "inbound"
signaling.In the system described in the aforementioned
patents, each binary digit (a binary "1" or a binary "0")
is made up of four current pulse modulations located at
preselected zero crossings of the electrical distribution
network voltage waveform. These current pulses are
located within eight zero crossings (four complete cycles)
of the waveform and the current pulse patterns for "1s"
and "0s" are complementary.By using different pulse patterns to define binary
"1s" and "0s," it is
</DESCRIPTION>
<CLAIMS>
A method of detecting signals (i
s
) carried inbound
on an electricity distribution network

to extract electrical current information from a
waveform (I) of the electricity distribution network; characterized

by the steps of:

digitally forming a digital waveform to
extract signal information contained in said electrical

current information;
constructing a reference waveform (S
r
) from a portion
of the digital waveform; and
detecting the signal information by comparing
portions of the digital waveform with corresponding

portions of the reference waveform (S
r
).
The method as set forth in claim 1 wherein
the electrical current information is extracted by

sampling the current with an analog-to-digital converter.
The method as set forth in claim 2 wherein
the analog-to-digital converter is operated at a sampling

rate of greater than approximately 4000 Hz.
The method as set forth in claim 3 wherein
the sampling rate is approximately 4320 Hz.
The method as set forth in claim 2 wherein
the analog-to-digital conversion has approximately fifteen

bits of accuracy.
The method as set forth in claim 1 wherein
the digital filtering is infinite impulse response

filtering.
The method as set forth in claim 1 wherein
the digital filtering is finite impulse response filtering.
The method as set forth in claim 1 wherein
the digital filtering step includes band pass filtering. 
The method as set forth in claim 8 wherein
the band pass filtering has a pass band with a lower

cut-off frequency of approximately 200 Hz.
The method as set forth in claim 8 wherein
the band pass filtering has a pass band with an upper

cut-off frequency of approximately 450 Hz.
The method as set forth in claim 8 wherein
the band pass filtering is accomplished using a 4-pole

Butterworth digital filter.
The method as set forth in claim 1 wherein
the inbound signals are sent over non-interfering inbound

channels of the waveform of the electricity distribution
networks, each channel having a detection algorithm

associated therewith to distinguish signals on the various
channels, including the step, for at least one channel for

which signal detection is desired, of applying the
detection algorithm for said channel to the filtered

digital waveform to extract the signal bit portions of the
digitally filtered waveform for said channel.
The method as set forth in claim 12 wherein
for each channel for which signal detection is desired,

the detection algorithm for that channel is applied to the
filtered digital waveform.
The method as set forth in claim 12 wherein
for at least one channel the signal bit portions of the

digitally filtered waveform are sampled at a predetermined
interval and in a predetermined window.
The method as set forth in claim 14 wherein
the predetermined interval is approximately five (5)

electrical degrees.
The method as set forth in claim 14 wherein
the predetermined widow is approximately 180 electrical

degrees in width. 
The method as set forth in claim 14 wherein
the sampling of the signal bit portions of the digitally

filtered waveform begins after a fixed phase delay.
The method as set forth in claim 14 wherein
the sampling of the signal bit portions of the digitally

filtered waveform results in an ordered series of sampled
data for each signal bit portion of the digitally filtered

waveform.
The method as set forth in claim 18 wherein
the reference waveform is constructed by mathematically

manipulating the ordered series of sampled data for a
predetermined number "n" of bits of a message.
The method as set forth in claim 19 wherein
constructing the reference waveform includes forming

composite ordered series from two of the ordered series of
sampled data.
The method as set forth in claim 20 wherein
the composite ordered series is obtained by summing the

corresponding elements of the two ordered series of
sampled data to form a first preliminary composite ordered

series, taking the differences of the corresponding
elements of the two ordered series of sampled data to form

a second preliminary composite ordered series, summing the
elements of the first preliminary composite ordered

series, summing the elements of the second preliminary
composite ordered series, and selecting as the composite

ordered series that preliminary composite ordered series
whose sum has the greatest absolute value.
The method as set forth in claim 21 wherein
the composite ordered series is summed with a third

ordered series of sampled data to form a first preliminary
replacement composite ordered series, the difference is

taken between the elements of the composite ordered series
and the third ordered series to form a second preliminary 

replacement composite ordered series, the elements of the
first preliminary replacement composite ordered series

being summed, the elements of the second preliminary
replacement composite ordered series being summed, and the

composite ordered series being replaced by the preliminary
replacement composite ordered series whose sum has the

greatest absolute value.
The method as set forth in claim 22 wherein
the steps of claim 22 are repeated for each of the

remaining "n-3" ordered series of sampled data so as to
incorporate all "n" sets of data in the replacement

composite ordered series.
The method as set forth in claim 23 wherein
the elements of the replacement composite ordered series

are normalized to form the reference waveform.
The method as set forth in claim 19 wherein
the ordered series of sampled data from which the

reference waveform is constructed are those corresponding
to the first "n" bits of the message.
The method as set forth in claim 25 wherein
the reference waveform is used to detect all the bits of

the inbound message, including those "n" bits used to
construct the reference waveform.
The method as set forth in claim 25 wherein
each bit of the signal information is detected by summing

the elements of the reference waveform with the
corresponding elements of the ordered series for that bit

to form a first signal ordered series, taking the
difference of the elements of the reference waveform with

the corresponding elements of the ordered series for that
bit to form a second signal ordered series, summing the

elements of the first signal ordered series, summing the
elements of the second signal ordered series, and

determining whether the bit under test is a "1" or a "0" 
by comparing the absolute values of said signal ordered

series sums.
The method as set forth in claim 1 including
the step of checking the bit pattern of the detected

signal information and inverting all the elements of said
bit pattern when the checking step indicates that the bits

of the detected signal as decoded are inverted.
The method as set forth in claim 1 further
including the step of detecting incorrect bits in the

message and the step of correcting said incorrect bits.
The method as set forth in claim 29 wherein
incorrect bits are detected using the CRC-16 error

detection algorithm.
The method as set forth in claim 29 wherein
the step of correcting said incorrect bits includes

determining which bit of the message has the lowest signal
strength, and inverting said lowest signal strength bit.
The method as set forth in claim 31
including the further step of checking for incorrect bits

after inversion of the lowest signal strength bit.
The method as set forth in claim 32 wherein
if incorrect bits are detected after inversion of the

lowest signal strength bit, all possible combinations of

the lowest signal strength bit and the next lowest signal
strength bit are tried until that combination is found, if

any, which causes the message to pass the checking step.
The method as set forth in claim 33 wherein
the number of bits to be corrected is increased one at a

time, with all possible combinations of the bits to be
corrected being tested until the message passes the

checking step or a predetermined number "j" of bits is
reached.
The method as set forth in claim 34 wherein
"j" is four. 
The method as set forth in claim 1 further
including the step of constructing a second reference

waveform from another portion of the digital waveform.
The method as set forth in claim 36 wherein
both reference waveforms are used to detect signal

information.
</CLAIMS>
</TEXT>
</DOC>
