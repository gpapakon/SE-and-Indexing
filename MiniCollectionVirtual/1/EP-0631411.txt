<DOC>
<DOCNO>EP-0631411</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Communication network
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L12417	H04L12407	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L12	H04L12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
When a token hold station falls into a transmit-possible 
and receive-impossible state, the network can be 

returned to communication without using a manual reset. 
While executing solicitation against other stations, the 

token hold station gradually extends a range of the 
objective stations (302) and transmits a solicit successor 

(306, 308). In the case of that a sub station holds a token, 
the solicitation is stopped at the time point where the range is 

extended to the maximum (300) and in the case of that a main 
station holds the token, the solicitation continues (326). The 

sub station which stopped the solicitation awaits 
receipt of the frame directed from another station to itself 

(328). When the sub station holding the token moves to the 
awaiting state, the main station produces a token at a 

certain time point and executes the solicitation, with a 
result that a faulty station is removed and the logical 

ring is established again. 

 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
SHARP KK
</APPLICANT-NAME>
<APPLICANT-NAME>
TOYOTA MOTOR CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
SHARP KABUSHIKI KAISHA
</APPLICANT-NAME>
<APPLICANT-NAME>
TOYOTA JIDOSHA KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OKAMURA NAOKI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKANO HIDETOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAO NORIYUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
OKAMURA, NAOKI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKANO, HIDETOSHI
</INVENTOR-NAME>
<INVENTOR-NAME>
TAKAO, NORIYUKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a communication network for
carrying out communication while establishing and maintaining a
logical ring by a solicit process.In Fig. 1, there is shown one example of a conventional
communication network. In this network, four stations having
station codes 00 to 03 are linked via a bus 10. In this case, one
example of a practicable protocol is token passing which is, for
example, defined by the IEEE standard 802.4 and is shown in EP-A-0 435 037.In the token passing protocol, establishment and maintenance
of a logical ring are essential. The logical ring is a ring
composed of stations participating in transmitting and receiving
data. In Fig. 1, a logical ring 12 is shown by a broken line and
a token is transmitted from a station with a larger station code
to one with a smaller one on the logical ring 12. Each station
possesses information TS, PS and NS for representing its own
station, a previous station and a next station, respectively.
For example, the station 01 has information TS = 01, PS = 02 and
NS = 00.In the token passing protocol, a transmission right of
information is called a token. After obtaining the token, the
station transmits a solicit frame to other stations when the 
number of the tokens obtained reaches a predetermined value by
counting from the previous transmission of the solicit frame. The
IEEE 802.4 defines a solicit _any as the solicit frame. The
solicit _any is sent from a token hold station (the station
holding the token) to all the other stations. Of the stations
having received the solicit _any, any station capable of
responding does so. The token hold station determines a new next
station which responded to the solicit _any, is positioned in a
token rotation direction along the logical ring, and has the
station code closest to the token hold station. The token hold
station transmits the token to this new next station. As a
result, the station which responded to the solicit _any joins the
logical ring 12. In transmitting the token, for example, if the
token is broken down on the bus 10 by noise or the like, since the
next station cannot receive the token, the token is sent again.
That is, the token is repeatedly transmitted within the limits of
a predetermined number.When no station responds to the solicit _any, the token hold
station considers that the logical ring 12 is composed of only its
own station now and operates as follows. That is, after a bus
_idle_timer expires, the token hold station, sends a claim _token a
predetermined number of
</DESCRIPTION>
<CLAIMS>
A communication network including a plurality of stations (00, 01, 02, 03)
which constitute a logical ring (12) to transmit and receive

information, the logical ring being established and maintained
by a token passing process to pass the token, representing the

right to transmit information, between the
stations in the logical ring and a solicit process to solicit

stations which are not in the logical ring, and the stations
in the network including at least one particular station,

   each of the stations as well as the particular station,
comprising:


solicit means for carrying out the solicit process when
holding a token;
solicit response means for transmitting a frame to
respond to the solicit process carried out by any station in

the network; and
token transmit means for transmitting the token to the
station having transmitted a frame to respond to the solicit

process, when holding the token;
each station except for the particular station further
comprising:
first solicit repeat means for repeating the solicit
process at most a predetermined number of times when no frame 

arrives from other stations in the network to respond to the
solicit process, when holding the token;
idle state move means for considering that no other
stations join in the logical ring when no frame to respond to

the solicit process arrives until the solicit process is
repeated for the predetermined number of times, and for moving

to an idle state to await the arrival of a frame from any
station in the network; and
return means for resuming a predetermined operation from
the idle state by responding to a frame arriving

from any station in the network;

wherein the communication network is characterized by:

the particular station further comprising:
second solicit repeat means for repeating the solicit
process when no frame arrives from any station in the network

in response to the solicit process executed by the particular
station; and
token producing means for producing the token when no
other station joins in the logical ring.
A communication method for carrying out communication
among a plurality of stations (00, 01, 02, 03) joining in a logical ring (12) which

is established and maintained by a token passing process to
pass the token, representing the right to transmit

information, between the stations in the logical ring and a
solicit process to solicit stations which are not in the 

logical ring, the communication method comprising:

a solicit step (306, 308) for letting the solicit process be carried
out by a station which is currently holding the token;
a solicit response step (314) for transmitting a frame from
another station to the current token-holding station;
a token transmit step (320) for transmitting the token from the
current token-holding station to said another station when the

current token-holding station receives the frame in response
to the solicit process carried out thereby;
a first solicit repeat step (302, 312) for enabling the current
token-holding station to repeat the solicit process at most a

predetermined number of times when the current token-holding
station cannot receive a frame from any station in the network

in response to the solicit process carried out by the current
token-holding station which is not the particular station;
idle state move step (322) for considering that no other
stations join in the logical ring when no frame arrives to

respond to the solicit process carried out by the current
token-holding station other than the particular station until

the solicit process is repeated for the predetermined number
of times, and for moving to an idle state to await the arrival

of a frame from any station responsive to the solicit process;
a return step for responding to a frame
arriving from any station in the network and for enabling the 

station, which is the token holding station but not the
particular station, to resume a predetermined operation;

the communication method characterised by:

a second solicit repeat step (326) for repeating the solicit
process when the particular station is current holding the

token and when no frame arrives from any station in the network
in response to the solicit process; and
a token producing step for permitting the particular
station to produce the token when no other station joins in

the logical ring.
</CLAIMS>
</TEXT>
</DOC>
