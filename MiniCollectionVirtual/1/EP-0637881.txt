<DOC>
<DOCNO>EP-0637881</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Programmable error-checking matrix for digital communication system
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L2906	H04L2906	H04L2914	H04L2914	G06F1300	H04L100	H04L100	G06F1300	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	H04L	H04L	G06F	H04L	H04L	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L29	H04L29	H04L29	H04L29	G06F13	H04L1	H04L1	G06F13	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A programmable system for checking for protocol 
errors in a communication system includes a matrix for 

generating error checking signals selected by data fields 
utilized to implement a communication. If the configuration 

or protocol is changed the system facilitates reprogramming to 
compensate for the change. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
COMPAQ COMPUTER CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
COMPAQ COMPUTER CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
FREEMAN JON C
</INVENTOR-NAME>
<INVENTOR-NAME>
KONG CHENG-GANG
</INVENTOR-NAME>
<INVENTOR-NAME>
FREEMAN, JON C.
</INVENTOR-NAME>
<INVENTOR-NAME>
KONG, CHENG-GANG
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates generally to error
checking systems and more particularly relates to programmably
checking the intersection matrix of multiple control and
identifier fields in digital communication systems.All digital communication systems require a set of
rules, called a protocol, to control communications between
different modules in the system. It is well known to
implement error checking systems to assure that a particular
communication does not violate the protocol.In many systems a communication includes a
handshaking operation to establish a link between two modules.
Various data fields are transferred during various phases of
an operation that allow the modules to gain control of a
communication channel, identify each other and the type of
operation to be performed, to verify the readiness of each
module to perform the operation, and to transfer data over the
communication channel. The protocol specifies the values of
data fields that may be generated during each of these phases.Protocol analysers which monitor data in a
communication channel are known. For example, EP0478175,
corresponding to the precharacterising part of claim 1,
discloses a protocol analyser which uses a protocol state
transition table to determine whether data units being
transmitted follow, or violate, a predetermined protocol and
can selectively display only data units which violate the
protocol in use.One of the advantages of digital systems is the
ability to reconfigure the hardware by adding or deleting
modules or functions and to change the protocol to change the
field values utilized during the different phases. However,
existing error checking function are generally not
reconfigurable thereby limiting their utility in digital
communication systems. The present invention is a reconfigurable error
checking system for use in digital communication systems. The
error checking system utilises the values of an error checking
function to check whether the data fields generated during a
particular communication are allowed or forbidden by a
communication protocol. The system can be reconfigured by
modifying the error checking function.According to one aspect of the invention, error
checking signals are programmably stored and selected by
particular combinations of fields generated during a
communication operation. The value of the selected error
checking signal indicates whether the values of the particular
combination of fields is allowed by the protocol.According to another aspect of the invention, the
error
</DESCRIPTION>
<CLAIMS>
A method for checking for protocol errors for use in a system
having a plurality of modules (14,16,18,20) coupled by a

communication channel (12) and having a communication protocol
utilising first and second data fields (M,N), each encoding

one of a plurality of values, transmitted on the channel to
define and control communication operations, 
characterised in
that
 said method comprises the steps of:

writing an error checking signal to a storage
location (35,36) for each one of a set of possible pairs of

said first and second data field values, with the written
error checking signal indicating whether the possible pair is

allowed by the communication protocol;
receiving a given pair of said first and second data
fields transmitted on said channel during a particular

communication operation;
utilizing said given pair of first and second data
fields to select said error checking signal indicating whether

said given pair of first and second data fields are allowed by
the communication protocol.
The method claim 1 further comprising the step of:

rewriting said selected error checking signal if the
protocol is modified.
A method for checking for protocol errors for use in a system
having a plurality of modules (14,16,18,20) coupled by a

communication channel (12) and having a communication protocol
utilizing first and second data fields (M,N), each encoding

one of a plurality of values, transmitted on the channel to
define and control communication operations, 
characterised in
that
 said method comprises the steps of:

storing an error checking signal, for each one of a
set of possible pairs of said first and second data field 

values indicating whether the possible pair is allowed by the
communication protocol;
receiving a given pair of said first and second data
fields transmitted on said channel during a particular

communication operation;
utilizing said given pair of first and second data
fields to select said error checking signal indicating whether

said given pair of first and second data fields are allowed by
the communication protocol ;
utilizing said given pair of first and second data
fields to select a masking signal having either a masking

value or a non-masking value;
masking the selected error checking signal to
generate a masked selected error checking signal indicating

that the given pair of said first and second data fields are
allowed by the communication protocol if said selected masking

signal has a masking value;
aborting the particular communication operation if

the masked selected error checking signal indicates that the
given pair is not allowed by the communication protocol.
A system for receiving first and second data fields
(M,N) generated on a communication channel (12) during a

communication operations, each data field encoding one of a
plurality of values, and for checking whether the first and

second values of a particular pair of received data fields are
allowed or forbidden by a selected rule, 
characterised in that

said system comprises:

programmable storage means (30), having a first
plurality of storage locations, for storing a first

plurality of unique error checking signals which indicate
whether the particular pair is allowed by the rule, each

unique value corresponding to a unique possible pairing in a
first plurality of possible pairings of the values of said

first and second fields and stored in one of said storage
locations; 
means (32,34), coupled to receive said particular
pair of firs and second data fields, for selecting a stored

unique error checking value corresponding to the received
particular pair of first and second data fields;
means, coupled to said means for selecting, for
outputting an error checking signal if said error checking

value indicates that the particular pair is forbidden by the
selected rule; and
means for aborting the communication operation if the
selected error checking signal indicates that the particular

pair is not allowed by the rule.
An error checking system for checking errors in a
digital system that includes multiple modules (14,16,18,20)

coupled by a communication channel (12) and that performs
operations specified by first and second data fields (M,N)

transmitted on the channel to govern inter-module
communication and operations, the error checking system,

responsive to selected data fields, for indicating whether
operations specified by the selected fields are allowed

according to a particular hardware configuration and
communication protocol, 
characterised in that
 said error
checking system comprises:


a first matrix decoder (40), having row and column
inputs for receiving first and second fields respectively and

an output for transmitting a unique unmasked error checking
signal, selected by said first and second fields received at

said inputs, with said error checking signal having a value
equal to a predetermined value if the first and second fields

are not allowed by the particular hardware configuration and
communication protocol;
means (32,34) for providing selected first and second
data fields specifying an operation to be performed by the

digital system, to respective row and column inputs of said
matrix decoder; 
a programmable row mask register (42) for storing a
second plurality of row configuration bits, each bit

programmably set to either a masking state or non-masking
state;
a programmable column mask register (44) for storing
a third plurality of column configuration bits, each bit

programmably set to either a masking state or a non-masking
state;
mask logic means (46), coupled to the output of said
matrix decoder and coupled to said row and column mask

registers (42,44) to receive the unmasked error checking
signal, the column configuration bit, and/or the row

configuration bit selected by said first field and/or said
second field, for changing the value of the unmasked error

checking signal if either the row or column configuration bit
is in the masking state and the value of the unmasked error

checking signal is equal to the predetermined value; and
means for aborting the operations when the operations
specified by the selected fields are not allowed.
The error checking system of claim 5 wherein said
first matrix decoder (40) comprises:


a hard-wired logic circuit for generating one
unmasked error checking signal for any pair of first and

second data fields having a first data field included in a
plurality of selected first data fields and a second data

field included in a plurality of selected second data fields.
The error checking system of claim 5 further
comprising:


a second matrix decoder, having row and column inputs
for receiving first and third fields res
pectively and an
output for transmitting a unique unmasked error checking

signal selected by said first and third fields received at
said inputs, with said error checking signal having a value

equal to a predetermined value if the first and third fields 
are not allowed by the particular hardware configuration and

communication protocol ;

   and wherein;

   said masked logic means further includes means
coupled to said first and second matrix decoders and

coupled to said row and column mask registers to receive the
unmasked error checking signals from said first and second

matrix decoders and a selected row configuration bit selected
by said first field, for changing the value of the received

unmasked error checking signals if the selected row
configuration bit is in the masking state and the value of the

unmasked error checking signals is equal to the predetermined
value.
</CLAIMS>
</TEXT>
</DOC>
