<DOC>
<DOCNO>EP-0626661</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Digital image processing circuitry.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K954	G06K956	G06T520	G06T520	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06K	G06T	G06T	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K9	G06K9	G06T5	G06T5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A programmable general purpose digital image 
processing circuit 30 incorporates pipeline image 

processing architecture including one or more pipeline 
processing chains 379 for making image processing 

computations, each chain comprising a serial connection 
of a convolution (CONVOL) unit 34, logic (LU) unit 35, 

morphological (MORPH) unit 36 and look-up table (LUT) 
unit 37, which enables the greatest number of 

processing operations to be performed within the 
shortest possible overhead time. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MORPHO SYSTEMES
</APPLICANT-NAME>
<APPLICANT-NAME>
MORPHO SYSTEMES
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
OBRIOT BERTRAND
</INVENTOR-NAME>
<INVENTOR-NAME>
ROUSSEAU JEAN-FRANCOIS
</INVENTOR-NAME>
<INVENTOR-NAME>
OBRIOT, BERTRAND
</INVENTOR-NAME>
<INVENTOR-NAME>
ROUSSEAU, JEAN-FRANCOIS
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to digital image 
processing circuitry, which has utility in the interpretation 
of electronic images generated, for example, 
from photographs or other forms of imaging in which it 
is necessary to process electronic images in order to 
interpret or to extract the data contained in the 
image, e.g., in interpreting or extracting image data 
acquired by satellite photography or in interpreting or 
extracting image data in acquired search fingerprints 
or file fingerprints. In an automatic fingerprint identification system 
for matching search fingerprints to file fingerprints, 
of the kind described in Larcher etal. U.S. Patent No. 
4,790,564, issued December 13, 1988 and entitled 
AUTOMATIC FINGERPRINT IDENTIFICATION SYSTEM INCLUDING 
PROCESSES AND APPARATUS FOR MATCHING FINGERPRINTS, the 
apparatus comprises a plurality of different subsystems 
communicating via a high-speed local area (LAN) 
network. Three of these subsystems are a ten print 
card input subsystem, a latent print input subsystem, 
and an encoding subsystem. The outputs of the print 
subsystems include analog or gray scale electronic 
images of fingerprints, which are subjected to digital 
image processing and digital image filtering. One 
drawback of conventional digital image processing and 
digital image filtering methods and apparatus is the 
large time overhead involved in performing the necessary 
image processing and image filtering computations. In some cases, the image quality of the gray scale 
image outputs is directly related to the quality of the 
respective print inputs to the two subsystems and those  
 
of ordinary skill in the art have sought to improve 
image quality by means of digital image processing and 
digital image filtering. The encoding subsystem described in the '564 
patent includes appropriate circuit means for utilizing 
the electronic images to detect the minutiae in each 
fingerprint. Poor image quality has an adverse effect 
on the process of detecting minutiae. Poor image 
quality also has an adverse effect on correctly 
interpreting or extracting electronic image data 
acquired by satellite photography or other means. Hence, the capability of increasing the speed of 
making digital image filtering and digital image 
processing computations and the capability of improving 
the quality of digital images by means of digital image 
filtering and digital image processing are goals sought 
after by those of ordinary skill in the art. It is, therefore, an object of the present
</DESCRIPTION>
<CLAIMS>
In an electrical apparatus for processing digital 
images, said apparatus having input means for 

receiving an electronic digital image having a 
boundary and output means for transmitting a 

processed electronic digital image, the 
improvement characterized by the combination of: 

   control processor means; and 
   a general purpose circuit means for 

processing said received digital image, said 
circuit means incorporating at least one pipeline 

processing chain means for making a first 
plurality of digital image processing 

computations, said chain means having input means 
to which at least one pixel of said received image 

is applied and output means from which said 
processed digital image is coupled to said 

transmitting means, said processing chain means 
being responsive to a second plurality of commands 

interpreted by said processor to enable said 
processing chain means to make predetermined ones 

of said first plurality of computations with 
respect to said pixel of said received digital 

image. 
The apparatus of claim 1 further characterized in 
that said processing chain comprises input stage 

means comprising convolution circuit means 
responsive to a plurality of commands interpreted 

by said processor for computing convolutions on 
3x4, 1x16, and 1x32 kernels and for providing a 22 

bit output signal representative of said computed 
convolution. 
The apparatus of claims 1 or 2 further 
characterized in that said processing chain 

comprises logic circuit means responsive to a 
plurality of commands interpreted by said 

processor and including means for receiving said 
output signal from said convolution circuit means 

representative of a computed convolution, means 
for transmitting an output signal from said logic 

circuit means, and means for scaling the data 
contained in said received output signal to derive 

an output signal from said logic circuit means 
having the greatest number of most significant 

bits. 
The apparatus of claim 3 further characterized in 
that said signal from said convolution circuit 

means comprises 22 bits, said output signal from 
said logic circuit means comprises 17 bits, and in 

that said data scaling means comprises means for 
rounding off said 22-bit signal to a 16 bit signal 

plus a one bit carry. 
The apparatus of claim 1, 2, 3, or 4 further 
characterized in that said processing chain 

comprises mathematical morphology circuit means 
electrically connected to the output of said logic 

circuit means and being responsive to a plurality 
of commands interpreted by said processor for 

computing at least one numerical value and/or at 
least one binary value on at least one pixel in a 

gray scale electronic digital image and/or on at 
least one pixel in a binary electronic digital 

image. 
The apparatus of claim 1, 2, 3, 4 or 5 further 
characterized in that said processing chain 

 
comprises output stage means comprising look-up 

table circuit means electrically connected to the 
output of said mathematical morphology circuit 

means and being responsive to a plurality of 
commands interpreted by said processor for 

providing look-up table functions for at least one 
pixel in a gray scale electronic digital image and 

also for at least one pixel in a binary electronic 
digital image. 
The apparatus of any of claims 1-6 
   further characterized by the combination 

of: 
   image storage random access memory 

means; 
   means for deriving from said received 

image at least one logical electronic digital 
image located at or within said boundary of 

said received image, said logical image 

having at least one pixel and having an 
arbitrary origin of Cartesian coordinates; 

   means for identifying at least one pixel to 
be extracted from said logical image; 

   means for scanning said logical image in line 
and column directions to generate a pair of memory 

storage addresses, each pair comprising a row 
storage address and a column storage address in 

said memory means for each of said identified 
pixels; 

   means for extracting said identified pixel 
from said memory and transmitting said extracted 

pixel to the input means of said processing chain 
means; and 

   means for simultaneously generating a pair of 
memory storage addresses for each processed pixel 

coupled to said filter output means, each pair 
 

comprising a row storage address and a column 
storage address in said random access memory 

means, and storing said processed pixel in said 
memory at said generated pair of addresses. 
The apparatus of claim 7 further 
characterized in that said means for scanning 

said logical image further comprises means 
for adjusting the duration of the flyback 

interval between the scanning of successive 
lines of said logical image and means for 

preselecting said duration thereby to define 
the size of a border of ghost pixels around 

said logical image. 
The apparatus of any of claims 1-8 further 
characterized in that said convolution means 

additionally computes sums of digital input 
signals applied thereto. 
The apparatus of any of claims 1-9 further 
characterized in that said mathematical morphology 

circuit means is constructed and operated to 
perform morphological and point-to-point 

transformations, boolean operations, and to 
compute numerical volume upon digital images of up 

to 4096 x 4096 pixels wide. 
The apparatus of any of claims 1-10 further 
characterized in that said processing chain means 

is constructed and operated for processing digital 
images of width from four bits up to 16 bits, in 

4-bit increments. 
The apparatus of any of claims 1-11 further 
characterized in that said scanning means includes 

 
means for starting said scanning from said origin 

in any one of up to eight scan mode directions. 
The apparatus of any of claims 1-12 further 
characterized by a third plurality of pipeline 

processing chain means electrically connected in 
serial mode. 
The apparatus of any of claims 1-13 further 
characterized by image storage random access 

memory means for simultaneously storing said 
received digital input image, said processed 

digital output image, and at least one additional 
digital image constituting the result of 

intermediate stages of processing computations 
performed by said processing chain. 
The apparatus of claim 14 further characterized by 
the simultaneous storing of at least two 

additional digital images constituting the results 
of said intermediate stages of processing 

computations. 
The apparatus of any of claims 1-15 further 
characterized by means for transferring said 

processed digital output image from said output 
transmitting means to video memory means while 

said processing chain means is continuing to make 
digital image processing computations and to store 

the results of said computations in image storage 
random access memory. 
In a method for generating addresses for random 
access memory for one or more pixels to be 

extracted from at least one electronic digital 
 

input image having a boundary, said extracted 
pixels thereafter being processed to derive an 

electronic digital output image, the improvement 
characterized by the steps of: 

   deriving from said input image at least one 
logical electronic digital image located at or 

within the boundary of said input image, said 
logical image having at least one pixel and having 

an arbitrary origin of Cartesian coordinates; 
   identifying at least one pixel to be 

extracted from said logical image; 
   scanning said logical image in line and 

column directions to generate a pair of memory 
storage addresses, each pair comprising a row 

storage address and a column storage address in 
said memory for each of said identified pixels; 

   extracting and processing each of said 
identified pixels by pipeline processing 

computations to obtain a processed output pixel; 
and 

   simultaneously generating a pair of memory 
storage addresses for each processed pixel, each 

pair comprising a row storage address and a column 
storage address in random access memory, and 

storing said processed pixel in said memory at 
said generated pair of addresses. 
The method of claim 17 further characterized by 
the steps of adjusting the duration of the flyback 

interval between the scanning of successive lines 
of said logical image and preselecting said 

duration to define the size of a border of ghost 
pixels around said logical image. 
The method of any of claims 17 or 18 further 
characterized by the step of starting said 

 
scanning from said origin in any one of up to 

eight scan mode directions. 
In a address generator circuit for generating 
addresses in random access memory means for one or 

more pixels to be extracted from at least one 
electronic digital input image having a boundary, 

said extracted pixels thereafter being processed 
to derive an electronic digital output image, the 

improvement characterized by the combination of: 
   means for deriving from said input image at 

least one logical electronic digital image located 
at or within said boundary of said input image, 

said logical image having at least one pixel and 
having an arbitrary origin of Cartesian 

coordinates; 
   means for identifying at least one pixel to 

be extracted from said logical image; 
   means for scanning said logical image in line 

and column directions to generate a pair of memory 
storage addresses, each pair comprising a row 

storage address and a column storage address in 
said memory for each of said identified pixels; 

   means for extracting said identified pixel; 
   means for processing each of said extracted 

pixels by pipeline processing means thereby to 
obtain a processed output pixel; and 

   means for simultaneously generating a pair of 
memory storage addresses for each processed pixel, 

each pair comprising a row storage address and a 
column storage address in random access memory 

means, and storing said processed pixel in said 
memory at said generated pair of addresses. 
The circuit of claim 20 further characterized in 
that said means for scanning said logical image 

 
further comprises means for adjusting the duration 

of the flyback interval between the scanning of 
successive lines of said logical image and means 

for preselecting said duration thereby to define 
the size of a border of ghost pixels around said 

logical image. 
The circuit of any of claims 20 or 21 further 
characterized in that said scanning means includes 

means for starting said scanning from said origin 
in any one of up to eight scan mode directions. 
In an electrical apparatus for processing digital 
images having an input means for receiving at 

least one electronic digital input image to be 
processed and output means for transmitting at 

least one processed electronic digital output 
image, the improvement characterized by the 

combination of: 
   
control processor means; 
   video random access memory means; 

   video random access memory controller means; 
and 

   circuit means for processing at least one 
digital image, said circuit means incorporating at 

least one pipeline processing chain means for 
making a first plurality of digital image 

processing computations, said processing chain 
means having input means to which at least one 

pixel of said input image is applied and output 
means from which a processed input pixel is 

applied to said transmitting means, said 
processing chain means being responsive to a 

second plurality of commands interpreted by said 
processor to enable said processing chain means to 

make predetermined ones of said first plurality of 
 

computations with respect to said pixel of said 
input digital image. 
The apparatus of claim 23 further characterized by 
image storage random access memory means for 

simultaneously storing said received digital input 
image, said processed digital output image, and at 

least one additional digital image constituting 
the result of intermediate stages of processing 

computations performed by said processing chain. 
The apparatus of claims 23 or 24 further 
characterized by means for transferring said 

processed digital output image from said image 
storage means to said video memory means while 

said processing chain means continues making 
digital image processing computations and storing 

the results thereof in said image storage means. 
The apparatus of claim 23, 24 or 25 further 
characterized in that said processing chain 

comprises input stage means comprising convolution 
circuit means responsive to a plurality of 

commands interpreted by said processor for 
computing convolutions on 3x4, 1x16, and 1x32 

kernels and for providing a 22 bit output signal 
representative of said computed convolution. 
The apparatus of any of claims 23-26 further 
characterized in that said processing chain 

comprises logic circuit means responsive to a 
plurality of commands interpreted by said 

processor and including means for receiving said 
output signal from said convolution circuit means 

representative of a computed convolution, means 
for transmitting an output signal from said logic 

 
circuit means, and means for scaling the data 

contained in said received output signal to derive 
an output signal from said logic circuit means 

having the greatest number of most significant 
bits. 
The apparatus of claim 27 further characterized in 
that said signal from said convolution circuit 

means comprises 22 bits, said output signal from 
said logic circuit means comprises 17 bits, and in 

that said data scaling means comprises means for 
rounding off said 22-bit signal to a 16 bit signal 

plus a one bit carry. 
The apparatus of any of claims 23-28 further 
characterized in that said processing chain 

comprises mathematical morphology circuit means 
electrically connected to the output of said logic 

circuit means and being responsive to a plurality 
of commands interpreted by said processor for 

computing at least one numerical value and/or at 
least one binary value on at least one pixel in a 

gray scale electronic digital image and/or on at 
least one pixel in a binary electronic digital 

image. 
The apparatus of any of claims 23-29 further 
characterized in that said processing chain 

comprises output stage means comprising look-up 
table circuit means electrically connected to the 

output of said mathematical morphology circuit 
means and being responsive to a plurality of 

commands interpreted by said processor for 
providing look-up table functions for at least one 

pixel in a gray scale electronic digital image and 
 

also for at least one pixel in a binary electronic 
digital image. 
The apparatus of any of claims 23-30 further 
characterized in that said input electronic image 

to be processed and said output processed 
electronic image can be gray scale electronic 

digital images and/or binary electronic digital 
images. 
The apparatus of any of claims 23-31 further 
characterized in that said convolution means 

additionally computes sums of digital input 
signals applied thereto. 
The apparatus of any of claims 23-32 further 
characterized in that said mathematical morphology 

circuit means is constructed and operated to 
perform morphological and point-to-point 

transformations, boolean operations, and to 
compute numerical volume upon digital images of up 

to 4096 x 4096 pixels wide. 
The apparatus of any of claims 23-33 further 
characterized in that said processing chain means 

is constructed and operated for processing digital 
images of width from four bits up to 16 bits, in 

4-bit increments. 
The apparatus of any of claims 23-34 further 
characterized in that said scanning means includes 

means for starting said scanning from said origin 
in any one of up to eight scan mode directions. 
The apparatus of any of claims 23-35 further 
characterized by a third plurality of pipeline 

processing chain means electrically connected in 
serial mode. 
The apparatus of any of claims 23-36 further 
characterized by image storage random access 

memory means for simultaneously storing said 
received digital input image, said processed 

digital output image, and at least one additional 
digital image constituting the result of 

intermediate stages of processing computations 
performed by said processing chain. 
The apparatus of claim 37 further characterized by 
the simultaneous storing of at least two 

additional digital images constituting the results 
of said intermediate stages of processing 

computations. 
The apparatus of any of claims 23-38 further 
characterized by means for transferring said 

processed digital output image from said output 
transmitting means to video memory means while 

said processing chain means is continuing to make 
digital image processing computations and to store 

the results of said computations in image storage 
random access memory. 
In a method for processing at least one electronic 
digital input image having a boundary to derive a 

processed electronic digital output image, the 
improvement characterized by the steps of: 

   deriving from said input image at least one 
logical electronic digital image located at or 

within the boundary of said input image, said 
 

logical image having at least one pixel and having 
an arbitrary origin of Cartesian coordinates; 

   identifying at least one pixel to be 
extracted from said logical image; 

   scanning said logical image in line and 
column directions to generate a pair of memory 

storage addresses in random access memory, each 
pair comprising a row storage address and a column 

storage address in said memory for each of said 
identified pixels; 

   extracting and processing each of said 
identified pixels by pipeline processing 

computations to obtain a processed output pixel; 
and 

   simultaneously generating a pair of memory 
storage addresses for each processed pixel, each 

pair comprising a row storage address and a column 
storage address in random access memory, and 

storing said processed pixel in said memory at 
said generated pair of addresses. 
The method of claim 40 further characterized by 
the steps of adjusting the dura
tion of the flyback 
interval between the scanning of successive lines 

of said logical image and preselecting said 
duration to define the size of a border of ghost 

pixels around said logical image. 
The method of claims 40 or 41 further 
characterized by the step of computing at 

least one convolution on said identified 
pixel and the step of providing an electrical 

signal representative of said computed 
convolution. 
The method of claim 42 further characterized 
by the step of scaling the data contained in 

said computed convolution to derive an 
electrical signal having the greatest number 

of significant bits. 
The method of claims 42 or 43 further 
characterized by the step of using 

mathematical morphology to compute at least 
one numerical value and/or at least one 

binary value on at least one identified pixel 
in a gray scale electronic digital image 

and/or on at least one identified pixel in a 
binary electronic digital image. 
The method of any of claims 42 to 44 further 
characterized by the step of providing look-up 

table functions for at least one 
identified pixel in a gray scale electronic 

digital image and also for at least one 
identified pixel in a binary electronic 

digital image. 
Random access memory means in a digital image 
processing circuit characterized by a memory 

organization comprising at least four memory 
sections, each section being arranged in 4-bit 

size planes, whereby said memory can store 4-bit, 
8-bit, 12-bit, and 16-bit wide digital images. 
Random access memory means in a look-up table for 
a digital image processing circuit characterized 

in that said table's lut data comprise numerical 
luts and/or binary luts and in that said memory is 

organized into at least two banks, each bank for 
storing numerical lut data or binary lut data. 
The apparatus of claim 24 further characterized by 
the simultaneous storing of at least two 

additional digital images constituting the results 
of said intermediate stage of processing 

computations. 
</CLAIMS>
</TEXT>
</DOC>
