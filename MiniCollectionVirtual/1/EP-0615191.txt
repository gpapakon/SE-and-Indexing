<DOC>
<DOCNO>EP-0615191</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Hierarchic storage management mechanism.
</INVENTION-TITLE>
<CLASSIFICATIONS>G06F1208	G06F1208	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06F	G06F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06F12	G06F12	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A data processing system has a hierarchical storage system 
comprising first and second storage levels, the second 

storage level being of larger size and slower access time 
than the first level. For example, the first level comprises 

a magnetic fixed disk store and the second level comprises an 
optical disk jukebox. Each level holds a number of data 

sectors. Sectors are staged from the second storage level to 
the first storage level when required, and least recently 

used data sectors are pre-staged from the first storage level 
to the second storage level, in advance of their deletion 

from the first storage level. Previously pre-staged sectors 
are deleted from the first storage level only when space is 

required in the first storage level for staging in one or 
more sectors from the second storage level. Thus, staging 

and prestaging are performed on the basis of data sectors, 
rather than files. 
 
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
INT COMPUTERS LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
INTERNATIONAL COMPUTERS LIMITED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
HILDITCH ALBERT STEPHEN
</INVENTOR-NAME>
<INVENTOR-NAME>
HILDITCH, ALBERT STEPHEN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to hierarchic storage management 
mechanisms for computer systems. In a computer system data needs to be managed safely, 
efficiently and easily. One aspect of data management is 
space allocation and what to do when space limitations are 
exceeded. A hierarchic storage management mechanism automatically 
controls the space allocation of data by moving data up and 
down a storage hierarchy comprising a number of storage 
levels. As data is moved down the hierarchy, it is stored in 
slower, larger and cheaper media. The lowest levels of the 
storage hierarchy may comprise, for example, optical discs, 
or magnetic tapes, using robotically loaded or on-the-shelf 
media. Higher levels may include, for example, fixed media 
devices, such as fixed disc drives. The aim of hierarchic storage management is to store data in 
the storage hierarchy according to its usage: the more 
frequently used data is higher up the storage hierarchy. If 
data has not been used for a while, it is "staged" to lower 
levels of the storage hierarchy. If data is accessed, it is 
transferred as soon as possible to the top of the hierarchy. 
The usefulness of hierarchic storage management is ensured by 
the observation that if data has been accessed recently, it 
is more likely to be accessed in the near future than other 
data.  In order to create space at a higher level of the hierarchy, 
data must be staged to a lower level and deleted from the 
higher level. It is known to perform this in two phases: 
pre-staging and physical deletion. In pre-staging, the least 
used data is copied from the higher level to the lower level, 
without actually deleting it. When space is required in the 
higher level, selected pre-staged data is then deleted from 
that level, freeing up space. In known hierarchical management mechanisms, staging and 
pre-staging is carried out at the level of data files. That 
is, data files are copied as a whole between levels, and are 
deleted as a whole to make space. The object of the present 
invention is to improve on such conventional mechanisms, in 
order to provide a more flexible and more generally useful 
hierarchical management mechanism. According to the invention there is provided a data 
processing system comprising: 
a) a first storage level holding a plurality of data 
sectors, b) a second storage level of larger size and slower access 
time than the first storage level, c) means for staging in one or more sectors from the second 
storage level to the first storage level when
</DESCRIPTION>
<CLAIMS>
A data processing system comprising: 

a) a first storage level holding a plurality of data 
sectors, 
b) a second storage level of larger size and slower access 
time than the first storage level, 
c) means for staging in one or more sectors from the second 
storage level to the first storage level when required, 
d) means for pre-staging a plurality of least recently used 
data sectors from the first storage level to the second 

storage level, in advance of their deletion from the 
first storage level, and 
e) means for deleting previously pre-staged sectors from 
the first storage level only when space is required in 

the first storage level for staging in one or more 
sectors from the second storage level. 
A system according to Claim 1 wherein sectors are 
deleted from the first storage level when the quantity 

of data held in the first storage level exceeds a first 
predetermined threshold value, and wherein sufficient 

previously staged sectors are deleted from said first 
storage level in order to reduce the quantity of data in 

the first storage level to a second predetermined 
threshold value, lower than said first predetermined 

threshold value. 
A system according to Claim 1 or 2 including means for 
maintaining a virtual sector table containing an entry 

 
for each of a number of virtual sectors, each entry 

containing, for a virtual sector whose data is in the 
first storage level, one or more identifiers defining 

the location of the virtual sector data in the first 
storage level and each entry containing, for a virtual 

sector whose data is in the second storage level, an 
identifier defining the location of the sector data in 

the second storage level. 
A system according to Claim 3 further including means 
for maintaining a usage table indicating the recency of 

use of each virtual sector. 
A system according to Claim 3 or 4 further including 
means for creating a staging candidates list containing 

a list of a least recently used virtual sectors, and 
means for pre-staging all the virtual sectors on that 

list to the second storage level. 
A data processing system in accordance with any 
preceding Claim wherein said second storage level 

comprises a robotically controlled removable media mass 
storage device. 
A data processing system in accordance with any 
preceding Claim wherein said first storage level 

comprises a fixed media storage device. 
</CLAIMS>
</TEXT>
</DOC>
