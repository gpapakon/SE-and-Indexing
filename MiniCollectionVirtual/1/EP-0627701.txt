<DOC>
<DOCNO>EP-0627701</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Image processing method and apparatus for document analysis
</INVENTION-TITLE>
<CLASSIFICATIONS>G06K920	G06T1180	G06F1750	G06F1750	G06T1160	G06F1721	G06F1721	G06T1160	G06K920	G06K922	G06T1180	G06K922	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G06K	G06T	G06F	G06F	G06T	G06F	G06F	G06T	G06K	G06K	G06T	G06K	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G06K9	G06T11	G06F17	G06F17	G06T11	G06F17	G06F17	G06T11	G06K9	G06K9	G06T11	G06K9	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
An image processor which receives an image and assigns 
a position of an arbitrary pixel in the image. An image 

block is extracted from the received image, and start and 
end positions of a designated area of the received image are 

acquired. A designated image block in the extracted image 
block is designated for processing in accordance with the 

start and end positions of the designated area of the 
received image. 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
CANON KK
</APPLICANT-NAME>
<APPLICANT-NAME>
CANON KABUSHIKI KAISHA
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
IKEDA HIROAKI
</INVENTOR-NAME>
<INVENTOR-NAME>
IKEDA, HIROAKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to an image processing
method and an image processing apparatus for appointing an
area in a supplied image.Hitherto, wide use of image reading apparatus, such as
image scanners, result in known image processing apparatus
(image processing software included) which are capable of
using or processing an image read photoelectrically.In order to appoint a partial area of an image formed
by a conventional image processing apparatus of the
foregoing type, there has been a most usual method that
appoints, i.e. designates or assigns, an area within a
rectangular shape. The method comprises the steps of
displaying an image on a display, and acquiring coordinates
of the diagonals of an area in the image to be appointed by
using a pointing device, such as a mouse. There is another method for appointing an area within a
polygon. The foregoing method comprises the step of
sequentially appointing vertexes of an appointed polygon.
Thus, an area in the form of a further complicated shape can
be appointed.For example, the following portions can be appointed
from an original image formed on a display device as shown
in Fig. 19: a character image 2101 which is a portion of a
document, a table image 2102, an image 2103 of a graph and
its title and a portion 2104 of a half tone image, such as a
photograph.However, appointing of the character image 2101 with
the foregoing conventional image processing apparatus using
a polygon to appoint an area because the area cannot be
appointed within a rectangle has.a problem that a large
number of operations must be performed to appoint the area
because the polygon has 8 vertexes, thus resulting in
requiring an excessively long time to complete the
appointing process.When an image is displayed on the display device, the
original image is thinned to make the overall area of the
image to be included in the display. If an area is
appointed on the displayed screen, an accurate position
cannot easily be appointed. Therefore, an image adjacent to
the boundary, which must be positioned on the outside of the 
appointed area, is undesirably introduced into the appointed
area, and therefore a problem arises that an area cannot
accurately be appointed.In order to overcome the foregoing problems, there is a
technology having an arrangement that an original image or
an image having a changed thinning magnification is
displayed to appoint an accurate position. However, the
foregoing case results in a necessity of additional
operations exemplified by an operation of
</DESCRIPTION>
<CLAIMS>
An image processing method comprising:

an image block dividing step (S13-1 to S13-5) of
dividing a plurality of character image blocks from a

read image; and
a storing step (S13-6 and S13-7) of storing a
plurality of coordinate data of the character image

blocks which specify the positions of each divided
character image block in the read image in the order of

the arrangement of the character image blocks; and

characterised by
an appointing step (pointing device 3, S14-1, S14-2,
S15-1, S15-2) for appointing two arbitrary coordinates on

a read image displayed on a display;
a character image block selecting step (S14-1, S14-2,
S15-1, S15-2) for selecting a start character image

block and an end character image block by comparing the
two appointed arbitrary coordinates with the plurality of

coordinate data of character image blocks stored in said
storing step, and selecting character image blocks

disposed between the start and end character image blocks
from the plurality of character image blocks based on the

order of the arrangement of the character image blocks;
and 
an outputting step of outputting a part of the image
comprising said plurality of selected character image

blocks.
A method according to claim 1, wherein said
appointing step has a plurality of appointing processes,

further including a switching process step for switching
said appointing processes used in said appointing step.
A method according to claim 1 or claim. 2, wherein.
when the divided character image blocks are in image

block array, said start character image block is selected
from the image block array in accordance with one of the

two appointed arbitrary coordinates, and said end
character image block is selected from the image block

array in accordance with the other of the two appointed
arbitrary coordinates, and the character image blocks

disposed between the start and end character image blocks
are selected based on the order in which the character

image blocks were arranged in the image block array in
the character image blocks selecting step.
A method according to claim 1, wherein when the
divided character image blocks are in image block matrix,

said start character image block is selected from the 
image block matrix in accordance with one of the two

appointed arbitrary coordinates, and said end character
image block is selected from the image block matrix in

accordance with the other of the two appointed arbitrary
coordinates, and the character image blocks disposed

between the start and end character image blocks are
selected based on the order of the arrangement of the

character image blocks in the image block matrix, in the
character image blocks selecting step.
A method according to any preceding claim, further
including a step of displaying the divided character

image blocks.
A method according to any preceding claim, further
including a step of displaying the two appointed

arbitrary coordinates.
A method according to any preceding claim, further
including a display of displaying the selected character

image blocks in a manner different from the non-selected
character image blocks.
A method according to any preceding claim, further

including a selection dismissing step of deleting the 
selected character image block.
A method according to any preceding claim, further
including a character adding step of adding, to the

selected character image blocks, a character image block
which has not been selected.
A method according to any preceding claim, further
including a discrimination process step of discriminating

whether or not the start and end character image blocks
exist in the same region on a divided image; wherein the

character image blocks, selected in the character image
blocks selecting step are selected from character image

blocks in the same region.
A method according to any preceding claim, wherein
the read image is an image generated by using an image

scanner.
A method according to any preceding claim, wherein
said appointing step is performed on said read image

displayed on a CRT or on a liquid crystal display.
A method according to any preceding claim, wherein
said appointing step is performed by receiving a 

coordinate data appointed by a pointing device.
Image processing apparatus comprising:

means (CPU1) for dividing a plurality of character
image blocks from a read image; 
characterised by
means (5) for storing a plurality of coordinate data
of the character image blocks which specify the positions

of each divided character image block in the read image
in the order of the arrangement of the character image

blocks; and
appointing means (1, 3) for appointing two arbitrary
coordinates on a read image displayed on a display (7);

and 
characterised by
selecting means (CPU 1) for selecting a start
character image block and an end character image block by

comparing the two appointed arbitrary coordinates with
the plurality of coordinate data of character image

blocks stored in said storing step, and for selecting
character image blocks disposed between the start and end

character image blocks from the plurality of character
image blocks based on the order of the arrangement of the

character image blocks; and
means for outputting the part of the image
comprising said plurality of selected character image

blocks.
Apparatus according to claim 14, wherein said
appointing means is capable of carrying out a plurality

of appointing processes.
Apparatus according to claim 14 or claim 15, wherein
when the divided character image blocks are in image

block array, said selecting means are adapted to select
said start character image block from the image block

array in accordance with one of the two appointed
arbitrary coordinates, and to select said end character

image block from the image block array in accordance with
the other of the two appointed arbitrary coordinates,

the character image blocks disposed between the start and
end character image blocks being selected based on the

order in which the character image blocks were arranged
in the image block array.
Apparatus according to claim 14, wherein when the
divided character image blocks are in image block matrix,

said start character image block said selecting means are
adapted to select from the image block matrix in

accordance with one of the two appointed arbitrary
coordinates, and to select said end character image block

from the image block matrix in accordance with the other
of the two appointed arbitrary coordinates, the character 

image blocks disposed between the start and end character
image blocks being selected based on the order of the

arrangement of the character image blocks in the image
block matrix, in the character image blocks selecting

step.
Apparatus according to any one of claims 14 to 17,
further including means for displaying the divided

character image.blocks.
Apparatus according to any one of claims 14 to 18,
adapted to display the two appointed arbitrary

coordinates.
Apparatus according to any one of claims 14 to 19,
further adapted to display the selected character image

blocks in a manner different from the non-selected
character image blocks.
Apparatus according to any one of claims 14 to 20,
wherein said selection means are adapted to delete a

selected character image block.
Apparatus according to any one of claims 14 to 21,
further including means for adding, to the selected 

character image blocks, a character image block which has
not been selected.
Apparatus according to any one of claims 14 to 22,
further including means (CPU 1) for discriminating

whether or not the start and end character image blocks
exist in the same region on a divided image; the

character image blocks, selected in the character image
blocks selecting step being selected from character image

blocks in the same region.
Apparatus according to any one of claims 14 to 23,
including an image scanner for generating the read image.
Apparatus according to any one of claims 14 to 24,
including a CRT or a liquid crystal display.
Apparatus according to any one of claims 14 to 25,
including a pointing device for appointing the coordinate

data.
A storage medium storing processor implementable
instructions for controlling a processor to carry out the

method of any one of claims 1 to 13. 
A computer program for controlling a processor to
carry out the method of any one of claims 1 to 13.
</CLAIMS>
</TEXT>
</DOC>
