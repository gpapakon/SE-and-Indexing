<DOC>
<DOCNO>EP-0624990</DOCNO> 
<TEXT>
<INVENTION-TITLE>
Video recording and reproducing apparatus
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N594	H04N9804	H04N9804	H04N5945	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N5	H04N9	H04N9	H04N5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
In a recording apparatus for video signals, adjacent 
pixels in input image signals are collected as blocks and 

subjected to orthogonal transformation. Then, the dc 
component, control data, ac components, end-of-block signal 

and the like in a block after orthogonal transformation are 
coded and the codewords are arranged in prescribed record 

areas. One or a plurality of record areas forms a correction 
area, and error correction coding is performed and recorded 

on the data in a correction area. When record data are 
reproduced and recorded again, errors are detected in the unit 

of the error correction area. The dc component and the like 
in a record area wherein an error which cannot be corrected 

exists are replaced by a codeword which is not used ordinarily, 
and a codeword for the first ac component is replaced by 

an end-of-block codeword. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC IND CO LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
MATSUSHITA ELECTRIC INDUSTRIAL CO., LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
JURI TATSURO
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMAUCHI EIJI
</INVENTOR-NAME>
<INVENTOR-NAME>
JURI, TATSURO
</INVENTOR-NAME>
<INVENTOR-NAME>
YAMAUCHI, EIJI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to recording and
reproducing apparatus for recording and transmitting video
signals with an efficient coding.Video compression coding is known as a technique
used for reducing a data quantity of video signals. In a
known video compression coding, a block is composed of
neighboring pixels, and video signals in each block are
compressed by orthogonal transformation. Orthogonal components
obtained by the orthogonal transformation are processed
with a variable length coding. Then, they are recorded or
transmitted.The recorded orthogonal components of variable
length coding is decoded on reproduction. When an error
happens on reproducing the recorded video signals, error
propagation occurs due to variable length coding. Therefore,
an error of one bit causes large deterioration of image
quality on reproduction. If a record area of fixed length is
assigned for each block, error propagation is suppressed at
minimum. However, when reproduced data are recorded again, 
the data are processed with a variable length decoding, errors
are corrected and the corrected data are recorded with a
variable length coding. Then, a scale of a recording circuit
therefor increases because it is needed to carry out variable
length decoding and variable length coding at the same time.An object of the present invention is to provide a
reproduction apparatus which can process errors on reproduction
recorded video signals simply.Another object of the present invention is to
provide recording and reproduction apparatuses which can
prevent enhancement of error propagation on recording and
reproduction.The present invention relates to reproduction data
which the data have been recorded by constructing blocks made
from adjacent pixels of input video signals, by obtaining
orthogonal components by orthogonal transformation of the data
for each block, by coding the orthogonal components for each
block and control data needed for reproduction of the block
including an end-of-block codeword for representing that ac
components after the codeword are all zero, by arranging coded
data for each block in prescribed record areas and by
constructing an error correction area made of one or more
record areas and coding the data in the error correction area
as error correction codes. In one aspect of the present 
invention on reproducing and recording video data, the data
are reproduced from an error correction area, and an error is
detected which cannot be corrected exists in data in an error
correction area and a position
</DESCRIPTION>
<CLAIMS>
A video recorder for reproducing and recording data,
which data have been recorded by constructing blocks made from

adjacent pixels of input video signals, by obtaining orthogonal
components by orthogonal transformation of the data for

each block, by coding the orthogonal components for each block
and control data needed for reproduction of the block

including an end-of-block codeword for representing that ac
components after the codeword are all zero, by arranging coded

data for each block in prescribed record areas and by
constructing an error correction area made of one or more

record areas and coding the data in the error correction area
as error correction codes, which video recorder comprising:


a data reproduction means for reproducing the data
from an error correction area;
an error detection means for detecting an error
which cannot be corrected exists in data in an error correction

area and for detecting a position of the error;
a replacement means for replacing either a dc
component in the recording area or a codeword for a control

data needed for decoding the data in a block with a prescribed
codeword and for replacing a codeword for a first ac component

with an end-of-block code if said error detection means
detects in the block an error which cannot be corrected; and 
a recording means for recording data processed by
said replacement means.
The recorder according to Claim 1, wherein codewords
for ac components are variable length codes.
The recorder according to Claim 1, wherein said
prescribed codeword is a codeword not generated in the

orthogonal transformation.
The recorder according to Claim 1, wherein said
error correction means records an error flag when said error

detection means detects in reproduced data in the unit of
error correction area that an error which cannot be corrected

exists in an error correction area;

   which recorder further comprising a flag change
means for changing the error flag with the prescribed codeword

in data received by said dc component replacement means and
for sending the data to said record means after changing the

error flag.
A method for reproducing and recording video data,
which data have been recorded by constructing blocks made from

adjacent pixels of input video signals, by obtaining orthogonal
components by orthogonal transformation of the data for

each block, by coding the orthogonal components for each block
and control data needed for reproduction of the block

including an end-of-block codeword for representing that ac
components after the codeword are all zero, by arranging coded 

data for each block in prescribed record areas and by
constructing an error correction area made of one or more

record areas and coding the data in the error correction area
as error correction codes, which method comprising the steps

of:

reproducing the data from an error correction area;
detecting an error which cannot be corrected exists
in data in an error correction area and detecting a position

of the error;
replacing either a dc component in the recording
area or a codeword for a control data needed for decoding the

data in a block with a prescribed codeword and for replacing
a codeword for a first ac component with an end-of-block code

if an error which cannot be corrected is detected in the
block; and
recording data processed by said replacement step.
The method according to Claim 5, wherein codewords
for ac components are variable length codes.
The method according to Claim 5, wherein said
prescribed codeword is a codeword not generated in the

orthogonal transformation.
The method according to Claim 5, wherein an error
flag is set in the error correction step when it is detected

in reproduced data in the unit of error correction area that
an error which cannot be corrected exists in an error 

correction area, and the error flag is changed for the
prescribed codeword before the recording step.
A video recorder for reproducing and recording data,
which data have been recorded by constructing blocks made from

adjacent pixels of input video signals, by obtaining orthogonal
components by orthogonal transformation of the data for

each block, by coding the orthogonal components for each block
and control data needed for reproduction of the block

including an end-of-block codeword for representing that ac
components after the codeword are all zero, by arranging coded

data for each block in prescribed record areas and by
constructing an error correction area made of one or more

record areas and coding the data in the error correction area
as error correction codes, which video recorder comprising:


a data reproduction means for reproducing the data
from an error correction area;
an error detection means for detecting an error
which cannot be corrected exists in data in an error correction

area and for detecting the position of the error;
a replacement means for replacing either a dc
component in the recording area or a codeword for a control

data needed for decoding the block with a prescribed codeword
and replacing a codeword for a first ac component with an end-of-block

code for the block wherein said error detection means
detects an error which cannot be corrected and the error is 

one of a dc component, control data needed for reproduction
of the block and ac components at frequencies lower than a

prescribed frequency;
an insertion means for inserting an end-of-block
codeword for a block wherein said error detection means

detects an error which cannot be corrected and the error is
one of ac components higher than a prescribed frequency or an

end-of-block codeword; and
a recording means for recording data processed by
said insertion means.
The recorder according to Claim 9, wherein codewords
for ac components are variable length codes.
The recorder according to Claim 9, wherein said
prescribed codeword is a codeword not generated in the

orthogonal transformation.
The recorder according to Claim 9, wherein said
error correction means records an error flag when said error

detection means detects in reproduced data in the unit of
error correction area that an error which cannot be corrected

exists in an error correction area;

   which recorder further comprising a flag change
means for changing the error flag with the prescribed codeword

in data received by said dc component replacement means or
inserted by said insertion means and for sending the data to

said record means after changing the error flag. 
A method for reproducing and recording data, which
data have been recorded by constructing blocks made from

adjacent pixels of input video signals, by obtaining orthogonal
components by orthogonal transformation of the data for

each block, by coding the orthogonal components for each block
and control data needed for reproduction of the block

including an end-of-block codeword for representing that ac
components after the codeword are all zero, by arranging coded

data for each block in prescribed record areas and by
constructing an error correction area made of one or more

record areas and coding the data in the error correction area
as error correction codes, which method comprising the steps

of:

reproducing the data from an error correction area;
detecting an error which cannot be corrected exists
in data in an error correction area and detecting the position

of the error;
replacing either a dc component in the recording
area or a codeword for a control data needed for decoding the

block with a prescribed codeword and replacing a codeword for
a first ac component with an end-of-block code for the block

wherein an error which cannot be corrected is detected and the
error is one of a dc component, control data needed for

reproduction of the block and ac components at frequencies
lower than a prescribed frequency; 
inserting an end-of-block codeword for a block
wherein an error which cannot be corrected is detected and the

error is one of ac components higher than a prescribed
frequency or an end-of-block codeword; and
recording data after inserting the end-of-block
codeword.
The recorder according to Claim 13, wherein
codewords for ac components are variable length codes.
The method according to Claim 13, wherein said
prescribed codeword is a codeword not generated in the

orthogonal transformation.
The method according to Claim 13, wherein an error
flag is set in the error correction step when it is detected

in reproduced data in the unit of error correction area that
an error which cannot be corrected exists in an error

correction area, and the error flag is changed for the
prescribed codeword before the recording step.
The recorder according to Claim 1, further comprising:

a decoding means for a record area wherein said
error detection means detects an error position for decoding

data by using an end-of-block codeword which appears first in
the record area or by using codewords for ac components

included in the record area if an end-of-block codeword does
not exist in the record area; and 
a correction means for correcting data in a block
wherein said dc component replacement means replaces the dc

component in the record area;
wherein said recording means records recording data
processed by said replacement means.
The recorder according to Claim 3, wherein said
error correction means comprises an error pixel detection

means for detecting a pixel signal having the prescribed
codeword.
The recorder according to Claim 17, wherein said
correction means replaces a pixel signal having a value not

generated by said correction means usually with a pixel value
at an adjacent position in the same field, in one or more

fields before or after the present field.
The method according to Claim 5, further comprising
the steps of:


decoding data by using an end-of-block codeword
which appears f
irst in the record area or by using codewords
for ac components included in the record area if an end-of-block

codeword does not exist in the record area, for a record
area wherein an error position is detected; and
correcting data in a block wherein the dc component
in the record area is replaced.
A reproducing apparatus for reproducing data, which
data have been recorded by constructing blocks made from 

adjacent pixels of input video signals, by obtaining orthogonal
components by orthogonal transformation of the data for

each block, by coding the orthogonal components for each block
and control data needed for reproduction of the block

including an end-of-block codeword for representing that ac
components after the codeword are all zero, by arranging coded

data for each block in prescribed record areas and by
constructing an error correction area made of one or more

record areas and coding the data in the error correction area
as error correction codes, by reproducing the data from an

error correction area, by detecting an error which cannot be
corrected exists in data in an error correction area and

detecting a position of the error, by replacing either a dc
component in the recording area or a codeword for a control

data needed for decoding the data in a block by a prescribed
codeword and for replacing a codeword for a codeword for a

first ac component by an end-of-block code if an error which
cannot be corrected is detected in the block, and by recording

the data; which apparatus comprising:

a reproduction means for reproducing the data from
an error correction area;
a detection means for detecting that the dc
component has been replaced previously in an error correction

area; 
a decoding means for decoding by using an end-of-block
codeword which appears in a record area on which said

detection means detects that the dc component has been
replaced previously or by using codewords included in a record

area on which said detection means does not detects that the
dc component has been replaced previously; and
a correction means for correcting the data in a
block on which the dc component has been replaced in the

record area.
The reproducing apparatus according to Claim 21, wherein
codewords for ac components are variable length codes.
The reproducing apparatus according to Claim 21, further
comprising an error pixel detection means for detecting that

a pixel signal corrected by said correction means with
orthogonal transformation has a value which is not generated

in orthogonal transformation.
The reproducing apparatus according to Claim 21, wherein said
correction means replaces a pixel signal having a value not

generated by said correction means usually with a pixel value
at an adjacent position in the same field, in one or more

fields before or after the present field.
A method for reproducing data, which data have been
recorded by constructing blocks made from adjacent pixels of

input video signals, by obtaining orthogonal components by
orthogonal transformation of the data for each block, by 

coding the orthogonal components for each block and control
data needed for reproduction of the block including an end-of-block

codeword for representing that ac components after the
codeword are all zero, by arranging coded data for each block

in prescribed record areas and by constructing an error
correction area made of one or more record areas and coding

the data in the error correction area as error correction
codes, by reproducing the data from an error correction area,

by detecting an error which cannot be corrected exists in data
in an error correction area and detecting a position of the

error, by replacing either a dc component in the recording
area or a codeword for a control data needed for decoding the

data in a block by a prescribed codeword and for replacing a
codeword for a codeword for a first ac component by an end-of-block

code if an error which cannot be corrected is detected
in the block, and by recording the data; which method

comprising the steps of:

reproducing the data from an error correction area;
detecting that the dc component has been replaced
previously in an error correction area;
decoding by using an end-of-block codeword which
appears in a record area on which it is detected that the dc

component has been replaced previously or by using codewords
included in a record area on which it is detected that the dc

component has been replaced previously; and 
correcting the data in a block on which the dc
component has been replaced in the record area.
</CLAIMS>
</TEXT>
</DOC>
