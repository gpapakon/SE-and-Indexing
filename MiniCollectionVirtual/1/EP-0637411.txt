<DOC>
<DOCNO>EP-0637411</DOCNO> 
<TEXT>
<INVENTION-TITLE>
DC FEEDBACK CIRCUIT USING SAMPLE AND HOLD CIRCUITS
</INVENTION-TITLE>
<CLASSIFICATIONS>H03F130	H03F130	H03F334	H03F334	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H03F	H03F	H03F	H03F	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H03F1	H03F1	H03F3	H03F3	</CLASSIFICATIONS-FOURTH>
<APPLICANTS>
<APPLICANT-NAME>
MICRO MOTION INC
</APPLICANT-NAME>
<APPLICANT-NAME>
MICRO MOTION INCORPORATED
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DUFT DONALD MATTHEW
</INVENTOR-NAME>
<INVENTOR-NAME>
ELLIS GERALD ROSS
</INVENTOR-NAME>
<INVENTOR-NAME>
KALOTAY PAUL ZOLTAN
</INVENTOR-NAME>
<INVENTOR-NAME>
DUFT, DONALD, MATTHEW
</INVENTOR-NAME>
<INVENTOR-NAME>
ELLIS, GERALD, ROSS
</INVENTOR-NAME>
<INVENTOR-NAME>
KALOTAY, PAUL, ZOLTAN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to an amplifier and, in particular, to an 
amplifier using DC signal feedback means. The invention more 
particularly relates to an AC integrating amplifier in which 
storing circuitry is used to provide a DC feedback signal that 
cancels any undesirable DC signal component applied to the input 
or appearing at the output of the integrating amplifier. It is known to use integrating amplifiers (integrators) as low 
pass filters in applications in which small amplitude symmetrical 
and repetitive or periodic AC signals must be processed and 
measured with precision. One such application is in connection 
with Coriolis effect-type meters such as that shown by Samson and 
Zolock in U.S. Patent 4,843,890 issued July 4, 1989. In this 
patent, small amplitude AC signals generated by sensors 
associated with the Coriolis meter are amplified and applied to 
integrators which filter the high frequency noise and apply the 
filtered signals to a logic circuit. The logic circuit measures 
the time delay (Δt) between the filtered signals to determine the 
mass  
 
flow rate of the material flowing through the meter. The accuracy of the 
measurement performed by the logic circuit depends on an accurate 
measurement of the time delay between the signals applied to the logic 
circuit. Therefore, the signal processing circuitry intermediate the 
Coriolis effect meter and the logic circuit must not introduce any 
random time delays in the signals applied to the logic circuit. For this 
reason, the processing circuitry is DC coupled to prevent the generation 
of any undesired time delays. It is also desirable that the input signals 
be as free from noise as is possible. Samson and Zolock disclose 
integrators that operate as low pass filters to remove high frequency 
noise from the signals and to apply to the logic circuitry noise-free 
signals having the same time delay therebetween as do the two pickoff 
signals generated by the Coriolis effect meter. Since the amplifier stages preceding the integrators are DC 
coupled to the integrators, it is possible that the AC signals applied to 
the integrators may include a DC component produced by the 
amplifiers to which the inputs of integrators are DC coupled. Also, 
operational amplifiers used as integrators also generate offset voltages 
in their operation which have similar detrimental effects. The voltage 
gain of integrators at low frequencies or at DC is relatively large. 
Therefore the resulting DC components of input signals can unbalance 
the
</DESCRIPTION>
<CLAIMS>
An operational amplifier (114) having an input (222) and an 
output (224; 424), in combination with compensating circuitry for 

preventing a DC level shifting and saturation of said operational 
amplifier in response to the concurrent reception by said input 

of an AC signal (110L) and a DC offset, said compensating 
circuitry comprising storing circuitry (201, 202) connected to 

said output of said operational amplifier for periodically 
storing signals appearing on said output in response to the 

reception of an AC signal on said input, means (R21) for 
generating a feedback signal from said signals stored by said 

storing circuitry, and means (219, R2, 221) for applying at 
least a portion of said feedback signal to said input that 

receives said AC signal to cancel any DC offset of said AC signal 
on said input, 
characterised in that
 said compensating circuitry 
further comprises control means (203, 204) which is functionally 

independent of said operational amplifier and is responsive to 
reception of said AC signal to cause said storing circuitry to 

store the amplitude of positive and negative signal peaks 
appearing on said output of said operational amplifier, and said 

generating means (R21) generates a feedback signal representing 
the averaged amplitude of said positive and negative signal 

peaks. 
An operational amplifier according to claim 1 wherein said 
operational amplifier is an integrating operational amplifier 

whose output signal (224) is phase shifted by 90° with respect 
to said AC signal (222);  

 

said storing circuitry comprises a first sample and hold 
circuit (201) connected to said output and a second sample and 

hold circuit (202) connected to said output; 
and said control means comprises means (203) responsive to 
transitions of a first polarity of said AC input signal for 

operating said first sample and hold circuit at the zero crossing 
of said AC input signal to store the peak amplitude of signals 

of one polarity appearing on said output, and means (204) 
responsive to transitions of a second polarity of said AC input 

signal for operating said second sample and hold circuit at the 
zero crossing of said AC signal to store the peak amplitude of 

signals of another polarity appearing on said output. 
An integrating operational amplifier according to claim 2 
wherein said feedback signal generating means comprises a voltage 

divider (R21) connected between an output of said first sample 
and hold circuit (201) and an output of said second sample and 

hold circuit (202), and a tap (219) on said voltage divider, said 
first and second sample and hold circuits being effective to 

apply potentials to said voltage divider so that the potential 
of said tap represents the average value of said signals stored 

in said first and second sample and hold circuits; and wherein 
said means for applying comprises means (R2, 221) for extending 

at least a portion of said potential on said tap to said input 
of said integrating operational amplifier to cancel any DC 

component of an AC signal applied to said input of said 
integrating operational amplifier. 
An integrating operational amplifier according to claim 2  

 
wherein said means responsive to said transitions comprises: 


square wave generating means (203, 204) connected to said 
input of said integrating operational amplifier, said square wave 

generating means being responsive to the receipt of an AC signal 
on said input of said integrating operational amplifier for 

generating a square wave signal having the same frequency as said 
AC signal, 
means (212) responsive to the generation of each leading 
edge of said square wave signal to operate said first sample and 

hold means (201) to store the peak amplitude of said signal of 
one polarity on said output of said integrating operational 

amplifier, and 
means (213) responsive to the generation of each trailing 
edge of said square wave signal to operate said second sample and 

hold circuit (202) to store the peak amplitude of said signal of 
another polarity on said output of said integrating operational 

amplifier. 
An operational amplifier according to claim 1 wherein said 
storing circuitry comprises a first sample and hold circuit (201) 

connected to said output (424) and a second sample and hold 
circuit (202) connected to said output (424), and said control 

means comprises means (203) responsive to transitions of a first 
polarity of said AC signal for operating said first sample and 

hold circuit to store the peak amplitude of signals of one 
polarity appearing on said output, and means (204) responsive to 

transitions of a second polarity of said AC signal for operating 
said second sample and hold circuit to store the peak amplitude 

of signals of another polarity appearing on said output.  
 
An operational amplifier according to claim 5 wherein said 
feedback signal generating and applying means comprises a voltage 

divider (218) connected between an output of said first sample 
and hold circuit (201) and an output of said second sample and 

hold circuit (202), a tap (219) on said voltage divider, said 
first and second sample and hold circuits (201, 202) being 

effective to apply potentials to said voltage divider so that the 
potential of said tap represents the average value of said 

signals stored in said first and second sample and hold circuits, 
and means (R2, 221) for extending at least a portion of said 

potential on said tap to said input of said integrating 
operational amplifier to cancel any DC component of an AC signal 

applied to said input of said integrating operational amplifier. 
An operational amplifier according to claim 6 wherein said 
control means comprises means (C401, R401) for differentiating 

said AC signal to generate a differentiated AC signal, square 
wave generating means (206) connected to said differentiating 

means, said square wave generating means being responsive to the 
generation of said differentiated AC signal for generating a 

square wave signal having the same frequency as said 
differentiated AC signal, means (203) responsive to the 

generation of each leading edge of said square wave signal to 
operate said first sample and hold means (201) to store the peak 

amplitude of said signal of one polarity on said output of said 
integrating operational amplifier, and means (204) responsive to 

the generation of each trailing edge of said square wave signal 
to operate said second sample and hold circuit (202) to store the 

peak amplitude of said signal of another polarity on said output  
 

of said operational amplifier. 
An operational amplifier according to claim 1 wherein said 
storing circuitry connected to said output (424) comprises a 

first storage circuit (201) connected to said output and 
controlled by said control means to store the peak amplitude of 

positive signals appearing on said output in response to the 
reception of signals of a first polarity on said input, and a 

second storage circuit (202) connected to said output and 
controlled by said control means to store the peak amplitude of 

negative signals appearing on said output in response to the 
reception of signals of a second polarity on said input. 
An operational amplifier according to claim 8 wherein said 
first and second storage circuits comprise a first and a second 

sample and hold circuit (201, 202), and said control means 
comprises means (C401, R401) for differentiating said AC signal 

for enabling the precision sampling of the peak amplitude of said 
AC signal containing said DC offset, means (203) responsive to 

transitions of a first polarity of said input signal for 
operating said first sample and hold circuit at the zero crossing 

of said differentiated signal to store the peak amplitude of 
positive signals appearing on said output, and means (204) 

responsive to transitions of a second polarity of said input 
signal for operating said second sample and hold circuit at the 

zero crossing of said differentiated signal to store the peak 
amplitude of negative signals appearing on said output. 
An operational amplifier according to claim 1 wherein said  
 

storing circuitry connected to said output (224; 424) comprises 
a first sample and hold circuit (201) connected to said output, 

and a second sample and hold circuit (202) connected to said 
output, 


wherein said control means comprises means (203) responsive 
to transitions of a first polarity of said AC signal for 

operating said first sample and hold circuit to store the peak 
amplitude of signals of a positive polarity appearing on said 

output, and means (204) responsive to transitions of a second 
polarity of said AC signal for operating said second sample and 

hold circuit to store the peak amplitude of signal of a negative 
polarity appearing on said output, 
wherein said feedback signal generating means comprises a 
voltage divider (R21) connected between an output of said first 

sample and hold circuit (201) and an output of said second sample 
and hold circuit (202), and a tap (219) on said voltage divider, 

said first and second sample and hold circuits being effective 
to apply a potential across said voltage divider so that the 

potential of said tap represents the averaged value of said 
signals stored in said first and second sample and hold circuits, 
and wherein said means for applying applies at least a 
portion of said potential on said tap to said input of said 

operational amplifier that receives said AC signal to cancel any 
DC component of said AC signal applied to said input of said 

operational amplifier. 
An operational amplifier according to claim 10 wherein said 
means for operating said first sample and hold circuit (201) and 

said second sample and hold circuit (202) comprises square wave  
 

generating means (206) responsive to the receipt of said AC 
signal for generating a square wave signal having the same 

frequency as said AC input signal, means (203) responsive to the 
generation of each leading edge of said square wave signal to 

operate said first sample and hold means to store the peak 
amplitude of a signal of a first one of said positive and 

negative polarities appearing on said output of said integrating 
operational amplifier, and means (204) responsive to the 

generation of each trailing edge of said square wave signal to 
operate said second sample and hold circuit to store the peak 

amplitude of a signal of a second one of said positive and 
negative polarities appearing on said output of said integrating 

operational amplifier. 
A method of operating an operational amplifier (114) having 
an input (222) and an output (224; 424) in combination with 

compensating circuitry for preventing a DC level shifting and 

saturation of said operational amplifier in response to the 
concurrent reception by said input of an AC signal and a DC 

offset, in which method the signals appearing on the output of 
said operational amplifier in response to the reception of an AC 

signal on said input are periodically applied to storing 
circuitry (201, 202), and a feedback signal is generated from 

said signals stored by said storing circuitry and is applied to 
said input that receives said AC signal to cancel any DC 

component of said AC signal on said input, 
characterised in that
 
said storing circuitry (201, 202) is controlled independently of 

said operational amplifier to cause said storing circuitry to 
store the peaks of positive and negative signals appearing on  

 
said output of said operational amplifier, and said generated 

feedback signal represents the averaged peak amplitude of said 
positive and negative signals. 
A method according to claim 12 wherein said operational 
amplifier is an integrating operational amplifier (114) whose 

output signal (224) is phase shifted by 90° with respect to said 
AC signal (222) and wherein the storing of signals by the storing 

circuitry comprises operating a first sample and hold circuit 
(201) at the zero crossing of said AC signal to store the peak 

amplitude of signals of one polarity appearing on said output in 
response to transitions of a first polarity of said AC input 

signal, and operating a second sample and hold circuit (202) at 
the zero crossing of said AC signal to store the peak amplitude 

of signals of another polarity appearing on said output in 
response to transitions of a second polarity of said AC input 

signal. 
A method according to claim 13 wherein said feedback signal 
is generated by causing said first and second sample and hold 

circuits (201, 202) to apply potentials to a voltage divider 
(R21) connected between an output of said first sample and hold 

circuit and an output of said second sample and hold circuit so 
that the potential of a tap (219) on said voltage divider 

represents the average value of said signals stored in said first 
and second sample and hold circuits, and wherein at least a 

portion of said potential on said tap is applied to said input 
of said integrating operational amplifier to cancel any DC 

component of an AC signal applied to said input of said  
 

operational amplifier. 
A method according to claim 14 wherein a square wave 
generating means (206) connected to said input (222) is operated 

in response to the receipt of an AC signal on said input for 
generating a square wave signal having the same frequency as said 

AC signal on said input, said first sample and hold circuit (201) 
is operated to store the peak amplitude of said signal of one 

polarity on said output of said operational amplifier in response 
to the generation of each leading edge of said square wave 

signal, and said second sample and hold circuit (202) is operated 
to store the peak amplitude of said signal of another polarity 

on said output of said integrating operational amplifier in 
response to the generation of each trailing edge of said square 

wave signal. 
A method according to claim 12 wherein the storing of 
signals by said storing circuitry comprises operating a first 

sample and hold circuit (201) to store the peak amplitude of 
signals of one polarity appearing on said output in response to 

transitions of a first polarity of said AC signal, and operating 
a second sample and hold circuit (202) to store the peak 

amplitude of signals of another polarity appearing on said output 
in response to transitions of a second polarity of said AC 

signal. 
A method according to claim 16 wherein said feedback signal 
is generated by operating said first and second sample and hold 

circuits (201, 202) to apply potentials to a voltage divider  
 

(R21) connected between an output of said first sample and hold 
circuit and an output of said second sample and hold circuit so 

that the potential of a tap (219) on said voltage divider 
represents the averaged value of said signals stored in said 

first and second sample and hold circuits, and wherein at least 
a portion (221) of said potential on said tap is applied to said 

input of said integrating operational amplifier to cancel any DC 
component of an AC signal applied to said input of said 

integrating operational amplifier. 
A method according to claim 17 wherein said storing 
circuitry is controlled by: 


differentiating (C401, R401) said AC signal on said input 
(222) to generate a differentiated AC signal, 
operating square wave generating means (206) in response to 
the generation of said differentiated AC signal to generate a 

square wave signal having the same frequency as said 
differentiated AC signal, 
operating said first sample and hold circuit(201) to store 
the peak amplitude of said signal of one polarity on said output 

of said operational amplifier in response to the generation of 
each leading edge of said square wave signal, and 
operating said second sample and hold circuit (202) to store 
the peak amplitude of said signal of another polarity on said 

output of said operational amplifier in response to the 
generation of each trailing edge of said square wave signal. 
A method according to claim 12 wherein said storing 
circuitry is controlled to cause a first storage circuit (201)  

 
connected to an output of said operational amplifier to store the 

peak amplitude of positive signals appearing on said output in 
response to the reception of signals of a first polarity on said 

input, and to cause a second storage circuit (202) connected to 
said output to store the peak amplitude of negative signals 

appearing on said output in response to the reception of signals 
of a second polarity on said input. 
A method according to claim 19 wherein said first and second 
storage circuits comprise a first (201) and a second (202) sample 

and hold circuit and said storing circuitry is controlled by 
differentiating (C401, R401) said AC signal to provide for the 

precision sampling of the peak amplitude of said AC signal 
containing said DC offset, operating said first sample and hold 

circuit (201) at the zero crossing of said differentiated signal 
to store the peak amplitude of positive signals appearing on said 

output in response to transitions of a first polarity of said 
input signal, and operating said second sample and hold circuit 

(202) at the zero crossing of said differentiated signal to store 
the peak amplitude of negative signals appearing on said output 

in response to transitions of a second polarity of said input 
signal. 
A method according to claim 12 wherein said storing 
circuitry comprises first and second sample and hold circuits 

(201, 202), said first sample and hold circuit (201) is 
controlled to store the peak amplitude of positive signals 

appearing on said output in response to transitions of a first 
polarity of an AC signal on said input, said second sample and  

 
hold circuit (202) is controlled to store the peak amplitude of 

negative signals appearing on said output in response to 
transitions of a second polarity of said AC signal on said input, 

said feedback signal is generated by operating said first and 
second sample and hold circuits (201, 202) to apply a potential 

across a voltage divider (R21) connected between an output of 
said first sample and hold circuit and an output of said second 

sample and hold circuit so that the potential of a tap (219) on 
said voltage divider represents the av
eraged value of said 
signals stored in said first and second sample and hold circuits, 

and at least a portion (221) of said potential on said tap is 
applied to said input of said operational amplifier to cancel any 

DC component of an AC signal applied to said input of said 
operational amplifier. 
A method according to claim 21 wherein said first sample and 
hold circuit (201) and said second sample and hold circuit (202) 

are controlled by generating a square wave signal (208) having 
the same frequency as said AC signal, operating said first sample 

and hold circuit (201) to store the peak amplitude of a signal 
of one polarity appearing on said output of said integrating 

operational amplifier in response to the generation of each 
leading edge of said square wave signal, and operating said 

second sample and hold circuit (202) to store the peak amplitude 
of a signal of another polarity appearing on said output of said 

integrating operational amplifier in response to the generation 
of each trailing edge of said square wave signal. 
</CLAIMS>
</TEXT>
</DOC>
