<DOC>
<DOCNO>EP-0623860</DOCNO> 
<TEXT>
<INVENTION-TITLE>
PROCESSING FINISH TIME PREDICTING NUMERICAL CONTROL APPARATUS
</INVENTION-TITLE>
<CLASSIFICATIONS>G05B194093	G05B194093	B23H700	B23H720	G05B1918	G05B1918	B23H704	B23H704	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>G05B	G05B	B23H	B23H	G05B	G05B	B23H	B23H	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>G05B19	G05B19	B23H7	B23H7	G05B19	G05B19	B23H7	B23H7	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A reference processing speed (Vi) and an offset amount for each 
processing operation are determined on the basis of a set material and 

thickness of a work, a set diameter of a wire electrode and a set number 
of processing operations and with reference to a processing condition 

table for a nonvolatile memory (2). A total length (Di) of a processing 
path for each processing operation is determined on the basis of a processing 

movement command given by a processing program, the above-mentioned 
diameter of a wire electrode and offset amount. The time 

(T0) required to carry out the whole of a process is determined by integrating 
all of the 
time (Ti) required for a process with respect to each 
processing operation which is obtained by dividing the total length (Di) 

of a processing path for each processing operation by the reference processing 
speed (Vi) for each processing operation. The time (T0) required 

for a process is added to the present time (Tn) read from a timepiece (3), 
and the result is displayed on a CRT of a CRT/MDI (10), whereby an 

operator is informed on the estimated processing finish time (these operations 
are carried out in S1-S12). 


</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
FANUC LTD
</APPLICANT-NAME>
<APPLICANT-NAME>
FANUC LTD.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
KITA YUKI
</INVENTOR-NAME>
<INVENTOR-NAME>
KITA, YUKI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
The present invention relates to a numerical
control device for reporting an expected termination
time of program machining using an NC machine tool.Totally unmanned operation is practicable in
program machining using an NC machine tool, and an
operator need not monitor the machining work except for
prearranging operations such as mounting of workpieces,
starting of machining programs, etc. Thus, while the NC
machine tool is executing programmed machining, the
operator can perform prearranging operations for the
next machining cycle or other odd jobs. If the operator
is previously informed of the time of termination of the
machining, however, he can more smoothly carry out
operations such as removal of machined workpieces,
transfer of workpieces to the next machining stage, etc.Conventionally, in order to know an expected
machining termination time, the operator used to compute
a required machining time manually in accordance with
the machining shape, set machining speed, etc. given by
a machining program, thereby estimating the time when
the machining would terminate. However, when one and
the same portion of a workpiece has to be finished, for
example, by repeating several machining cycles ranging
from rough machining to finish machining, machining
conditions naturally vary with the individual cycles, so
that the average speed of tool movement for each cycle,
tool offset value for each cycle, and, therefore, tool
movement path length for each cycle (overall length of 
machining locus for each machining stage) vary.
Accordingly, the machining time varies with the
individual machining stages. Thus, in order to estimate
the necessary machining time for any one portion of
workpiece in advance, various conditions such as the
machining frequency, machining conditions for each
machining stage, tool offset value, etc., besides the
machining shape given by the machining program, should
be taken into consideration, and an accurate estimation
usually requires complicated calculations.Some NC machine tools are designed for being
capable of adaptively controlling the machine speed in
order to obtain uniform work surfaces. In the cases of
the NC machine tools with such arrangement, however, the
set machining speed does not always agree with the
actual machining speed. Even though complicated manual
calculations are made in consideration of the offset
value and the like, the required time calculated not
based on the actual machining speed but based on the set
machining speed may lack in accuracy in some cases.
</DESCRIPTION>
<CLAIMS>
A numerical control device for controlling a
machine tool, capable of predicting a machining

duration time, comprising:

a required machining time computing means for
computing a time (Tr) required for the execution of an

entire machining operation based on an unexecuted
portion (L') of a machining program in accordance with

a machining speed and a work load; and
a display means (10) for displaying a time
dependent upon the computed required machining time

(Tr);
the numerical control device being characterised
by:
a machining speed detecting means for detecting,
as the machining speed for the required machining time

computing means, the actual machining speed (V) during
the execution of the machining program;
a work load computing means for computing, as the
work load for the required machining time computing

means, a work load (L') corresponding to an unexecuted
portion of the machining program;
a clock means (3) to operate synchronously with
the current time (Tn);
an expected machining termination time computing
means for computing an expected machining termination

time based on the required time (Tr) computed by the
required machining time computing means and the current

time (Tn) given by the clock means (3), the computation
of the expected machining termination time comprising

adding to the current time (Tn) given by the clock
means (3), that portion of the computed required

machining time (Tr) which is unexpired at the current
time (Tn) given by the clock means (3), and 
the display means (10) being arranged for
displaying the expected machining termination time

computed by the expected machining time computing
means.
A numerical control device for predicting a
machining termination time according to claim 1,

wherein the expected machining termination time is
obtained by means of said machining speed detecting

means, work load computing means, required machining
time computing means, clock means (3), and expected

machining termination time computing means, and is
updated and displayed on said display means (10), with

every predetermined period for the execution of the
machining program.
A numerical control device for predicting a
machining termination time according to claim 1,

wherein the expected machining termination time is
obtained by means of said machining speed detecting

means, work load computing means, required machining
time computing means, clock means (3), and expected

machining termination time computing means, and is
updated and displayed on said display means (10), with

every predetermined number of blocks for which the
execution of the machining program is in progress.
A numerical control device for predicting a

machining termination time according to claim 1, and
for controlling a machine tool for repeatedly executing

a number of machining stages from rough machining to
finish machining by using a plurality of corresponding

machining programs each of which defines an entire
machining operation, the numerical control device

further comprising:

a stage average speed estimating means for 
estimating an average machining speed (Vi) from the

start to the end of each machining stage in accordance
with machining conditions previously set for each

machining stage;
a stage path length computing means for computing
a machining path length (Di) for each machining stage

in accordance with a corresponding machining program
and said machining conditions;
a stage required time estimating means for
estimating a required machining time (Ti) for each

machining stage in accordance with the values (Vi,Di)
computed by said average speed estimating means and

path length computing means;
an executed machining path length calculating
means for calculating the length (Ln) of a machining

path from a starting position of the currently executed
machining stage to the current machining position;
an elapsed machining time clocking means (T)
adapted to be reset synchronously with the start of

each machining stage and start clocking an elapsed
machining time;
an actual average machining speed computing means,
acting as said machining speed detecting means, for

computing an actual average machining speed (V) for the
machining path (Ln) from the machining starting

position of the currently executed machining stage to
the current machining position based on the elapsed

machining time given by said elapsed machining time
clocking means and the executed machining path length

(Ln) computed by said executed machining path length
calculating means; and
a total (To) remaining stage machining time
estimating means for adding up the required machining

times (Ti) estimated for the individual machining
stages from the machining stage immediately after the

currently executed machining stage, to the final 
machining stage, by means of said stage required time

estimating means;
said required time computing means being operable
to compute the time required for the execution of all

the remaining machining still to be done, by adding the
time (Tr) required for the execution of the unexecuted

portion of the current machining stage, to the time
(To) estimated by the total remaining stage machining

time estimating means,
the time (Tr) required for the execution of the
current machining stage being based on said actual

average machining speed (V) for the current stage
computed by said actual average machining stage

computing means, and the remaining path length (L') for
the current machining stage being calculated by

subtracting the length (Ln) calculated by the executed
machining path length calculating means from the length

calculated by the stage path length computing means for
the current stage.
A numerical control device for predicting a
machining termination time according to claim 4,

wherein said stage average speed estimating means
estimates the average machining speed (Vi) from the

start to the end of each machining stage based on a
maximum machining speed (Vi(max)) and a minimum

machining speed (Vi(min)) for each machining stage
previously set in said machining program. 
A numerical control device for predicting a
machining termination time according to claim 4, wherein

said stage average speed estimating means estimates the
average machining speed (Vi) for a first machining stage in

accordance with the machining conditions previously set
for said machining stage, and obtains the average

machining speeds (Vi) for a second and subsequent machining
stages by multiplying the estimated average machining

speed for the first machining stage by predetermined
coefficients.
A numerical control device for predicting a
machining termination time according to claim 4, 5 or 6, wherein

the computation or estimation by means of said machining
path length computing means, actual average machining

speed computing means, required machining time for
machining path estimating means, total required

machining time for remaining machining stage estimating
means, and expected machining termination time computing

means is executed with every predetermined time, and the
machining termination time is updated and displayed each

corresponding time by said machining termination time
display means (10).
A numerical control device for predicting a
machining termination time according to claim 4, 5 or 6 wherein

the computation or estimation by means of said machining
path length computing means, actual average machining

speed computing means, required machining time for
remaining machining path estimating means, total

required machining time for remaining machining stage
estimating means, and expected machining termination

time computing means is executed with every termination
of a predetermined number of machining blocks

constituting said machining program, and each machining 
termination time is updated and displayed by said

machining termination time display means (10).
A numerical control device for predicting a
machining termination time according to any one of claims 4 to 8, which

further comprises an average machining speed modifying
means for fetching the actual average machining speed

for a finished machining stage from said actual average
machining speed computing means, comparing said value

with the estimated average machining speed for the
corresponding machining stage estimated by means of said

stage average speed estimating means, and modifying the
output of said required machining time for remaining

machining stage estimating means based on the result of
the comparison.
A numerical control device for predicting a
machining termination time according to any one of

claims 1 to 9, wherein said machine tool is a wire
electrical discharge machine.
</CLAIMS>
</TEXT>
</DOC>
