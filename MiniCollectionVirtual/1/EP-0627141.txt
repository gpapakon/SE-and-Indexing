<DOC>
<DOCNO>EP-0627141</DOCNO> 
<TEXT>
<INVENTION-TITLE>
HIGH SPEED MODEM SYSTEMS INCORPORATING DISTRIBUTION PRESERVING TOMLINSON ENCODING AND DECODING FOR SECONDARY CHANNELS.
</INVENTION-TITLE>
<CLASSIFICATIONS>H04L2503	H04L2503	H04L2734	H04L2734	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04L	H04L	H04L	H04L	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04L25	H04L25	H04L27	H04L27	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
Apparatus and methods in both modem transmitters (50) and receivers (130) are provided for accommodating secondary channel data without disturbing the trellis encoding, mapping, and Viterbi decoding of primary channel data, and without disturbing distribution preserving Tomlinson precoding and decoding of the primary channel data. In order to accommodate the secondary channel data, the secondary channel data are used to make quadrant decisions in a mapper (60), and concurrently therewith, dummy data or tertiary channel data corresponding in time with the secondary channel data are provided to the trellis encoder (55) so that the continuous working of the trellis encoder (55) can be maintained. In order to guarantee proper working of the trellis encoder (55), the secondary channel constellation points within a quadrant are clustered together and far from the quadrant boundaries.
</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
GEN DATACOMM IND INC
</APPLICANT-NAME>
<APPLICANT-NAME>
GENERAL DATACOMM, INC.
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
COLE PAUL DANA
</INVENTOR-NAME>
<INVENTOR-NAME>
GOLDSTEIN YURI
</INVENTOR-NAME>
<INVENTOR-NAME>
COLE, PAUL, DANA
</INVENTOR-NAME>
<INVENTOR-NAME>
GOLDSTEIN, YURI
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
 HIGH SPEED MODEM SYSTEMS INCORPORATING DISTRIBUTION PRESERVINGTOMLINSON ENCODING AND DECODING FOR SECONDARY CHANNELSThis is a continuation-in-part of Serial Nos. 07/651,563 filed Feb. 6, 1991, and 07/820,098 filed Jan. 13, 1992 which are hereby incorporated by reference in their entireties herein.BACKGROUND OF THE INVENTION1. Field of the InventionThis invention relates broadly to telecommunication systems. More particularly, this invention relates to high speed modems incorporating secondary channels as well as to trellis encoders in the transmitters of such modems and Viterbi decoders in the receivers of such modems.2. State of the ArtIn transmitting data over a channel, it is desirable to code data in manners which will provide as much gain as possible. Various different coding schemes are known in the art. One such coding scheme well known in the art is "trellis encoding". Broadly speaking, trellis encoders are "state machines" which are embodied in the software or firmware of a microprocessor or digital signal processor; i.e., any of a plurality of inputs are given as software inputs to the trellis encoder, and in response thereto and to the state in which the trellis encoder is presently situated, the trellis encoder provides a particular output and updates its state. Typically, the manner in which the trellis encoder decides the appropriate output and the state into which it is updated is by reference to a look-up table (often embodied in firmware) which has the input and present state as inputs and the output and new state as outputs. Details of trellis encoders may be seen with reference to U.S. Patent #4,713,817 to Wei, and with reference to A.R. Calderbank and N.J.A. Sloane, "New Trellis 

Codes Based on Lattices and Cosets": IEEE Trans. Inform,Theory; Vol. IT-33, pp. 177-195 (1987).Recently, in U.S. Patent #4,891,806 to Farias et al., it was proposed that a modem include a secondary channel for diagnostic and/or other purposes. The prior art modem system as generally proposed is set forth in the prior art Figure 1. There it is seen that the primary channel data 12 are inserted into a trellis encoder 13 and a mapper 14 of modem 15. The encoded data 16 are then multiplexed by a multiplexer or switch 18 with data from the secondary channel 20 which was also mapped by mapper 1 . The multiplexed data are then sent over a line 25. On the receiving side, the multiplexed data stream is demultiplexed by a demultiplexer or switch 28, and the primary channel data 30 are fed into a Viterbi decoder 32
</DESCRIPTION>
<CLAIMS>
We claim:
1. A transmitter in a modem which sends at least primary channel data and secondary channel data according to a predetermined schedule for at least a primary and a secondary channel, comprising: a) trellis encoding means for receiving at least one primary channel data bit from said primary channel, and at least one dummy or tertiary channel data bit from means for providing said dummy or tertiary channel data bit, in a time sequential order based on said predetermined schedule, and providing therefrom a coded sequence of values relating to at least said primary channel data and said secondary channel data; b) mapper means having a primary mapper means coupled to said trellis encoder for receiving said coded sequence of values relating to said primary channel data and for receiving at least one second primary channel data bit from said primary channel, and a secondary mapper means coupled to said trellis encoder for receiving said coded sequence of values relating to said secondary channel data and for receiving at a plurality of secondary channel data bits from said secondary channel, said primary and secondary mapper means for providing a valid coded sequence of values {r
k
} including values for said primary channel data and values for said secondary channel data.
2. A transmitter in a modem according to claim 1, further comprising: c) precoding means for receiving said valid coded sequence of values {r
k
} and precoding said valid coded sequence values for said primary channel data according to a Tomlinson precoding technique or a distribution preserving Tomlinson precoding technique, and for precoding said valid coded sequence values for said secondary channel data according to a Tomlinson precoding technique or a distribution preserving Tomlinson precoding technique. 


3. A transmitter in a modem according to claim 1, wherein: said primary mapper means maps said coded sequence of values relating to said primary channel data and said at least one second primary channel data bit to points in a first constellation, said first constellation comprised of points in a 2D grid in at least one plane, and said secondary mapper means maps said coded sequence of values relating to said secondary channel data and said plurality of secondary channel data bits from said secondary channel to points in a second constellation, said second constellation comprised of at least points in said 2D grid in at least one plane, wherein said second constellation is different than said first constellation.
4. A transmitter in a modem according to claim 3, wherein: each 2D grid is partitioned into a plurality of two- dimensional partition elements, and said second constellation comprises four points from each two-dimensional partition element with one point in each of four quadrants of said 2D grid, wherein points in each of the four quadrants of said second constellation are clustered together and far from the quadrant boundaries of said quadrant.
5. A transmitter in a modem according to claim 2, wherein: said primary mapper means maps said coded sequence of values relating to said primary channel data and said at least one second primary channel data bit to points in a first constellation, said first constellation comprised of points in a 2D grid in at least one plane, and said secondary mapper means maps said coded sequence of values relating to said secondary channel data and said plurality of secondary channel data bits from said secondary channel to points in a second constellation, said second constellation comprised of at least points in said 2D grid in at least one plane, wherein said second constellation is different than said first constellation. 


6. A transmitter in a modem according to claim 5, wherein: each 2D grid is partitioned into a plurality of two- dimensional partition elements, and said second constellation comprises four points from each two-dimensional partition element with one point in each of four quadrants of said 2D grid, wherein points in each of the four quadrants of said second constellation are clustered together and far from the quadrant boundaries of said quadrant.
7. A transmitter in a modem according to claim 2 , wherein: said valid coded sequence of values for said primary channel data are precoded according to a distribution preserving Tomlinson precoding technique, and said valid coded sequence of values for said secondary channel data are precoded according to a Tomlinson precoding technique.
8. A transmitter in a modem according to claim 2, wherein: said valid coded sequence of values for said primary channel data are precoded according to a distribution preserving Tomlinson precoding technique, and said valid coded sequence of values for said secondary channel data are precoded according to a distribution preserving Tomlinson precoding technique.
9. A transmitter in a modem according to claim 2, wherein: said valid coded sequence of values for said primary channel data are precoded according to a Tomlinson precoding technique, and said valid coded sequence of values for said secondary channel data are precoded according to a Tomlinson precoding technique.
10. A receiver in a modem which receives at least primary channel data and secondary channel data according to a predetermined schedule, said primary and secondary channel data having been encoded by a modem transmitter having 


 a trellis encoding means for receiving at least one primary channel data bit from said primary channel, and at least one dummy or tertiary channel data bit from means for providing said dummy or tertiary channel data bit, in a time sequential order based on said predetermined schedule, and providing therefrom a coded sequence of values relating to at least said primary channel data and said secondary channel data and a mapper means having a primary mapper means coupled to said trellis encoder for receiving said coded sequence of values relating to said primary channel data and for receiving at least one second primary channel data bit from said primary channel, and a secondary mapper means coupled to said trellis encoder for receiving said coded sequence of values relating to said secondary channel data and for receiving at a plurality of secondary channel data bits from said secondary channel, said primary and secondary mapper means for providing a valid coded sequence of values {r
k
} including values for said primary channel data and values for said secondary channel data, said receiver comprising: a) Viterbi decoding means for receiving a second sequence of values related to said valid coded sequence of values and for providing therefrom a third sequence of values {r
k
-s }; b) decoder means coupled to said Viterbi decoding means for receiving said third sequence of values and providing therefrom a fourth sequence of values including values relating to said primary channel data, wherein said decoder means receives each and every value of said third sequence of values from said Viterbi decoding means; c) demultiplexing means for taking only said values relating to said primary channel data from said fourth sequence of values; d) demapping means coupled to said demultiplexing means for demapping said values relating to said primary channel data taken by said demultiplexing means; and 


 e) quadrant decision means for obtaining from said second sequence of values the values relating to said secondary channel data and for determining therefrom said secondary channel data. 

</CLAIMS>
</TEXT>
</DOC>
