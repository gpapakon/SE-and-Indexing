<DOC>
<DOCNO>EP-0614311</DOCNO> 
<TEXT>
<INVENTION-TITLE>
IIR ghost cancelling system
</INVENTION-TITLE>
<CLASSIFICATIONS>H04N5213	H04N521	H04N5213	H04N521	</CLASSIFICATIONS>
<CLASSIFICATIONS-THIRD>H04N	H04N	H04N	H04N	</CLASSIFICATIONS-THIRD>
<CLASSIFICATIONS-FOURTH>H04N5	H04N5	H04N5	H04N5	</CLASSIFICATIONS-FOURTH>
<ABSTRACT>
A ghost cancelling system includes a ghost cancelling 
IIR filter (12-16) and channel modelling circuitry (18) for 

generating tap weighting coefficients for programming the ghost 
cancelling IIR filter. The channel modelling circuitry includes 

means for calculating the sum of all of the generated weighting 
coefficient values. If the sum exceeds a predetermined value 

indicative of the IIR filter becoming unstable, the weighting 
coefficients are conditionally scaled in a manner to reduce the 

sum, thus tending to reduce the possibility of filter instability. 

</ABSTRACT>
<APPLICANTS>
<APPLICANT-NAME>
RCA THOMSON LICENSING CORP
</APPLICANT-NAME>
<APPLICANT-NAME>
RCA THOMSON LICENSING CORPORATION
</APPLICANT-NAME>
</APPLICANTS>
<INVENTORS>
<INVENTOR-NAME>
DIETERICH CHARLES BENJAMIN
</INVENTOR-NAME>
<INVENTOR-NAME>
DIETERICH, CHARLES BENJAMIN
</INVENTOR-NAME>
</INVENTORS>
<DESCRIPTION>
This invention relates to ghost cancelling systems which employ
infinite impulse response (IIR) filters, and more particularly
to an apparatus for providing stable operation of
the IIR filters in such system.Ghost cancelling systems nominally consist of two parts, a
programmable filter and circuitry for calculating a model of
the signal transmission channel. The channel modelling circuitry
is responsive to a transmitted reference signal and a
stored idealized reference signal for determining the characteristics
of the transmission channel (in particular characteristics
which may give rise to multipath distortion). From
such characteristics, the channel modelling circuitry generates
coefficients for programming the programmable filter to
pass a video signal with multipath distortion substantially
eliminated.
For a more detailed description of channel modelling techniques
see for example US-A-4 864 403 titled "Adaptive Television
Ghost Cancellation System Including Filter Circuitry with
Non-Integer Sample Delay", or "GHOST REDUCTION BY REPRODUCTION",
N. Komlya, IEEE Transactions on Consumer Electronics,
Aug. 1992, Vol. 38, No. 3, pp. 195-199.
The programmable filters are typically of two types, finite
impulse response (FIR) and infinite impulse response (IIR).
Some ghost cancelling systems employ FIR filters, others employ
IIR filters, but the majority of systems use a combination
of both.
Both the IIR and FIR ghost cancelling filters employ tapped
delay lines providing a plurality of relatively delayed signals.
The delayed signals are weighted by programmable coefficients,
and the weighted coefficients are combined to provide
a filtered output signal. The FIR and IIR filters have relative
advantages and disadvantages but it is well known that 
FIR filters are inherently stable, and that IIR filters give
rise to stability problems.
WO-A-89 07376 discloses a television ghost cancelling system
in which a microprocessor is used to develop a model of the
transmission channel causing the ghosted video signal and to
determine coefficient and delay values for a digital IIR filter
for reducing the signal disturbances according to such
model.
PATENT ABSTRACTS OF JAPAN vol. 7, no. 33, 9 February 1983 and
JP-A-57 185 727 describe a ghost canceller wherein in order to
avoid instabilities of the IIR filter a predetermined value is
subtracted from the current coefficients used.The present invention is directed toward ameliorating instabilities
in ghost cancelling systems which use IIR type ghost
cancelling filters. The
</DESCRIPTION>
<CLAIMS>
Multipath signal cancelling apparatus comprising:

a source (10) of input video signal;
a programmable IIR filter (12-16) including signal summing
means (12) for combining said input video signal and a signal

representing a combination of delayed and weighted versions
of a signal available at an output terminal of said

summing means, said IIR filter having a plurality of
weighting circuits (15) with respective input connections

for receiving weighting coefficients and output connections
for providing said weighted versions;
channel modelling means (18), responsive to said input
video signal, for generating said weighting coefficients;
means (20, 18) receiving said signal available at the
output terminal of said summing means (12) and said signal

representing a combination of delayed and weighted versions
of said signal available at the output terminal of said

summing means for generating a signal indicating that said
IIR filter may be programmed to operate in an unstable condition;
means (18) responsive to said signal indicating that said
IIR filter may be programmed to operate in an unstable condition,

for scaling the generated weighting coefficients by the same scaling factor
such that the sum of the magnitudes of the scaled weighting

coefficients is less than the sum of the magnitudes of the
non-scaled weighting coefficients; and
means for substituting said scaled weighting coefficients
for said weighting coefficients.
The multipath signal cancelling apparatus set forth in
claim 1 wherein said summing means has limited dynamic

range and said means for generating a signal indicating
that said IIR filter may be programmed to operate in an unstable

condition includes an overflow detector (20) coupled
to said summing means for detecting occurrences of the dynamic

range of the summing means being exceeded. 
The multipath signal cancelling apparatus set forth in
claim 1 or 2, further including means (16) for summing the

values of the weighting coefficients, wherein said means
(18) for scaling the generated weighting coefficients provide

scaled weighting coefficients only when the sum of
weighting coefficients exceeds a predetermined value and

said unstable operating condition is detected.
</CLAIMS>
</TEXT>
</DOC>
