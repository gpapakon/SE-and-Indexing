<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE patent-document PUBLIC "-//MXW//DTD patent-document XML//EN" "http://www.ir-facility.org/dtds/patents/v1.4/patent-document.dtd">
<patent-document ucid="EP-1225721-A2" country="EP" doc-number="1225721" kind="A2" lang="EN" family-id="27345740" status="new" date-produced="20090516" date="20020724">
  <bibliographic-data>
    <publication-reference ucid="EP-1225721-A2" status="new" fvid="23523535">
      <document-id status="new" format="original">
        <country>EP</country>
        <doc-number>1225721</doc-number>
        <kind>A2</kind>
        <date>20020724</date>
      </document-id>
    </publication-reference>
    <application-reference ucid="EP-02250232-A" status="new" is-representative="NO">
      <document-id status="new" format="epo">
        <country>EP</country>
        <doc-number>02250232</doc-number>
        <kind>A</kind>
        <date>20020114</date>
      </document-id>
    </application-reference>
    <priority-claims status="new">
      <priority-claim ucid="JP-2001009472-A" status="new">
        <document-id status="new" format="epo">
          <country>JP</country>
          <doc-number>2001009472</doc-number>
          <kind>A</kind>
          <date>20010117</date>
        </document-id>
      </priority-claim>
      <priority-claim ucid="JP-2001174167-A" status="new">
        <document-id status="new" format="epo">
          <country>JP</country>
          <doc-number>2001174167</doc-number>
          <kind>A</kind>
          <date>20010608</date>
        </document-id>
      </priority-claim>
      <priority-claim ucid="JP-2001324900-A" status="new">
        <document-id status="new" format="epo">
          <country>JP</country>
          <doc-number>2001324900</doc-number>
          <kind>A</kind>
          <date>20011023</date>
        </document-id>
      </priority-claim>
    </priority-claims>
    <technical-data status="new">
      <classifications-ipcr>
        <classification-ipcr status="new">B41J   5/30        20060101ALI20051220RMJP        </classification-ipcr>
        <classification-ipcr status="new">B41J   5/30        20060101CLI20051220RMJP        </classification-ipcr>
        <classification-ipcr status="new">B41J  29/38        20060101AFI20051220RMJP        </classification-ipcr>
        <classification-ipcr status="new">B41J  29/38        20060101CFI20051220RMJP        </classification-ipcr>
        <classification-ipcr status="new">G06F   3/12        20060101ALI20051220RMJP        </classification-ipcr>
        <classification-ipcr status="new">G06F   3/12        20060101CLI20051220RMJP        </classification-ipcr>
        <classification-ipcr status="new">G06F  13/00        20060101ALI20051220RMJP        </classification-ipcr>
        <classification-ipcr status="new">G06F  13/00        20060101CLI20051220RMJP        </classification-ipcr>
        <classification-ipcr status="new">H04L  12/24        20060101A I20051008RMEP        </classification-ipcr>
        <classification-ipcr status="new">H04L  12/24        20060101C I20051008RMEP        </classification-ipcr>
        <classification-ipcr status="new">H04L  12/58        20060101A N20051008RMEP        </classification-ipcr>
        <classification-ipcr status="new">H04L  12/58        20060101C N20051008RMEP        </classification-ipcr>
        <classification-ipcr status="new">H04L  29/08        20060101A I20051008RMEP        </classification-ipcr>
        <classification-ipcr status="new">H04L  29/08        20060101C I20051008RMEP        </classification-ipcr>
        <classification-ipcr status="new">H04N   1/00        20060101ALI20051220RMJP        </classification-ipcr>
        <classification-ipcr status="new">H04N   1/00        20060101CLI20051220RMJP        </classification-ipcr>
      </classifications-ipcr>
      <classification-ecla status="new">
        <classification-symbol scheme="EC">H04L  12/24D</classification-symbol>
        <classification-symbol scheme="EC">H04L  12/24F3</classification-symbol>
        <classification-symbol scheme="EC">H04L  29/08A7</classification-symbol>
        <classification-symbol scheme="EC">H04L  29/08N1</classification-symbol>
        <classification-symbol scheme="ICO">T04L12:58</classification-symbol>
      </classification-ecla>
      <invention-title load-source="ep" status="new" lang="DE">Verfahren und Vorrichtung zum Melden eines Fehlers einer Netzwerkvorrichtung</invention-title>
      <invention-title load-source="ep" status="new" lang="EN">Method and device for network device error notification</invention-title>
      <invention-title load-source="ep" status="new" lang="FR">Procédé et dispositif de notification de faute d'un dispositif de réseau</invention-title>
    </technical-data>
    <parties>
      <applicants>
        <applicant status="new" format="epo">
          <addressbook>
            <name>CANON KK</name>
            <address>
              <country>JP</country>
            </address>
          </addressbook>
        </applicant>
        <applicant status="new" format="intermediate">
          <addressbook>
            <name>CANON KABUSHIKI KAISHA</name>
          </addressbook>
        </applicant>
        <applicant status="new" format="original">
          <addressbook>
            <last-name>CANON KABUSHIKI KAISHA</last-name>
            <address>
              <street>30-2, 3-chome, Shimomaruko, Ohta-ku</street>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
        </applicant>
      </applicants>
      <inventors>
        <inventor status="new" format="epo">
          <addressbook>
            <name>OKAZAWA TAKASHI</name>
            <address>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor status="new" format="intermediate">
          <addressbook>
            <name>OKAZAWA, TAKASHI</name>
          </addressbook>
        </inventor>
        <inventor status="new" format="original">
          <addressbook>
            <last-name>Okazawa, Takashi, c/o Canon Kabushiki Kaisha</last-name>
            <address>
              <street>30-2, 3-chome, Shimomaruko, Ohta-ku</street>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
      </inventors>
      <agents>
        <agent status="new" format="original">
          <addressbook>
            <last-name>Beresford, Keith Denis Lewis</last-name>
            <address>
              <street>Beresford &amp;amp; Co., 2-5 Warwick Court, High Holborn</street>
              <city>London WC1R 5DJ</city>
              <country>GB</country>
            </address>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <international-convention-data>
      <designated-states>
        <ep-contracting-states>
          <country>DE</country>
          <country>ES</country>
          <country>FR</country>
          <country>GB</country>
          <country>IT</country>
        </ep-contracting-states>
      </designated-states>
    </international-convention-data>
  </bibliographic-data>
  <abstract load-source="ep" status="new" lang="EN">
    <p>The invention allows error information to be
communicated to the user easily and rapidly when an
error occurs at a peripheral device connected to the
network without requiring dedicated application.
According to the invention, the state of the peripheral
device is reported by means of e-mail, and a language
used in the e-mail is switched.
<img id="img-00000001" orientation="unknown" wi="164" img-format="tif" img-content="ad" file="00000001.tif" inline="no" he="102"/></p>
  </abstract>
  <description load-source="ep" status="new" lang="EN">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <heading>Field of the Invention</heading>
    <p num="0001">The present invention relates to a communication
apparatus that controls interfaces between a terminal
apparatus and a main apparatus such as a printer and a
copying machine on a network, or to a unit provided
with such a communication apparatus.</p>
    <heading>Related Background Art</heading>
    <p num="0002">Conventionally, a network system is known in which
a client computer such as a personal computer (PC) and
a peripheral device (device terminal) such as a printer
are connected to a network.</p>
    <p num="0003">A peripheral device consists of a communication
device such as a network interface device and the main
unit of the peripheral device connected to the network
via the network interface device.</p>
    <p num="0004">The network interface device controls
communication of information between the peripheral
device and the client computer. If any abnormal
condition arises at the peripheral device, the client
computer obtains error information via the network
interface device, and displays the error through the
application software being used to remotely operate the
peripheral device. </p>
    <p num="0005">In addition, the client computer is required to
have dedicated application software for the network
interface device if the computer is to send a command
to the peripheral device from a remote location, for
example, to know the state of the peripheral device.</p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="0006">However, the prior system described above has the
following problems.
<sl><li>(1) When an error (abnormal condition) occurs at
the peripheral device connected to the network, the
only unit that can recognize the occurrence of the
error is the client computer utilizing the peripheral
device or the client computer on which the dedicated
application software is currently running. Other
client computers cannot recognize the abnormal
condition at the peripheral device.</li><li>(2) Even when an error occurs at the peripheral
device, if no one is using the peripheral device, the
error would not be discovered and left unsolved until
someone uses the peripheral device.</li><li>(3) Dedicated application software for the network
interface device is required in order to send a command
to the peripheral device from a remote location. It is
impossible to send a command to the peripheral device
without this application software being installed on
the client computer. </li><li>(4) Even when dedicated application software for
the network interface device is provided, the user
still needs to learn special purpose commands to be
able to use the application software. Thus, it is
onerous for the user to learn how to operate the
software.</li><li>(5) When there are a plurality of users using the
peripheral device, if the languages used by the
respective users are different, it is desirable to
communicate information on the peripheral device in
respective languages of the users. However, if
dedicated application software is to be used, it is
necessary to prepare several versions of the dedicated
application software adapted for respective languages.</li></sl></p>
    <p num="0007">In contrast, the present invention can notify the
user of the state of the peripheral device by means of
e-mail, thus informing the user responsible for
managing the peripheral device of the state of the
peripheral device at appropriate time so that the user
becomes aware of his management tasks.</p>
    <p num="0008">In addition, languages to be used in the e-mail
can be switched so as to make it easier for the user to
understand the state of the peripheral device when the
user reads the mail content.</p>
    <p num="0009">In other words, according to the invention,
information on the device is obtained, a language for a
message to be created is determined, a message is 
created in the language determined based on the
information obtained, and the created message is sent
as a notice.</p>
    <p num="0010">Also, a language is determined based on location
information obtained from the device indicating a
location.</p>
    <p num="0011">Also, a language is determined based on location
information obtained from the device indicating a
location of use, shipment, manufacture, or sale of the
device.</p>
    <p num="0012">Also, a language is determined based on language
information indicating a language to be used for the
panel display on the device.</p>
    <p num="0013">Also, a language is determined based on
information obtained from the device indicating a
location to which the device is to be shipped.</p>
    <p num="0014">Also, a language is determined based on
information indicating the product name of the device.</p>
    <p num="0015">Also, a language is determined based on location
information indicating a location placed as a setting
in a job to be processed by the device.</p>
    <p num="0016">Also, a language is determined based on a type of
character code for owner information indicating the
owner of a job to be processed by the device.</p>
    <p num="0017">Also, a message based on the obtained information
is created in a language specified for each destination
to which the message is to be sent. </p>
    <p num="0018">Also, a message based on the obtained information
is created in a language specified for each content
type of the message.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="0019">
      <sl>
        <li>FIG. 1 shows a system architecture of a network
system;</li>
        <li>FIG. 2 is a block diagram showing a configuration
of a network interface unit 106;</li>
        <li>FIG. 3 is a flow chart showing normal processing
at a network interface unit 106;</li>
        <li>FIG. 4 is a flow chart illustrating processing for
a mail delivery;</li>
        <li>FIG. 5 is a flow chart illustrating processing to
create a message;</li>
        <li>FIG. 6 is a flow chart illustrating processing to
create a header;</li>
        <li>FIG. 7 is a flow chart illustrating processing to
create a body;</li>
        <li>FIG. 8 is a flow chart illustrating processing to
create a footer;</li>
        <li>FIG. 9 shows an exemplary message for job log
notification;</li>
        <li>FIG. 10 shows an exemplary message for error log
notification;</li>
        <li>FIG. 11 shows an exemplary message for reporting
an occurrence of an error; </li>
        <li>FIG. 12 is a flow chart illustrating processing to
send a message;</li>
        <li>FIG. 13 shows a constitution of a state change
signal (Trap signal);</li>
        <li>FIG. 14 shows an exemplary Trap number;</li>
        <li>FIG. 15 shows an exemplary status code;</li>
        <li>FIG. 16 shows a setting screen for mail delivery
related items;</li>
        <li>FIG. 17 is a flow chart illustrating processing to
create a second message;</li>
        <li>FIG. 18 is a flow chart illustrating processing to
create a header;</li>
        <li>FIG. 19 shows a setting screen for mail delivery
related items;</li>
        <li>FIG. 20 shows a setting screen for mail delivery
related items;</li>
        <li>FIG. 21 is a flow chart illustrating processing
for setting a language for a message in a case where a
setting screen is used;</li>
        <li>FIG. 22 shows a table to save the details of
setting;</li>
        <li>FIG. 23 is a flow chart illustrating processing to
create a third message;</li>
        <li>FIG. 24 is a flow chart illustrating processing to
create a header;</li>
        <li>FIG. 25 is a flow chart illustrating processing to
create a body; and </li>
        <li>FIG. 26 shows an architecture of a laser beam
printer.</li>
      </sl>
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="0020">In the following, embodiments of the present
invention will be described with reference to the
drawings.</p>
    <p num="0021">FIG. 1 shows a system architecture of a network
system involved in an embodiment of the invention.</p>
    <p num="0022">In this drawing, reference numerals 101 to 103
denote client computers that consist of personal
computers (PCs) and the like. These client computers
are connected to a network 100.</p>
    <p num="0023">Reference numeral 104 denotes an e-mail server
(hereafter called mail server). The mail server 104,
being connected to the network 100, receives mail
messages (hereafter referred to also simply as
messages) sent from an external device and retains
them. Respective users utilizing the network system
have their own e-mail addresses. They inform the mail
server 104 of their e-mail addresses by connecting to
the server from the client computers 101 to 103. Then,
the mail server 104 selects among a plurality of mails
those addressed to the e-mail addresses that came to
its knowledge, and sends those mails to the client
computers.</p>
    <p num="0024">Reference numeral 105 denotes a device terminal 
(peripheral device). The device terminal 105, which
consists of a network interface unit 106 and a main
unit of the device 107, is connected to the network 100
via the network interface unit 106. The device
terminal 105 may be an image processing device such as
a laser beam printer, an inkjet printer, a copying
machine, a FAX machine, or a combination thereof. It
may also be a device that can be connected to a
network. In this embodiment, as an exemplary device
terminal 105, a printer will be described.</p>
    <p num="0025">FIG. 2 is a block diagram illustrating a
configuration of the network interface unit 106 shown
in FIG. 1. In this drawing, reference numeral 201
denotes a CPU. The CPU 201, based on various control
programs stored in flash ROM 202, controls
communication with the external network 100 as well as
communication with a printer interface 205, and also
controls operation of the network interface unit 106 as
a whole.</p>
    <p num="0026">The flash ROM 202 is a rewritable ROM, and it is a
memory that can be used as a storage area for
parameters to be saved. The flash ROM 202, besides
being used to store control programs, data, and various
parameters to be saved, also saves and stores
information representing e-mail addresses and setting
information for use in mail processing in the e-mail
feature described in the present invention. </p>
    <p num="0027">Reference numeral 203 denotes RAM. The RAM 203 is
used to store temporary work data and parameters.
Reference numeral 204 denotes a LAN controller. The
LAN controller 204 serves to communicate with the
external network 100 (for example, Ethernet (R) and
token ring). Through controlling by this LAN
controller 204, print data from a client computer
connected to the external network 100 is input into the
network interface unit 106. Then, data of various
information is output to the network 100.</p>
    <p num="0028">Reference numeral 205 denotes a printer interface.
The printer interface 205, for example, sends a printer
job input from the external network 100 to the printer
107, receives/sends a printer control job from/to the
printer 107, obtains from the printer 107 state
information concerning a state of the printer 107,
obtains from the printer 107 device information
concerning the printer 107, and sends to the printer
107 information representing device settings for the
printer 107.</p>
    <p num="0029">The CPU 201, flash ROM 202, RAM 203, LAN
controller 204, and printer interface 205 are connected
with each other via a system bus 208.</p>
    <p num="0030">Furthermore, the network interface unit 106 may be
a removable communication control device mounted on a
main unit of a device, such as a network card, a
network board, and a printer board to name but a few 
specific examples.</p>
    <p num="0031">As described above, a peripheral device 105
constituting the present embodiment, consists of a
network interface unit 106 and a printer 107 as a main
unit of the device in a network system consisting of a
mail server 104, clients 101, 102, and 103, and a
peripheral device 105.</p>
    <p num="0032">The network interface unit 106 and the printer 107
are connected by means of a dedicated interface 205.
Thus, the network interface unit 106 obtains detailed
state information and device information about the
printer 107 via this interface 205.</p>
    <p num="0033">The network interface unit 106 comprises message
creating means for creating a notification message
based on the detailed state information and device
information, retaining means for retaining data
concerning recipients of the message created by the
message creating means, and message delivering means
for sending the message created by the message creating
means via e-mail according to the data on recipients.</p>
    <p num="0034">The peripheral device 105 that consists of such a
network interface unit 106 and a printer 107 is
provided with means for sending e-mail messages to the
mail server 104 on the network 100 at the message
delivering means.</p>
    <p num="0035">The mail server 104 comprises means that receives
messages sent from the peripheral device 105 to retain 
them in the server terminal, and means for sending
mails in response to mail receiving requests from the
clients 101, 102, and 103, and means for deleting
messages retained in the server unit.</p>
    <p num="0036">In addition, the clients 101, 102, and 103 are
provided with means for receiving e-mail messages from
the mail server 104 via the network 100. Furthermore,
an application program is running on the clients to
display received messages.</p>
    <p num="0037">In a large scale network, a plurality of mail
servers are provided with means for communicating with
each other on the network, and through this means e-mail
messages are transferred. Messages are retained
at the destination mail server so that the source mail
server discards the messages it has been retaining upon
transferring them. As a result, e-mail messages sent
from the peripheral device 105 are delivered to
delivery destinations set at the peripheral device.</p>
    <p num="0038">In the following, the operation of the present
embodiment will be described in specific terms.</p>
    <p num="0039">The printer 107 and the network interface unit 106
are connected through a dedicated interface 205, and
through this dedicated interface 205,
transmission/reception of printer job data,
transmission/reception of printer control job data, and
transmission/reception of state information and device
information concerning the printer 107 are achieved. </p>
    <p num="0040">With such transmitted/received data, the network
interface unit 106 creates messages to be delivered
therefrom, and sends them to preset destinations.</p>
    <p num="0041">The processing to send this notification message
starts when the network interface unit 106 detects a
state change in the printer 107. That is, the printer
107 is provided with means for notifying the network
interface unit 106 of its own state change. In the
present example, it is not the network interface 106
that obtains the state information of the printer 107
periodically to monitor its state. Rather, the
processing to send a notification message is invoked by
a notification from the printer 107 indicating a state
change.</p>
    <p num="0042">FIG. 3 is a flow chart showing normal processing
at the network interface unit (NIC) 106. In its normal
processing, the network interface unit (NIC) 106
invokes appropriate processing corresponding to signals
from the network 100 and the printer interface 205.
After finishing each processing, it returns to a wait
state. That is, in response to interruptions from
outside, it executes corresponding processing. It also
periodically carries out necessary operations for the
external network 100.</p>
    <p num="0043">In FIG. 3, first, whether or not there is data
transmission in a network protocol from the network 100
is determined (step S301). If there is data 
transmission, then in accordance with the protocol used
for the data transmission, protocol specific processing
is performed (step S302).</p>
    <p num="0044">If data is not sent from the network, then,
whether a signal indicating a state change (hereafter
called state change signal) has been received from the
printer 107 is determined (step S303). If there is a
state change signal (Trap signal) from the printer 107,
a specific state change of the printer 107 is
recognized, and to send a message representing the
details in the form of e-mail, processing to deliver a
mail is executed (step S304).</p>
    <p num="0045">Even in the case where no data is transmitted from
the network 100 and no state change signal is sent from
the printer's main unit, appropriate processing is
executed in S305 and S306 respectively.</p>
    <p num="0046">FIG. 4 is a flow chart illustrating processing for
delivering a mail in step S304. In the processing for
delivering a mail of step 304, first, Trap information
content represented by the Trap signal from the printer
107 is analyzed (step S401). Then, a message for
notification is created in accordance with the Trap
information content (step S402). Finally, the message
is sent in the form of e-mail (step S403). Here, a set
destination address is attached to the message so that
the e-mail representing the Trap information content is
sent to a set recipient. </p>
    <p num="0047">FIG. 5 is a flow chart illustrating processing to
create a message in S402. In the processing to create
a message of step S402, first, processing to create a
header is performed (step S501), then processing to
create a body is performed (step S502), and finally
processing to create a footer is performed (step S503),
a message being constituted by these parts.</p>
    <p num="0048">The network interface unit 106 constructs a
message by combining its own network information with
state information and device information obtained from
the printer 107 in the processing to create respective
parts.</p>
    <p num="0049">FIG. 6 is a flow chart illustrating processing to
create a header in step S501. In the processing to
create a header of step S501, first, the network
information (a product name, an IP address, a MAC
address, etc.) of the network interface unit 106 itself
is obtained (step S601).</p>
    <p num="0050">Then, status information representing a status of
the printer 107 is obtained from Trap information, and
from this information a status type is determined (step
S602). Status types include such states as error,
warning, and service request states.</p>
    <p num="0051">Then, a header is created based on the information
obtained in steps S601 and 602 (step S603). For
example, the product name and the IP address are
embedded in the "From" field representing the source of 
e-mail. The destination address for a message is
written to the "To" field representing the destination
of the e-mail. In addition, a title showing the type
of status determined is embedded in the "Subject" field
representing the subject of the e-mail. Finally, the
content of the created header is stored (step S604).</p>
    <p num="0052">FIG. 7 is a flow chart illustrating processing to
create the body in step S502. In the processing to
create the body of step S502, first, status information
stored in Trap information is obtained (step S701). In
addition, detailed device information (detailed status
information) is obtained from the printer 107 (step
S702).</p>
    <p num="0053">Then, the content for the message is created based
on that detailed information, and embedded in the body
(step S703). Finally, the content of the created body
is stored (step S704).</p>
    <p num="0054">FIG. 8 is a flow chart illustrating processing to
create the footer in step S503. In the processing to
create the footer of step S503, first, necessary
information is obtained from the printer 107 (step
S801), and based on the obtained information, the
footer is created (step S802) by constructing the part
to be appended to the end of the message (such as the
one describing a device name, a device location, and so
on) and a signature character string that may be set
freely. Finally, the content of the footer is stored 
(step S803).</p>
    <p num="0055">FIGS. 9, 10, and 11 show messages for the e-mail
involved in the present embodiment. These messages
consist of a header, a body, and a footer. FIG. 9 is a
message for job log notification. The description in
the Subject field of the header shows that this message
is for job log (history) notification. In the body, a
job number, a processing result, a job type, a job
name, a job user (sender), a time and date when the job
was processed, as well as the start time and finish
time for the job processing are written for each job
processed.</p>
    <p num="0056">FIG. 10 shows a message for error log
notification. The description in the Subject field of
the header shows that this message is for error log
notification. In the body, the date of occurrence, the
time of occurrence, the code and subcode for the error
that occurred, and the place of occurrence, etc. are
written.</p>
    <p num="0057">FIG. 11 shows a message for error occurrence
notification. The description in the Subject field in
the header shows that this message is for error
notification. Particularly, in this example, an
occurrence of an operator call is described. In the
body, a sentence describing the details of the error is
written.</p>
    <p num="0058">FIG. 12 is a flow chart illustrating processing to 
send a message in step S403. In the processing to send
a message of step S403, first, information that
indicates recipients of the mail preset in the network
interface unit 106 as well as information concerning
the mail server is obtained (steps S1201 and S1202).
Then, a message as shown in FIGS. 9 and 10 is created
by combining the header, the body, and the footer (step
S1203).</p>
    <p num="0059">Then, the message is sent to the mail server (step
S1204) by means of an e-mail delivering protocol called
SMTP (Simple Message Transfer Protocol). E-mail
delivery of the present embodiment consists in sending
a message to the mail server 104 as described above.
The network interface unit 106 may bear the feature of
the mail server.</p>
    <p num="0060">Thus, in this embodiment, since information
concerning an error and a status of the device 107 is
delivered as e-mail by the device terminal 105 itself,
dedicated application software for the network
interface unit 106 is not required at the client
computers 101 to 103, eliminating the need for the user
to learn how to operate the application software.
Therefore, an excessive burden of operating the
software is not put on the user.</p>
    <p num="0061">Also, when an error occurs at the main unit of the
device 107, information concerning the error may be
delivered to the plurality of client terminals 101 to 
103 via the mail server 104 easily and rapidly, thus
allowing the occurred error to be dealt with in a
timely manner.</p>
    <p num="0062">As explained in the embodiment, a message is
created and delivered in response to a state change
signal (Trap signal) from the printer 107. The message
to be delivered is created in accordance with the
content of this signal. However, in the following
embodiment, the type of mail to be delivered is
controlled in accordance with set values (notification
conditions) in the network interface unit 106 when such
a Trap signal is recognized by the network interface
unit 106.</p>
    <p num="0063">FIG. 13 shows a constitution of a Trap signal. A
Trap signal contains a Trap number, a Status Code, and
a Message being displayed on the printer panel (panel
message character string).</p>
    <p num="0064">A Trap number represents a type of state change
for the printer 107, and includes termination of a job,
a status change, log area overflow, and various events.</p>
    <p num="0065">A status code represents a type of status for the
printer 107. A status code is represented as a five-digit
positive number to identify any status that
occurs at the printer 107. Numbers within a certain
range are assigned depending on the type of status. For
example, numbers from 10,000 to 14,999 represent normal
states (non-error state, non-warning state), those from 
15,000 to 20,000 warning states, those from 30,000 to
49,999 error states, and those from 50,000 to 59,999
serviceman call states.</p>
    <p num="0066">Consequently, different levels may be defined
according to status code ranges as follows: level 1 for
10,000 to 14,999; level 2 for 15,000 to 19,000; level 3
for 20,000 to 29,999; level 4 for 30,000 to 49,999;
level 5 for 50,000 to 59,999.</p>
    <p num="0067">A panel message character string represents a
character string to be displayed on the panel of the
printer 107 at the occurrence of a status.</p>
    <p num="0068">FIG. 14 describes values that may become Trap
numbers as well as exemplary state changes
corresponding to respective values. FIG. 15 describes
values that may become status codes, exemplary panel
message character strings corresponding to the
respective values, and exemplary status meanings
corresponding to the respective values.</p>
    <p num="0069">The network interface unit 106 controls the mail
delivery by utilizing Trap numbers and state levels
shown by status codes. The set values representing the
conditions for delivering mail are stored in the
network interface unit 106. In the following, those
notification conditions will be described.</p>
    <p num="0070">Types of mail to be delivered include the
followings: 1. job log notification; 2. error log
notification (normal error, serviceman call); 3. 
notification for an occurrence of an operator call and
notification for an occurrence of a service call; and
4. notification for an occurrence of a call requesting
consumable item replacement.</p>
    <p num="0071">Job log notification represents a case where the
Trap signal is for "log information." Log information
is sent from the printer 107 to the network interface
unit 106 as a Trap signal each time processing of a job
is finished. The network interface unit 106
accumulates the log information over several times of
transmission, and when a predefined count has been
reached, it transmits a message containing the log
information.</p>
    <p num="0072">Service call log notification represents a case
where the Trap signal is for both "log information" and
a "service call." Log information for service calls is
kept at the printer 107, and when the area assigned for
the purpose overflows, this type of Trap is generated.
The network interface unit 106 obtains log information
for service calls from the printer 107 in response to
generated Trap signal and sends a message containing
the log information.</p>
    <p num="0073">Error log notification is similar to service call
log notification. However, the difference is that in
the case of errors involved in error log notification,
recovery from those states may be accomplished by the
operator (user), whereas errors in service call log 
notification require replacement of items by a
serviceman of the dealer or the like for a recovery.</p>
    <p num="0074">Both notification for occurrence of an operator
call and notification for occurrence of a service call
represent cases where Trap signals are for "status
changes." In response to generated Trap signal, the
network interface unit 106 checks the level of the
status code to determine if it is either an operator
call or a service call. If either an operator call or a
service call has been generated, the network interface
unit 106 further obtains detailed error information
from the printer 107, and sends a message containing
the information. Also, if the level of the status code
is for a "request for consumable item replacement," it
sends a notification for an occurrence of a call
requesting consumable item replacement in a similar
manner. Here, requests for consumable item replacement
include requests indicating needs for replacement,
replenishing, ordering, and adding of consumable items.
Also, consumable items include paper, toner, ink,
staples, and the like.</p>
    <p num="0075">Next, a method of setting notification conditions
will be described.</p>
    <p num="0076">FIG. 16 shows a setting screen for mail
notification related items. By placing checkmarks in
checkboxes 1601 to 1603, job log notification (for job
termination notification), error log notification, and 
notification for an occurrence of a call requesting
consumable item replacement will be performed.
Checkboxes respectively corresponding to notification
for an occurrence of an operator call and notification
for an occurrence of a service call may also be
provided though they are not shown here.</p>
    <p num="0077">Thus, in this embodiment, mail delivery may be
controlled by means of Trap numbers and state levels of
status codes. For example, a notification level may be
set so that among errors that occurred at the device,
those beyond a certain level will be recognized and
reported.</p>
    <p num="0078">The screen view shown in FIG. 16 is described in a
language such as HTML (Hyper Text Markup Language), and
displayed to the user through a predetermined browsing
software (such as a web browser). In response to a
request from an external device, the network interface
unit 106 sends data describing a screen of FIG. 16 to
the external device. At the external device, the data
is analyzed by a browsing software running on the
device and a screen view is displayed as shown in FIG.
16 in accordance with the description.</p>
    <p num="0079">In the example of FIG. 16, two locations may be
set as destinations for mail, and notification
conditions may be set for respective destinations.
Also, signature information (Signature) and a mailing
language (Preferred Language) may be set. A mailing 
language is a language to be used in describing the
body of a message to be sent.</p>
    <p num="0080">In the embodiment, the network interface unit
receives state change signals from the main unit of the
printer, analyzes the signals, and then changes message
contents accordingly. However, as e-mail is coming to
be used across the world, not necessarily a single
language is used by all the users receiving e-mail. In
other words, not only a message content, but also the
language to be used in describing a message has to be
changed depending on the user.</p>
    <p num="0081">In the following, in creating a message, the
network interface unit obtains locale information of
the printer 107, and changes the language to be used in
the body of a message based on the information. Here,
"locale information" is used to refer to information
indicating locations where the printer 107 is used,
where it is produced, to which it is shipped, and where
it is sold. For example, an ID (identifier) may be
assigned to each country to be set as locale
information. Locale information may be set from the
printer panel of the printer 107, or it may be set at
the time of manufacturing.</p>
    <p num="0082">In creating a message, the network interface unit
106 inserts into the message not only a sentence
prepared in advance based on state information and
device information obtained from the printer 107, but 
also network information from the network interface
unit 106 itself. In the following, the network
interface unit 106 determines a language for a message
based on locale information obtained from the printer
107 in the processing to create a message.</p>
    <p num="0083">FIG. 17 is a flow chart illustrating processing to
create a second message. First, the network interface
unit 106 obtains locale information from the printer
107 (step S1701). Then, based on the locale
information, it executes processing to create a header
(step S1702), processing to create a body (step S1703),
and processing to create a footer (step S1704).</p>
    <p num="0084">FIG. 18 is a flow chart illustrating the
processing to create a header in step S1702. The
network interface unit 106 obtains its own network
information (a NIC device name, an IP address, and a
MAC address, etc.) (step S1801).</p>
    <p num="0085">Next, it obtains status information representing a
status of the printer 107 from Trap information, and
determines the type of status from the information
(step S1802). Then, it determines which country is
indicated by the locale information obtained in S1701.</p>
    <p num="0086">First, whether the United States is indicated is
determined (step S1803). If the United States is
indicated, the subject is written in English (step
S1804). Then, whether the United Kingdom is indicated
is determined (step S1805). Also if the United Kingdom 
is indicated, the subject is written in English (step
S1804).</p>
    <p num="0087">Next, whether France is indicated is determined.
If France is indicated, the subject is written in
French (step S1807). Then, whether Germany is
indicated is determined (step S1808). If Germany is
indicated, the subject is written in German (step
S1809). When none of the above mentioned countries is
indicated, the country is determined to be Japan, and
the subject is written in Japanese (step S1810).</p>
    <p num="0088">Then, the header is completed (step S1811), and
the content of the created header is stored (step
S1812).</p>
    <p num="0089">Locale information is not limited to an ID
indicating a country. It may also be information
indicating a language to be used for panel display on
the printer 107 (panel display language information).
This information may be obtained from the printer 107.
The panel display language information indicates
Japanese, English, French, German, or the like. The
network interface unit 106 creates a message content
based on the panel display language information as the
case shown in FIG. 17.</p>
    <p num="0090">Also, rather than locale information, information
indicating a shipping destination for the printer 107
(shipping destination information) may be used. As
shipping destination information is stored in the 
printer 107, the network interface unit obtains it from
the printer 107, and determines a language to be used
for creating a message based on the information. For
example, if the indicated shipping destinations are
Europe, North America, and Japan, respective languages
for creating messages will be English, English, and
Japanese respectively. Of course, for Europe, messages
may be created in French, German, Spanish, Italian, and
the like.</p>
    <p num="0091">Also, rather than locale information, information
indicating a product name for the printer 107 may be
used. A different number or name may be assigned as a
product name depending on the region where the product
is sold. Thus, taking advantage of the fact, it is
possible to change a language for a message. That is,
the network interface unit 106 obtains a product name
for the main unit of the printer, recognizes the
product name of the main unit of the connected printer,
and changes a language for a message to be created
based on the information.</p>
    <p num="0092">In many cases, the network interface unit is
capable of operating for main units of devices of
different types. Also in such cases, it may perform
similar control operations, obtaining product names of
its connected main units of devices. It determines a
product name to change a language for each case, the
main unit of a device having a printer feature, a FAX 
feature, or a copy feature.</p>
    <p num="0093">Also, rather than locale information of the
printer 107, locale information of the job that
generated a notification via e-mail may be used.
Locale information of a job is contained in the job,
and can be set for each job. Specifically, locale
information of application software that issued a job,
locale information of a printer driver that issued a
job, or the like may be contemplated for use.</p>
    <p num="0094">In such a case, locale information is contained in
settings of application software or a printer driver,
and it is automatically embedded in a job from the
application software or the printer driver.
Alternatively, application software or a printer driver
may obtain locale information from the host computer on
which it is running and embed it in a job while
generating a job. The printer 107 extracts the
embedded locale information while analyzing the job and
stores it.</p>
    <p num="0095">A language for a message may be determined based
not on locale information of the printer 107, but on a
character code of information on the owner who
generated a job. For example, if the owner name is
written in US-ASCII, a message is created in English,
and if it is in ISO-2022-JP, a message is created in
Japanese. If it is in ISO-8859-1, English is used to
create a message. </p>
    <p num="0096">A language for a message may be changed by
referring not to locale information of the printer 107,
but to a value set in a network interface unit 106 such
as a network board.</p>
    <p num="0097">A language may be automatically changed based on a
domain name (FQDN: Fully Qualified Domain Name) for the
e-mail address of the recipient. A domain name is
typically set in such a form as "xyz.co.jp", "xyz.com",
or "xyz.fr.ca.de". Therefore, a message is created in
a language selected by taking a look at the last
character string of this domain name, and selecting
Japanese for jp, English for com, French for fr, and
German for de.</p>
    <p num="0098">It is also possible to use locale information of
the host computer at which settings for a network
interface unit such as a network board are made.
Specifically, locale information of the OS (Operating
System) running on the host computer, or locale
information of the browsing software running on the OS
may be obtained to select a language based on the
information.</p>
    <p num="0099">An arrangement may be made allowing a language for
a message to be set in accordance with its content.
For example, if a message is reporting an error, the
message is written in English, while in the case of a
message reporting a need to replace a consumable item,
the message is written in French. In this manner, even 
when the language used by the person who handles errors
is different from the one used by the person who
replaces consumable items, a message can be sent in an
appropriate language selected for each individual. For
example, if the office in which the device is used is
in a French speaking region, and if the servicing
company to handle errors is in an English speaking
region, a message in French for consumable item
replacement is sent to someone in the office, and an
error message in English is sent to the servicing
company.</p>
    <p num="0100">FIG. 19 illustrates a setting screen similar to
the one in FIG. 16. In "Case 1" in FIG. 19, a
checkmark is placed in a checkbox 1701 for "On Device
Error," and in a "Preferred Language" field 1702,
"English" is selected. Then, in response to an
occurrence of an error at the printer 107, the network
interface unit 106 creates a message in English and
sends it to a set destination as e-mail.</p>
    <p num="0101">In "Case 2" in FIG. 19, a checkmark is placed in a
checkbox "On Request for Consumables," and "French" is
selected in a "Preferred Language" field. Then, the
network interface unit 106 creates a message in French
when there is a need for consumable item replacement,
and sends it to a set destination.</p>
    <p num="0102">Also, an arrangement may be made allowing a
language for a message to be set in accordance with the 
destination of the message. For example, a message is
created in English to be sent to "net-admin@f00.xyz.co.jp",
while a message is created in
French to be sent to "sys-admin@f00.xyz.co.jp." In
this manner, even when the language used is different
depending on the recipient of a message, a message can
be sent in an appropriate language selected for each
individual.</p>
    <p num="0103">FIG. 20 illustrates a setting screen similar to
the one in FIG. 16. In "Case 1" in FIG. 20, "net-admin@f00.xyz.co.jp"
is set in a message destination
field 2001, and "English" is selected in a "Preferred
Language" field 2002. Then, when sending a message to
the destination "net-admin@f00.xyz.co.jp", the network
interface unit 106 uses English to create it.</p>
    <p num="0104">FIG. 21 is a flow chart illustrating processing
for setting a language for a message in a case where a
setting screen in FIG. 16 (including a setting screen
in FIG. 19 or 20) is used. First, whether or not a
request command has been sent from an external device
is determined (step S2101), requesting HTML data
describing the screen view of FIG. 16. If there is a
request command, HTML data describing the screen view
of FIG. 16 is sent to the external device (step S2102).
Here, the network interface unit 106 sends the data
using HTTP (Hyper Text Transfer Protocol).</p>
    <p num="0105">At the external device, a browsing software 
analyzes the HTML data and displays the setting screen
of FIG. 16 on a display unit. The user inputs an e-mail
address the destination in a "To Address" field
1605. Then, checkmarks are placed in checkboxes 1601
to 1603 in order to select types of message to be sent
(and when to send them). Here, it is possible to place
checkmarks in a plurality of checkboxes. A language is
selected in a "Preferred Language" field 1604. After
inputting the remaining settings, the user presses an
"OK" button 1606 at the end. Then, the external device
transmits data representing the details of the input
settings to the network interface unit 106.</p>
    <p num="0106">The network interface unit 106 determines whether
or not the data representing the details of settings
has been received from the external device (step
S2103). If it has been received, the network interface
unit extracts a destination e-mail address from the
data, and determines a destination (step S2104). Then,
it determines which one(s) among the checkboxes 1601 to
1603 is selected to decide communication conditions.
Then, based on the data representing the details of
settings, it determines a language that has been
selected. Finally, it stores information representing
the details of determination in a memory to save the
details of settings (step S2107).</p>
    <p num="0107">FIG. 22 shows a table to save the details of
settings. This table is stored in a nonvolatile memory 
such as flash ROM 202. In the table shown in FIG. 3,
for each case, a destination e-mail address for a
message (To Address), a reply e-mail address for a
message (Reply-to-Address), a condition for delivering
a message or timing of notification (Timing of
Notification), and a language to be used for a message
(Preferred Language) are stored. A plurality of values
may be stored in each field if necessary.</p>
    <p num="0108">For example, in "Case 1," when an error occurs at
the printer 107, a message in English is sent to "net-admin@f00.xyz.co.jp"
as e-mail. In "Case 2," when a
need to replace a consumable item arises, a message in
French is sent to "sys-admin@bar.xyz.co.jp" as e-mail.</p>
    <p num="0109">FIG. 23 is a flow chart illustrating processing to
create a third message. First, the network interface
unit 106 obtains status information from the printer
107 (step S2301).</p>
    <p num="0110">Then, based on the details of the error indicated
by the status information, the network interface unit
106 looks up the table in FIG. 22. Specifically, based
on the details of the error indicated by the status
information, it checks the "Timing of Notification"
field to see if there is a Case No that requires a
delivery of message (step S2302).</p>
    <p num="0111">If there is such a Case No, then setting details
corresponding to the Case No are retrieved from the
table (step S2303). In the following, processing to 
create a header (step S2304), processing to create a
body (step S2305), and processing to create a footer
(step S2306) will be performed.</p>
    <p num="0112">FIG. 24 is a flow chart illustrating processing to
create a header in step S2304. The network interface
unit 106 obtains its own network information (a NIC
device name, an IP address, and a MAC address, etc.)
(step S2401).</p>
    <p num="0113">Then, the network interface unit 106 obtains
status information representing a status of the printer
107 from a Trap information, and determines the type of
status based on the information (step S2402). Then, it
looks up the table in FIG. 22 to determine which
language is set in the "Preferred Language" for the
Case No.</p>
    <p num="0114">First, whether the "Preferred Language" indicates
English or not is determined (step S2403). If English
is indicated, the subject is written in English (step
S2404). Then, whether it indicates French or not is
determined (step S2405). If French is indicated, the
subject is written in French (step S2406).</p>
    <p num="0115">Then, whether the "Preferred Language" indicates
German or not is determined (step S2407). If German is
indicated, the subject is written in German (step
S2408). If the language indicated is none of the above,
it is determined to be Japanese, and the subject is
written in Japanese (step S2409). </p>
    <p num="0116">Then, the header is completed (step S2410), and
the content of the created header is stored (step
S2411).</p>
    <p num="0117">FIG. 25 is a flow chart illustrating processing to
create a body in step S2305. First, status information
stored in Trap information is obtained (step S2501).
In addition, detailed device information (detailed
status information) is obtained from the printer 107
(step S2502).</p>
    <p num="0118">Then, by looking up the table in FIG. 22, a
language set in the "Preferred Language" for the Case
No is determined.</p>
    <p num="0119">First, whether the "Preferred Language" indicates
English or not is determined (step S2503). If English
is indicated, a message content is created in English
based on the detailed information (step S2504). Then,
whether it indicates French or not is determined (step
S2505). If French is indicated, a message content is
created in French based on the detailed information
(step S2506).</p>
    <p num="0120">Then, whether the "Preferred Language" indicates
German or not is determined (step S2507). If German is
indicated, a message content is created in German based
on the detailed information (step S2508). If the
language indicated is none of the above, it is
determined to be Japanese, and a message content is
created in Japanese based on the detailed information 
(step S2509).</p>
    <p num="0121">Then, the content of the created body is stored
(step S2510).</p>
    <p num="0122">Thus, a message can be created and sent so as to
allow the recipient of the message to easily understand
information on a peripheral device as well as its
state. Particularly, even when different individuals
deal with errors depending on details of errors that
occurred at the peripheral device, a message can be
sent to an individual to deal with an error in a
language the individual understands by changing a
language for creating a message depending on the
destination or the message content based on the details
of settings.</p>
    <p num="0123">FIG. 26 shows an architecture of a laser beam
printer to which the present invention may be applied.
Preferably, the network interface unit 106 may be
inserted into an internal expansion I/O slot of the
laser beam printer 105, allowing the unit to be
integrated in the printer.</p>
    <p num="0124">The invention is not limited to the device
according to the embodiments. The invention may be
applied to a system that consists of a plurality of
devices, or to an apparatus consisting of a single
device. A storage medium storing software program code
embodying the features of the embodiments may be
supplied to a system or device. In such a case, 
needless to say, the invention may be accomplished by
the program code stored on the storage medium being
read and executed by a computer (CPU or MPU) of the
system or apparatus.</p>
    <p num="0125">Specifically, program code based on the flow
charts of FIGS. 3 to 8, FIGS. 12, 17, 18, 21, and FIGS.
23 to 25 may be stored in the flash ROM 202 within the
network interface unit 106. The controlling method may
be accomplished by the CPU 201 of the network interface
unit 106 performing control operations in accordance
with the program code.</p>
    <p num="0126">In such a case, the program code itself read from
the storage medium embodies the features of the
embodiments, thus, the storage medium storing the
program code or the program code itself constituting
the invention.</p>
    <p num="0127">As a storage medium for supplying program code,
for example, a floppy(R) disk, a hard disk, an optical
disc, a magneto-optical disk, CD-ROM, CD-R, magnetic
tape, a nonvolatile memory card, ROM, DVD-RAM, or DVD-ROM
may be used. The features of the embodiments may
be accomplished not only by a computer reading and
executing program code, but also by an OS running on
the computer based on instructions from the program
code, part or the whole of actual processing being
performed by the OS. Needless to say, the invention
includes a case where the features of the embodiments 
are embodied by such processing.</p>
    <p num="0128">Furthermore, program code read from a storage
medium may be written to a memory on a feature
expansion board inserted into a computer or on a
feature expansion unit connected to a computer so that
the expansion features may be performed by a CPU on the
expansion board or unit based on subsequent
instructions from the program code, thus part or the
whole of actual processing being performed by the CPU.
Needless to say, the invention includes a case where
the features of the embodiments are embodied by such
processing.</p>
    <p num="0129">As described above in detail, according to the
invention, the need for dedicated application software
may be eliminated by delivering to the user information
on the peripheral device or its state via e-mail.</p>
    <p num="0130">For example, the user is not required to install
dedicated application software and thoroughly learn how
to operate it. In other words, information on a
peripheral device connected to the network and the
state of the device may be communicated to the user
without putting an excessive burden of operating the
software on the user.</p>
    <p num="0131">Also, the user may read a message indicating
information on a peripheral device or the state of the
device at appropriate time without running dedicated
application software all the time. </p>
    <p num="0132">Also, information on a peripheral device or the
state of the device may be communicated to a plurality
of terminal apparatuses on the network easily and
rapidly by means of e-mail. Therefore, the user may
deal with an error that occurred in a timely manner.</p>
    <p num="0133">Also, by controlling transmission of messages in
accordance with the state level of the peripheral
device, a selection can be made among errors that
occurred at the peripheral device so that errors above
a certain level may be reported.</p>
    <p num="0134">In addition, by switching a language to be used
for a message, information on a peripheral device or
the state of the device may be made easily
understandable for the recipient of the message.</p>
    <p num="0135">For example, even when different individuals are
dealing with errors depending on the details of the
errors that occurred at the peripheral device, a
message can be sent to an individual to deal with an
error in a language the individual understands.</p>
    <p num="0136">Also, in accordance with the country, the region,
or the environment in which the main unit of the
peripheral device is used, messages may be sent in a
language used in the country, the region, or the
environment.</p>
  </description>
  <claims load-source="ep" status="new" lang="EN">
    <claim num="1">
      <claim-text>A communication controller for controlling
communication between an apparatus and a network,
comprising:
<claim-text><claim-text>obtaining means for obtaining information
concerning the apparatus;</claim-text><claim-text>language determining means for determining a
language for creating a message;</claim-text><claim-text>message creating means for creating a message
based on the information obtained by said obtaining
means in a language determined by said language
determining means; and</claim-text><claim-text>notifying means for delivering a message created
by said message creating means.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="2">
      <claim-text>The communication controller according to
claim 1, wherein said language determining means
determines a language based on location information
obtained from said device indicating a location.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>The communication controller according to
claim 2, wherein said location information indicates a
location where the apparatus is used, or to which the
apparatus is shipped, or where the apparatus is
manufactured, or where the apparatus is sold.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>The communication controller according to
claim 1, wherein said language determining means
determines a language based on language information
that indicates a language to be used for the panel
display on the apparatus.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>The communication controller according to
claim 1, wherein said language determining means
determines a language based on information obtained
from the apparatus indicating a destination to which
the apparatus is shipped.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>The communication controller according to
claim 1, wherein said language determining means
determines a language based on information indicating a
product name of the apparatus.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>The communication controller according to
claim 1, wherein said language determining means
determines a language based on location information set
in a job to be processed by the apparatus indicating a
location.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>The communication controller according to
claim 1, wherein said language determining means
determines a language based on a character code type
for owner information that indicates an owner of a job
to be processed by the apparatus.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>A communication controller for controlling
communication between an apparatus and a network,
comprising:
<claim-text><claim-text>obtaining means for obtaining information
concerning the apparatus;</claim-text><claim-text>message creating means for creating a message
based on the information obtained by said obtaining
means in a language specified for each destination to
which the message is to be sent; and</claim-text><claim-text>notifying means for delivering a message created
by said message creating means.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="10">
      <claim-text>The communication controller according to
claim 9, comprising:
<claim-text><claim-text>setting means for setting a combination of a
destination and a language; and</claim-text><claim-text>storing means for storing information indicating a
combination of a destination and a language being set.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="11">
      <claim-text>The communication controller according to
claim 9, comprising:
<claim-text><claim-text>sending means for sending to an external apparatus
data describing a setting screen view for specifying a
combination of a destination and a language, wherein
settings for a destination and a language are made at
said setting screen view displayed on the external
apparatus.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="12">
      <claim-text>A communication controller for controlling
communication between an apparatus and a network,
comprising:
<claim-text><claim-text>obtaining means for obtaining information
concerning the apparatus;</claim-text><claim-text>message creating means for creating a message
based on the information obtained by said obtaining
means in a language specified for each content type of
the message; and</claim-text><claim-text>notifying means for delivering a message created
by said message creating means.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="13">
      <claim-text>The communication controller according to
claim 12, comprising:
<claim-text><claim-text>setting means for setting a combination of a
message content type and a language; and</claim-text><claim-text>storing means for storing information indicating a
combination of a destination and a language being set.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="14">
      <claim-text>The communication controller according to
claim 12, comprising:
<claim-text><claim-text>sending means for sending to an external apparatus
data describing a setting screen view for specifying a
combination of a message content type and a language,
wherein settings for a destination and a language are
made at said setting screen view displayed on the
external apparatus.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="15">
      <claim-text>The communication controller according to
claim 12, wherein message contents include those
indicating a job termination, an error occurrence, and
a need for consumable item replacement or replenishing.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>The communication controller according to
claim 1, comprising:
<claim-text><claim-text>controlling means for determining the state of the
apparatus based on information indicating the state of
the apparatus and for controlling a message delivery by
said notifying means in accordance with the result of
the determination.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="17">
      <claim-text>The communication controller according to
claim 1, wherein said message creating means determines
the state of the apparatus based on information
indicating a state of the apparatus and creates a
message content in accordance with the result of the
determination.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>The communication controller according to
claim 1, comprising:
<claim-text><claim-text>controlling means for determining the state of the
apparatus based on information indicating a state of
the apparatus and for controlling a message delivery by
said notifying means in accordance with set values
indicating conditions for delivering a message and the
result of the determination.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="19">
      <claim-text>The communication controller according to
claim 1, wherein said message creating means determines
the state of the apparatus based on information
indicating a state of the apparatus and creates a
message content in accordance with set values
indicating conditions for delivering a message and the
result of the determination.</claim-text>
    </claim>
    <claim num="20">
      <claim-text>The communication controller according to
claim 1, wherein said message creating means inserts
into a message sentence prepared in advance a message
based on information obtained by said obtaining means.</claim-text>
    </claim>
    <claim num="21">
      <claim-text>The communication controller according to
claim 1, wherein it consists of a network board to be
mounted on the apparatus.</claim-text>
    </claim>
    <claim num="22">
      <claim-text>An apparatus, comprising:
<claim-text><claim-text>obtaining means for obtaining information
concerning said apparatus;</claim-text><claim-text>language determining means for determining a
language for creating a message;</claim-text><claim-text>message creating means for creating a message
based on the information obtained by said obtaining
means in a language determined by said language
determining means; and</claim-text><claim-text>notifying means for delivering a message created
by said message creating means.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="23">
      <claim-text>The apparatus according to claim 22, wherein
said language determining means determines a language
based on location information stored in said apparatus
indicating a location.</claim-text>
    </claim>
    <claim num="24">
      <claim-text>The apparatus according to claim 23, wherein
said location information indicates a location where
said apparatus is used, or to which said apparatus is
shipped, or where said apparatus is manufactured, or
where said apparatus is sold.</claim-text>
    </claim>
    <claim num="25">
      <claim-text>The apparatus according to claim 22, wherein
said language determining means determines a language
based on language information that indicates a language
to be used for the panel display on said apparatus.</claim-text>
    </claim>
    <claim num="26">
      <claim-text>The apparatus according to claim 22, wherein
said language determining means determines a language
based on information stored in said apparatus
indicating a destination to which said apparatus is
shipped.</claim-text>
    </claim>
    <claim num="27">
      <claim-text>The apparatus according to claim 22, wherein
said language determining means determines a language
based on information indicating a product name of the
apparatus.</claim-text>
    </claim>
    <claim num="28">
      <claim-text>The apparatus according to claim 22, wherein
said language determining means determines a language
based on location information set in a job to be
processed by said apparatus indicating a location.</claim-text>
    </claim>
    <claim num="29">
      <claim-text>The apparatus according to claim 22, wherein
said language determining means determines a language
based on a character code type for owner information
that indicates an owner of a job to be processed by
said apparatus.</claim-text>
    </claim>
    <claim num="30">
      <claim-text>An apparatus, comprising:
<claim-text><claim-text>obtaining means for obtaining information
concerning said apparatus;</claim-text><claim-text>message creating means for creating a message
based on the information obtained by said obtaining
means in a language specified for each destination to
which the message is to be sent; and</claim-text><claim-text>notifying means for delivering a message created
by said message creating means.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="31">
      <claim-text>The apparatus according to claim 30,
comprising:<claim-text><claim-text>setting means for setting a combination of a
destination and a language; and</claim-text><claim-text>storing means for storing information indicating a
combination of a destination and a language being set.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="32">
      <claim-text>The apparatus according to claim 30,
comprising:
<claim-text><claim-text>sending means for sending to an external apparatus
data describing a setting screen view for specifying a
combination of a destination and a language, wherein
settings for a destination and a language are made at
said setting screen view displayed on the external
apparatus.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="33">
      <claim-text>An apparatus, comprising:
<claim-text><claim-text>obtaining means for obtaining information
concerning said apparatus;</claim-text><claim-text>message creating means for creating a message
based on the information obtained by said obtaining
means in a language specified for each content type of
the message; and</claim-text><claim-text>notifying means for delivering a message created
by said message creating means.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="34">
      <claim-text>The apparatus according to claim 33,
comprising:
<claim-text><claim-text>setting means for setting a combination of a
message content type and a language; and</claim-text><claim-text>storing means for storing information indicating a
combination of a destination and a language being set.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="35">
      <claim-text>The apparatus according to claim 33,
comprising:
<claim-text><claim-text>sending means for sending to an external apparatus
data describing a setting screen view for specifying a
combination of a message content type and a language,
wherein settings for a destination and a language are
made at said setting screen view displayed on the
external apparatus.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="36">
      <claim-text>The apparatus according to claim 33, wherein
message contents include those indicating a job
termination, an error occurrence, and a need for
consumable item replacement or replenishing.</claim-text>
    </claim>
    <claim num="37">
      <claim-text>The apparatus according to claim 22,
comprising:
<claim-text><claim-text>controlling means for determining the state of
said apparatus based on information indicating a state
of said apparatus and for controlling a message
delivery by said notifying means in accordance with the
result of the determination.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="38">
      <claim-text>The apparatus according to claim 22, wherein
said message creating means determines the state of
said apparatus based on information indicating a state
of said apparatus and creates a message content in
accordance with the result of the determination.</claim-text>
    </claim>
    <claim num="39">
      <claim-text>The apparatus according to claim 22,
comprising:
<claim-text><claim-text>controlling means for determining the state of
said apparatus based on information indicating a state
of said apparatus and for controlling a message
delivery by said notifying means in accordance with set
values indicating conditions for delivering a message
and the result of the determination.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="40">
      <claim-text>The apparatus according to claim 22, wherein
said message creating means determines the state of
said apparatus based on information indicating a state
of said apparatus and creates a message content in
accordance with set values indicating conditions for
delivering a message and the result of the
determination.</claim-text>
    </claim>
    <claim num="41">
      <claim-text>The apparatus according to claim 22, wherein
said message creating means inserts into a message
sentence prepared in advance a message based on
information obtained by said obtaining means.</claim-text>
    </claim>
    <claim num="42">
      <claim-text>The apparatus according to claim 22, wherein
it consists of a printer, a copying machine or a FAX
machine.</claim-text>
    </claim>
    <claim num="43">
      <claim-text>A notification method for delivering
information indicating a state of an apparatus,
comprising:
<claim-text><claim-text>an obtaining step of obtaining information
concerning the apparatus;</claim-text><claim-text>a language determining step of determining a
language for creating a message;</claim-text><claim-text>a message creating step of creating a message
based on the information obtained by said obtaining
step in a language determined by said language
determining step; and</claim-text><claim-text>a notifying step of delivering a message created
by said message creating step.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="44">
      <claim-text>A notification method for delivering
information indicating a state of an apparatus,
comprising:
<claim-text><claim-text>an obtaining step of obtaining information
concerning the apparatus;</claim-text><claim-text>a message creating step of creating a message
based on the information obtained by said obtaining
step in a language specified for each destination to
which the message is to be sent; and</claim-text><claim-text>a notifying step of delivering a message created
by said message creating step.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="45">
      <claim-text>A notification method for delivering
information indicating a state of an apparatus,
comprising:
<claim-text><claim-text>an obtaining step of obtaining information
concerning the apparatus;</claim-text><claim-text>a message creating step of creating a message
based on the information obtained by said obtaining
step in a language specified for each content type of
the message; and</claim-text><claim-text>a notifying step of delivering a message created
by said message creating step.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="46">
      <claim-text>A program for delivering information
indicating a state of an apparatus, wherein it causes a
computer to execute:
<claim-text><claim-text>an obtaining step of obtaining information
concerning the apparatus;</claim-text><claim-text>a language determining step of determining a
language for creating a message;</claim-text><claim-text>a message creating step of creating a message
based on the information obtained by said obtaining
step in a language determined by said language
determining step; and</claim-text><claim-text>a notifying step of delivering a message created
by said message creating step.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="47">
      <claim-text>A program for delivering information
indicating a state of an apparatus, wherein it causes a
computer to execute:
<claim-text><claim-text>an obtaining step of obtaining information
concerning the apparatus;</claim-text><claim-text>a message creating step of creating a message
based on the information obtained by said obtaining
step in a language specified for each destination to
which the message is to be sent; and</claim-text><claim-text>a notifying step of delivering a message created
by said message creating step.</claim-text></claim-text></claim-text>
    </claim>
    <claim num="48">
      <claim-text>A program for delivering information
indicating a state of an apparatus, wherein it causes a
computer to execute:
<claim-text><claim-text>an obtaining step of obtaining information
concerning the apparatus;</claim-text><claim-text>a message creating step of creating a message
based on the information obtained by said obtaining
step in a language specified for each content type of
the message; and</claim-text><claim-text>a notifying step of delivering a message created
by said message creating step.</claim-text></claim-text></claim-text>
    </claim>
  </claims>
  <copyright>User acknowledges that the Information Retrieval Facility (IRF) and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws. User acquires no ownership rights to this xml including but not limited to its format. User hereby accepts the terms and conditions of the Licence Agreement set forth at http://www.ir-facility.org/legal/marec/data_licence</copyright>
</patent-document>
