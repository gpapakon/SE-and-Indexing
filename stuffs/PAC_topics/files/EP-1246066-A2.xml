<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE patent-document PUBLIC "-//MXW//DTD patent-document XML//EN" "http://www.ir-facility.org/dtds/patents/v1.4/patent-document.dtd">
<patent-document ucid="EP-1246066-A2" country="EP" doc-number="1246066" kind="A2" lang="DE" family-id="7678108" status="new" date-produced="20090516" date="20021002">
  <bibliographic-data>
    <publication-reference ucid="EP-1246066-A2" status="new" fvid="23561587">
      <document-id status="new" format="original">
        <country>EP</country>
        <doc-number>1246066</doc-number>
        <kind>A2</kind>
        <date>20021002</date>
      </document-id>
    </publication-reference>
    <application-reference ucid="EP-02004825-A" status="new" is-representative="NO">
      <document-id status="new" format="epo">
        <country>EP</country>
        <doc-number>02004825</doc-number>
        <kind>A</kind>
        <date>20020302</date>
      </document-id>
    </application-reference>
    <priority-claims status="new">
      <priority-claim ucid="DE-10113319-A" status="new">
        <document-id status="new" format="epo">
          <country>DE</country>
          <doc-number>10113319</doc-number>
          <kind>A</kind>
          <date>20010320</date>
        </document-id>
      </priority-claim>
    </priority-claims>
    <technical-data status="new">
      <classifications-ipcr>
        <classification-ipcr status="new">G06F  11/16        20060101A I20051008RMEP        </classification-ipcr>
        <classification-ipcr status="new">G06F  11/16        20060101C I20051008RMEP        </classification-ipcr>
      </classifications-ipcr>
      <classification-ecla status="new">
        <classification-symbol scheme="EC">G06F  11/08</classification-symbol>
        <classification-symbol scheme="EC">G06F  11/16B18</classification-symbol>
        <classification-symbol scheme="ICO">S06F11:18V</classification-symbol>
      </classification-ecla>
      <invention-title load-source="ep" status="new" lang="DE">Verfahren zum Betrieb eines von einem Prozessor gesteuerten Systems</invention-title>
      <invention-title load-source="ep" status="new" lang="EN">Method of operating a processor-controlled system</invention-title>
      <invention-title load-source="ep" status="new" lang="FR">Procédé d'opération d'un système commandé par processeur</invention-title>
    </technical-data>
    <parties>
      <applicants>
        <applicant status="new" format="epo">
          <addressbook>
            <name>CONTI TEMIC MICROELECTRONIC</name>
            <address>
              <country>DE</country>
            </address>
          </addressbook>
        </applicant>
        <applicant status="new" format="intermediate">
          <addressbook>
            <name>CONTI TEMIC MICROELECTRONIC GMBH</name>
          </addressbook>
        </applicant>
        <applicant status="new" format="original">
          <addressbook>
            <last-name>Conti Temic microelectronic GmbH</last-name>
            <address>
              <street>Sieboldstrasse 19</street>
              <city>90411 Nürnberg</city>
              <country>DE</country>
            </address>
          </addressbook>
        </applicant>
      </applicants>
      <inventors>
        <inventor status="new" format="epo">
          <addressbook>
            <name>DREVES RAINER</name>
            <address>
              <country>DE</country>
            </address>
          </addressbook>
        </inventor>
        <inventor status="new" format="intermediate">
          <addressbook>
            <name>DREVES, RAINER</name>
          </addressbook>
        </inventor>
        <inventor status="new" format="original">
          <addressbook>
            <last-name>DREVES, RAINER</last-name>
            <address>
              <street>Prälat-Nicol-Strasse 2</street>
              <city>90427 Nürnberg</city>
              <country>DE</country>
            </address>
          </addressbook>
        </inventor>
      </inventors>
      <agents>
        <agent status="new" format="original">
          <addressbook>
            <last-name>Kolb, Georg</last-name>
            <address>
              <street>DaimlerChrysler AG, Postfach 35 35</street>
              <city>74025 Heilbronn</city>
              <country>DE</country>
            </address>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <international-convention-data>
      <designated-states>
        <ep-contracting-states>
          <country>DE</country>
          <country>FR</country>
          <country>GB</country>
          <country>IT</country>
        </ep-contracting-states>
      </designated-states>
    </international-convention-data>
  </bibliographic-data>
  <abstract load-source="ep" status="new" lang="DE">
    <p>
      <sl>
        <li>2.1 Vorgeschlagen wird ein einfaches und kostengünstiges Verfahren zur Überwachung
eines Systems, dessen Daten in einer nicht-flüchtigen Speichereinheit
gespeichert werden.</li>
        <li>2.2 Hierzu werden beim Speichern der Daten aus einer bestimmten Anzahl von Bits
bestehende Datenwörter gebildet, wobei ein Datenwort in einem Speicherbereich
der nicht-flüchtigen Speichereinheit mit jeweils sich voneinander unterscheidenden,
aus dem Datenwort generierten Datenwerten abgespeichert wird.
Beim Lesen der gespeicherten Daten werden die gelesenen Datenwerte eines
Speicherbereichs und/oder die aus den gelesenen Datenwerten zurückgewonnenen
Datenwörter miteinander verglichen. Bei identischen gelesenen Datenwerten
eines Speicherbereichs wird ein Fehler in der nicht-flüchtigen Speichereinheit
erkannt, bei einer Abweichung der aus den gelesenen Datenwerten
eines Speicherbereichs zurückgewonnenen Datenwörter ein Fehler in den gespeicherten
Daten.</li>
        <li>2.3 Verfahren zum Betrieb einer von einem Prozessor gesteuerten Bedienfunktion
eines Kraftfahrzeugs.</li>
      </sl>
      <img id="img-00000001" orientation="unknown" wi="116" img-format="tif" img-content="ad" file="00000001.tif" inline="no" he="46"/>
    </p>
  </abstract>
  <description load-source="ep" status="new" lang="DE">
    <p num="0001">Die Erfindung betrifft ein Verfahren zum Betrieb eines von einem Prozessor gesteuerten
Systems nach dem Oberbegriff des Patentanspruchs 1.</p>
    <p num="0002">Prozessorgesteuerte Systeme, bsp. durch Mikroprozessoren oder Mikrocontroller
gesteuerte Systeme, werden für vielfältige Anwendungen eingesetzt, insbesondere
zur Ausführung vorgegebener Funktionen oder Abläufe. Die hierfür benötigten Daten
werden in den Speicherzellen einer Speichereinheit des Systems gespeichert, oftmals
in einer nicht-flüchtigen Speichereinheit, bsp. in einem EEPROM. Im Betrieb
des prozessorgesteuerten Systems können bei defekten Speicherzellen oder einer
defekten Speichereinheit die gespeicherten Daten nicht oder nur fehlerhaft gelesen
werden, so daß vom Prozessor falsche Daten verwendet werden; hierdurch kann ein
Anwendungsfehler auftreten, bsp. wird ein falscher Ablauf oder eine nicht beabsichtigte
Funktion ausgeführt. Dieses Fehlverhalten ist unerwünscht und störend und
muß insbesondere bei prozessorgesteuerten Systemen zur Ausführung sicherheitskritischer
Anwendungen (bei Kraftfahrzeugen bsp. den Tempomat, den Airbag oder
die Lenkwinkelerkennung betreffende Anwendungen) ausgeschlossen werden.</p>
    <p num="0003">Es sind unterschiedliche Verfahren gebräuchlich, um defekte Speicherzellen der
Speichereinheit und damit falsche Daten zu erkennen, insbesondere die Bildung
einer Prüfsumme anhand der gelesenen Daten. Jedoch können hiermit einerseits
Fehler der gesamten Speichereinheit (bsp. ist die Speichereinheit physikalisch zerstört
oder nicht vorhanden oder die Speichereinheit wird nicht angesteuert) nicht
erkannt werden, andererseits kann, falls alle Speicherzellen konstante Werte aufweisen
(bsp. sind alle Bits der Speicherzellen 0 oder 1), nicht zwischen fehlerhaften
und korrekten Daten unterschieden werden. Zudem ist im Fehlerfall ein weiterer
Betrieb des prozessorgesteuerten Systems nicht möglich. </p>
    <p num="0004">Der Erfindung liegt die Aufgabe zugrunde, ein Verfahren zum Betrieb eines von einem
Prozessor gesteuerten Systems gemäß dem Oberbegriff des Patentanspruchs 1
anzugeben, bei dem der korrekte Betrieb des Systems auf einfache und kostengünstige
Weise überwacht und gewährleistet werden kann.</p>
    <p num="0005">Diese Aufgabe wird erfindungsgemäß durch die Merkmale im Kennzeichen des Patentanspruchs
1 gelöst.</p>
    <p num="0006">Vorteilhafte Ausgestaltungen des Verfahrens sind Bestandteil der weiteren Patentansprüche.</p>
    <p num="0007">Die in der Speichereinheit des von einem Prozessor gesteuerten Systems (bsp. in
einem EEPROM) nicht-flüchtig gespeicherten Daten bestehen aus einer Vielzahl,
eine bestimmte Anzahl von Bits aufweisenden Datenwörtern. Jedes dieser Datenwörter
wird in der Speichereinheit mehrfach (redundant) abgespeichert (mindestens
dreifach abgespeichert), wobei in einem mehrere Speicherzellen umfassenden Speicherbereich
der Speichereinheit jeweils unterschiedliche aus einem der Datenwörter
generierte Datenwerte abgespeichert werden; insbesondere wird ein Datenwort in
einem mindestens drei verschiedene Speicherzellen aufweisenden Speicherbereich
der Speichereinheit mindestens dreimal mit jeweils unterschiedlichen aus dem Datenwort
generierten Datenwerten abgespeichert. Die Datenwörter können hierbei
durch Anwendung (einfacher) algebraischer Operationen auf das Datenwort generiert
werden, wobei für die Generierung der unterschiedlichen Datenwerte eines
Speicherbereichs die gleiche algebraische Operation mit jeweils unterschiedlichen
funktionalen Zusammenhängen oder eine jeweils unterschiedliche algebraische Operation
auf das Datenwort angewendet werden kann. Als algebraische Operationen
werden insbesondere arithmetische Operationen und/oder logische Operationen
herangezogen, wobei die algebraischen Operationen so gewählt werden, daß sich
die hierdurch generierten Datenwerte voneinander unterscheiden, so daß gewährleistet
ist, daß alle Datenwerte eines Speicherbereichs unterschiedlich sind. Als algebraische
Operationen werden insbesondere Operationen aus dem Befehlssatz der
zentralen Prozessoreinheit (CPU) des Prozessors herangezogen, bsp. typische CPU-Operationen
wie Additionen (Subtraktionen), Schiebeoperationen oder Bitmanipulationen; 
bsp. werden die einem Speicherbereich zugeordneten Datenwerte durch
Differenzbildung (Subtraktion) zwischen dem Datenwort und mehreren unterschiedlichen
Zahlenwerten generiert (d.h. durch Subtraktion des Datenworts von unterschiedlichen
vorgegebenen Zahlenwerten) oder durch bitweise Invertierung unterschiedlicher
Bits bzw. Bitfolgen des Datenworts, insbesondere durch Invertierung
von Halbbytes ("Nibbles") des Datenworts. Vorzugsweise wird in einem Speicherbereich
das Datenwort einmal unverändert abgespeichert, d.h. eine Speicherzelle des
Speicherbereichs enthält als ersten Datenwert das unveränderte Datenwort, und
ansonsten durch Anwendung (einfacher) algebraischer Operationen auf das Datenwort
mit unterschiedlichen Datenwerten verändert abgespeichert, d.h. die anderen
Speicherzellen des Speicherbereichs (mindestens zwei Speicherzellen des Speicherbereichs)
enthalten als weitere Datenwerte gegenüber dem ersten Datenwert
auf bestimmte Weise veränderte Datenwerte</p>
    <p num="0008">Beim Schreiben der Daten werden die aus dem Datenwort generierten unterschiedlichen
Datenwerte in den Speicherzellen eines Speicherbereichs der nicht-flüchtigen
Speichereinheit abgespeichert. Beim Lesen der Daten und damit des Inhalts der
Speicherzellen (insbesondere beim Lesen der in einem Speicherbereich enthaltenen
redundanten Information), werden für jeden Speicherbereich die gelesenen Datenwerte
überprüft und/oder die aus den gelesenen Datenwerten zurückgewonnenen
Datenwörter (d.h. die ursprünglichen im Speicherbereich enthaltenen Daten); diese
zurückgewonnenen Datenwörter werden durch Anwendung der jeweils inversen zum
Speichern verwendeten algebraischen Operation auf die Datenwerte generiert (insbesondere
wird beim unveränderten Abspeichern des Datenworts als ersten Datenwert
dieser erste Datenwert unverändert übernommen, während die weiteren Datenwerte
jeweils mit der inversen zum Speichern verwendeten algebraischen Operation
beaufschlagt werden). Bei der Überprüfung der gelesenen Datenwerte und der
aus den gelesenen Datenwerten zurückgewonnenen Datenwörter können zunächst
die gelesenen Datenwerte miteinander verglichen werden und alternativ oder zusätzlich
hierzu anschließend die anhand der gelesenen Datenwerte zurückgewonnenen
Datenwörter: durch den Vergleich der gelesenen Datenwerte kann ein Fehler
(bsp. ein Ausfall) der gesamten Speichereinheit erkannt werden - in diesem Falle
besitzen alle gelesenen Datenwerte eines Speicherbereichs (bsp. sowohl das unveränderte 
Datenwort als erster Datenwert als auch die veränderten Datenwörter als
weitere Datenwerte) den gleichen Wert (bsp. den Wert 0); durch den Vergleich der
anhand der gelesenen Datenwerte zurückgewonnenen Datenwörter kann ein Fehler
(bsp. ein Ausfall) einzelner Speicherzellen des betreffenden Speicherbereichs erkannt
werden und insbesondere auch eine Fehlerkorrektur vorgenommen werden,
indem mittels einer Plausibilitätsbetrachtung auf die richtigen Daten (das korrekte
Datenwort) des Speicherbereichs geschlossen wird. Aufgrund der Redundanz beim
Speichern der Daten müssen die anhand der gelesenen Datenwerte generierten
zurückgewonnenen, einem Speicherbereich zugeordneten Datenwörter bei fehlerfreien
Speicherzellen eines Speicherbereichs identisch sein, während sie sich bei
fehlerhaften Speicherzellen eines Speicherbereichs voneinander unterscheiden; ist
ein Fehler in einem Speicherbereich der Speichereinheit erkannt, kann diesem
Speicherbereich das richtige Datenwort durch Mehrheitsentscheidung zugeordnet
werden, indem das am häufigsten vorkommende zurückgewonnene Datenwort des
Speicherbereichs als (wahrscheinlichstes) Datenwort dem Speicherbereich zugeordnet
und für den weiteren Betrieb des prozessorgesteuerten Systems verwendet
wird (bsp. wird bei drei auf unterschiedliche Weise in einem Speicherbereich generierten
Datenwerten dasjenige aus den Datenwerten zurückgewonnene Datenwort
für den weiteren Betrieb des prozessorgesteuerten Systems verwendet, das mindestens
zweimal vorhanden ist). Somit ist ein Betrieb des prozessorgesteuerten Systems
bei einem Fehler in einzelnen Speicherzellen der Speichereinheit aufgrund der
Fehlerkorrektur uneingeschränkt möglich (das prozessorgesteuerte System wird bei
einem Fehler nicht außer Funktion gesetzt), während bei einem Fehler der gesamten
Speichereinheit den Datenwörtern bestimmte Standardwerte ("Defaultwerte") zugeordnet
werden können, mit denen ein weiterer (eingeschränkter) Betrieb des prozessorgesteuerten
Systems möglich ist (das prozessorgesteuerte System wird hierdurch
nicht komplett außer Funktion gesetzt). Insbesondere kann auch bei der ersten
Inbetriebnahme des prozessorgesteuerten Systems (bei der Initialisierung) eine
gelöschte nicht-flüchtige Speichereinheit erkannt werden, so daß in diesem Falle
bestimmte Standardwerte (Defaultwerte) für die Datenwörter verwendet werden
können, mit denen eine Initialisierung des prozessorgesteuerten Systems durchgeführt 
werden kann (eine manuelle Inbetriebnahme des prozessorgesteuerten Systems
ist somit nicht erforderlich).</p>
    <p num="0009">Vorteilhafterweise können mit dem vorgestellten Verfahren Datenfehler in der Speichereinheit
eines prozessorgesteuerten Systems zuverlässig auf einfache und
kostengünstige Weise erkannt werden (insbesondere kann ein Fehlerfall eindeutig
von einem Nicht-Fehlerfall unterschieden werden), so daß sich Fehlfunktionen des
prozessorgesteuerten Systems aufgrund von Fehlern der Speicherzellen der Speichereinheit
(insbesondere bei defekten, gelöschten, nicht vorhandenen oder nicht
ansteuerbaren Speicherzellen) oder aufgrund von Fehlern der gesamten Speichereinheit
(insbesondere bei defekten, gelöschten, nicht vorhandenen oder nicht
ansteuerbaren Speichereinheiten) vermeiden lassen und die korrekte Ausführung
der Funktionalität des prozessorgesteuerten Systems (insbesondere bei sicherheitskritischen
prozessorgesteuerten Systemen) gewährleistet ist. Da im Fehlerfall beim
Erkennen einer defekten Speicherzelle aufgrund der Fehlerkorrektur dennoch das
wahrscheinlich korrekte Datenwort ermittelt und verwendet werden kann und beim
Erkennen einer defekten Speichereinheit den Datenwörtern sinnvolle Standardwerte
zugeordnet werden, ist ein Betrieb des prozessorgesteuerten Systems auch im Fehlerfall
möglich, so daß ein uneingeschränkter Betrieb des prozessorgesteuerten Systems
mit einer hohen Verfügbarkeit gewährleistet wird.</p>
    <p num="0010">Im Zusammenhang mit der Zeichnung soll das Verfahren anhand eines Ausführungsbeispiels
weiter erläutert werden.</p>
    <p num="0011">Hierbei zeigt:
<dl compact="compact" tsize="7"><dt>Figur 1</dt><dd>mehrere aus einem ersten Datenwort generierte Datenwerte eines Speicherbereichs,</dd><dt>Figur 2</dt><dd>mehrere aus einem zweiten Datenwort generierte Datenwerte eines Speicherbereichs.</dd></dl></p>
    <p num="0012">Das prozessorgesteuerte System ist bsp. ein von einem Mikrocontroller gesteuertes
Steuergerät eines Kraftfahrzeugs, insbesondere ein Steuergerät zur Ausführung sicherheitskritischer
Bedienfunktionen bei einem Kraftfahrzeug. Vom Mikrocontroller 
werden bsp. Steuerdaten eingelesen; abhängig von diesen Steuerdaten werden die
Funktionen des Steuergeräts realisiert. Der Mikrocontroller weist als Funktionseinheiten
bsp. eine zentrale Prozessoreinheit (CPU), eine bsp. als EEPROM ausgebildete
nicht-flüchtige Speichereinheit mit einer Vielzahl von Speicherzellen (bsp. 8 kBit
bzw. 1 kByte) und eine Recheneinheit auf.</p>
    <p num="0013">Als Steuerdaten zur Realisierung der Funktionen des Steuergeräts können bsp. bis
zu 333 Datenwörter DW vorgesehen werden. Bsp. umfassen die in der nicht-flüchtigen
Speichereinheit zu speichernden Datenwörter DW jeweils 8 Bit; jedes
Datenwort DW (bsp. besitzt eines der Datenwörter DW in hexadezimaler Schreibweise
gemäß der Figur 1 den Wert 73<sub>H</sub> und gemäß der Figur 2 den Wert 00<sub>H</sub>) wird
hierbei in einem Speicherbereich SB der Speichereinheit mehrfach abgespeichert;
bsp. wird ein Speicherbereich SB aus drei Speicherzellen SZ gebildet, so daß das
Datenwort DW in diesen drei Speicherzellen SZ dreifach abgespeichert wird (Datenwerte
DW1, DW2, DW3). Das Datenwort DW wird hierbei in den Speicherzellen SZ
eines Speicherbereichs SB jeweils mit einem unterschiedlichen Datenwert DW1,
DW2, DW3 abgespeichert, d.h. in den drei Speicherzellen SZ des Speicherbereichs
SB mit drei verschiedenen, aus dem ursprünglichen Datenwort DW generierten Datenwerten
DW1, DW2, DW3; insbesondere wird in einer der Speicherzellen SZ des
Speicherbereichs SB als erster Datenwert DW1 das ursprüngliche Datenwort DW
abgespeichert, während in den weiteren Speicherzellen SZ des Speicherbereichs SB
als weitere Datenwerte DW2, DW3 gegenüber dem ursprünglichen Datenwort DW
veränderte, sich voneinander unterscheidende Werte abgespeichert werden (bei den
drei Speicherzellen SZ umfassenden Speicherbereich SB wird somit in der ersten
Speicherzelle SZ der erste Datenwert DW1, in der zweiten Speicherzelle SZ der
zweite Datenwert DW2 und in der dritten Speicherzelle SZ der dritte Datenwert DW3
abgespeichert). Die beiden weiteren Datenwerte DW2, DW3 werden aus dem ursprünglichen
Datenwort DW durch Anwendung einer algebraischen Operation generiert;
bsp. wird als algebraische Operation die Invertierung einer bestimmten Anzahl
von Bits des Datenworts DW herangezogen: insbesondere wird zur Generierung des
zweiten Datenwerts DW2 eine Invertierung des ersten Halbbytes ("Nibbles") des
Datenworts DW vorgenommen (durch die logische Operation Datenwert DW2 = Datenwort
DW ^ FO<sub>H)</sub> und zur Generierung des dritten Datenwerts DW3 eine Invertierung 
des zweiten Halbbytes ("Nibbles") des ursprünglichen Datenworts DW (durch
die logische Operation Datenwert DW3 = Datenwort DW ^ OFH Hierdurch ist gewährleistet,
daß sich die drei einem Speicherbereich SB zugeordneten Datenwerte
DW1, DW2, DW3 voneinander unterscheiden, d.h. daß die drei Datenwerte DW1,
DW2, DW3 unterschiedliche Werte annehmen. Die drei einem Speicherbereich SB
zugeordneten Datenwerte DW1, DW2, DW3 werden in unterschiedliche Speicherzellen
SZ des Speicherbereichs SB der Speichereinheit abgelegt (in einer Speicherzelle
SZ können alle 8 Bit eines Bytes und damit zwei aus jeweils 4 Bit bestehende
Halbbytes der Datenwerte DW1, DW2, DW3 gespeichert werden); hierbei wird in der
ersten Speicherzelle SZ als erster Datenwert DW1 das ursprüngliche Datenwort DW
gespeichert (gemäß Figur 1 bsp. der Datenwert 73<sub>H</sub>, gemäß Figur 2 bsp. der Datenwert
00<sub>H</sub>), in der zweiten Speicherzelle SZ wird der nach Durchführung der oben
beschriebenen logischen Operation aus dem ursprünglichen Datenwort DW generierte
zweite Datenwert DW2 gespeichert (gemäß Figur 1 der Datenwert 83<sub>H</sub>, gemäß
Figur 2 der Datenwert FO<sub>H)</sub> und in der dritten Speicherzelle SZ wird der nach
Durchführung der oben beschriebenen logischen Operation aus dem ursprünglichen
Datenwort DW generierte dritte Datenwert DW3 gespeichert (gemäß Figur 1 der
Datenwert 7C<sub>H</sub>, gemäß Figur 2 der Datenwert OF <sub>H</sub>).</p>
    <p num="0014">Beim Lesen der Daten werden bsp. sowohl die Speichereinheit als auch die Speicherinhalte
der Speicherzellen SZ eines Speicherbereichs SB überprüft. Hierbei wird
zunächst die Funktionsfähigkeit der Speichereinheit überprüft, indem bei dem drei
Speicherzellen SZ umfassenden Speicherbereich SB die drei gelesenen Datenwerte
DW1, DW2, DW3 miteinander verglichen werden): bei einem Fehler der Speichereinheit
(bsp. aufgrund eines Ausfalls der gesamten Speichereinheit) kann aus
den Speicherzellen SZ der Speichereinheit keine Information abgerufen werden, so
daß beim Lesen die Speicherinhalte aller Speicherzellen SZ der Speichereinheit den
gleichen Wert ergeben, bsp. 00<sub>H</sub> oder FF<sub>H</sub> (daher sind auch alle gelesenen Datenwerte
DW1, DW2, DW3 eines Speicherbereichs SB gleich, bsp. besitzen alle Datenwerte
DW1, DW2, DW3 eines Speicherbereichs SB den gleichen Wert 00<sub>H</sub> oder FF<sub>H</sub>),
während sich bei einer funktionsfähigen Speichereinheit die Speicherinhalte aller
Speicherzellen SZ eines Speicherbereichs SB voneinander unterscheiden müssen.
Hierdurch kann, wie anhand der Figur 2 ersichtlich, ein funktionsfähiger Speicherbereich 
SB mit dem korrekten Datenwort DW = 00<sub>H</sub> - hier besitzt nur der Datenwert
DW1 den Wert 00<sub>H</sub> - von einem defekten Speicherbereich SB mit dem fehlerhaften
Datenwort DW = 00<sub>H</sub> - hier besitzen alle Datenwerte DW1, DW2, DW3 den Wert 00<sub>H</sub>
- unterschieden werden. Bei einem erkannten Fehler der Speichereinheit werden
den Datenwörtern DW Standardwerte zugeordnet, mit denen die Funktionalität des
Steuergeräts eingeschränkt aufrechterhalten werden kann.</p>
    <p num="0015">Ist die Speichereinheit als funktionsfähig erkannt (die gelesenen Datenwerte DW1,
DW2, DW3 und damit die Speicherinhalte der Speicherzellen SZ eines Speicherbereichs
SB unterscheiden sich voneinander), werden die Speicherinhalte der Speicherzellen
SZ eines Speicherbereichs SB überprüft, indem durch Anwendung der
inversen beim Speichern verwendeten logischen Operation aus den Datenwerten
DW2, DW3 des Speicherbereichs SB das ursprüngliche Datenwort DW zurückgewonnen
wird (gemäß Figur 1 muß sich aus den beiden Datenwerten DW2, DW3 als
Datenwort DW wieder der Wert 73<sub>H</sub> ergeben, gemäß Figur 2 muß sich aus den beiden
Datenwerten DW2, DW3 als Datenwort DW wieder der Wert 00<sub>H</sub> ergeben), das
mit dem Datenwert DW1 (und damit mit dem unveränderten ursprünglichen Datenwort
DW) verglichen werden: stimmen die einem Speicherbereich SB zugeordneten,
aus den drei Datenwerten DW1, DW2, DW3 zurückgewonnenen Datenwörter DW
überein, sind Speicherinhalt des Speicherbereichs SB und die entsprechenden
Speicherzellen SZ des Speicherbereichs SB der Speichereinheit fehlerfrei (somit
auch das zugehörige Datenwort DW); differieren dagegen die einem Speicherbereich
SB zugeordneten, aus den drei Datenwerten DW1, DW2, DW3 zurückgewonnenen
Datenwörter DW voneinander (d.h. nicht alle drei aus den drei Datenwerten DW1,
DW2, DW3 zurückgewonnenen Datenwörter DW sind gleich), ist ein Fehler in einzelnen
Speicherzellen SZ des Speicherbereichs SB der Speichereinheit vorhanden
(bsp. aufgrund eines Ausfalls oder Defekts einzelner Speicherzellen SZ des Speicherbereichs
SB). Bei einem erkannten Fehler in Speicherzellen SZ des Speicherbereichs
SB der Speichereinheit wird als Fehlerkorrektur für das dem Speicherbereich
SB zugeordnete Datenwort DW als wahrscheinlichster Wert derjenige Wert herangezogen,
den die Mehrheit der zurückgewonnenen Datenwörter DW aufweist; d.h. bei
den drei aus den drei Datenwerten DW1, DW2, DW3 zurückgewonnenen Datenwörtern
DW ist dies derjenige Wert, den zwei der zurückgewonnenen Datenwörter DW 
aufweisen. Mit dieser Fehlerkorrektur und der Vorgabe plausibler Datenwörter DW
kann somit auch bei Fehlern in einzelnen Speicherzellen SZ der Speichereinheit der
Betrieb des Steuergeräts, insbesondere die gesamte Funktionalität beim Betrieb des
Steuergeräts, uneingeschränkt aufrechterhalten werden.</p>
    <p num="0016">Die Erkennung der Funktionsfähigkeit der Speichereinheit ist nicht unbedingt erforderlich,
da sie automatisch beim anschließenden Vergleich der Datenwerte erkannt
wird. Hierbei werden auch Doppelfehler erkannt, da aber dann alle Datenwerte unterschiedlich
sind, ist eine Mehrheitsentscheidung in diesem Falle nicht möglich.</p>
  </description>
  <claims load-source="ep" status="new" lang="DE">
    <claim num="1">
      <claim-text>Verfahren zum Betrieb eines von einem Prozessor gesteuerten Systems, dessen
Daten in einer nicht-flüchtigen Speichereinheit gespeichert werden,dadurch gekennzeichnet,
daß beim Speichern der Daten aus einer bestimmten Anzahl von Bits bestehende
Datenwörter (DW) gebildet werden, wobei ein Datenwort (DW) in einem Speicherbereich
(SB) der nicht-flüchtigen Speichereinheit mit jeweils sich voneinander
unterscheidenden, aus dem Datenwort (DW) generierten Datenwerten (DW1,
DW2, DW3) abgespeichert wird,daß beim Lesen der gespeicherten Daten die aus den gelesenen Datenwerten
(DW1, DW2, DW3) zurückgewonnenen Datenwörter (DW) verglichen werden,
und daß bei einer Abweichung der aus den gelesenen Datenwerten (DW1, DW2,
DW3) eines Speicherbereichs (SB) zurückgewonnenen Datenwörter (DW) ein
Fehler in den gespeicherten Daten erkannt wird.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>Verfahren nach Anspruch 1, dadurch gekennzeichnet, daß beim Lesen der gespeicherten
Daten die gelesenen Datenwerte (DW1, DW2, DW3) eines Speicherbereichs
(SB) verglichen werden, und daß bei identischen gelesenen Datenwerten
(DW1, DW2, DW3) eines Speicherbereichs (SB) ein Fehler in der
nicht-flüchtigen Speichereinheit erkannt wird.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>Verfahren nach Anspruch 1 oder 2, dadurch gekennzeichnet, daß die Datenwerte
(DW1, DW2, DW3) durch algebraische Operationen aus dem Datenwort (DW)
generiert werden, und daß die aus den gelesenen Datenwerten (DW1, DW2,
DW3) zurückgewonnenen Datenwörter (DW) durch die inversen beim Speichern
der Daten verwendeten algebraischen Operationen generiert werden.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>Verfahren nach Anspruch 3, dadurch gekennzeichnet, daß als algebraische Operationen
arithmetische Operationen verwendet werden.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>Verfahren nach Anspruch 4, dadurch gekennzeichnet, daß als arithmetische Operationen
die Differenzen zwischen dem Datenwort (DW) und unterschiedlichen
Zahlenwerten gebildet werden.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>Verfahren nach Anspruch 3, dadurch gekennzeichnet, daß als algebraische Operationen
logische Operationen verwendet werden.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>Verfahren nach Anspruch 6, dadurch gekennzeichnet, daß als logische Operationen
unterschiedliche Bits des Datenworts (DW) und/oder eine unterschiedliche
Anzahl von Bits des Datenworts (DW) invertiert werden.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>Verfahren nach Anspruch 7, dadurch gekennzeichnet, daß unterschiedliche
Halbbytes des aus mindestens einem Byte bestehenden Datenworts (DW) invertiert
werden.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>Verfahren nach einem der Ansprüche 3 bis 8, dadurch gekennzeichnet, daß ein
erster Datenwert (DW1) als unverändertes Datenwort (DW) und weitere Datenwerte
(DW2, DW3) durch algebraische Operationen aus dem Datenwort (DW)
generiert werden.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>Verfahren nach einem der Ansprüche 1 bis 9, dadurch gekennzeichnet, daß bei
einem Fehler der nicht-flüchtigen Speichereinheit für die gelesenen Datenwörter
(DW) Standardwerte vorgegeben werden.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>Verfahren nach Anspruch 10, dadurch gekennzeichnet, daß der Betrieb des Systems
mit den Standardwerten durchgeführt wird.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>Verfahren nach Anspruch 10 oder 11, dadurch gekennzeichnet, daß eine Initialisierung
des Systems mit den Standardwerten durchgeführt wird.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>Verfahren nach einem der Ansprüche 1 bis 12, dadurch gekennzeichnet, daß bei
einem Fehler in den gespeicherten Daten das einem Speicherbereich (SB) zugeordnete
Datenwort (DW) anhand der zurückgewonnenen Datenwörter (DW) eines
Speicherbereichs (SB) vorgegeben wird.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>Verfahren nach Anspruch 13, dadurch gekennzeichnet, daß als dem Speicherbereich
(SB) zugeordnete Datenwort (DW) das am häufigsten vorkommende der
zurückgewonnenen Datenwörter (DW) eines Speicherbereichs (SB) vorgegeben
wird.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>Verfahren nach einem der Ansprüche 1 bis 14, dadurch gekennzeichnet, daß die
aus dem Datenwort (DW) generierten Datenwerte (DW1, DW2, DW3) und die aus
den gelesenen Datenwerten (DW1, DW2, DW3) zurückgewonnenen Datenwörter
(DW) von der zentralen Recheneinheit des Prozessors berechnet werden.</claim-text>
    </claim>
  </claims>
  <copyright>User acknowledges that the Information Retrieval Facility (IRF) and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws. User acquires no ownership rights to this xml including but not limited to its format. User hereby accepts the terms and conditions of the Licence Agreement set forth at http://www.ir-facility.org/legal/marec/data_licence</copyright>
</patent-document>
